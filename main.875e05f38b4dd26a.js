"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{569:(Xo,hm,dm)=>{function _e(n){return"function"==typeof n}function eu(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const tu=eu(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Ca(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(_e(i))try{i()}catch(o){t=o instanceof tu?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{mm(o)}catch(s){t=null!=t?t:[],s instanceof tu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new tu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)mm(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Ca(e,t)}remove(t){const{_finalizers:e}=this;e&&Ca(e,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const fm=yt.EMPTY;function pm(n){return n instanceof yt||n&&"closed"in n&&_e(n.remove)&&_e(n.add)&&_e(n.unsubscribe)}function mm(n){_e(n)?n():n.unsubscribe()}const ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Da={setTimeout(n,t,...e){const{delegate:i}=Da;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Da;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function gm(n){Da.setTimeout(()=>{const{onUnhandledError:t}=ir;if(!t)throw n;t(n)})}function nu(){}const _M=iu("C",void 0,void 0);function iu(n,t,e){return{kind:n,value:t,error:e}}let rr=null;function Ma(n){if(ir.useDeprecatedSynchronousErrorHandling){const t=!rr;if(t&&(rr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=rr;if(rr=null,e)throw i}}else n()}class ru extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,pm(t)&&t.add(this)):this.destination=kM}static create(t,e,i){return new ka(t,e,i)}next(t){this.isStopped?su(function bM(n){return iu("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?su(function SM(n){return iu("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?su(_M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const CM=Function.prototype.bind;function ou(n,t){return CM.call(n,t)}class DM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ea(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ea(i)}else Ea(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ea(e)}}}class ka extends ru{constructor(t,e,i){let r;if(super(),_e(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&ir.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&ou(t.next,o),error:t.error&&ou(t.error,o),complete:t.complete&&ou(t.complete,o)}):r=t}this.destination=new DM(r)}}function Ea(n){ir.useDeprecatedSynchronousErrorHandling?function wM(n){ir.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=n)}(n):gm(n)}function su(n,t){const{onStoppedNotification:e}=ir;e&&Da.setTimeout(()=>e(n,t))}const kM={closed:!0,next:nu,error:function MM(n){throw n},complete:nu},au="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(n){return n}let Ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function TM(n){return n&&n instanceof ru||function EM(n){return n&&_e(n.next)&&_e(n.error)&&_e(n.complete)}(n)&&pm(n)}(e)?e:new ka(e,i,r);return Ma(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=ym(i))((r,o)=>{const s=new ka({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[au](){return this}pipe(...e){return function vm(n){return 0===n.length?Ii:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=ym(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function ym(n){var t;return null!==(t=null!=n?n:ir.Promise)&&void 0!==t?t:Promise}const xM=eu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ke=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new _m(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new xM}next(e){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?fm:(this.currentObservers=null,o.push(e),new yt(()=>{this.currentObservers=null,Ca(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ue;return e.source=this,e}}return n.create=(t,e)=>new _m(t,e),n})();class _m extends ke{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:fm}}function Sm(n){return _e(null==n?void 0:n.lift)}function nt(n){return t=>{if(Sm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(n,t,e,i,r){return new AM(n,t,e,i,r)}class AM extends ru{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pe(n,t){return nt((e,i)=>{let r=0;e.subscribe(ze(i,o=>{i.next(n.call(t,o,r++))}))})}function or(n){return this instanceof or?(this.v=n,this):new or(n)}function OM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(d){i[d]&&(r[d]=function(m){return new Promise(function(v,S){o.push([d,m,v,S])>1||a(d,m)})})}function a(d,m){try{!function l(d){d.value instanceof or?Promise.resolve(d.value.v).then(c,u):h(o[0][2],d)}(i[d](m))}catch(v){h(o[0][3],v)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,m){d(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function RM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Cm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const cu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Dm(n){return _e(null==n?void 0:n.then)}function Mm(n){return _e(n[au])}function km(n){return Symbol.asyncIterator&&_e(null==n?void 0:n[Symbol.asyncIterator])}function Em(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Tm=function LM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xm(n){return _e(null==n?void 0:n[Tm])}function Am(n){return OM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield or(e.read());if(r)return yield or(void 0);yield yield or(i)}}finally{e.releaseLock()}})}function Im(n){return _e(null==n?void 0:n.getReader)}function Kt(n){if(n instanceof Ue)return n;if(null!=n){if(Mm(n))return function NM(n){return new Ue(t=>{const e=n[au]();if(_e(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(cu(n))return function BM(n){return new Ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Dm(n))return function VM(n){return new Ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,gm)})}(n);if(km(n))return Pm(n);if(xm(n))return function HM(n){return new Ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Im(n))return function jM(n){return Pm(Am(n))}(n)}throw Em(n)}function Pm(n){return new Ue(t=>{(function UM(n,t){var e,i,r,o;return function IM(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=RM(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function di(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ct(n,t,e=1/0){return _e(t)?ct((i,r)=>pe((o,s)=>t(i,o,r,s))(Kt(n(i,r))),e):("number"==typeof t&&(e=t),nt((i,r)=>function qM(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&t.complete()},m=S=>c<i?v(S):l.push(S),v=S=>{o&&t.next(S),c++;let C=!1;Kt(e(S,u++)).subscribe(ze(t,M=>{null==r||r(M),o?m(M):t.next(M)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const M=l.shift();s?di(t,s,()=>v(M)):v(M)}d()}catch(M){t.error(M)}}))};return n.subscribe(ze(t,m,()=>{h=!0,d()})),()=>{null==a||a()}}(i,r,n,e)))}function Qo(n=1/0){return ct(Ii,n)}const fi=new Ue(n=>n.complete());function Om(n){return n&&_e(n.schedule)}function uu(n){return n[n.length-1]}function Rm(n){return _e(uu(n))?n.pop():void 0}function es(n){return Om(uu(n))?n.pop():void 0}function Fm(n,t=0){return nt((e,i)=>{e.subscribe(ze(i,r=>di(i,n,()=>i.next(r),t),()=>di(i,n,()=>i.complete(),t),r=>di(i,n,()=>i.error(r),t)))})}function Lm(n,t=0){return nt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Nm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ue(e=>{di(e,t,()=>{const i=n[Symbol.asyncIterator]();di(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function mt(n,t){return t?function ZM(n,t){if(null!=n){if(Mm(n))return function GM(n,t){return Kt(n).pipe(Lm(t),Fm(t))}(n,t);if(cu(n))return function YM(n,t){return new Ue(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Dm(n))return function WM(n,t){return Kt(n).pipe(Lm(t),Fm(t))}(n,t);if(km(n))return Nm(n,t);if(xm(n))return function KM(n,t){return new Ue(e=>{let i;return di(e,t,()=>{i=n[Tm](),di(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>_e(null==i?void 0:i.return)&&i.return()})}(n,t);if(Im(n))return function JM(n,t){return Nm(Am(n),t)}(n,t)}throw Em(n)}(n,t):Kt(n)}function Bm(...n){const t=es(n),e=function zM(n,t){return"number"==typeof uu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Kt(i[0]):Qo(e)(mt(i,t)):fi}function zn(n){return n<=0?()=>fi:nt((t,e)=>{let i=0;t.subscribe(ze(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Vm(n={}){const{connector:t=(()=>new ke),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,h=!1;const d=()=>{null==a||a.unsubscribe(),a=null},m=()=>{d(),s=l=null,u=h=!1},v=()=>{const S=s;m(),null==S||S.unsubscribe()};return nt((S,C)=>{c++,!h&&!u&&d();const M=l=null!=l?l:t();C.add(()=>{c--,0===c&&!h&&!u&&(a=hu(v,r))}),M.subscribe(C),s||(s=new ka({next:w=>M.next(w),error:w=>{h=!0,d(),a=hu(m,e,w),M.error(w)},complete:()=>{u=!0,d(),a=hu(m,i),M.complete()}}),mt(S).subscribe(s))})(o)}}function hu(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(zn(1)).subscribe(()=>n())}function Ee(n){for(let t in n)if(n[t]===Ee)return t;throw Error("Could not find renamed property on target object.")}function du(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function fu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const XM=Ee({__forward_ref__:Ee});function Pe(n){return n.__forward_ref__=Pe,n.toString=function(){return Ce(this())},n}function oe(n){return Hm(n)?n():n}function Hm(n){return"function"==typeof n&&n.hasOwnProperty(XM)&&n.__forward_ref__===Pe}class N extends Error{constructor(t,e){super(function pu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Pt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function Ta(n,t){const e=t?` in ${t}`:"";throw new N(-201,`No provider for ${Pt(n)} found${e}`)}function Zt(n,t){null==n&&function Ne(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function mu(n){return jm(n,xa)||jm(n,qm)}function jm(n,t){return n.hasOwnProperty(t)?n[t]:null}function Um(n){return n&&(n.hasOwnProperty(gu)||n.hasOwnProperty(s1))?n[gu]:null}const xa=Ee({\u0275prov:Ee}),gu=Ee({\u0275inj:Ee}),qm=Ee({ngInjectableDef:Ee}),s1=Ee({ngInjectorDef:Ee});var Q=(()=>((Q=Q||{})[Q.Default=0]="Default",Q[Q.Host=1]="Host",Q[Q.Self=2]="Self",Q[Q.SkipSelf=4]="SkipSelf",Q[Q.Optional=8]="Optional",Q))();let vu;function Pi(n){const t=vu;return vu=n,t}function $m(n,t,e){const i=mu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Q.Optional?null:void 0!==t?t:void Ta(Ce(n),"Injector")}function Oi(n){return{toString:n}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),xn=(()=>{return(n=xn||(xn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",xn;var n})();const l1="undefined"!=typeof globalThis&&globalThis,c1="undefined"!=typeof window&&window,u1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Me=l1||"undefined"!=typeof global&&global||c1||u1,Vr={},Te=[],Aa=Ee({\u0275cmp:Ee}),yu=Ee({\u0275dir:Ee}),_u=Ee({\u0275pipe:Ee}),zm=Ee({\u0275mod:Ee}),mi=Ee({\u0275fac:Ee}),ts=Ee({__NG_ELEMENT_ID__:Ee});let h1=0;function xe(n){return Oi(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||xn.Emulated,id:"c",styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=h1++,i.inputs=Km(n.inputs,e),i.outputs=Km(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Gm):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Wm):null,i})}function gi(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(Gm),i.pipeDefs=()=>e.map(Wm)}function Gm(n){return kt(n)||function Ri(n){return n[yu]||null}(n)}function Wm(n){return function sr(n){return n[_u]||null}(n)}const Ym={};function it(n){return Oi(()=>{const t={type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ym[n.id]=n.type),t})}function Km(n,t){if(null==n)return Vr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const $=xe;function _t(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function kt(n){return n[Aa]||null}function dn(n,t){const e=n[zm]||null;if(!e&&!0===t)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return e}function Gn(n){return Array.isArray(n)&&"object"==typeof n[1]}function In(n){return Array.isArray(n)&&!0===n[1]}function wu(n){return 0!=(8&n.flags)}function Ra(n){return 2==(2&n.flags)}function Fa(n){return 1==(1&n.flags)}function Pn(n){return null!==n.template}function g1(n){return 0!=(512&n[2])}function ur(n,t){return n.hasOwnProperty(mi)?n[mi]:null}class _1{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qt(){return Zm}function Zm(n){return n.type.prototype.ngOnChanges&&(n.setInput=b1),S1}function S1(){const n=Qm(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Vr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function b1(n,t,e,i){const r=Qm(n)||function w1(n,t){return n[Xm]=t}(n,{previous:Vr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new _1(l&&l.currentValue,t,s===Vr),n[i]=t}Qt.ngInherit=!0;const Xm="__ngSimpleChanges__";function Qm(n){return n[Xm]||null}let Eu;function Tu(){return void 0!==Eu?Eu:"undefined"!=typeof document?document:void 0}function Ge(n){return!!n.listen}const eg={createRenderer:(n,t)=>Tu()};function rt(n){for(;Array.isArray(n);)n=n[0];return n}function La(n,t){return rt(t[n])}function mn(n,t){return rt(t[n.index])}function xu(n,t){return n.data[t]}function $r(n,t){return n[t]}function en(n,t){const e=t[n];return Gn(e)?e:e[0]}function tg(n){return 4==(4&n[2])}function Au(n){return 128==(128&n[2])}function Fi(n,t){return null==t?null:n[t]}function ng(n){n[18]=0}function Iu(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ee={lFrame:ug(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ig(){return ee.bindingsEnabled}function x(){return ee.lFrame.lView}function me(){return ee.lFrame.tView}function B(n){return ee.lFrame.contextLView=n,n[8]}function ut(){let n=rg();for(;null!==n&&64===n.type;)n=n.parent;return n}function rg(){return ee.lFrame.currentTNode}function Wn(n,t){const e=ee.lFrame;e.currentTNode=n,e.isParent=t}function Pu(){return ee.lFrame.isParent}function Ou(){ee.lFrame.isParent=!1}function Na(){return ee.isInCheckNoChangesMode}function Ba(n){ee.isInCheckNoChangesMode=n}function Ot(){const n=ee.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function vi(){return ee.lFrame.bindingIndex}function zr(){return ee.lFrame.bindingIndex++}function yi(n){const t=ee.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function V1(n,t){const e=ee.lFrame;e.bindingIndex=e.bindingRootIndex=n,Ru(t)}function Ru(n){ee.lFrame.currentDirectiveIndex=n}function Fu(n){const t=ee.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function ag(){return ee.lFrame.currentQueryIndex}function Lu(n){ee.lFrame.currentQueryIndex=n}function j1(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function lg(n,t,e){if(e&Q.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&Q.Host||(r=j1(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ee.lFrame=cg();return i.currentTNode=t,i.lView=n,!0}function Va(n){const t=cg(),e=n[1];ee.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function cg(){const n=ee.lFrame,t=null===n?null:n.child;return null===t?ug(n):t}function ug(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function hg(){const n=ee.lFrame;return ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dg=hg;function Ha(){const n=hg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Rt(){return ee.lFrame.selectedIndex}function Li(n){ee.lFrame.selectedIndex=n}function We(){const n=ee.lFrame;return xu(n.tView,n.selectedIndex)}function ja(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Ua(n,t,e){fg(n,t,3,e)}function qa(n,t,e,i){(3&n[2])===e&&fg(n,t,e,i)}function Nu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function fg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(J1(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function J1(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class ss{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function $a(n,t,e){const i=Ge(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];Vu(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function pg(n){return 3===n||4===n||6===n}function Vu(n){return 64===n.charCodeAt(0)}function za(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||mg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function mg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function gg(n){return-1!==n}function Gr(n){return 32767&n}function Wr(n,t){let e=function tk(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Hu=!0;function Ga(n){const t=Hu;return Hu=n,t}let nk=0;function ls(n,t){const e=Uu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,ju(i.data,n),ju(t,null),ju(i.blueprint,null));const r=Wa(n,t),o=n.injectorIndex;if(gg(r)){const s=Gr(r),a=Wr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function ju(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Uu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Wa(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ya(n,t,e){!function ik(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ts)&&(i=e[ts]),null==i&&(i=e[ts]=nk++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function _g(n,t,e){if(e&Q.Optional)return n;Ta(t,"NodeInjector")}function Sg(n,t,e,i){if(e&Q.Optional&&void 0===i&&(i=null),0==(e&(Q.Self|Q.Host))){const r=n[9],o=Pi(void 0);try{return r?r.get(t,i,e&Q.Optional):$m(t,i,e&Q.Optional)}finally{Pi(o)}}return _g(i,t,e)}function bg(n,t,e,i=Q.Default,r){if(null!==n){const o=function ak(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ts)?n[ts]:void 0;return"number"==typeof t?t>=0?255&t:ok:t}(e);if("function"==typeof o){if(!lg(t,n,i))return i&Q.Host?_g(r,e,i):Sg(t,e,i,r);try{const s=o(i);if(null!=s||i&Q.Optional)return s;Ta(e)}finally{dg()}}else if("number"==typeof o){let s=null,a=Uu(n,t),l=-1,c=i&Q.Host?t[16][6]:null;for((-1===a||i&Q.SkipSelf)&&(l=-1===a?Wa(n,t):t[a+8],-1!==l&&Dg(i,!1)?(s=t[1],a=Gr(l),t=Wr(l,t)):a=-1);-1!==a;){const u=t[1];if(Cg(o,a,u.data)){const h=sk(a,t,e,s,i,c);if(h!==wg)return h}l=t[a+8],-1!==l&&Dg(i,t[1].data[a+8]===c)&&Cg(o,a,t)?(s=u,a=Gr(l),t=Wr(l,t)):a=-1}}}return Sg(t,e,i,r)}const wg={};function ok(){return new Yr(ut(),x())}function sk(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=Ka(a,s,e,null==i?Ra(a)&&Hu:i!=s&&0!=(3&a.type),r&Q.Host&&o===a);return null!==u?cs(t,s,u,a):wg}function Ka(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,d=r?a+u:n.directiveEnd;for(let m=i?a:a+u;m<d;m++){const v=s[m];if(m<l&&e===v||m>=l&&v.type===e)return m}if(r){const m=s[l];if(m&&Pn(m)&&m.type===e)return l}return null}function cs(n,t,e,i){let r=n[e];const o=t.data;if(function Z1(n){return n instanceof ss}(r)){const s=r;s.resolving&&function QM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new N(-200,`Circular dependency in DI detected for ${n}${e}`)}(Pt(o[e]));const a=Ga(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Pi(s.injectImpl):null;lg(n,i,Q.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function K1(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Zm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Pi(l),Ga(a),s.resolving=!1,dg()}}return r}function Cg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Dg(n,t){return!(n&Q.Self||n&Q.Host&&t)}class Yr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return bg(this._tNode,this._lView,t,i,e)}}function St(n){return Oi(()=>{const t=n.prototype.constructor,e=t[mi]||qu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[mi]||qu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function qu(n){return Hm(n)?()=>{const t=qu(oe(n));return t&&t()}:ur(n)}function Kr(n){return function rk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(pg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ut(),n)}const Zr="__parameters__";function Qr(n,t,e){return Oi(()=>{const i=function $u(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty(Zr)?l[Zr]:Object.defineProperty(l,Zr,{value:[]})[Zr];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class j{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ck=new j("AnalyzeForEntryComponents");function gn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),gn(i,t)):t!==n&&t.push(i)}return t}function Yn(n,t){n.forEach(e=>Array.isArray(e)?Yn(e,t):t(e))}function kg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Ja(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ds(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function tn(n,t,e){let i=eo(n,t);return i>=0?n[1|i]=e:(i=~i,function dk(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Gu(n,t){const e=eo(n,t);if(e>=0)return n[1|e]}function eo(n,t){return function xg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const fs={},Yu="__NG_DI_FLAG__",Xa="ngTempTokenPath",_k=/\n/gm,Ig="__source",bk=Ee({provide:String,useValue:Ee});let ps;function Pg(n){const t=ps;return ps=n,t}function wk(n,t=Q.Default){if(void 0===ps)throw new N(203,"");return null===ps?$m(n,void 0,t):ps.get(n,t&Q.Optional?null:void 0,t)}function _(n,t=Q.Default){return(function a1(){return vu}()||wk)(oe(n),t)}const Qa=_;function Ku(n){const t=[];for(let e=0;e<n.length;e++){const i=oe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new N(900,"");let r,o=Q.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Ck(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(_(r,o))}else t.push(_(i))}return t}function ms(n,t){return n[Yu]=t,n.prototype[Yu]=t,n}function Ck(n){return n[Yu]}const el=ms(Qr("Inject",n=>({token:n})),-1),On=ms(Qr("Optional"),8),to=ms(Qr("SkipSelf"),4);let nl,il;function io(n){var t;return(null===(t=function Zu(){if(void 0===nl&&(nl=null,Me.trustedTypes))try{nl=Me.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return nl}())||void 0===t?void 0:t.createHTML(n))||n}function Bg(n){var t;return(null===(t=function Xu(){if(void 0===il&&(il=null,Me.trustedTypes))try{il=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return il}())||void 0===t?void 0:t.createHTML(n))||n}class hr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lk extends hr{getTypeName(){return"HTML"}}class Nk extends hr{getTypeName(){return"Style"}}class Bk extends hr{getTypeName(){return"Script"}}class Vk extends hr{getTypeName(){return"URL"}}class Hk extends hr{getTypeName(){return"ResourceURL"}}function nn(n){return n instanceof hr?n.changingThisBreaksApplicationSecurity:n}function Kn(n,t){const e=jg(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function jg(n){return n instanceof hr&&n.getTypeName()||null}class Gk{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(io(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wk{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=io(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=io(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Kk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Jk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function vs(n){return(n=String(n)).match(Kk)||n.match(Jk)?n:"unsafe:"+n}function Jn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ys(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const $g=Jn("area,br,col,hr,img,wbr"),zg=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gg=Jn("rp,rt"),Qu=ys($g,ys(zg,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ys(Gg,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ys(Gg,zg)),eh=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),th=Jn("srcset"),Wg=ys(eh,th,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zk=Jn("script,style,template");class Xk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Qu.hasOwnProperty(e))return this.sanitizedSomething=!0,!Zk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Wg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;eh[a]&&(l=vs(l)),th[a]&&(n=l,l=(n=String(n)).split(",").map(t=>vs(t.trim())).join(", ")),this.buf.push(" ",s,'="',Yg(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Qu.hasOwnProperty(e)&&!$g.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Yg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Qk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eE=/([^\#-~ |!])/g;function Yg(n){return n.replace(/&/g,"&amp;").replace(Qk,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(eE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let rl;function Kg(n,t){let e=null;try{rl=rl||function Ug(n){const t=new Wk(n);return function Yk(){try{return!!(new window.DOMParser).parseFromString(io(""),"text/html")}catch(n){return!1}}()?new Gk(t):t}(n);let i=t?String(t):"";e=rl.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=rl.getInertBodyElement(i)}while(i!==o);return io((new Xk).sanitizeChildren(nh(e)||e))}finally{if(e){const i=nh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function nh(n){return"content"in n&&function tE(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var be=(()=>((be=be||{})[be.NONE=0]="NONE",be[be.HTML=1]="HTML",be[be.STYLE=2]="STYLE",be[be.SCRIPT=3]="SCRIPT",be[be.URL=4]="URL",be[be.RESOURCE_URL=5]="RESOURCE_URL",be))();function Jg(n){const t=function _s(){const n=x();return n&&n[12]}();return t?Bg(t.sanitize(be.HTML,n)||""):Kn(n,"HTML")?Bg(nn(n)):Kg(Tu(),ie(n))}const Qg="__ngContext__";function Tt(n,t){n[Qg]=t}function oh(n){const t=function Ss(n){return n[Qg]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function ah(n){return n.ngOriginalError}function vE(n,...t){n.error(...t)}class Bi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function gE(n){return n&&n.ngErrorLogger||vE}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&ah(t);for(;e&&ah(e);)e=ah(e);return e||null}}const EE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Me))();function rv(n){return n.ownerDocument}function Zn(n){return n instanceof Function?n():n}var rn=(()=>((rn=rn||{})[rn.Important=1]="Important",rn[rn.DashCase=2]="DashCase",rn))();function ch(n,t){return undefined(n,t)}function bs(n){const t=n[3];return In(t)?t[3]:t}function uh(n){return cv(n[13])}function hh(n){return cv(n[4])}function cv(n){for(;null!==n&&!In(n);)n=n[4];return n}function oo(n,t,e,i,r){if(null!=i){let o,s=!1;In(i)?o=i:Gn(i)&&(s=!0,i=i[0]);const a=rt(i);0===n&&null!==e?null==r?mv(t,e,a):dr(t,e,a,r||null,!0):1===n&&null!==e?dr(t,e,a,r||null,!0):2===n?function wv(n,t,e){const i=ol(n,t);i&&function HE(n,t,e,i){Ge(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function qE(n,t,e,i,r){const o=e[7];o!==rt(e)&&oo(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];ws(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function fh(n,t,e){if(Ge(n))return n.createElement(t,e);{const i=null!==e?function k1(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function hv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Iu(r,-1)),e.splice(i,1)}function ph(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&hv(r,i),t>0&&(n[e-1][4]=i[4]);const o=Ja(n,10+t);!function PE(n,t){ws(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function dv(n,t){if(!(256&t[2])){const e=t[11];Ge(e)&&e.destroyNode&&ws(n,t,e,3,null,null),function FE(n){let t=n[13];if(!t)return mh(n[1],n);for(;t;){let e=null;if(Gn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Gn(t)&&mh(t[1],t),t=t[3];null===t&&(t=n),Gn(t)&&mh(t[1],t),e=t&&t[4]}t=e}}(t)}}function mh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function VE(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof ss)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function BE(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):rt(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Ge(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&In(t[3])){e!==t[3]&&hv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function fv(n,t,e){return function pv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===xn.None||r===xn.Emulated)return null}return mn(i,e)}(n,t.parent,e)}function dr(n,t,e,i,r){Ge(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function mv(n,t,e){Ge(n)?n.appendChild(t,e):t.appendChild(e)}function gv(n,t,e,i,r){null!==i?dr(n,t,e,i,r):mv(n,t,e)}function ol(n,t){return Ge(n)?n.parentNode(t):t.parentNode}function vv(n,t,e){return _v(n,t,e)}let _v=function yv(n,t,e){return 40&n.type?mn(n,e):null};function sl(n,t,e,i){const r=fv(n,i,t),o=t[11],a=vv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)gv(o,r,e[l],a,!1);else gv(o,r,e,a,!1)}function al(n,t){if(null!==t){const e=t.type;if(3&e)return mn(t,n);if(4&e)return vh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return al(n,i);{const r=n[t.index];return In(r)?vh(-1,r):rt(r)}}if(32&e)return ch(t,n)()||rt(n[t.index]);{const i=bv(n,t);return null!==i?Array.isArray(i)?i[0]:al(bs(n[16]),i):al(n,t.next)}}return null}function bv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function vh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return al(i,r)}return t[7]}function yh(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Tt(rt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)yh(n,t,e.child,i,r,o,!1),oo(t,n,r,a,o);else if(32&l){const c=ch(e,i);let u;for(;u=c();)oo(t,n,r,u,o);oo(t,n,r,a,o)}else 16&l?Cv(n,t,i,e,r,o):oo(t,n,r,a,o);e=s?e.projectionNext:e.next}}function ws(n,t,e,i,r,o){yh(e,i,n.firstChild,t,r,o,!1)}function Cv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)oo(t,n,r,l[c],o);else yh(n,t,l,s[3],r,o,!0)}function Dv(n,t,e){Ge(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function _h(n,t,e){Ge(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Mv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const kv="ng-template";function zE(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Mv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Ev(n){return 4===n.type&&n.value!==kv}function GE(n,t,e){return t===(4!==n.type||e?n.value:kv)}function WE(n,t,e){let i=4;const r=n.attrs||[],o=function JE(n){for(let t=0;t<n.length;t++)if(pg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!GE(n,l,e)||""===l&&1===t.length){if(Rn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!zE(n.attrs,c,e)){if(Rn(i))return!1;s=!0}continue}const h=YE(8&i?"class":l,r,Ev(n),e);if(-1===h){if(Rn(i))return!1;s=!0;continue}if(""!==c){let d;d=h>o?"":r[h+1].toLowerCase();const m=8&i?d:null;if(m&&-1!==Mv(m,c,0)||2&i&&c!==d){if(Rn(i))return!1;s=!0}}}}else{if(!s&&!Rn(i)&&!Rn(l))return!1;if(s&&Rn(l))continue;s=!1,i=l|1&i}}return Rn(i)||s}function Rn(n){return 0==(1&n)}function YE(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ZE(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Tv(n,t,e=!1){for(let i=0;i<t.length;i++)if(WE(n,t[i],e))return!0;return!1}function XE(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function xv(n,t){return n?":not("+t.trim()+")":t}function QE(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Rn(s)&&(t+=xv(o,r),r=""),i=s,o=o||!Rn(i);e++}return""!==r&&(t+=xv(o,r)),t}const re={};function y(n){Av(me(),x(),Rt()+n,Na())}function Av(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Ua(t,o,e)}else{const o=n.preOrderHooks;null!==o&&qa(t,o,0,e)}Li(e)}function ll(n,t){return n<<17|t<<2}function Fn(n){return n>>17&32767}function Sh(n){return 2|n}function _i(n){return(131068&n)>>2}function bh(n,t){return-131069&n|t<<2}function wh(n){return 1|n}function jv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Lu(r),s.contentQueries(2,t[o],o)}}}function Cs(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,ng(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function so(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Ih(n,t,e,i,r){const o=rg(),s=Pu(),l=n.data[t]=function vT(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function B1(){return ee.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function os(){const n=ee.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wn(o,!0),o}function ao(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ds(n,t,e){Va(t);try{const i=n.viewQuery;null!==i&&Hh(1,i,e);const r=n.template;null!==r&&Uv(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&jv(n,t),n.staticViewQueries&&Hh(2,n.viewQuery,e);const o=n.components;null!==o&&function pT(n,t){for(let e=0;e<t.length;e++)FT(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Ha()}}function lo(n,t,e,i){const r=t[2];if(256==(256&r))return;Va(t);const o=Na();try{ng(t),function og(n){return ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Uv(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&Ua(t,c,null)}else{const c=n.preOrderHooks;null!==c&&qa(t,c,0,null),Nu(t,0)}if(function OT(n){for(let t=uh(n);null!==t;t=hh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Iu(o,1),r[2]|=1024}}}(t),function PT(n){for(let t=uh(n);null!==t;t=hh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Au(i)&&lo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&jv(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&Ua(t,c)}else{const c=n.contentHooks;null!==c&&qa(t,c,1),Nu(t,1)}!function dT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Li(~r);else{const o=r,s=e[++i],a=e[++i];V1(s,o),a(2,t[o])}}}finally{Li(-1)}}(n,t);const a=n.components;null!==a&&function fT(n,t){for(let e=0;e<t.length;e++)RT(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Hh(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&Ua(t,c)}else{const c=n.viewHooks;null!==c&&qa(t,c,2),Nu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Iu(t[3],-1))}finally{Ha()}}function mT(n,t,e,i){const r=t[10],o=!Na(),s=tg(t);try{o&&!s&&r.begin&&r.begin(),s&&Ds(n,t,i),lo(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function Uv(n,t,e,i,r){const o=Rt(),s=2&i;try{Li(-1),s&&t.length>20&&Av(n,t,20,Na()),e(i,r)}finally{Li(o)}}function qv(n,t,e){if(wu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Ph(n,t,e){!ig()||(function DT(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||ls(e,t),Tt(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=Pn(l);c&&xT(t,e,l);const u=cs(t,n,a,e);Tt(u,t),null!==s&&AT(0,a-r,u,l,0,s),c&&(en(e.index,t)[8]=u)}}(n,t,e,mn(e,t)),128==(128&e.flags)&&function MT(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function H1(){return ee.lFrame.currentDirectiveIndex}();try{Li(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Ru(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Zv(c,u)}}finally{Li(-1),Ru(a)}}(n,t,e))}function Oh(n,t,e=mn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function $v(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=hl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function hl(n,t,e,i,r,o,s,a,l,c){const u=20+i,h=u+r,d=function gT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:re);return e}(u,h),m="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:e,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1}}function Wv(n,t,e,i){const r=iy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&ry(n).push(i,r.length-1))}function Yv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function on(n,t,e,i,r,o,s,a){const l=mn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(ay(n,e,u,i,r),Ra(t)&&function ST(n,t){const e=en(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function _T(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Ge(o)?o.setProperty(l,i,r):Vu(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Rh(n,t,e,i){let r=!1;if(ig()){const o=function kT(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Tv(e,s.selectors,!1)&&(r||(r=[]),Ya(ls(e,t),n,s.type),Pn(s)?(Xv(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Qv(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=ao(n,t,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];e.mergedAttrs=za(e.mergedAttrs,h.hostAttrs),ey(n,e,t,c,h),TT(c,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function yT(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],h=u.inputs,d=null===o||Ev(t)?null:IT(h,o);s.push(d),a=Yv(h,c,a),l=Yv(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function ET(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new N(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=za(e.mergedAttrs,e.attrs),r}function Jv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function CT(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Zv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Xv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function TT(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Pn(t)&&(e[""]=n)}}function Qv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ey(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=ur(r.type)),s=new ss(o,Pn(r),null);n.blueprint[i]=s,e[i]=s,Jv(n,t,0,i,ao(n,e,r.hostVars,re),r)}function xT(n,t,e){const i=mn(t,n),r=$v(e),o=n[10],s=dl(n,Cs(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Xn(n,t,e,i,r,o){const s=mn(n,t);!function Fh(n,t,e,i,r,o,s){if(null==o)Ge(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?ie(o):s(o,i||"",r);Ge(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function AT(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function IT(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function ty(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function RT(n,t){const e=en(t,n);if(Au(e)){const i=e[1];80&e[2]?lo(i,e,i.template,e[8]):e[5]>0&&Lh(e)}}function Lh(n){for(let i=uh(n);null!==i;i=hh(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];lo(s,o,s.template,o[8])}else o[5]>0&&Lh(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=en(e[i],n);Au(r)&&r[5]>0&&Lh(r)}}function FT(n,t){const e=en(t,n),i=e[1];(function LT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ds(i,e,e[8])}function dl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nh(n){for(;n;){n[2]|=64;const t=bs(n);if(g1(n)&&!t)return n;n=t}return null}function Vh(n,t,e){const i=t[10];i.begin&&i.begin();try{lo(n,t,n.template,e)}catch(r){throw sy(t,r),r}finally{i.end&&i.end()}}function ny(n){!function Bh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=oh(e),r=i[1];mT(r,i,r.template,e)}}(n[8])}function Hh(n,t,e){Lu(0),t(n,e)}const HT=(()=>Promise.resolve(null))();function iy(n){return n[7]||(n[7]=[])}function ry(n){return n.cleanup||(n.cleanup=[])}function oy(n,t,e){return(null===n||Pn(n))&&(e=function x1(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function sy(n,t){const e=n[9],i=e?e.get(Bi,null):null;i&&i.handleError(t)}function ay(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Si(n,t,e){const i=La(t,n);!function uv(n,t,e){Ge(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function fl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=fu(r,a):2==o&&(i=fu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const jh=new j("INJECTOR",-1);class ly{get(t,e=fs){if(e===fs){const i=new Error(`NullInjectorError: No provider for ${Ce(t)}!`);throw i.name="NullInjectorError",i}return e}}const Uh=new j("Set Injector scope."),Ms={},qT={};let qh;function cy(){return void 0===qh&&(qh=new ly),qh}function uy(n,t=null,e=null,i){const r=hy(n,t,e,i);return r._resolveInjectorDefTypes(),r}function hy(n,t=null,e=null,i){return new $T(n,e,t||cy(),i)}class $T{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Yn(e,a=>this.processProvider(a,t,e)),Yn([t],a=>this.processInjectorType(a,[],o)),this.records.set(jh,co(void 0,this));const s=this.records.get(Uh);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Ce(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fs,i=Q.Default){this.assertNotDestroyed();const r=Pg(this),o=Pi(void 0);try{if(!(i&Q.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function XT(n){return"function"==typeof n||"object"==typeof n&&n instanceof j}(t)&&mu(t);a=l&&this.injectableDefInScope(l)?co($h(t),Ms):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Q.Self?cy():this.parent).get(t,e=i&Q.Optional&&e===fs?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Xa]=s[Xa]||[]).unshift(Ce(t)),r)throw s;return function Dk(n,t,e,i){const r=n[Xa];throw t[Ig]&&r.unshift(t[Ig]),n.message=function Mk(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ce(t);if(Array.isArray(t))r=t.map(Ce).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(_k,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Xa]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Pi(o),Pg(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Ce(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processInjectorType(t,e,i){if(!(t=oe(t)))return!1;let r=Um(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Um(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{Yn(r.imports,h=>{this.processInjectorType(h,e,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:d,providers:m}=u[h];Yn(m,v=>this.processProvider(v,d,m||Te))}}this.injectorDefTypes.add(s);const l=ur(s)||(()=>new s);this.records.set(s,co(l,Ms));const c=r.providers;if(null!=c&&!a){const u=t;Yn(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=uo(t=oe(t))?t:oe(t&&t.provide);const o=function GT(n,t,e){return fy(n)?co(void 0,n.useValue):co(dy(n),Ms)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=co(void 0,Ms,!0),s.factory=()=>Ku(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Ms&&(e.value=qT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function ZT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=oe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function $h(n){const t=mu(n),e=null!==t?t.factory:ur(n);if(null!==e)return e;if(n instanceof j)throw new N(204,!1);if(n instanceof Function)return function zT(n){const t=n.length;if(t>0)throw ds(t,"?"),new N(204,!1);const e=function r1(n){const t=n&&(n[xa]||n[qm]);if(t){const e=function o1(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new N(204,!1)}function dy(n,t,e){let i;if(uo(n)){const r=oe(n);return ur(r)||$h(r)}if(fy(n))i=()=>oe(n.useValue);else if(function YT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Ku(n.deps||[]));else if(function WT(n){return!(!n||!n.useExisting)}(n))i=()=>_(oe(n.useExisting));else{const r=oe(n&&(n.useClass||n.provide));if(!function JT(n){return!!n.deps}(n))return ur(r)||$h(r);i=()=>new r(...Ku(n.deps))}return i}function co(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function fy(n){return null!==n&&"object"==typeof n&&bk in n}function uo(n){return"function"==typeof n}let Re=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return uy({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return uy({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=fs,n.NULL=new ly,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>_(jh)}),n.__NG_ELEMENT_ID__=-1,n})();function sx(n,t){ja(oh(n)[1],ut())}function ge(n){let t=function My(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Pn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Wh(n.inputs),s.declaredInputs=Wh(n.declaredInputs),s.outputs=Wh(n.outputs);const a=r.hostBindings;a&&ux(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&lx(n,l),c&&cx(n,c),du(n.inputs,r.inputs),du(n.declaredInputs,r.declaredInputs),du(n.outputs,r.outputs),Pn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ge&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ax(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=za(r.hostAttrs,e=za(e,r.hostAttrs))}}(i)}function Wh(n){return n===Vr?{}:n===Te?[]:n}function lx(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function cx(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function ux(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let pl=null;function ho(){if(!pl){const n=Me.Symbol;if(n&&n.iterator)pl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(pl=i)}}}return pl}function ks(n){return!!Yh(n)&&(Array.isArray(n)||!(n instanceof Map)&&ho()in n)}function Yh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Qn(n,t,e){return n[t]=e}function xt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function fr(n,t,e,i){const r=xt(n,t,e);return xt(n,t+1,i)||r}function ml(n,t,e,i,r){const o=fr(n,t,e,i);return xt(n,t+2,r)||o}function bt(n,t,e,i){const r=x();return xt(r,zr(),t)&&(me(),Xn(We(),r,n,t,e,i)),bt}function po(n,t,e,i){return xt(n,zr(),e)?t+ie(e)+i:re}function mo(n,t,e,i,r,o){const a=fr(n,vi(),e,r);return yi(2),a?t+ie(e)+i+ie(r)+o:re}function go(n,t,e,i,r,o,s,a){const c=ml(n,vi(),e,r,s);return yi(3),c?t+ie(e)+i+ie(r)+o+ie(s)+a:re}function So(n,t,e,i,r,o,s,a,l,c,u,h,d,m,v,S){const C=vi();let M=function vn(n,t,e,i,r,o){const s=fr(n,t,e,i);return fr(n,t+2,r,o)||s}(n,C,e,r,s,l);return M=ml(n,C+4,u,d,v)||M,yi(7),M?t+ie(e)+i+ie(r)+o+ie(s)+a+ie(l)+c+ie(u)+h+ie(d)+m+ie(v)+S:re}function T(n,t,e,i,r,o,s,a){const l=x(),c=me(),u=n+20,h=c.firstCreatePass?function vx(n,t,e,i,r,o,s,a,l){const c=t.consts,u=so(t,n,4,s||null,Fi(c,a));Rh(t,e,u,Fi(c,l)),ja(t,u);const h=u.tViews=hl(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Wn(h,!1);const d=l[11].createComment("");sl(c,l,d,h),Tt(d,l),dl(l,l[u]=ty(d,l,d,h)),Fa(h)&&Ph(c,l,h),null!=s&&Oh(l,h,a)}function Lt(n){return $r(function N1(){return ee.lFrame.contextLView}(),20+n)}function b(n,t=Q.Default){const e=x();return null===e?_(n,t):bg(ut(),e,oe(n),t)}function vl(){throw new Error("invalid")}function D(n,t,e){const i=x();return xt(i,zr(),t)&&on(me(),We(),i,n,t,i[11],e,!1),D}function Qh(n,t,e,i,r){const s=r?"class":"style";ay(n,e,t.inputs[s],s,i)}function p(n,t,e,i){const r=x(),o=me(),s=20+n,a=r[11],l=r[s]=fh(a,t,function Y1(){return ee.lFrame.currentNamespace}()),c=o.firstCreatePass?function Bx(n,t,e,i,r,o,s){const a=t.consts,c=so(t,n,2,r,Fi(a,o));return Rh(t,e,c,Fi(a,s)),null!==c.attrs&&fl(c,c.attrs,!1),null!==c.mergedAttrs&&fl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Wn(c,!0);const u=c.mergedAttrs;null!==u&&$a(a,l,u);const h=c.classes;null!==h&&_h(a,l,h);const d=c.styles;return null!==d&&Dv(a,l,d),64!=(64&c.flags)&&sl(o,r,l,c),0===function P1(){return ee.lFrame.elementDepthCount}()&&Tt(l,r),function O1(){ee.lFrame.elementDepthCount++}(),Fa(c)&&(Ph(o,r,c),qv(o,c,r)),null!==i&&Oh(r,c),p}function f(){let n=ut();Pu()?Ou():(n=n.parent,Wn(n,!1));const t=n;!function R1(){ee.lFrame.elementDepthCount--}();const e=me();return e.firstCreatePass&&(ja(e,n),wu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Q1(n){return 0!=(16&n.flags)}(t)&&Qh(e,t,x(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ek(n){return 0!=(32&n.flags)}(t)&&Qh(e,t,x(),t.stylesWithoutHost,!1),f}function H(n,t,e,i){return p(n,t,e,i),f(),H}function Co(n,t,e){const i=x(),r=me(),o=n+20,s=r.firstCreatePass?function Vx(n,t,e,i,r){const o=t.consts,s=Fi(o,i),a=so(t,n,8,"ng-container",s);return null!==s&&fl(a,s,!0),Rh(t,e,a,Fi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Wn(s,!0);const a=i[o]=i[11].createComment("");return sl(r,i,a,s),Tt(a,i),Fa(s)&&(Ph(r,i,s),qv(r,s,i)),null!=e&&Oh(i,s),Co}function Do(){let n=ut();const t=me();return Pu()?Ou():(n=n.parent,Wn(n,!1)),t.firstCreatePass&&(ja(t,n),wu(n)&&t.queries.elementEnd(n)),Do}function ed(n,t,e){return Co(n,t,e),Do(),ed}function te(){return x()}function Ts(n){return!!n&&"function"==typeof n.then}const td=function zy(n){return!!n&&"function"==typeof n.subscribe};function E(n,t,e,i){const r=x(),o=me(),s=ut();return Gy(o,r,r[11],s,n,t,!!e,i),E}function nd(n,t){const e=ut(),i=x(),r=me();return Gy(r,i,oy(Fu(r.data),e,i),e,n,t,!1),nd}function Gy(n,t,e,i,r,o,s,a){const l=Fa(i),u=n.firstCreatePass&&ry(n),h=t[8],d=iy(t);let m=!0;if(3&i.type||a){const C=mn(i,t),M=a?a(C):C,w=d.length,I=a?P=>a(rt(P[i.index])):i.index;if(Ge(e)){let P=null;if(!a&&l&&(P=function Hx(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,m=!1;else{o=id(i,t,h,o,!1);const q=e.listen(M,r,o);d.push(o,q),u&&u.push(r,I,w,w+1)}}else o=id(i,t,h,o,!0),M.addEventListener(r,o,s),d.push(o),u&&u.push(r,I,w,s)}else o=id(i,t,h,o,!1);const v=i.outputs;let S;if(m&&null!==v&&(S=v[r])){const C=S.length;if(C)for(let M=0;M<C;M+=2){const Se=t[S[M]][S[M+1]].subscribe(o),we=d.length;d.push(o,Se),u&&u.push(r,i.index,we,-(we+1))}}}function Wy(n,t,e,i){try{return!1!==e(i)}catch(r){return sy(n,r),!1}}function id(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?en(n.index,t):t;0==(32&t[2])&&Nh(a);let l=Wy(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Wy(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function k(n=1){return function U1(n){return(ee.lFrame.contextLView=function q1(n,t){for(;n>0;)t=t[15],n--;return t}(n,ee.lFrame.contextLView))[8]}(n)}function jx(n,t){let e=null;const i=function KE(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Tv(n,o,!0):XE(i,o))return r}else e=r}return e}function Ae(n,t,e){return ji(n,"",t,"",e),Ae}function ji(n,t,e,i,r){const o=x(),s=po(o,t,e,i);return s!==re&&on(me(),We(),o,n,s,o[11],r,!1),ji}function Ui(n,t,e,i,r,o,s){const a=x(),l=mo(a,t,e,i,r,o);return l!==re&&on(me(),We(),a,n,l,a[11],s,!1),Ui}function rd(n,t,e,i,r,o,s,a,l){const c=x(),u=go(c,t,e,i,r,o,s,a);return u!==re&&on(me(),We(),c,n,u,c[11],l,!1),rd}function od(n,t,e,i,r,o,s,a,l,c,u,h,d,m,v,S,C){const M=x(),w=So(M,t,e,i,r,o,s,a,l,c,u,h,d,m,v,S);return w!==re&&on(me(),We(),M,n,w,M[11],C,!1),od}function t_(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Fn(o):_i(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];$x(n[a],t)&&(l=!0,n[a+1]=i?wh(u):Sh(u)),a=i?Fn(u):_i(u)}l&&(n[e+1]=i?Sh(o):wh(o))}function $x(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&eo(n,t)>=0}function Nn(n,t,e){return Bn(n,t,e,!1),Nn}function ko(n,t){return Bn(n,t,null,!0),ko}function Bn(n,t,e,i){const r=x(),o=me(),s=yi(2);o.firstUpdatePass&&function c_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Rt()],s=function l_(n,t){return t>=n.expandoStartIndex}(n,e);(function f_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function Qx(n,t,e,i){const r=Fu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=xs(e=sd(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=sd(r,n,t,e,i),null===o){let l=function eA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==_i(i))return n[Fn(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=sd(null,n,t,l[1],i),l=xs(l,t.attrs,i),function tA(n,t,e,i){n[Fn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function nA(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=xs(i,n[o].hostAttrs,e);return xs(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Ux(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Fn(s),l=_i(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||eo(h,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const d=Fn(n[a+1]);n[i+1]=ll(d,a),0!==d&&(n[d+1]=bh(n[d+1],i)),n[a+1]=function nT(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=ll(a,0),0!==a&&(n[a+1]=bh(n[a+1],i)),a=i;else n[i+1]=ll(l,0),0===a?a=i:n[l+1]=bh(n[l+1],i),l=i;c&&(n[i+1]=Sh(n[i+1])),t_(n,u,i,!0),t_(n,u,i,!1),function qx(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&eo(o,t)>=0&&(e[i+1]=wh(e[i+1]))}(t,u,n,i,o),s=ll(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==re&&xt(r,s,t)&&function h_(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];yl(function Ov(n){return 1==(1&n)}(c)?d_(l,t,e,r,_i(c),s):void 0)||(yl(o)||function Pv(n){return 2==(2&n)}(c)&&(o=d_(l,null,e,r,a,s)),function $E(n,t,e,i,r){const o=Ge(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:rn.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=rn.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,La(Rt(),e),r,o))}(o,o.data[Rt()],r,r[11],n,r[s+1]=function oA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ce(nn(n)))),n}(t,e),i,s)}function sd(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=xs(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function xs(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),tn(n,s,!!e||t[++o]))}return void 0===n?null:n}function d_(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=e[r+1];d===re&&(d=h?Te:void 0);let m=h?Gu(d,i):u===i?d:void 0;if(c&&!yl(m)&&(m=Gu(l,i)),yl(m)&&(a=m,s))return a;const v=n[r+1];r=s?Fn(v):_i(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Gu(l,i))}return a}function yl(n){return void 0!==n}function g(n,t=""){const e=x(),i=me(),r=n+20,o=i.firstCreatePass?so(i,r,1,t,null):i.data[r],s=e[r]=function dh(n,t){return Ge(n)?n.createText(t):n.createTextNode(t)}(e[11],t);sl(i,e,s,o),Wn(o,!1)}function He(n){return ve("",n,""),He}function ve(n,t,e){const i=x(),r=po(i,n,t,e);return r!==re&&Si(i,Rt(),r),ve}function yn(n,t,e,i,r){const o=x(),s=mo(o,n,t,e,i,r);return s!==re&&Si(o,Rt(),s),yn}function _l(n,t,e,i,r,o,s){const a=x(),l=go(a,n,t,e,i,r,o,s);return l!==re&&Si(a,Rt(),l),_l}function ad(n,t,e){const i=x();return xt(i,zr(),t)&&on(me(),We(),i,n,t,i[11],e,!0),ad}function ld(n,t,e){const i=x();if(xt(i,zr(),t)){const o=me(),s=We();on(o,s,i,n,t,oy(Fu(o.data),s,i),e,!0)}return ld}const pr=void 0;var MA=["en",[["a","p"],["AM","PM"],pr],[["AM","PM"],pr,pr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pr,"{1} 'at' {0}",pr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DA(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Eo={};function Nt(n){const t=function kA(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=A_(t);if(e)return e;const i=t.split("-")[0];if(e=A_(i),e)return e;if("en"===i)return MA;throw new Error(`Missing locale data for the locale "${n}".`)}function A_(n){return n in Eo||(Eo[n]=Me.ng&&Me.ng.common&&Me.ng.common.locales&&Me.ng.common.locales[n]),Eo[n]}var L=(()=>((L=L||{})[L.LocaleId=0]="LocaleId",L[L.DayPeriodsFormat=1]="DayPeriodsFormat",L[L.DayPeriodsStandalone=2]="DayPeriodsStandalone",L[L.DaysFormat=3]="DaysFormat",L[L.DaysStandalone=4]="DaysStandalone",L[L.MonthsFormat=5]="MonthsFormat",L[L.MonthsStandalone=6]="MonthsStandalone",L[L.Eras=7]="Eras",L[L.FirstDayOfWeek=8]="FirstDayOfWeek",L[L.WeekendRange=9]="WeekendRange",L[L.DateFormat=10]="DateFormat",L[L.TimeFormat=11]="TimeFormat",L[L.DateTimeFormat=12]="DateTimeFormat",L[L.NumberSymbols=13]="NumberSymbols",L[L.NumberFormats=14]="NumberFormats",L[L.CurrencyCode=15]="CurrencyCode",L[L.CurrencySymbol=16]="CurrencySymbol",L[L.CurrencyName=17]="CurrencyName",L[L.Currencies=18]="Currencies",L[L.Directionality=19]="Directionality",L[L.PluralCase=20]="PluralCase",L[L.ExtraData=21]="ExtraData",L))();const Sl="en-US";let I_=Sl;function hd(n,t,e,i,r){if(n=oe(n),Array.isArray(n))for(let o=0;o<n.length;o++)hd(n[o],t,e,i,r);else{const o=me(),s=x();let a=uo(n)?n:oe(n.provide),l=dy(n);const c=ut(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(uo(n)||!n.multi){const m=new ss(l,r,b),v=fd(a,t,r?u:u+d,h);-1===v?(Ya(ls(c,s),o,a),dd(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(m),s.push(m)):(e[v]=m,s[v]=m)}else{const m=fd(a,t,u+d,h),v=fd(a,t,u,u+d),S=m>=0&&e[m],C=v>=0&&e[v];if(r&&!C||!r&&!S){Ya(ls(c,s),o,a);const M=function DI(n,t,e,i,r){const o=new ss(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,tS(o,r,i&&!e),o}(r?CI:wI,e.length,r,i,l);!r&&C&&(e[v].providerFactory=M),dd(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(M),s.push(M)}else dd(o,n,m>-1?m:v,tS(e[r?v:m],l,!r&&i));!r&&i&&C&&e[v].componentProviders++}}}function dd(n,t,e,i){const r=uo(t),o=function KT(n){return!!n.useClass}(t);if(r||o){const l=(o?oe(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function tS(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function fd(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function wI(n,t,e,i){return pd(this.multi,[])}function CI(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=cs(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),pd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],pd(r,o);return o}function pd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function je(n,t=[]){return e=>{e.providersResolver=(i,r)=>function bI(n,t,e){const i=me();if(i.firstCreatePass){const r=Pn(n);hd(e,i.data,i.blueprint,r,!0),hd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class nS{}class EI{resolveComponentFactory(t){throw function kI(n){const t=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let qi=(()=>{class n{}return n.NULL=new EI,n})();function TI(){return xo(ut(),x())}function xo(n,t){return new Ze(mn(n,t))}let Ze=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=TI,n})();function xI(n){return n instanceof Ze?n.nativeElement:n}class Rs{}let ni=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function II(){const n=x(),e=en(ut().index,n);return function AI(n){return n[11]}(Gn(e)?e:n)}(),n})(),PI=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class mr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const OI=new mr("13.3.3"),md={};function Ml(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(rt(o)),In(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Ml(l[1],l,c,i)}const s=e.type;if(8&s)Ml(n,t,e.child,i);else if(32&s){const a=ch(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=bv(t,e);if(Array.isArray(a))i.push(...a);else{const l=bs(t[16]);Ml(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Fs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ml(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(In(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(ph(t,i),Ja(e,i))}this._attachedToViewContainer=!1}dv(this._lView[1],this._lView)}onDestroy(t){Wv(this._lView[1],this._lView,null,t)}markForCheck(){Nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function BT(n,t,e){Ba(!0);try{Vh(n,t,e)}finally{Ba(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new N(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RE(n,t){ws(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,"");this._appRef=t}}class RI extends Fs{constructor(t){super(t),this._view=t}detectChanges(){ny(this._view)}checkNoChanges(){!function VT(n){Ba(!0);try{ny(n)}finally{Ba(!1)}}(this._view)}get context(){return null}}class rS extends qi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=kt(t);return new gd(e,this.ngModule)}}function oS(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class gd extends nS{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function eT(n){return n.map(QE).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return oS(this.componentDef.inputs)}get outputs(){return oS(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function LI(n,t){return{get:(e,i,r)=>{const o=n.get(e,md,r);return o!==md||i===md?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Rs,eg),a=o.get(PI,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function Gv(n,t,e){if(Ge(n))return n.selectRootElement(t,e===xn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):fh(s.createRenderer(null,this.componentDef),c,function FI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?576:528,d=function Dy(n,t){return{components:[],scheduler:n||EE,clean:HT,playerHandler:t||null,flags:0}}(),m=hl(0,null,null,1,0,null,null,null,null,null),v=Cs(null,m,d,h,null,null,s,l,a,o);let S,C;Va(v);try{const M=function wy(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=so(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(fl(l,c,!0),null!==n&&($a(r,n,c),null!==l.classes&&_h(r,n,l.classes),null!==l.styles&&Dv(r,n,l.styles)));const u=i.createRenderer(n,t),h=Cs(e,$v(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(Ya(ls(l,e),s,t.type),Xv(s,l),Qv(l,e.length,1)),dl(e,h),e[20]=h}(u,this.componentDef,v,s,l);if(u)if(i)$a(l,u,["ng-version",OI.full]);else{const{attrs:w,classes:I}=function tT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Rn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);w&&$a(l,u,w),I&&I.length>0&&_h(l,u,I.join(" "))}if(C=xu(m,20),void 0!==e){const w=C.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const P=e[I];w.push(null!=P?Array.from(P):null)}}S=function Cy(n,t,e,i,r){const o=e[1],s=function wT(n,t,e){const i=ut();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),ey(n,i,t,ao(n,t,1,null),e));const r=cs(t,n,i.directiveStart,i);Tt(r,t);const o=mn(i,t);return o&&Tt(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=ut();t.contentQueries(1,s,l.directiveStart)}const a=ut();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Li(a.index),Jv(e[1],a,0,a.directiveStart,a.directiveEnd,t),Zv(t,s)),s}(M,this.componentDef,v,d,[sx]),Ds(m,v,null)}finally{Ha()}return new BI(this.componentType,S,xo(C,v),v,C)}}class BI extends class MI{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new RI(r),this.componentType=t}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class bi{}class sS{}const Ao=new Map;class cS extends bi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rS(this);const i=dn(t);this._bootstrapComponents=Zn(i.bootstrap),this._r3Injector=hy(t,e,[{provide:bi,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],Ce(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Re.THROW_IF_NOT_FOUND,i=Q.Default){return t===Re||t===bi||t===jh?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class vd extends sS{constructor(t){super(),this.moduleType=t,null!==dn(t)&&function HI(n){const t=new Set;!function e(i){const r=dn(i,!0),o=r.id;null!==o&&(function aS(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ce(t)} vs ${Ce(t.name)}`)}(o,Ao.get(o),i),Ao.set(o,i));const s=Zn(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new cS(this.moduleType,t)}}function wt(n,t,e,i){return uS(x(),Ot(),n,t,e,i)}function yd(n,t,e,i,r){return hS(x(),Ot(),n,t,e,i,r)}function Ls(n,t){const e=n[t];return e===re?void 0:e}function uS(n,t,e,i,r,o){const s=t+e;return xt(n,s,r)?Qn(n,s+1,o?i.call(o,r):i(r)):Ls(n,s+1)}function hS(n,t,e,i,r,o,s){const a=t+e;return fr(n,a,r,o)?Qn(n,a+2,s?i.call(s,r,o):i(r,o)):Ls(n,a+2)}function U(n,t){const e=me();let i;const r=n+20;e.firstCreatePass?(i=function KI(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=ur(i.type)),s=Pi(b);try{const a=Ga(!1),l=o();return Ga(a),function yx(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,x(),r,l),l}finally{Pi(s)}}function ne(n,t,e){const i=n+20,r=x(),o=$r(r,i);return Ns(r,i)?uS(r,Ot(),t,o.transform,e,o):o.transform(e)}function Bt(n,t,e,i){const r=n+20,o=x(),s=$r(o,r);return Ns(o,r)?hS(o,Ot(),t,s.transform,e,i,s):s.transform(e,i)}function Ns(n,t){return n[1].data[t].pure}function _d(n){return t=>{setTimeout(n,void 0,t)}}const Ie=class QI extends ke{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(l=_d(l),a&&(a=_d(a)),c&&(c=_d(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof yt&&t.add(u),u}};function eP(){return this._results[ho()]()}class Sd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ho(),i=Sd.prototype;i[e]||(i[e]=eP)}get changes(){return this._changes||(this._changes=new Ie)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=gn(t);(this._changesDetected=!function uk(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=iP,n})();const tP=ii,nP=class extends tP{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Cs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Ds(e,i,t),new Fs(i)}};function iP(){return kl(ut(),x())}function kl(n,t){return 4&n.type?new nP(t,n,xo(n,t)):null}let _n=(()=>{class n{}return n.__NG_ELEMENT_ID__=rP,n})();function rP(){return vS(ut(),x())}const oP=_n,mS=class extends oP{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return xo(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Wa(this._hostTNode,this._hostLView);if(gg(t)){const e=Wr(t,this._hostLView),i=Gr(t);return new Yr(e[1].data[i+8],e)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=gS(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function hs(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const h=e||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.ngModuleRef}const l=s?t:new gd(kt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const d=(s?c:this.parentInjector).get(bi,null);d&&(o=d)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function I1(n){return In(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],d=new mS(h,h[6],h[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function LE(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],kg(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function NE(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=vh(o,s),l=i[11],c=ol(l,s[7]);return null!==c&&function OE(n,t,e,i,r,o){i[0]=r,i[6]=t,ws(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),kg(bd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=gS(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=ph(this._lContainer,e);i&&(Ja(bd(this._lContainer),e),dv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=ph(this._lContainer,e);return i&&null!=Ja(bd(this._lContainer),e)?new Fs(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function gS(n){return n[8]}function bd(n){return n[8]||(n[8]=[])}function vS(n,t){let e;const i=t[n.index];if(In(i))e=i;else{let r;if(8&n.type)r=rt(i);else{const o=t[11];r=o.createComment("");const s=mn(n,t);dr(o,ol(o,s),r,function jE(n,t){return Ge(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=ty(i,t,r,n),dl(t,e)}return new mS(e,n,t)}class wd{constructor(t){this.queryList=t,this.matches=null}clone(){return new wd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Cd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==CS(t,e).matches&&this.queries[e].setDirty()}}class yS{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Dd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Dd(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Md{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Md(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,lP(e,o)),this.matchTNodeWithReadOption(t,e,Ka(e,t,o,!1,!1))}else i===ii?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ka(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ze||r===_n||r===ii&&4&e.type)this.addMatch(e.index,-2);else{const o=Ka(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function lP(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function uP(n,t,e,i){return-1===e?function cP(n,t){return 11&n.type?xo(n,t):4&n.type?kl(n,t):null}(t,n):-2===e?function hP(n,t,e){return e===Ze?xo(t,n):e===ii?kl(t,n):e===_n?vS(t,n):void 0}(n,t,i):cs(n,n[1],e,t)}function _S(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:uP(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function kd(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=_S(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&kd(d[1],d,c,i)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const m=h[d];kd(m[1],m,c,i)}}}}}return i}function El(n){const t=x(),e=me(),i=ag();Lu(i+1);const r=CS(e,i);if(n.dirty&&tg(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?kd(e,t,i,[]):_S(e,t,r,i);n.reset(o,xI),n.notifyOnChanges()}return!0}return!1}function SS(n,t,e){const i=me();i.firstCreatePass&&(function wS(n,t,e){null===n.queries&&(n.queries=new Dd),n.queries.track(new Md(t,e))}(i,new yS(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function bS(n,t,e){const i=new Sd(4==(4&e));Wv(n,t,i,i.destroy),null===t[19]&&(t[19]=new Cd),t[19].queries.push(new wd(i))}(i,x(),t)}function CS(n,t){return n.queries.getByIndex(t)}function DS(n,t){return kl(n,t)}function Il(...n){}const Od=new j("Application Initializer");let Rd=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Il,this.reject=Il,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ts(o))e.push(o);else if(td(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(_(Od,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vs=new j("AppId",{providedIn:"root",factory:function jS(){return`${Fd()}${Fd()}${Fd()}`}});function Fd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const US=new j("Platform Initializer"),Ld=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qS=new j("appBootstrapListener");let AP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const wi=new j("LocaleId",{providedIn:"root",factory:()=>Qa(wi,Q.Optional|Q.SkipSelf)||function IP(){return"undefined"!=typeof $localize&&$localize.locale||Sl}()});class OP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let $S=(()=>{class n{compileModuleSync(e){return new vd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Zn(dn(e).declarations).reduce((s,a)=>{const l=kt(a);return l&&s.push(new gd(l)),s},[]);return new OP(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FP=(()=>Promise.resolve(0))();function Nd(n){"undefined"==typeof Zone?FP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class De{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function LP(){let n=Me.requestAnimationFrame,t=Me.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function VP(n){const t=()=>{!function BP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Me,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Vd(n),n.isCheckStableRunning=!0,Bd(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Vd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return zS(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),GS(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return zS(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),GS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Vd(n),Bd(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(De.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,NP,Il,Il);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const NP={};function Bd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Vd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function zS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function GS(n){n._nesting--,Bd(n)}class HP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Hd=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),Nd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nd(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(_(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),jP=(()=>{class n{constructor(){this._applications=new Map,jd.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return jd.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class UP{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Hn,jd=new UP;const WS=new j("AllowMultipleToken");class YS{constructor(t,e){this.name=t,this.token=e}}function KS(n,t,e=[]){const i=`Platform: ${t}`,r=new j(i);return(o=[])=>{let s=JS();if(!s||s.injector.get(WS,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:Uh,useValue:"platform"});!function GP(n){if(Hn&&!Hn.destroyed&&!Hn.injector.get(WS,!1))throw new N(400,"");Hn=n.get(YP);const t=n.get(US,null);t&&t.forEach(e=>e())}(Re.create({providers:a,name:i}))}return function WP(n){const t=JS();if(!t)throw new N(401,"");return t}()}}function JS(){return Hn&&!Hn.destroyed?Hn:null}let YP=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function KP(n,t){let e;return e="noop"===n?new HP:("zone.js"===n?void 0:n)||new De({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:De,useValue:a}];return a.run(()=>{const c=Re.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),h=u.injector.get(Bi,null);if(!h)throw new N(402,"");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:m=>{h.handleError(m)}});u.onDestroy(()=>{Ud(this._modules,u),d.unsubscribe()})}),function JP(n,t,e){try{const i=e();return Ts(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const d=u.injector.get(Rd);return d.runInitializers(),d.donePromise.then(()=>(function AA(n){Zt(n,"Expected localeId to be defined"),"string"==typeof n&&(I_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(wi,Sl)||Sl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=ZS({},i);return function $P(n,t,e){const i=new vd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Hs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new N(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(_(Re))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ZS(n,t){return Array.isArray(t)?t.reduce(ZS,n):Object.assign(Object.assign({},n),t)}let Hs=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ue(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Ue(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),Nd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Bm(s,a.pipe(Vm()))}bootstrap(e,i){if(!this._initStatus.done)throw new N(405,"");let r;r=e instanceof nS?e:this._injector.get(qi).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function zP(n){return n.isBoundToModule}(r)?void 0:this._injector.get(bi),a=r.create(Re.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(Hd,null),u=c&&a.injector.get(jP);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Ud(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new N(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ud(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(_(De),_(Re),_(Bi),_(Rd))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ud(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let QS=!0,js=(()=>{class n{}return n.__NG_ELEMENT_ID__=QP,n})();function QP(n){return function eO(n,t,e){if(Ra(n)&&!e){const i=en(n.index,t);return new Fs(i,i)}return 47&n.type?new Fs(t[16],t):null}(ut(),x(),16==(16&n))}class o0{constructor(){}supports(t){return ks(t)}create(t){return new sO(t)}}const oO=(n,t)=>t;class sO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<a0(i,r,o)?e:i,a=a0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let d=0;d<c;d++){const m=d<o.length?o[d]:o[d]=0,v=m+d;u<=v&&v<c&&(o[d]=m+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ks(t))throw new N(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function gx(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[ho()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new aO(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new s0),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new s0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class aO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class s0{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new lO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function a0(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class l0{constructor(){}supports(t){return t instanceof Map||Yh(t)}create(){return new cO}}class cO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Yh(t)))throw new N(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new uO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class uO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c0(){return new Rl([new o0])}let Rl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||c0()),deps:[[n,new to,new On]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new N(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:c0}),n})();function u0(){return new Us([new l0])}let Us=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||u0()),deps:[[n,new to,new On]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new N(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:u0}),n})();const fO=KS(null,"core",[]);let pO=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(_(Hs))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),Fl=null;function ri(){return Fl}const he=new j("DocumentToken");let vr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function yO(){return _(h0)}()},providedIn:"platform"}),n})();const _O=new j("Location Initialized");let h0=(()=>{class n extends vr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ri().getBaseHref(this._doc)}onPopState(e){const i=ri().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ri().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){d0()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){d0()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:function(){return function SO(){return new h0(_(he))}()},providedIn:"platform"}),n})();function d0(){return!!window.history.pushState}function Wd(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function f0(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ci(n){return n&&"?"!==n[0]?"?"+n:n}let Po=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function bO(n){const t=_(he).location;return new p0(_(vr),t&&t.origin||"")}()},providedIn:"root"}),n})();const Yd=new j("appBaseHref");let p0=(()=>{class n extends Po{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Wd(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ci(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Ci(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Ci(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(_(vr),_(Yd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),wO=(()=>{class n extends Po{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Wd(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Ci(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(_(vr),_(Yd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),qs=(()=>{class n{constructor(e,i){this._subject=new Ie,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=f0(m0(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ci(i))}normalize(e){return n.stripTrailingSlash(function DO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,m0(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ci(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ci(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ci,n.joinWithSlash=Wd,n.stripTrailingSlash=f0,n.\u0275fac=function(e){return new(e||n)(_(Po),_(vr))},n.\u0275prov=R({token:n,factory:function(){return function CO(){return new qs(_(Po),_(vr))}()},providedIn:"root"}),n})();function m0(n){return n.replace(/\/index.html$/,"")}var qt=(()=>((qt=qt||{})[qt.Decimal=0]="Decimal",qt[qt.Percent=1]="Percent",qt[qt.Currency=2]="Currency",qt[qt.Scientific=3]="Scientific",qt))(),W=(()=>((W=W||{})[W.Decimal=0]="Decimal",W[W.Group=1]="Group",W[W.List=2]="List",W[W.PercentSign=3]="PercentSign",W[W.PlusSign=4]="PlusSign",W[W.MinusSign=5]="MinusSign",W[W.Exponential=6]="Exponential",W[W.SuperscriptingExponent=7]="SuperscriptingExponent",W[W.PerMille=8]="PerMille",W[W.Infinity=9]="Infinity",W[W.NaN=10]="NaN",W[W.TimeSeparator=11]="TimeSeparator",W[W.CurrencyDecimal=12]="CurrencyDecimal",W[W.CurrencyGroup=13]="CurrencyGroup",W))();function Sn(n,t){const e=Nt(n),i=e[L.NumberSymbols][t];if(void 0===i){if(t===W.CurrencyDecimal)return e[L.NumberSymbols][W.Decimal];if(t===W.CurrencyGroup)return e[L.NumberSymbols][W.Group]}return i}function Kd(n,t){return Nt(n)[L.NumberFormats][t]}const JO=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ef(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function iR(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function nR(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const w=o.match(JO);if(null===w)throw new Error(`${o} is not a valid digit info`);const I=w[1],P=w[3],q=w[5];null!=I&&(u=nf(I)),null!=P&&(h=nf(P)),null!=q?d=nf(q):null!=P&&h>d&&(d=h)}!function rR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(h,d,m,v){return v[m]=(d+=h)<10?d:d-10,l&&(0===v[m]&&m>=c?v.pop():l=!1),d>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,d);let m=c.digits,v=c.integerLen;const S=c.exponent;let C=[];for(l=m.every(w=>!w);v<u;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?C=m.splice(v,m.length):(C=m,m=[0]);const M=[];for(m.length>=t.lgSize&&M.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)M.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&M.unshift(m.join("")),a=M.join(Sn(e,i)),C.length&&(a+=Sn(e,r)+C.join("")),S&&(a+=Sn(e,W.Exponential)+"+"+S)}else a=Sn(e,W.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function oi(n,t,e){return ef(n,tf(Kd(t,qt.Decimal),Sn(t,W.MinusSign)),t,W.Group,W.Decimal,e)}function tf(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?e.minFrac=e.maxFrac=u+1:"#"===h?e.maxFrac=u+1:e.posSuf+=h}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf("#");e.negPre=o.substr(0,h).replace(/'/g,""),e.negSuf=o.substr(h+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function nf(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let $i=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ks(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(Rl),b(Us),b(Ze),b(ni))},n.\u0275dir=$({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lR{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lR(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),D0(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{D0(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(_n),b(ii),b(Rl))},n.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function D0(n,t){n.context.$implicit=t.item}let zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new cR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){M0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){M0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(_n),b(ii))},n.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cR{constructor(){this.$implicit=null,this.ngIf=null}}function M0(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(t)}'.`)}let E0=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(b(_n))},n.\u0275dir=$({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Qt]}),n})();function Un(n,t){return new N(2100,"")}const SR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let wn=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Un();return e.replace(SR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"titlecase",type:n,pure:!0}),n})(),T0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=x0}transform(e,i=x0){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function TR(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(b(Us,16))},n.\u0275pipe=_t({name:"keyvalue",type:n,pure:!1}),n})();function x0(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let yr=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!lf(e))return null;r=r||this._locale;try{return oi(cf(e),r,i)}catch(o){throw Un()}}}return n.\u0275fac=function(e){return new(e||n)(b(wi,16))},n.\u0275pipe=_t({name:"number",type:n,pure:!0}),n})(),zl=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!lf(e))return null;r=r||this._locale;try{return function tR(n,t,e){return ef(n,tf(Kd(t,qt.Percent),Sn(t,W.MinusSign)),t,W.Group,W.Decimal,e,!0).replace(new RegExp("%","g"),Sn(t,W.PercentSign))}(cf(e),r,i)}catch(o){throw Un()}}}return n.\u0275fac=function(e){return new(e||n)(b(wi,16))},n.\u0275pipe=_t({name:"percent",type:n,pure:!0}),n})();function lf(n){return!(null==n||""===n||n!=n)}function cf(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();const A0="browser";let FR=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>new LR(_(he),window)}),n})();class LR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function NR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=I0(this.window.history)||I0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function I0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class hf extends class VR extends class vO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function gO(n){Fl||(Fl=n)}(new hf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function HR(){return Gs=Gs||document.querySelector("base"),Gs?Gs.getAttribute("href"):null}();return null==e?null:function jR(n){Gl=Gl||document.createElement("a"),Gl.setAttribute("href",n);const t=Gl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Gs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function sR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Gl,Gs=null;const P0=new j("TRANSITION_ID"),qR=[{provide:Od,useFactory:function UR(n,t,e){return()=>{e.get(Rd).donePromise.then(()=>{const i=ri(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[P0,he,Re],multi:!0}];class df{static init(){!function qP(n){jd=n}(new df)}addToWindow(t){Me.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Me.getAllAngularTestabilities=()=>t.getAllTestabilities(),Me.getAllAngularRootElements=()=>t.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(i=>{const r=Me.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?ri().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $R=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Wl=new j("EventManagerPlugins");let Yl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(_(Wl),_(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class O0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ri().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let R0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Ws=(()=>{class n extends R0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(F0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(F0))}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function F0(n){ri().remove(n)}const ff={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pf=/%COMP%/g;function Kl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Kl(n,r,e):(r=r.replace(pf,n),e.push(r))}return e}function B0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new mf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case xn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new JR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case xn.ShadowDom:return new ZR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Kl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(_(Yl),_(Ws),_(Vs))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class mf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ff[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ff[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ff[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(rn.DashCase|rn.Important)?t.style.setProperty(e,i,r&rn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&rn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,B0(i)):this.eventManager.addEventListener(t,e,B0(i))}}class JR extends mf{constructor(t,e,i,r){super(t),this.component=i;const o=Kl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function WR(n){return"_ngcontent-%COMP%".replace(pf,n)}(r+"-"+i.id),this.hostAttr=function YR(n){return"_nghost-%COMP%".replace(pf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class ZR extends mf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Kl(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let XR=(()=>{class n extends O0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const H0=["alt","control","meta","shift"],eF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nF=(()=>{class n extends O0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ri().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(H0.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function iF(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&j0.hasOwnProperty(t)&&(t=j0[t]))}return eF[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),H0.forEach(o=>{o!=r&&tF[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const aF=KS(fO,"browser",[{provide:Ld,useValue:A0},{provide:US,useValue:function rF(){hf.makeCurrent(),df.init()},multi:!0},{provide:he,useFactory:function sF(){return function E1(n){Eu=n}(document),document},deps:[]}]),lF=[{provide:Uh,useValue:"root"},{provide:Bi,useFactory:function oF(){return new Bi},deps:[]},{provide:Wl,useClass:XR,multi:!0,deps:[he,De,Ld]},{provide:Wl,useClass:nF,multi:!0,deps:[he]},{provide:Jl,useClass:Jl,deps:[Yl,Ws,Vs]},{provide:Rs,useExisting:Jl},{provide:R0,useExisting:Ws},{provide:Ws,useClass:Ws,deps:[he]},{provide:Hd,useClass:Hd,deps:[De]},{provide:Yl,useClass:Yl,deps:[Wl,De]},{provide:class BR{},useClass:$R,deps:[]}];let U0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Vs,useValue:e.appId},{provide:P0,useExisting:Vs},qR]}}}return n.\u0275fac=function(e){return new(e||n)(_(n,12))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:lF,imports:[uf,pO]}),n})();"undefined"!=typeof window&&window;let vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new(e||n):_(z0),i},providedIn:"root"}),n})(),z0=(()=>{class n extends vf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case be.NONE:return i;case be.HTML:return Kn(i,"HTML")?nn(i):Kg(this._doc,String(i)).toString();case be.STYLE:return Kn(i,"Style")?nn(i):i;case be.SCRIPT:if(Kn(i,"Script"))return nn(i);throw new Error("unsafe value used in a script context");case be.URL:return jg(i),Kn(i,"URL")?nn(i):vs(String(i));case be.RESOURCE_URL:if(Kn(i,"ResourceURL"))return nn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function jk(n){return new Lk(n)}(e)}bypassSecurityTrustStyle(e){return function Uk(n){return new Nk(n)}(e)}bypassSecurityTrustScript(e){return function qk(n){return new Bk(n)}(e)}bypassSecurityTrustUrl(e){return function $k(n){return new Vk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function zk(n){return new Hk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new e:function yF(n){return new z0(n.get(he))}(_(Re)),i},providedIn:"root"}),n})();function Y(...n){return mt(n,es(n))}class Cn extends ke{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:_F}=Array,{getPrototypeOf:SF,prototype:bF,keys:wF}=Object;function G0(n){if(1===n.length){const t=n[0];if(_F(t))return{args:t,keys:null};if(function CF(n){return n&&"object"==typeof n&&SF(n)===bF}(t)){const e=wF(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:DF}=Array;function yf(n){return pe(t=>function MF(n,t){return DF(t)?n(...t):n(t)}(n,t))}function W0(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Y0(n,t,e){n?di(e,n,t):t()}function Ys(n,t){const e=_e(n)?n:()=>n,i=r=>r.error(e());return new Ue(t?r=>t.schedule(i,0,r):i)}const Zl=eu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function _f(...n){return function TF(){return Qo(1)}()(mt(n,es(n)))}function Sf(n){return new Ue(t=>{Kt(n()).subscribe(t)})}function K0(){return nt((n,t)=>{let e=null;n._refCount++;const i=ze(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class xF extends Ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Sm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const e=this.getSubject();t.add(this.source.subscribe(ze(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return K0()(this)}}function _r(n,t){return nt((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ze(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;Kt(n(l,u)).subscribe(r=ze(i,h=>i.next(t?t(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function J0(...n){const t=es(n);return nt((e,i)=>{(t?_f(n,e,t):_f(n,e)).subscribe(i)})}function AF(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ze(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Z0(n,t){return nt(AF(n,t,arguments.length>=2,!0))}function sn(n,t){return nt((e,i)=>{let r=0;e.subscribe(ze(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Mi(n){return nt((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ze(e,void 0,void 0,s=>{o=Kt(n(s,Mi(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Oo(n,t){return _e(t)?ct(n,t,1):ct(n,1)}function bf(n){return n<=0?()=>fi:nt((t,e)=>{let i=[];t.subscribe(ze(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function X0(n=IF){return nt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function IF(){return new Zl}function Q0(n){return nt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ro(n,t){const e=arguments.length>=2;return i=>i.pipe(n?sn((r,o)=>n(r,o,i)):Ii,zn(1),e?Q0(t):X0(()=>new Zl))}function At(n,t,e){const i=_e(n)||t||e?{next:n,error:t,complete:e}:n;return i?nt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ze(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ii}function eb(n){return nt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ki{constructor(t,e){this.id=t,this.url=e}}class wf extends ki{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends ki{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tb extends ki{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class OF extends ki{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class RF extends ki{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FF extends ki{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class LF extends ki{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class NF extends ki{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BF extends ki{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ib{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VF{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UF{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ce="primary";class qF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fo(n){return new qF(n)}const ob="ngNavigationCancelingError";function Cf(n){const t=Error("NavigationCancelingError: "+n);return t[ob]=!0,t}function zF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function si(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!sb(n[r],t[r]))return!1;return!0}function sb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ab(n){return Array.prototype.concat.apply([],n)}function lb(n){return n.length>0?n[n.length-1]:null}function Ct(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function ai(n){return td(n)?n:Ts(n)?mt(Promise.resolve(n)):Y(n)}const YF={exact:function hb(n,t,e){if(!br(n.segments,t.segments)||!Xl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!hb(n.children[i],t.children[i],e))return!1;return!0},subset:db},cb={exact:function KF(n,t){return si(n,t)},subset:function JF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>sb(n[e],t[e]))},ignored:()=>!0};function ub(n,t,e){return YF[e.paths](n.root,t.root,e.matrixParams)&&cb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function db(n,t,e){return fb(n,t,t.segments,e)}function fb(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!br(r,e)||t.hasChildren()||!Xl(r,e,i))}if(n.segments.length===e.length){if(!br(n.segments,e)||!Xl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!db(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(br(n.segments,r)&&Xl(n.segments,r,i)&&n.children[ce])&&fb(n.children[ce],t,o,i)}}function Xl(n,t,e){return t.every((i,r)=>cb[e](n[r].parameters,i.parameters))}class Sr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return QF.serialize(this)}}class de{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ct(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ql(this)}}class Js{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fo(this.parameters)),this._parameterMap}toString(){return yb(this)}}function br(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class pb{}class mb{parse(t){const e=new lL(t);return new Sr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Zs(t.root,!0)}`,i=function nL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ec(e)}=${ec(r)}`).join("&"):`${ec(e)}=${ec(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function eL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const QF=new mb;function Ql(n){return n.segments.map(t=>yb(t)).join("/")}function Zs(n,t){if(!n.hasChildren())return Ql(n);if(t){const e=n.children[ce]?Zs(n.children[ce],!1):"",i=[];return Ct(n.children,(r,o)=>{o!==ce&&i.push(`${o}:${Zs(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function XF(n,t){let e=[];return Ct(n.children,(i,r)=>{r===ce&&(e=e.concat(t(i,r)))}),Ct(n.children,(i,r)=>{r!==ce&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ce?[Zs(n.children[ce],!1)]:[`${r}:${Zs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ce]?`${Ql(n)}/${e[0]}`:`${Ql(n)}/(${e.join("//")})`}}function gb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ec(n){return gb(n).replace(/%3B/gi,";")}function Df(n){return gb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tc(n){return decodeURIComponent(n)}function vb(n){return tc(n.replace(/\+/g,"%20"))}function yb(n){return`${Df(n.path)}${function tL(n){return Object.keys(n).map(t=>`;${Df(t)}=${Df(n[t])}`).join("")}(n.parameters)}`}const iL=/^[^\/()?;=#]+/;function nc(n){const t=n.match(iL);return t?t[0]:""}const rL=/^[^=?&#]+/,sL=/^[^&#]+/;class lL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ce]=new de(t,e)),i}parseSegment(){const t=nc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Js(tc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=nc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=nc(this.remaining);r&&(i=r,this.capture(i))}t[tc(e)]=tc(i)}parseQueryParam(t){const e=function oL(n){const t=n.match(rL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function aL(n){const t=n.match(sL);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=vb(e),o=vb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=nc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ce);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ce]:new de([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _b{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Mf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Mf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=kf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return kf(t,this._root).map(e=>e.value)}}function Mf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Mf(n,e);if(i)return i}return null}function kf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=kf(n,e);if(i.length)return i.unshift(t),i}return[]}class Ei{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Lo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Sb extends _b{constructor(t,e){super(t),this.snapshot=e,Ef(this,t)}toString(){return this.snapshot.toString()}}function bb(n,t){const e=function cL(n,t){const s=new ic([],{},{},"",{},ce,t,null,n.root,-1,{});return new Cb("",new Ei(s,[]))}(n,t),i=new Cn([new Js("",{})]),r=new Cn({}),o=new Cn({}),s=new Cn({}),a=new Cn(""),l=new No(i,r,s,a,o,ce,t,e.root);return l.snapshot=e.root,new Sb(new Ei(l,[]),e)}class No{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>Fo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>Fo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wb(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function uL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ic{constructor(t,e,i,r,o,s,a,l,c,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cb extends _b{constructor(t,e){super(e),this.url=t,Ef(this,e)}toString(){return Db(this._root)}}function Ef(n,t){t.value._routerState=n,t.children.forEach(e=>Ef(n,e))}function Db(n){const t=n.children.length>0?` { ${n.children.map(Db).join(", ")} } `:"";return`${n.value}${t}`}function Tf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,si(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),si(t.params,e.params)||n.params.next(e.params),function GF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!si(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),si(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xf(n,t){const e=si(n.params,t.params)&&function ZF(n,t){return br(n,t)&&n.every((e,i)=>si(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||xf(n.parent,t.parent))}function Xs(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function dL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Xs(n,i,r);return Xs(n,i)})}(n,t,e);return new Ei(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Xs(n,a)),s}}const i=function fL(n){return new No(new Cn(n.url),new Cn(n.params),new Cn(n.queryParams),new Cn(n.fragment),new Cn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Xs(n,o));return new Ei(i,r)}}function rc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qs(n){return"object"==typeof n&&null!=n&&n.outlets}function Af(n,t,e,i,r){let o={};if(i&&Ct(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new Sr(e,o,r);const s=Mb(n,t,e);return new Sr(s,o,r)}function Mb(n,t,e){const i={};return Ct(n.children,(r,o)=>{i[o]=r===t?e:Mb(r,t,e)}),new de(n.segments,i)}class kb{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&rc(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Qs);if(r&&r!==lb(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class If{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Eb(n,t,e){if(n||(n=new de([],{})),0===n.segments.length&&n.hasChildren())return oc(n,t,e);const i=function _L(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Qs(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xb(l,c,s))return o;i+=2}else{if(!xb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new de(n.segments.slice(0,i.pathIndex),{});return o.children[ce]=new de(n.segments.slice(i.pathIndex),n.children),oc(o,0,r)}return i.match&&0===r.length?new de(n.segments,{}):i.match&&!n.hasChildren()?Pf(n,t,e):i.match?oc(n,0,r):Pf(n,t,e)}function oc(n,t,e){if(0===e.length)return new de(n.segments,{});{const i=function yL(n){return Qs(n[0])?n[0].outlets:{[ce]:n}}(e),r={};return Ct(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Eb(n.children[s],t,o))}),Ct(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new de(n.segments,r)}}function Pf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Qs(o)){const l=SL(o.outlets);return new de(i,l)}if(0===r&&rc(e[0])){i.push(new Js(n.segments[t].path,Tb(e[0]))),r++;continue}const s=Qs(o)?o.outlets[ce]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&rc(a)?(i.push(new Js(s,Tb(a))),r+=2):(i.push(new Js(s,{})),r++)}return new de(i,{})}function SL(n){const t={};return Ct(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Pf(new de([],{}),0,e))}),t}function Tb(n){const t={};return Ct(n,(e,i)=>t[i]=`${e}`),t}function xb(n,t,e){return n==e.path&&si(t,e.parameters)}class wL{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Tf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Lo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Ct(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Lo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Lo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new UF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new HF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Tf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function CL(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Of{constructor(t,e){this.routes=t,this.module=e}}function Gi(n){return"function"==typeof n}function wr(n){return n instanceof Sr}const ea=Symbol("INITIAL_VALUE");function ta(){return _r(n=>function kF(...n){const t=es(n),e=Rm(n),{args:i,keys:r}=G0(n);if(0===i.length)return mt([],t);const o=new Ue(function EF(n,t,e=Ii){return i=>{Y0(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)Y0(t,()=>{const c=mt(n[l],t);let u=!1;c.subscribe(ze(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>W0(r,s):Ii));return e?o.pipe(yf(e)):o}(n.map(t=>t.pipe(zn(1),J0(ea)))).pipe(Z0((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==ea?r:(o===ea&&(i=!0),i||!1!==o&&s!==e.length-1&&!wr(o)?r:o),t)},ea),sn(t=>t!==ea),pe(t=>wr(t)?t:!0===t),zn(1)))}class xL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new na,this.attachRef=null}}class na{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new xL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ab=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.name=o||ce,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new AL(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(na),b(_n),b(qi),Kr("name"),b(js))},n.\u0275dir=$({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class AL{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===No?this.route:t===na?this.childContexts:this.parent.get(t,e)}}let Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&H(0,"router-outlet")},directives:[Ab],encapsulation:2}),n})();function Pb(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];IL(i,PL(t,i))}}function IL(n,t){n.children&&Pb(n.children,t)}function PL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Rf(n){const t=n.children&&n.children.map(Rf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ce&&(e.component=Ib),e}function Dn(n){return n.outlet||ce}function Ob(n,t){const e=n.filter(i=>Dn(i)===t);return e.push(...n.filter(i=>Dn(i)!==t)),e}const Rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Rb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||zF)(e,n,t);if(!o)return Object.assign({},Rb);const s={};Ct(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function ac(n,t,e,i,r="corrected"){if(e.length>0&&function FL(n,t,e){return e.some(i=>lc(n,t,i)&&Dn(i)!==ce)}(n,e,i)){const s=new de(t,function RL(n,t,e,i){const r={};r[ce]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Dn(o)!==ce){const s=new de([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[Dn(o)]=s}return r}(n,t,i,new de(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function LL(n,t,e){return e.some(i=>lc(n,t,i))}(n,e,i)){const s=new de(n.segments,function OL(n,t,e,i,r,o){const s={};for(const a of i)if(lc(n,e,a)&&!r[Dn(a)]){const l=new de([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Dn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new de(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function lc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Fb(n,t,e,i){return!!(Dn(n)===i||i!==ce&&lc(t,e,n))&&("**"===n.path||sc(t,n,e).matched)}function Lb(n,t,e){return 0===t.length&&!n.children[e]}class cc{constructor(t){this.segmentGroup=t||null}}class Nb{constructor(t){this.urlTree=t}}function ia(n){return Ys(new cc(n))}function Bb(n){return Ys(new Nb(n))}class HL{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(bi)}apply(){const t=ac(this.urlTree.root,[],[],this.config).segmentGroup,e=new de(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ce).pipe(pe(o=>this.createUrlTree(Ff(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mi(o=>{if(o instanceof Nb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof cc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ce).pipe(pe(r=>this.createUrlTree(Ff(r),t.queryParams,t.fragment))).pipe(Mi(r=>{throw r instanceof cc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new de([],{[ce]:t}):t;return new Sr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(pe(o=>new de([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return mt(r).pipe(Oo(o=>{const s=i.children[o],a=Ob(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(pe(l=>({segment:l,outlet:o})))}),Z0((o,s)=>(o[s.outlet]=s.segment,o),{}),function PF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?sn((r,o)=>n(r,o,i)):Ii,bf(1),e?Q0(t):X0(()=>new Zl))}())}expandSegment(t,e,i,r,o,s){return mt(i).pipe(Oo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Mi(c=>{if(c instanceof cc)return Y(null);throw c}))),Ro(a=>!!a),Mi((a,l)=>{if(a instanceof Zl||"EmptyError"===a.name)return Lb(e,r,o)?Y(new de([],{})):ia(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return Fb(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):ia(e):ia(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Bb(o):this.lineralizeSegments(i,o).pipe(ct(s=>{const a=new de(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=sc(e,r,o);if(!a)return ia(e);const h=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Bb(h):this.lineralizeSegments(r,h).pipe(ct(d=>this.expandSegment(t,e,i,d.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Y(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(pe(h=>(i._loadedConfig=h,new de(r,{})))):Y(new de(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=sc(e,i,r);return s?this.getChildConfig(t,i,r).pipe(ct(u=>{const h=u.module,d=u.routes,{segmentGroup:m,slicedSegments:v}=ac(e,a,l,d),S=new de(m.segments,m.children);if(0===v.length&&S.hasChildren())return this.expandChildren(h,d,S).pipe(pe(I=>new de(a,I)));if(0===d.length&&0===v.length)return Y(new de(a,{}));const C=Dn(i)===o;return this.expandSegment(h,S,d,v,C?ce:o,!0).pipe(pe(w=>new de(a.concat(w.segments),w.children)))})):ia(e)}getChildConfig(t,e,i){return e.children?Y(new Of(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Y(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(ct(r=>r?this.configLoader.load(t.injector,e).pipe(pe(o=>(e._loadedConfig=o,o))):function BL(n){return Ys(Cf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Y(new Of([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Y(r.map(s=>{const a=t.get(s);let l;if(function ML(n){return n&&Gi(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Gi(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return ai(l)})).pipe(ta(),At(s=>{if(!wr(s))return;const a=Cf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),pe(s=>!0===s)):Y(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Y(i);if(r.numberOfChildren>1||!r.children[ce])return Ys(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ce]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Sr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Ct(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Ct(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new de(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Ff(n){const t={};for(const i of Object.keys(n.children)){const o=Ff(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function jL(n){if(1===n.numberOfChildren&&n.children[ce]){const t=n.children[ce];return new de(n.segments.concat(t.segments),t.children)}return n}(new de(n.segments,t))}class Vb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class uc{constructor(t,e){this.component=t,this.route=e}}function qL(n,t,e){const i=n._root;return ra(i,t?t._root:null,e,[i.value])}function hc(n,t,e){const i=function zL(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ra(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lo(t);return n.children.forEach(s=>{(function GL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function WL(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!br(n.url,t.url);case"pathParamsOrQueryParamsChange":return!br(n.url,t.url)||!si(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xf(n,t)||!si(n.queryParams,t.queryParams);default:return!xf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Vb(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ra(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new uc(a.outlet.component,s))}else s&&oa(t,a,r),r.canActivateChecks.push(new Vb(i)),ra(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Ct(o,(s,a)=>oa(s,e.getContext(a),r)),r}function oa(n,t,e){const i=Lo(n),r=n.value;Ct(i,(o,s)=>{oa(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new uc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class nN{}function Hb(n){return new Ue(t=>t.error(n))}class rN{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=ac(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ce);if(null===e)return null;const i=new ic([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ei(i,e),o=new Cb(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=wb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=Ob(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=jb(i);return function oN(n){n.sort((t,e)=>t.value.outlet===ce?-1:e.value.outlet===ce?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return Lb(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Fb(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const m=i.length>0?lb(i).parameters:{};o=new ic(i,m,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$b(t),Dn(t),t.component,t,Ub(e),qb(e)+i.length,zb(t))}else{const m=sc(e,t,i);if(!m.matched)return null;s=m.consumedSegments,a=m.remainingSegments,o=new ic(s,m.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$b(t),Dn(t),t.component,t,Ub(e),qb(e)+s.length,zb(t))}const l=function sN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=ac(e,s,a,l.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const m=this.processChildren(l,c);return null===m?null:[new Ei(o,m)]}if(0===l.length&&0===u.length)return[new Ei(o,[])];const h=Dn(t)===r,d=this.processSegment(l,c,u,h?ce:r);return null===d?null:[new Ei(o,d)]}}function aN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jb(n){const t=[],e=new Set;for(const i of n){if(!aN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=jb(i.children);t.push(new Ei(i.value,r))}return t.filter(i=>!e.has(i))}function Ub(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function qb(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function $b(n){return n.data||{}}function zb(n){return n.resolve||{}}function Gb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lf(n){return _r(t=>{const e=n(t);return e?mt(e).pipe(pe(()=>t)):Y(t)})}class mN extends class pN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Nf=new j("ROUTES");class Wb{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new Of(ab(s.injector.get(Nf,void 0,Q.Self|Q.Optional)).map(Rf),s)}),Mi(o=>{throw e._loader$=void 0,o}));return e._loader$=new xF(r,()=>new ke).pipe(K0()),e._loader$}loadModuleFactory(t){return ai(t()).pipe(ct(e=>e instanceof sS?Y(e):mt(this.compiler.compileModuleAsync(e))))}}class vN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function yN(n){throw n}function _N(n,t,e){return t.parse("/")}function Yb(n,t){return Y(null)}const SN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let an=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ke,this.errorHandler=yN,this.malformedUriErrorHandler=_N,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yb,afterPreactivation:Yb},this.urlHandlingStrategy=new vN,this.routeReuseStrategy=new mN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(bi),this.console=s.get(AP);const h=s.get(De);this.isNgZoneEnabled=h instanceof De&&De.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function WF(){return new Sr(new de([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wb(s,a,d=>this.triggerEvent(new nb(d)),d=>this.triggerEvent(new ib(d))),this.routerState=bb(this.currentUrlTree,this.rootComponentType),this.transitions=new Cn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(sn(r=>0!==r.id),pe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),_r(r=>{let o=!1,s=!1;return Y(r).pipe(At(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_r(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Kb(a.source)&&(this.browserUrlTree=a.extractedUrl),Y(a).pipe(_r(h=>{const d=this.transitions.getValue();return i.next(new wf(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?fi:Promise.resolve(h)}),function UL(n,t,e,i){return _r(r=>function VL(n,t,e,i,r){return new HL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(pe(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),At(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function lN(n,t,e,i,r){return ct(o=>function iN(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new rN(n,t,e,i,r,o).recognize();return null===s?Hb(new nN):Y(s)}catch(s){return Hb(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(pe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),At(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const m=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(m,h)}this.browserUrlTree=h.urlAfterRedirects}const d=new RF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:m,source:v,restoredState:S,extras:C}=a,M=new wf(d,this.serializeUrl(m),v,S);i.next(M);const w=bb(m,this.rootComponentType).snapshot;return Y(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:m,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),fi}),Lf(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:m}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!m})}),At(a=>{const l=new FF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),pe(a=>Object.assign(Object.assign({},a),{guards:qL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function YL(n,t){return ct(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Y(Object.assign(Object.assign({},e),{guardsResult:!0})):function KL(n,t,e,i){return mt(n).pipe(ct(r=>function tN(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Y(o.map(a=>{const l=hc(a,t,r);let c;if(function TL(n){return n&&Gi(n.canDeactivate)}(l))c=ai(l.canDeactivate(n,t,e,i));else{if(!Gi(l))throw new Error("Invalid CanDeactivate guard");c=ai(l(n,t,e,i))}return c.pipe(Ro())})).pipe(ta()):Y(!0)}(r.component,r.route,e,t,i)),Ro(r=>!0!==r,!0))}(s,i,r,n).pipe(ct(a=>a&&function DL(n){return"boolean"==typeof n}(a)?function JL(n,t,e,i){return mt(t).pipe(Oo(r=>_f(function XL(n,t){return null!==n&&t&&t(new VF(n)),Y(!0)}(r.route.parent,i),function ZL(n,t){return null!==n&&t&&t(new jF(n)),Y(!0)}(r.route,i),function eN(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function $L(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Sf(()=>Y(s.guards.map(l=>{const c=hc(l,s.node,e);let u;if(function EL(n){return n&&Gi(n.canActivateChild)}(c))u=ai(c.canActivateChild(i,n));else{if(!Gi(c))throw new Error("Invalid CanActivateChild guard");u=ai(c(i,n))}return u.pipe(Ro())})).pipe(ta())));return Y(o).pipe(ta())}(n,r.path,e),function QL(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Y(!0);const r=i.map(o=>Sf(()=>{const s=hc(o,t,e);let a;if(function kL(n){return n&&Gi(n.canActivate)}(s))a=ai(s.canActivate(t,n));else{if(!Gi(s))throw new Error("Invalid CanActivate guard");a=ai(s(t,n))}return a.pipe(Ro())}));return Y(r).pipe(ta())}(n,r.route,e))),Ro(r=>!0!==r,!0))}(i,o,n,t):Y(a)),pe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),At(a=>{if(wr(a.guardsResult)){const c=Cf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new LF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),sn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Lf(a=>{if(a.guards.canActivateChecks.length)return Y(a).pipe(At(l=>{const c=new NF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),_r(l=>{let c=!1;return Y(l).pipe(function cN(n,t){return ct(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Y(e);let o=0;return mt(r).pipe(Oo(s=>function uN(n,t,e,i){return function hN(n,t,e,i){const r=Gb(n);if(0===r.length)return Y({});const o={};return mt(r).pipe(ct(s=>function dN(n,t,e,i){const r=hc(n,t,i);return ai(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(At(a=>{o[s]=a}))),bf(1),ct(()=>Gb(o).length===r.length?Y(o):fi))}(n._resolve,n,t,i).pipe(pe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),wb(n,e).resolve),null)))}(s.route,i,n,t)),At(()=>o++),bf(1),ct(s=>o===r.length?Y(e):fi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),At({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),At(l=>{const c=new BF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Lf(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:m}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!m})}),pe(a=>{const l=function hL(n,t,e){const i=Xs(n,t._root,e?e._root:void 0);return new Sb(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),At(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>pe(i=>(new wL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),At({next(){o=!0},complete(){o=!0}}),eb(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Mi(a=>{if(s=!0,function $F(n){return n&&n[ob]}(a)){const l=wr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new tb(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kb(r.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new OF(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return fi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Pb(e),this.config=e.map(Rf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function pL(n,t,e,i,r){if(0===e.length)return Af(t.root,t.root,t.root,i,r);const o=function mL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kb(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Ct(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new kb(e,t,i)}(e);if(o.toRoot())return Af(t.root,t.root,new de([],{}),i,r);const s=function gL(n,t,e){if(n.isAbsolute)return new If(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new If(o,o===t.root,0)}const i=rc(n.commands[0])?0:1;return function vL(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new If(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?oc(s.segmentGroup,s.index,o.commands):Eb(s.segmentGroup,s.index,o.commands);return Af(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,h,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=wr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function wN(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},SN):!1===i?Object.assign({},bN):i,wr(e))return ub(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ub(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ks(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((v,S)=>{c=v,u=S});const d=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),m=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):m=0,this.setTransition({id:d,targetPageId:m,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new tb(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){vl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function Kb(n){return"imperative"!==n}class Jb{}class Zb{preload(t,e){return Y(null)}}let Xb=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Wb(r,i,l=>e.triggerEvent(new nb(l)),l=>e.triggerEvent(new ib(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(sn(e=>e instanceof Ks),Oo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(bi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return mt(r).pipe(Qo(),pe(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Y(i._loadedConfig):this.loader.load(e.injector,i)).pipe(ct(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(_(an),_($S),_(Re),_(Jb))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Hf=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ks&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new rb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){vl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Cr=new j("ROUTER_CONFIGURATION"),Qb=new j("ROUTER_FORROOT_GUARD"),kN=[qs,{provide:pb,useClass:mb},{provide:an,useFactory:function IN(n,t,e,i,r,o,s={},a,l){const c=new an(null,n,t,e,i,r,ab(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function PN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var h,d;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(d=console.groupEnd)||void 0===d||d.call(console)}),c},deps:[pb,na,qs,Re,$S,Nf,Cr,[class gN{},new On],[class fN{},new On]]},na,{provide:No,useFactory:function ON(n){return n.routerState.root},deps:[an]},Xb,Zb,class MN{preload(t,e){return e().pipe(Mi(()=>Y(null)))}},{provide:Cr,useValue:{enableTracing:!1}}];function EN(){return new YS("Router",an)}let ew=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[kN,tw(e),{provide:Qb,useFactory:AN,deps:[[an,new On,new to]]},{provide:Cr,useValue:i||{}},{provide:Po,useFactory:xN,deps:[vr,[new el(Yd),new On],Cr]},{provide:Hf,useFactory:TN,deps:[an,FR,Cr]},{provide:Jb,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Zb},{provide:YS,multi:!0,useFactory:EN},[jf,{provide:Od,multi:!0,useFactory:RN,deps:[jf]},{provide:nw,useFactory:FN,deps:[jf]},{provide:qS,multi:!0,useExisting:nw}]]}}static forChild(e){return{ngModule:n,providers:[tw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(_(Qb,8),_(an,8))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();function TN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Hf(n,t,e)}function xN(n,t,e={}){return e.useHash?new wO(n,t):new p0(n,t)}function AN(n){return"guarded"}function tw(n){return[{provide:ck,multi:!0,useValue:n},{provide:Nf,multi:!0,useValue:n}]}let jf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ke}appInitializer(){return this.injector.get(_O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(an),s=this.injector.get(Cr);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Y(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Cr),r=this.injector.get(Xb),o=this.injector.get(Hf),s=this.injector.get(an),a=this.injector.get(Hs);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(_(Re))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function RN(n){return n.appInitializer.bind(n)}function FN(n){return n.bootstrapListener.bind(n)}const nw=new j("Router Initializer"),NN=[];let BN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[ew.forRoot(NN)],ew]}),n})();var iw=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberh","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],VN=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],HN=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],jN=["helmet","helm","mask","faceguard","cap","hat","hood"],UN=["sandals","boots","shoes","footwear","slippers"],Vo=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","usual","acceptable","excellent","exceptional","familiar","favorable","great","marvelous","positive","satisfactory","satisfying","superb","valuable","wonderful","boss","choice","nice","pleasing","prime","radical","superior","worthy","admirable","agreeable","commendable","congenial","deluxe","first-class","first-rate","gnarly","honorable","neat","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","beautiful","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","uncommon","unique","unprecedented","unimaginable","unthinkable"],sa=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","light","darkness","power","decimation","destruction","supremacy","annihilation"],Uf=["weak","partial","limited","substantial","blinding","complete","burning","total","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],aa=["comfort","screening","safety","cover","shelter","protection","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],qf=["weak","limited","partial","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],Ho=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],dc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let Mn=(()=>{class n{constructor(){this.logTopics=["STORY","EVENT"],this.newStory="",this.newEvents="",this.newCombat="",this.newCrafting="",this.storyLog=[],this.eventLog=[],this.combatLog=[],this.craftingLog=[],this.currentLog=[],this.addLogMessage("Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.","STANDARD","STORY"),this.addLogMessage("Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.","STANDARD","STORY"),this.addLogMessage("It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.","STANDARD","STORY"),this.addLogMessage("Be careful, the world can be a dangerous place.","STANDARD","STORY")}addLogMessage(e,i,r){let o=this.eventLog;"COMBAT"==r?o=this.combatLog:"STORY"==r?o=this.storyLog:"CRAFTING"==r&&(o=this.craftingLog);let s={message:e,type:i,topic:r,timestamp:Date.now()};if(0==o.length||s.timestamp-o[0].timestamp>1e3||!o[0].message.includes(s.message))o.unshift(s),this.logTopics.includes(r)&&this.addToCurrentLog(s);else{const a=/\((\d+)\)$/.exec(o[0].message);let l=2;a&&(l=parseInt(a[1])+1),o[0].message=`${s.message} (${l})`}o.length>100&&"STORY"!=r&&o.splice(100,1),this.logTopics.includes(r)||("STORY"==r?this.newStory=" (new)":"EVENT"==r?this.newEvents=" (new)":"CRAFTING"==r?this.newCrafting=" (new)":this.newCombat=" (new)")}addToCurrentLog(e){this.currentLog.length>=300&&this.currentLog.pop(),this.currentLog.unshift(e)}getProperties(){return{logTopics:this.logTopics,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.logTopics=e.logTopics||["STORY","EVENT"],this.updateLogTopics()}enableLogTopic(e,i){if(!i&&this.logTopics.includes(e)){for(let r=0;r<this.logTopics.length;r++)this.logTopics[r]==e&&this.logTopics.splice(r,1);this.updateLogTopics()}else i&&!this.logTopics.includes(e)&&(this.logTopics.push(e),this.updateLogTopics())}updateLogTopics(){let e=[];if(this.logTopics.includes("COMBAT")&&(this.newCombat="",e.push([...this.combatLog])),this.logTopics.includes("STORY")&&(this.newStory="",e.push([...this.storyLog])),this.logTopics.includes("EVENT")&&(this.newEvents="",e.push([...this.eventLog])),this.logTopics.includes("CRAFTING")&&(this.newCrafting="",e.push([...this.craftingLog])),this.currentLog=[],0==e.length)return;let i=r=>Array.isArray(r)&&r.every(i);for(;!i(e);){let r=Number.MAX_VALUE,o=e[0];for(let s=0;s<e.length;s++){let a=e[s];if(0==a.length)continue;let l=a[a.length-1].timestamp||0;l<r&&(r=l,o=a)}this.addToCurrentLog(o[o.length-1]),o.splice(o.length-1,1)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class $N{constructor(t,e){this.logService=t,this.titlecasePipe=e,this.maxMoney=1e24,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=100,this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=100,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=0,this.accuracyExponentMultiplier=.01,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.empowermentFactor=1,this.immortal=!1,this.ascensionUnlocked=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,icon:"pets"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.manaUnlocked?(this.status.mana.max=1,this.status.mana.value=1):(this.status.mana.max=0,this.status.mana.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let t=0;t+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(t/5),this.bloodlineRank<5&&(this.statLifespan*=.1);const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){let r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;r>0&&(this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+this.titlecasePipe.transform(e[i])+" increased by "+oi(r,"en-US","1.0-3"),"STANDARD","EVENT")),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.recalculateDerivedStats(),0==this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<0&&(t=0),e<0&&(e=0),t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,s;this.status.health.max=100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+Math.floor(5*Math.log2(this.attributes.toughness.value+2)),this.money>this.maxMoney&&(this.money=this.maxMoney),this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.accuracy=1-Math.exp(0-this.getAptitudeMultipier(this.attributes.speed.value)*this.accuracyExponentMultiplier),this.defense=Math.floor(Math.log10(this.attributes.toughness.value)),this.attackPower=Math.floor(Math.log10(this.attributes.strength.value))||1,this.equipment.leftHand&&(this.attackPower+=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||0),this.equipment.rightHand&&(this.attackPower+=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.equipment.head&&(this.defense+=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||0),this.equipment.body&&(this.defense+=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||0),this.equipment.legs&&(this.defense+=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||0),this.equipment.feet&&(this.defense+=(null===(s=this.equipment.feet.armorStats)||void 0===s?void 0:s.defense)||0)}getAptitudeMultipier(t){return t<0&&(t=0),t<this.attributeScalingLimit?t*this.empowermentFactor:t<10*this.attributeScalingLimit?(this.attributeScalingLimit+(t-this.attributeScalingLimit)/4)*this.empowermentFactor:t<100*this.attributeScalingLimit?(this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20)*this.empowermentFactor:t<this.attributeSoftCap?(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100)*this.empowermentFactor:(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(this.attributeSoftCap-100*this.attributeScalingLimit)/100+(t-this.attributeSoftCap+1)/(1+Math.pow(t-this.attributeSoftCap+1,.6))*this.attributeScalingLimit/5120)*this.empowermentFactor}increaseAttribute(t,e){let i=e*this.getAptitudeMultipier(this.attributes[t].aptitude);return i<e&&(i=e),this.attributes[t].value+=i,i}increaseBaseLifespan(t,e){return this.baseLifespan+t<365*e?(this.baseLifespan+=t,!0):(this.baseLifespan<365*e&&(this.baseLifespan=365*e),!1)}checkOverage(){this.empowermentFactor>1e3&&(this.empowermentFactor=1e3),this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3),this.healthBonusMagic>1e4&&(this.healthBonusMagic=1e4),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineCost:this.bloodlineCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,empowermentFactor:this.empowermentFactor,immortal:this.immortal}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.magicLifespan=t.magicLifespan||0,this.attributeScalingLimit=t.attributeScalingLimit,this.attributeSoftCap=t.attributeSoftCap,this.aptitudeGainDivider=t.aptitudeGainDivider,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.bloodlineCost=t.bloodlineCost,this.bloodlineRank=t.bloodlineRank,this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.healthBonusFood=t.healthBonusFood||0,this.healthBonusBath=t.healthBonusBath||0,this.healthBonusMagic=t.healthBonusMagic||0,this.empowermentFactor=t.empowermentFactor||1,this.immortal=t.immortal||!1,this.recalculateDerivedStats()}}var O=(()=>{return(n=O||(O={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",n[n.CoreCultivation=17]="CoreCultivation",n[n.InfuseBody=18]="InfuseBody",n[n.ExtendLife=19]="ExtendLife",n[n.Recruiting=20]="Recruiting",n[n.TrainingFollowers=21]="TrainingFollowers",n[n.Swim=22]="Swim",n[n.ForgeChains=23]="ForgeChains",n[n.AttachChains=24]="AttachChains",n[n.MakeBrick=25]="MakeBrick",n[n.MakeMortar=26]="MakeMortar",n[n.MakeScaffold=27]="MakeScaffold",n[n.BuildTower=28]="BuildTower",n[n.ResearchWind=29]="ResearchWind",n[n.TameWinds=30]="TameWinds",n[n.LearnToFly=31]="LearnToFly",n[n.OfferDragonFood=32]="OfferDragonFood",n[n.OfferDragonWealth=33]="OfferDragonWealth",n[n.TalkToDragon=34]="TalkToDragon",n[n.GatherArmies=35]="GatherArmies",n[n.ConquerTheWorld=36]="ConquerTheWorld",n[n.MoveStars=37]="MoveStars",O;var n})();let ln=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new ke,this.longTickSubject=new ke,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useSavedTicks=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.tickDivider=e.tickDivider,this.pause=e.pause,this.lastTime=e.lastTime;let i=(new Date).getTime();this.bankedTicks=e.bankedTicks+Math.floor((i-this.lastTime)/(25*this.offlineDivider)),this.lastTime=i,this.totalTicks=e.totalTicks||0}start(){this.characterService||(this.characterService=this.injector.get(Be)),window.setInterval(()=>{this.longTickSubject.next(!0)},500),window.setInterval(()=>{let e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=Math.floor(i/25)||1;if(this.pause)this.bankedTicks++;else{if(this.bankedTicks>0&&this.useSavedTicks&&(r+=10/this.tickDivider,this.bankedTicks-=10/this.tickDivider),this.characterService){this.characterService.characterState.lifespan>36500&&r++,this.characterService.characterState.lifespan>365e3&&r++;for(let o=0;o<Math.floor(this.characterService.characterState.lifespan/1825e3);o++)r++}for(let o=0;o<r;o++)this.tickCount++,this.tickCount>=this.tickDivider&&(this.tickCount=0,this.pause?this.bankedTicks++:this.tick())}},25)}tick(){this.totalTicks++,this.tickSubject.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(_(Re))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wi=(()=>{class n{constructor(){this.reincarnateSubject=new ke}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var G=(()=>{return(n=G||(G={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.TameWinds=3]="TameWinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",G;var n})();let jo=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.logService=i,this.characterService=r,this.battleService=a,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:G.Swim,progressRequired:1e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:G.RaiseIsland,progressRequired:1e4},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:G.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:G.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:G.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:G.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:G.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:G.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:G.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],o.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let l=0;l<this.tasks.length;l++)if(this.taskProgress[l].complete&&this.tasks[l].taskType==this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){for(let e=0;e<this.tasks.length;e++)this.taskProgress[e].progress<this.tasks[e].progressRequired&&e!=G.BuildTower&&(this.taskProgress[e].progress=this.taskProgress[e].complete?this.tasks[e].progressRequired:0);this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get($n)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=null==e.activeTaskIndex?-1:e.activeTaskIndex,this.activityService||(this.activityService=this.injector.get($n)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get($n)),this.activityService.reloadActivities(),this.activeTaskIndex==G.OvercomeDeath&&this.battleService.addEnemy(this.battleService.enemyRepo.death)}stopTask(){this.activeTaskIndex==G.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get($n)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(_(Re),_(Mn),_(Be),_(ln),_(Wi),_(Ti))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rw=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let Dr=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.logService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.battleService=c,this.followersUnlocked=!1,this.followers=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.autoDismissJobs=[],this.jobs={builder:{work:u=>{this.homeService.nextHomeCostReduction+=u.power;for(let h=0;h<u.power;h++)this.homeService.upgrading&&this.homeService.upgradeTick()},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster."},hunter:{work:u=>{for(let h=0;h<u.power;h++)this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)},description:"Hunters collect meat and hides for you."},farmer:{work:u=>{this.homeService.workFields(u.power)},description:"Farmers work your fields, helping your crops to grow."},weaponsmith:{work:u=>{this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.rightHand.value+=Math.floor(u.power/10)),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.leftHand.value+=Math.floor(u.power/10))},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day. Higher levels can also help improve them."},armorer:{work:u=>{this.characterService.characterState.equipment.head&&this.characterService.characterState.equipment.head.armorStats&&(this.characterService.characterState.equipment.head.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.head.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.head.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.body&&this.characterService.characterState.equipment.body.armorStats&&(this.characterService.characterState.equipment.body.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.body.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.body.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.legs&&this.characterService.characterState.equipment.legs.armorStats&&(this.characterService.characterState.equipment.legs.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.legs.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.legs.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.feet&&this.characterService.characterState.equipment.feet.armorStats&&(this.characterService.characterState.equipment.feet.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.feet.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.feet.value+=Math.ceil(Math.floor(u.power/10)/2))},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day. Higher levels can also help improve them."},brawler:{work:u=>{this.characterService.characterState.increaseAttribute("strength",u.power)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength."},sprinter:{work:u=>{this.characterService.characterState.increaseAttribute("speed",u.power)},description:"Sprinters challenge you to footraces and help you increase your speed."},trainer:{work:u=>{this.characterService.characterState.increaseAttribute("toughness",u.power)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness."},tutor:{work:u=>{this.characterService.characterState.increaseAttribute("intelligence",u.power)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence."},mediator:{work:u=>{this.characterService.characterState.increaseAttribute("charisma",u.power)},description:"Mediators teach you how to persuade others, increasing your charisma."},priest:{work:u=>{this.characterService.characterState.increaseAttribute("spirituality",u.power)},description:"Priests help you get closer to the divine, increasing your sprituality."},gemologist:{work:u=>{for(let h=0;h<u.power;h++)this.inventoryService.mergeAnySpiritGem()},description:"Gemologists combine monster gems into higher grades."},scout:{work:u=>{for(let h=0;h<u.power;h++)this.battleService.tickCounter++},description:"Scouts help you track down and fight monsters faster."}},a.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.characterState.dead){this.characterService.characterState.age%18250==0&&this.generateFollower();for(let u=this.followers.length-1;u>=0;u--)this.followerWorks(this.followers[u]),this.followers[u].age++,this.followers[u].age>=this.followers[u].lifespan?this.followers.splice(u,1):this.characterService.characterState.money-=this.followers[u].cost}}),l.reincarnateSubject.subscribe(()=>{this.reset()})}followerWorks(e){this.jobs[e.job].work(e)}reset(){this.followers.splice(0,this.followers.length),this.followersRecruited=0}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,autoDismissUnlocked:this.autoDismissUnlocked,autoDismissJobs:this.autoDismissJobs}}setProperties(e){this.followers=e.followers||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.autoDismissJobs=e.autoDismissJobs||[]}generateFollower(){this.followersRecruited++;let e=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank;if(this.followers.length>=e)return void this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","EVENT");let i=this.generateFollowerJob();this.autoDismissJobs.includes(i)?this.logService.addLogMessage("A new follower shows up, but they were a "+i+" and you don't want any of those.","STANDARD","EVENT"):(this.logService.addLogMessage("A new follower has come to learn at your feet.","STANDARD","EVENT"),this.followers.push({name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/10,job:i,power:1,cost:100}))}generateFollowerName(){return rw[Math.floor(Math.random()*rw.length)]}generateFollowerJob(){const e=Object.keys(this.jobs);return e[Math.floor(Math.random()*e.length)]}dismissFollower(e){let i=this.followers.indexOf(e);this.followers.splice(i,1)}dismissFollowerJob(e){this.autoDismissJobs.includes(e)||this.autoDismissJobs.push(e);for(let i=this.followers.length-1;i>=0;i--)this.followers[i].job==e&&this.followers.splice(i,1)}unAutoDismiss(e){if(this.autoDismissJobs.includes(e))for(let i=this.autoDismissJobs.length-1;i>=0;i--)this.autoDismissJobs[i]==e&&this.autoDismissJobs.splice(i,1)}}return n.\u0275fac=function(e){return new(e||n)(_(Mn),_(Be),_(at),_(X),_(qn),_(ln),_(Wi),_(Ti))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gf{constructor(t,e,i){this.autoBuyerService=t,this.homeService=e,this.characterService=i}}class GN extends Gf{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(t){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){let e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){let i=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),e.landRequired-this.homeService.land);i>0&&this.homeService.buyLand(i)}}}else{let e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+t&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}}class WN extends Gf{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.homeService.autoFieldUnlocked}run(t){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+t){let e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.autoBuyLandLimit-(this.homeService.land+this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.homeService.autoFieldUnlocked)for(;this.homeService.land>0&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit;)this.homeService.addField()}isBlocked(){return!(!this.homeService.autoFieldUnlocked||this.homeService.autoBuyLandUnlocked)&&0==this.homeService.land&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit}isWaiting(){return!1}isComplete(){let t=!0;this.homeService.autoBuyLandUnlocked&&(t=this.homeService.land+this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.homeService.autoFieldUnlocked&&(e=this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoFieldLimit),t&&e}}class YN extends Gf{shouldRun(){return this.homeService.autoBuyFurnitureUnlocked}run(t){var e;for(let i of this.homeService.furniturePositionsArray)if(this.homeService.home.furnitureSlots.includes(i)&&null==this.homeService.furniture[i]){let r=this.homeService.autoBuyFurniture[i];r&&(null===(e=this.homeService.furniture[i])||void 0===e?void 0:e.id)!==r.id&&this.characterService.characterState.money>r.value+t&&this.homeService.buyFurniture(r.id)}return!0}isBlocked(){var t;let e=!0,i=!0;for(let r of this.homeService.furniturePositionsArray){let o=this.homeService.autoBuyFurniture[r];o&&(this.homeService.home.furnitureSlots.includes(r)?(null===(t=this.homeService.furniture[r])||void 0===t?void 0:t.id)!=o.id&&(i=!1):e=!1)}return!this.homeService.upgrading&&i&&!e}isWaiting(){let t=!1;for(let e of this.homeService.furniturePositionsArray)this.homeService.autoBuyFurniture[e]&&!this.homeService.home.furnitureSlots.includes(e)&&this.homeService.nextHome.furnitureSlots.includes(e)&&(t=!1);return this.homeService.upgrading&&t}isComplete(){var t;for(let e of this.homeService.furniturePositionsArray){let i=this.homeService.autoBuyFurniture[e];if(i&&(!this.homeService.home.furnitureSlots.includes(e)||(null===(t=this.homeService.furniture[e])||void 0===t?void 0:t.id)!=i.id))return!1}return!0}}let fc=(()=>{class n{constructor(e,i,r){this.characterService=e,this.homeService=i,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new GN(this,this.homeService,this.characterService),land:new WN(this,this.homeService,this.characterService),furniture:new YN(this,this.homeService,this.characterService)},r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Furniture",type:"furniture",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){let e=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:10*(this.homeService.home.costPerDay+1);for(let i of this.autoBuyerSettings){let r=this.autobuyers[i.type];if(i.enabled&&r.shouldRun()&&!r.isBlocked()&&!r.isComplete()){if(r.isWaiting()&&i.waitForFinish)break;if(r.isWaiting())continue;if(r.run(e),!r.isComplete()&&i.waitForFinish)break}}}}return n.\u0275fac=function(e){return new(e||n)(_(Be),_(at),_(ln))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qn=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.01&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.02&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=1825?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan=1825)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.05&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=3650?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan=3650)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.08&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=5475?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan=5475)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=7300?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan=7300)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.12&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=9125?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan=9125)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.15&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=10950?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan=10950)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.18&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=12775?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan=12775)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.2&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=14600?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan=14600)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.22&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=2*s,this.characterService.characterState.foodLifespan+s<=26280?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan=26280)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=2*s,this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=10*s,this.characterService.characterState.status.stamina.max+=s,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.stamina.max+=s),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong."},everlastingBrick:{id:"everlastingBrick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",name:"Essence of Immortality",type:"immortality",value:1,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(jo)),this.impossibleTaskService.taskProgress[G.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=G.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.OvercomeDeath].complete&&(this.logService.addLogMessage("YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!","INJURY","STORY"),this.logService.addLogMessage("You won this game in "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes. I wonder if other immortals have ever done it faster?","STANDARD","STORY"),this.characterService.characterState.immortal=!0)}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get($n)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get($n)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoBuyFurnitureUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(fc)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(fc)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(at)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoPotionUnlocked=!0;for(let s=this.inventoryService.autoUseItems.length-1;s>=0;s--)this.inventoryService.autoUseItems[s].includes("Potion")&&this.inventoryService.autoUseItems.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoswallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoPillUnlocked=!0;for(let s=this.inventoryService.autoUseItems.length-1;s>=0;s--)this.inventoryService.autoUseItems[s].includes("Pill")&&this.inventoryService.autoUseItems.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(Ti)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(Ti)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldHerbs=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldWood=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldOre=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldOre)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(Dr)),this.followerService.autoDismissUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.followerService||(this.followerService=this.injector.get(Dr)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem autoselling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(X)),this.inventoryService.autoSellOldGemsUnlocked)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(_(Be),_(Re),_(Mn),_(ln))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ti=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.ticksPerFight=10,this.highestGem=0,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:5,loot:[this.itemRepoService.items.hide]},army:{name:"an angry army",health:2e7,maxHealth:2e7,accuracy:.9,attack:1e7,defense:1e7,loot:[]},death:{name:"Death itself",health:1e15,maxHealth:1e15,accuracy:.99,attack:1e8,defense:1e8,loot:[this.itemRepoService.items.immortality],unique:!0}},this.monsterNames=["spider","rat","lizard","snake","imp","ooze","jackalope","goblin","monkey","redcap","skeleton","zombie","hobgoblin","kobold","chupacabra","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","troll","manticore","merlion","landshark","bugbear","yeti","dreameater","unicorn","ogre","banshee","harpy","werewolf","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","thunderbird","vampire","beholder","hydra","roc","giant","kraken","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a pathetic","a sickly","a starving","a wimpy","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a typical","an average","a healthy","a big","a tough","a strong","a fearsome","a gutsy","a quick","a hefty","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a devious","a mighty","a powerful","a noble","a magical","a dangerous","a terrifying","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null==this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)if(Math.random()<e.enemy.accuracy){let r=e.enemy.attack,o=this.characterService.characterState.defense;o>=1&&(r/=Math.pow(o,.2)+Math.pow(2e4,(-r+o)/o)),r<this.enemyRepo.mouse.attack&&(r=this.enemyRepo.mouse.attack),this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(r/=2,this.characterService.characterState.status.mana.value-=10),this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+oi(r,"en-US","1.0-2")+" damage","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=r,this.characterService.characterState.increaseAttribute("toughness",.01);let s=[];if(this.characterService.characterState.equipment.head&&s.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&s.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&s.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&s.push(this.characterService.characterState.equipment.feet),s.length>0&&this.degradeArmor(s[Math.floor(Math.random()*s.length)]),this.characterService.characterState.status.health.value<=0)return this.logService.addLogMessage("Death itself"==e.enemy.name?e.enemy.name+" overkilled you by "+Math.floor(-this.characterService.characterState.status.health.value)+" damage. You were defeated.":"You were defeated by "+e.enemy.name,"INJURY","EVENT"),void(this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0))}else this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.currentEnemy){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower,i=this.currentEnemy.enemy.defense;if(i>=1&&(e/=Math.pow(i,.2)+Math.pow(2e4,(-e+i)/i)),e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10),this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null)),this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(let r of this.currentEnemy.enemy.loot){let o=this.itemRepoService.getItemById(r.id);this.inventoryService.addItem(o||r)}if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){let r=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(r,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+e+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name==e.name)return void(e.unique||i.quantity++);this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1}),null==this.currentEnemy&&(this.currentEnemy=this.enemies[0])}trouble(){if(0!=this.enemies.length)return;let e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length),s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1));let a=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)));this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:this.troubleKills/5,loot:[a]}),this.troubleKills++}degradeArmor(e){e.armorStats&&(e.armorStats.durability--,this.inventoryService.updateArmorDescription(e),e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null))}}return n.\u0275fac=function(e){return new(e||n)(_(Mn),_(Be),_(qn),_(X),_(ln),_(Wi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Le=(()=>{return(n=Le||(Le={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",Le;var n})();let at=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.homesList=[{name:"Squatter Tent",type:Le.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Le.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Le.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Le.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Le.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina and a bit of health each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Le.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina and a bit of health each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Le.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina and a bit of health each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Le.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina and a bit of health each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Le.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina and a bit of health each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Le.Palace,description:"A lavish palace. Automatically restores 35 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Le.Castle,description:"An imposing castle. Automatically restores 40 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Le.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina and a bit of health each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Le.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina and a bit of health each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Le.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina and a bit of health each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Le.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina and a bit of health each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),this.home.consequence();for(let c of this.furniturePositionsArray){let u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay}}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on  it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(let i of this.furniturePositionsArray){let r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[]}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(){this.houseBuildingProgress+=1/this.nextHome.daysToBuild,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.nextHomeCostReduction=0,this.setCurrentHome(this.homesList[0]),this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.upgrading=!1,this.houseBuildingProgress=1,this.ownedFurniture=[]}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(e=1){for(e<0&&(e=this.land);e>0&&this.land>0;){if(this.fields.length>=300)return this.extraFields+=e,void(this.land-=e);this.fields.push(this.getCrop()),this.land--,e--}}clearField(e=1){return e<0?(this.land+=this.extraFields,this.extraFields=0,this.land+=this.fields.length,void this.fields.splice(0)):this.extraFields>0&&e<=this.extraFields?(this.extraFields-=e,void(this.land+=e)):(e-=this.extraFields,this.extraFields=0,void(this.fields.length>0&&(e>this.fields.length&&(e=this.fields.length),this.land+=e,this.fields.splice(this.fields.length-e))))}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){let r=this.fields[i];r.yield<r.maxYield&&(r.yield+=e)}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let i=0;for(let r=e;r>=0;r--)if(this.fields[r].daysToHarvest<=0){let o=this.fields[r].yield;this.fields.length+this.extraFields>300&&(o=Math.floor((this.fields.length+this.extraFields)/300)),i+=o,this.inventoryService.addItem(this.itemRepoService.items[this.fields[r].cropName],o),this.fields[r]=this.getCrop()}else this.fields[r].daysToHarvest--;this.averageYield=(364*this.averageYield+i)/365}buyLand(e){let i=this.calculateAffordableLand(this.characterService.characterState.money);if(!i||!e)return 0;let r=0,o=0;return r=(e=e>0?Math.min(e,i):Math.floor(i/2))*(e+1)/2*10,o=this.landPrice*e+r,this.characterService.characterState.money>=o&&(this.characterService.characterState.money-=o,this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){let i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}buyFurniture(e){let i=this.itemRepoService.getFurnitureById(e);i&&this.characterService.characterState.money>=i.value&&(this.characterService.characterState.money-=i.value,this.ownedFurniture.push(i.name),this.furniture[i.slot]=i)}}return n.\u0275fac=function(e){return new(e||n)(_(Be),_(X),_(Mn),_(Ti),_(ln),_(Wi),_(qn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$n=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.logService=c,this.followerService=u,this.impossibleTaskService=h,this.activityLoop=[],this.savedActivityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.pauseOnDeath=!0,this.activities=this.getActivityList(),this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=O.Resting,o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{if(0!=this.activityLoop.length){if(!this.characterService.characterState.dead){if(this.exhaustionDays>0)return void this.exhaustionDays--;if(this.currentIndex<this.activityLoop.length){if(this.currentLoopEntry=this.activityLoop[this.currentIndex],0==this.currentLoopEntry.repeatTimes){let m=0;for(this.currentIndex<this.activityLoop.length-1&&(m=this.currentIndex+1);m!=this.currentIndex&&0==this.activityLoop[m].repeatTimes;)m++,m>=this.activityLoop.length&&(m=0);if(m==this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=m,this.currentLoopEntry=this.activityLoop[this.currentIndex],this.currentTickCount=0}let d=this.getActivityByType(this.currentLoopEntry.activity);d.consequence[d.level](),this.characterService.characterState.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100),this.characterService.characterState.status.mana.value<0&&(this.logService.addLogMessage("You overextend your mana and damage your mana channels. It takes you 10 days to recover.","INJURY","EVENT"),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes&&(this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0))}else this.currentIndex=0;if(this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){let d=this.getActivityByType(this.spiritActivity);d.consequence[d.level](),this.characterService.characterState.status.mana.value-=5}}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}getProperties(){let e=[];for(const i of this.activities)i.unlocked&&e.push(i.activityType);return{autoRestart:this.autoRestart,pauseOnDeath:this.pauseOnDeath,activityLoop:this.activityLoop,unlockedActivities:e,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];let i=e.unlockedActivities||[O.OddJobs,O.Resting];for(const r of this.activities)r.unlocked=i.includes(r.activityType);this.autoRestart=e.autoRestart,this.pauseOnDeath=e.pauseOnDeath,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity||null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship||O.Resting,this.savedActivityLoop=e.savedActivityLoop||[];for(let r=0;r<5;r++)this.upgradeActivities(!0)}meetsRequirements(e){return!!this.meetsRequirementsByLevel(e,e.level,!0)&&(e.unlocked=!0,!0)}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&e.activityType!=this.currentApprenticeship&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const s in o){const a=o[s];let l=0;if(null!=e.requirements[i][a]&&(l=e.requirements[i][a]),this.characterService.characterState.attributes[a].value<=l)return!1}return!0}checkRequirements(e){for(let i of this.activities)!i.unlocked&&this.meetsRequirements(i)&&(i.unlocked=!0,e||this.logService.addLogMessage("A new activity is available. Maybe you should try "+i.name[i.level]+".","STANDARD","EVENT"));for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity).unlocked||this.activityLoop.splice(i,1)}upgradeActivities(e){for(const i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1,!1)&&(!e&&i.unlocked&&this.logService.addLogMessage("Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1],"STANDARD","EVENT"),i.level++,i.unlocked&&i.skipApprenticeshipLevel==i.level&&(this.completedApprenticeships.includes(i.activityType)||this.completedApprenticeships.push(i.activityType)))}reset(){this.openApprenticeships=1,this.currentApprenticeship=O.Resting,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!=G.Swim&&(this.getActivityByType(O.Resting).unlocked=!0,this.getActivityByType(O.OddJobs).unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;throw Error("Could not find activity from type")}checkApprenticeship(e){if(0!=this.openApprenticeships){this.openApprenticeships--,this.currentApprenticeship=e;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity==i.activityType&&this.activityLoop.splice(r,1)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(let r of this.activities)r.activityType==this.activityLoop[e].activity&&(i=!0);i||this.activityLoop.splice(e,1)}this.spiritActivity=null;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(){this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop))}loadActivityLoop(){this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)),this.checkRequirements(!0)}getActivityList(){this.defineActivities();let e=[];return this.impossibleTaskService.activeTaskIndex==G.Swim?(e.push(this.Swim),e):(this.impossibleTaskService.activeTaskIndex==G.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex==G.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex==G.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex==G.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex==G.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex==G.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex==G.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.OddJobs),e.push(this.Resting),e.push(this.Begging),e.push(this.Farming),e.push(this.GatherHerbs),e.push(this.ChopWood),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.Woodworking),e.push(this.Leatherworking),e.push(this.Alchemy),e.push(this.Hunting),e.push(this.Fishing),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.CoreCultivation),e.push(this.InfuseBody),e.push(this.ExtendLife),e.push(this.Recruiting),e.push(this.TrainingFollowers),e.push(this.Burning),e)}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],activityType:O.Swim,description:["Swim down further into the depths."],consequenceDescription:["Reduce Stamina by 20. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[G.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.Swim].complete&&this.logService.addLogMessage("You have acheived the impossible and dived all the way to the bottom of the ocean.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],activityType:O.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Reduce Stamina by 100. If you have the right facilities and materials you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&e>=150?Math.random()<.1&&(this.logService.addLogMessage("Your anvil rings with power. A new chain is forged!","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],activityType:O.AttachChains,description:["Swim deep and attach one of your chains to the island."],consequenceDescription:["Reduce Stamina by 1000. Requires an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.inventoryService.consume("chain")>0?(this.logService.addLogMessage("You attach a chain to the island. and give your chains a tug.","STANDARD","EVENT"),this.impossibleTaskService.taskProgress[G.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull, the island comes loose. You haul it to the surface.","STANDARD","STORY")):(this.logService.addLogMessage("You fumble around in the depths without a chain until a shark comes by and takes a bite.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],activityType:O.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Reduce Stamina by 100. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=10;for(let r=0;r<200;r++)e=this.inventoryService.consume("ore");for(let r of this.followerService.followers)"builder"==r.job&&(i+=r.power);if(i=Math.floor(i/10),e>=10){for(let r=0;r<i;r++)this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick);this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingBrick.name,"STANDARD","CRAFTING")}else this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],activityType:O.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Reduce Stamina by 1000. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(let i=0;i<200;i++)e=this.inventoryService.consume("wood");e>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.addLogMessage("You made "+this.itemRepoService.items.scaffolding.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],activityType:O.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Reduce Stamina by 100. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=100;for(let r of this.followerService.followers)"builder"==r.job&&(i+=r.power);if(i=Math.floor(i/100),e=this.inventoryService.consume("ore"),this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&e>=10){for(let r=0;r<i;r++)this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar);this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingMortar.name,"STANDARD","CRAFTING")}else this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],activityType:O.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Reduce Stamina by 1000. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(let r of this.followerService.followers)"builder"==r.job&&e++;if(e<10)return this.logService.addLogMessage("You fumble without the proper help and hurt yourself.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max);let i=0;if(i=this.inventoryService.consume("scaffolding"),i<1)return this.logService.addLogMessage("You try building without a scaffolding, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<100;r++)i=this.inventoryService.consume("mortar");if(i<1)return this.logService.addLogMessage("You try building without enough mortar, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<1e3;r++)i=this.inventoryService.consume("brick");if(i<1)return this.logService.addLogMessage("You try building without enough bricks, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);this.impossibleTaskService.taskProgress[G.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.BuildTower].complete&&this.logService.addLogMessage("You have acheived the impossible and built a tower beyond the heavens.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],activityType:O.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Reduce Stamina and Mana by 100. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.addLogMessage("Research breakthrough! You produce a tome!.","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],activityType:O.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Reduce Stamina by 100. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0;e=this.inventoryService.consume("windTome"),e>0?(this.impossibleTaskService.taskProgress[G.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.TameWinds].complete&&this.logService.addLogMessage("You acheived the impossible and tamed a hurricane.","STANDARD","STORY")):(this.logService.addLogMessage("You try to tame the winds, but without the proper preparation you are blown off the top of the tower.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],activityType:O.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[G.LearnToFly].progress++,this.impossibleTaskService.taskProgress[G.LearnToFly].progress<2222?(this.logService.addLogMessage("Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[G.LearnToFly].progress<4444?(this.logService.addLogMessage("You feel like you might have flown a litte bit, somewhere near the time you hit the ground.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[G.LearnToFly].progress<6666?(this.logService.addLogMessage("You definitely did better that time. You did some great flying but sticking the landing is still tricky.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=100):(this.logService.addLogMessage("Almost there! Perfect landings are so hard.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.LearnToFly].complete&&this.logService.addLogMessage("You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],activityType:O.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let e=0;for(let i=0;i<1e3;i++)e=this.inventoryService.consume("food");if(e<1)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[G.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[G.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more food.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],activityType:O.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.characterService.characterState.money-=1e9,this.impossibleTaskService.taskProgress[G.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[G.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more money.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],activityType:O.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.addLogMessage("The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[G.BefriendDragon].progress<3500?this.logService.addLogMessage("The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.","STANDARD","EVENT"):(this.impossibleTaskService.taskProgress[G.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.BefriendDragon].complete&&this.logService.addLogMessage("You did the impossible and made friends with a dragon!","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],activityType:O.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Le.Capital){this.logService.addLogMessage("You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.","INJURY","EVENT");for(let i=0;i<3;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);return}let e=0;for(let i=0;i<1e4;i++)e=this.inventoryService.consume("food");return e<1?(this.logService.addLogMessage("You don't have enough food to feed your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):this.characterService.characterState.money<1e10?(this.logService.addLogMessage("You don't have enough money to pay your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):(this.characterService.characterState.money-=1e10,void this.inventoryService.addItem(this.itemRepoService.items.army))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],activityType:O.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let e=0;for(let i=0;i<this.impossibleTaskService.taskProgress[G.ConquerTheWorld].progress+1;i++)e=this.inventoryService.consume("army");if(e<1)for(let i=0;i<5;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);else this.impossibleTaskService.taskProgress[G.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.ConquerTheWorld].complete&&this.logService.addLogMessage("You did the impossible and conquered the world! Under your wise rule all human suffering ceases.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],activityType:O.MoveStars,description:["Extend your vast magical powers into the heavens and force the starts into alignment."],consequenceDescription:["Costs 1000 stamina and 1000 magic."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[G.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[G.RearrangeTheStars].complete&&this.logService.addLogMessage("You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches.","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],activityType:O.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 stamina. Increases a random attribute and provides a little money."],consequence:[()=>{const i=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];this.characterService.characterState.increaseAttribute(i,.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.getActivityByType(O.OddJobs).lastIncome=3,this.oddJobDays++}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity"],activityType:O.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities."],consequenceDescription:["Restores 50 stamina and 2 health.","Restores 100 stamina, 10 health, and 1 mana (if unlocked).","Restores 200 stamina, 20 health, and 10 mana (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage()}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4}],unlocked:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:O.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 stamina. Increases charisma and provides a little money.","Uses 5 stamina. Increases charisma and provides some money.","Uses 5 stamina. Increases charisma and provides money.","Uses 5 stamina. Increases charisma, provides money, and makes you wonder what any of this means for your immortal progression."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;let e=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;let e=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;let e=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;let e=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:O.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 stamina. Increases strength and toughness and provides a little money.","Uses 25 stamina. Increases strength, toughness, and money.","Uses 25 stamina. Build your physical power, master your craft, and create weapons.","Uses 50 stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(O.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.increaseAttribute("metalLore",.1))},()=>{this.checkApprenticeship(O.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.2),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.05;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.3),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.2;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.2),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.5),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/5+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillMold)}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],activityType:O.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"==this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003)}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:O.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(O.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.05),this.characterService.characterState.increaseAttribute("waterLore",.1))},()=>{this.checkApprenticeship(O.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("waterLore",.2),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.15),this.characterService.characterState.increaseAttribute("waterLore",.3),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r+1,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i+1,!0))}}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],activityType:O.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01)}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],activityType:O.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 stamina. Increases strength and intelligence and provides a little money.","Uses 20 stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(O.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)},()=>{this.checkApprenticeship(O.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.02&&(this.characterService.characterState.increaseAttribute("woodLore",.25),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.05&&(this.characterService.characterState.increaseAttribute("woodLore",.4),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillBox)}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],activityType:O.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 stamina. Increases speed and toughness and provides a little money.","Uses 20 stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(O.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("animalHandling",.1)},()=>{this.checkApprenticeship(O.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.2),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.3),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.5),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillPouch)}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],activityType:O.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("earthLore",.1))}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],activityType:O.Mining,description:["Dig in the ground for usable minerals."],consequenceDescription:["Uses 20 stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),Math.random()<.5&&(this.characterService.characterState.increaseAttribute("earthLore",.1),this.inventoryService.addItem(this.inventoryService.getOre()))}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],activityType:O.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){let e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],activityType:O.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"==this.homeService.furniture.workbench.id&&(e+=.4),Math.random()<e&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],activityType:O.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.characterService.characterState.increaseAttribute("waterLore",.05),this.inventoryService.addItem(this.itemRepoService.items.carp))}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],activityType:O.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;let e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0)}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],activityType:O.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],activityType:O.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],activityType:O.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Uses 200 stamina. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked?Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at cultivating your core and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],activityType:O.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["A magical technique that uses 10 mana and 200 stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10?(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to infuse your body. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extend Life"],activityType:O.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["A magical technique that uses 20 mana and 400 stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20?(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to extend your life. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruit Followers"],activityType:O.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Costs 100 stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.money-=1e6,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at your attempt to recruit followers. An angry mob chases you down and gives you a beating for your arrogance.","INJURY","EVENT"))}],requirements:[{charisma:1e9}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],activityType:O.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Costs 1000 stamina. Gives you a small chance for each follower of increasing their power. You probably should not try this if you have no followers."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.followerService.followersUnlocked)for(let e of this.followerService.followers)e.power>100&&(e.power=100),Math.random()<(1-e.power/100)/100&&(e.power++,e.cost=100*e.power,this.logService.addLogMessage(e.name+" gains additional power as a "+e.job,"STANDARD","EVENT"))}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0}}}return n.\u0275fac=function(e){return new(e||n)(_(Be),_(X),_(at),_(Wi),_(ln),_(qn),_(Ti),_(Mn),_(Dr),_(jo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Be=(()=>{class n{constructor(e,i,r,o,s){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",this.characterState=new $N(r,s),i.tickSubject.subscribe(()=>{this.mainLoopService.totalTicks%3650==0&&this.characterState.increaseBaseLifespan(1,70),this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let a="";this.forceRebirth?a="You release your soul from your body at the age of "+this.formatAge()+".":this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal?a="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".":this.characterState.status.nourishment.value<=0&&!this.characterState.immortal?this.characterState.attributes.spirituality.value>0?(this.characterState.status.health.value-=20,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(a="You starve to death at the age of "+this.formatAge()+".")):a="You starve to death at the age of "+this.formatAge()+".":this.characterState.status.health.value<=0&&!this.characterState.immortal&&(a="You succumb to your wounds and die at the age of "+this.formatAge()+"."),""!=a&&(this.characterState.immortal||(this.logService.addLogMessage(a,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT")),this.characterState.dead=!0,this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{var l;this.characterState.dead=!1,null===(l=this.deathSubscriber)||void 0===l||l.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.addLogMessage("You are born anew, still an immortal but with the fresh vigor of youth.","STANDARD","EVENT"):(this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT")))}),i.longTickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.recalculateDerivedStats(),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.immortal)return void(this.lifespanTooltip="You are immortal.");if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":Math.floor(e/365)+" years"}resetAptitudes(){const e=Object.keys(this.characterState.attributes);for(const i in e){const r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1+r.aptitude*(1-this.characterState.aptitudeGainDivider/100)/10,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get($n)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=10||(this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain additional aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider-=10,this.resetAptitudes())}soulCoreRank(){let e=0,i=this.characterState.condenseSoulCoreOriginalCost;for(;i<this.characterState.condenseSoulCoreCost;)i*=10,e++;return e}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){let e=0,i=this.characterState.reinforceMeridiansOriginalCost;for(;i<this.characterState.reinforceMeridiansCost;)i*=10,e++;return e}upgradeBloodline(){this.characterState.bloodlineRank>=5||(this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=1e3,this.characterState.bloodlineRank++,this.resetAptitudes())}}return n.\u0275fac=function(e){return new(e||n)(_(Re),_(ln),_(Mn),_(Wi),_(wn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.autoequipBestEnabled=!0,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellItems=[],this.autoUseUnlocked=!1,this.autoUseItems=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),r.longTickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.autoequipBestWeapon&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoequipBestEnabled&&this.autoequipArmor())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellItems:this.autoSellItems,autoUseUnlocked:this.autoUseUnlocked,autoUseItems:this.autoUseItems,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled}}setProperties(e){this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellItems=e.autoSellItems,this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseItems=e.autoUseItems,this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.autoequipBestEnabled=e.autoequipBestEnabled||!0,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){let d=this.consume("spiritGem");d>0&&(e+=d)}let r=e%Vo.length,o=Math.floor(e/Vo.length),s=Vo[r],a="";if(o>0){let d=Math.floor(o/sa.length);d>0?(d>Uf.length?(d=Uf.length,o=sa.length-1):o%=sa.length,a=" of "+Uf[d-1]+" "+sa[o]):a=" of "+sa[o-1]}let l=i,c="rightHand";"wood"===i&&(c="leftHand",l="wooden");let u=s+" "+l+" "+iw[Math.floor(Math.random()*iw.length)]+a;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+u+"!","STANDARD","CRAFTING");let h=10*e+Math.floor(Math.random()*e*5);return{id:"weapon",name:u,type:"equipment",slot:c,value:e,weaponStats:{baseDamage:e,material:i,durability:h},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+e+"<br/>Durability: "+h}}updateWeaponDescription(e){var i,r,o;e.description="A unique weapon made of "+(null===(i=e.weaponStats)||void 0===i?void 0:i.material)+".<br/>Base Damage: "+(null===(r=e.weaponStats)||void 0===r?void 0:r.baseDamage)+"<br/>Durability: "+(null===(o=e.weaponStats)||void 0===o?void 0:o.durability)}updateArmorDescription(e){var i,r,o;e.description="A unique piece of armor made of "+(null===(i=e.armorStats)||void 0===i?void 0:i.material)+"<br/>Defense: "+(null===(r=e.armorStats)||void 0===r?void 0:r.defense)+"<br/>Durability: "+(null===(o=e.armorStats)||void 0===o?void 0:o.durability)}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){let a=this.consume("spiritGem");if(a>0&&(e+=a),Math.random()<.1)return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];let s="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:s,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",s=10*e,a=i+" Pill  +"+e;this.checkFor("pillBox")>0&&this.checkFor("pillMold")>0&&this.checkFor("pillPouch")>0&&this.characterService.characterState.empowermentFactor<1e3&&(this.consume("pillBox"),this.consume("pillMold"),this.consume("pillPouch"),i="Empowerment",r="A pill that permanently empowers the increase of your attributes based on your aptitudes.",o="Use to permanently empower the increase of your attributes based on your aptitudes.",s=1,a="Empowerment Pill"),this.logService.addLogMessage("Alchemy Success! Created a "+a+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:a,id:"pill",type:"pill",value:s,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:i,power:e})}generateHerb(){let r,o,e=0,i=this.characterService.characterState.attributes.woodLore.value;if(e=i<1e4?Math.floor(Math.sqrt(i)):100+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value-1e4)),e>=Ho.length*dc.length)r=Ho[Ho.length-1],o=dc[dc.length-1];else{let a=e%Ho.length,l=Math.floor(e/Ho.length);r=Ho[a],o=dc[l]}let s=e+1;if(this.addItem({id:"herb",name:o+" "+r,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbs)for(let a=0;a<this.itemStacks.length;a++){let l=this.itemStacks[a];l&&"herb"==l.item.id&&l.item.value<s&&this.sell(l,l.quantity)}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"monster gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r){let o=e%Vo.length,s=Math.floor(e/Vo.length),a=Vo[o],l="";if(s>0){let m=Math.floor(s/aa.length);m>0?(m>qf.length?(m=qf.length,s=aa.length-1):s%=aa.length,l=" of "+qf[m-1]+" "+aa[s]):l=" of "+aa[s-1]}let u=VN;"legs"==r?u=HN:"head"==r?u=jN:"feet"==r&&(u=UN);let h=a+" "+i+" "+u[Math.floor(Math.random()*u.length)]+l;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+h+"!","STANDARD","CRAFTING");let d=5*e+Math.floor(Math.random()*e*5);return{id:"armor",name:h,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:d},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+e+"<br/>Durability: "+d}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperOre;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];"ore"==o.type&&o.value>i.value&&o.value<=e&&(i=o)}if(this.autoSellOldOre)for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o&&"ore"==o.item.type&&o.item.value<i.value&&this.sell(o,o.quantity)}return i}getBar(e){let i=10*e,r=this.itemRepoService.items.copperBar;for(let o in this.itemRepoService.items){let s=this.itemRepoService.items[o];if("metal"==s.type&&s.value==i){r=s;break}}if(this.autoSellOldOre)for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];s&&"metal"==s.item.type&&s.item.value<r.value&&this.sell(s,s.quantity)}return r}getWood(){let e;if(e=this.characterService.characterState.attributes.woodLore.value>5e8&&this.characterService.characterState.attributes.spirituality.value>5e7?this.itemRepoService.items.divinewoodLog:this.characterService.characterState.attributes.woodLore.value>1e7&&this.characterService.characterState.attributes.spirituality.value>1e6?this.itemRepoService.items.devilwoodLog:this.characterService.characterState.attributes.woodLore.value>2e5&&this.characterService.characterState.attributes.spirituality.value>2e4?this.itemRepoService.items.dragonwoodLog:this.characterService.characterState.attributes.woodLore.value>1e4&&this.characterService.characterState.attributes.spirituality.value>1e3?this.itemRepoService.items.titanwoodLog:this.characterService.characterState.attributes.woodLore.value>1e3&&this.characterService.characterState.attributes.spirituality.value>100?this.itemRepoService.items.diamondwoodLog:this.characterService.characterState.attributes.woodLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.woodLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.woodLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.woodLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.woodLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.woodLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.woodLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.woodLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog,this.autoSellOldWood)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];r&&"wood"==r.item.type&&r.item.value<e.value&&this.sell(r,r.quantity)}return e}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.maxItems=10;for(let e=0;e<this.maxItems;e++)this.itemStacks.push(null);this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),this.grandmotherGift&&this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!=r&&"food"==r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItem(e,i=1){i<1&&(i=1);for(let o of this.autoBalanceItems)if(o.name==e.name){if(o.useNumber<1){if(o.sellNumber<1)break;return this.characterService.characterState.money+=e.value*i,-1}if(o.sellNumber<1)return this.useItem(e,i*o.useNumber),-1;let s=i%(o.useNumber+o.sellNumber);for(i-=s;s>0;){if(o.index<o.useNumber){if(s+o.index<=o.useNumber){this.useItem(e,s),o.index+=s;break}this.useItem(e,o.useNumber-o.index),s-=o.useNumber-o.index,o.index=o.useNumber}if(o.index<o.useNumber+o.sellNumber){if(s+o.index<o.useNumber+o.sellNumber){this.characterService.characterState.money+=e.value*s,o.index+=s;break}this.characterService.characterState.money+=e.value*(o.useNumber+o.sellNumber-o.index),s-=o.useNumber+o.sellNumber-o.index,o.index=0}o.index>=o.useNumber+o.sellNumber&&(o.index-=o.useNumber+o.sellNumber)}if(i&&(this.useItem(e,(i/=o.useNumber+o.sellNumber)*o.useNumber),this.characterService.characterState.money+=e.value*i,i=0),i<1)return-1;break}if(this.autoPotionUnlocked&&"potion"==e.type)return this.useItem(e,i),-1;if(this.autoPillUnlocked&&"pill"==e.type)return this.useItem(e,i),-1;if(this.autoUseItems.includes(e.name))return this.useItem(e,i),-1;if(this.autoSellOldGemsEnabled&&"spiritGem"==e.type)for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&"spiritGem"==s.item.type&&s.item.value<e.value&&(this.characterService.characterState.money+=s.item.value*s.quantity,this.itemStacks[o]=null)}if(this.autoSellItems.includes(e.name))return this.characterService.characterState.money+=e.value*i,-1;let r=-1;if("equipment"!=e.type)for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];if(null!=s&&s.item.name==e.name){if(s.quantity+i<=this.maxStackSize)return s.quantity+=i,-1==r&&(r=o),r;-1==r&&(r=o),i-=this.maxStackSize-s.quantity,s.quantity=this.maxStackSize}}for(let o=0;o<this.itemStacks.length;o++)if(null==this.itemStacks[o]){if(-1==r&&(r=o),i<=this.maxStackSize)return this.itemStacks[o]={item:e,quantity:i},r;this.itemStacks[o]={item:e,quantity:this.maxStackSize},i-=this.maxStackSize}return this.autoSellUnlocked?(this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you sold it.`,"STANDARD","EVENT"),this.characterService.characterState.money+=e.value):this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems+=i,r}sell(e,i){this.lifetimeSoldItems+=i,"spiritGem"==e.item.type&&(this.lifetimeGemsSold+=i);let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e==this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(let i of this.itemStacks)null!=i&&i.item.name==e.name&&this.sell(i,i.quantity)}autoSell(e){!this.autoSellUnlocked||(this.autoSellItems.includes(e.name)||this.autoSellItems.push(e.name),this.sellAll(e))}unAutoSell(e){let i=this.autoSellItems.indexOf(e);this.autoSellItems.splice(i,1)}useItemStack(e,i=1){if(i<1&&(i=1),i>e.quantity&&(i=e.quantity),this.useItem(e.item,i),e.item.useConsumes&&(e.quantity-=i,e.quantity<=0)){let r=this.itemStacks.indexOf(e);this.itemStacks[r]=null,e==this.selectedItem&&(this.selectedItem=null)}}useItem(e,i=1){i<1&&(i=1),this.lifetimeUsedItems++,"potion"==e.type&&function KN(n){return"attribute"in n}(e)?this.usePotion(e,i):"pill"==e.type&&function JN(n){return"effect"in n}(e)?this.usePill(e,i):e.use&&(e.use(i),"food"==e.type&&(this.fed=!0))}autoUse(e){var i;if(this.autoUseUnlocked&&("potion"==e.type||"pill"==e.type||e.use)&&(this.autoUseItems.includes(e.name)||this.autoUseItems.push(e.name),e.useConsumes))for(let r=0;r<this.itemStacks.length;r++)if(null!=this.itemStacks[r]&&(null===(i=this.itemStacks[r])||void 0===i?void 0:i.item.name)==e.name&&e.useConsumes)for(;null!=this.itemStacks[r];){let o=this.itemStacks[r];null!=o&&this.useItemStack(o,o.quantity)}}unAutoUse(e){let i=this.autoUseItems.indexOf(e);this.autoUseItems.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name==e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!Mr(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const s=this.characterService.characterState.equipment[o.slot];s&&this.addItem(s),this.characterService.characterState.equipment[o.slot]=o;let a=this.itemStacks.indexOf(e);this.itemStacks[a]=null}equipBest(e){var i,r,o,s,a,l,c,u;let h=0,d=!0;"leftHand"==e||"rightHand"==e?h=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(d=!1,h=(null===(s=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===s?void 0:s.defense)||0);for(let m=0;m<this.itemStacks.length;m++){let v=this.itemStacks[m];if(null!=v){let S=v.item;if(Mr(S)&&S.slot==e){let C=0;d&&S.weaponStats&&(null===(a=S.weaponStats)||void 0===a?void 0:a.durability)>0?C=null===(l=S.weaponStats)||void 0===l?void 0:l.baseDamage:!d&&S.armorStats&&(null===(c=S.armorStats)||void 0===c?void 0:c.durability)>0&&(C=null===(u=S.armorStats)||void 0===u?void 0:u.defense),C>h&&this.equip(v)}}}}consume(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&s.item.type==e&&i<s.item.value&&(i=s.item.value,r=o)}if(r>=0){let o=this.itemStacks[r];null!=o&&(o.quantity--,o.quantity<=0&&(this.itemStacks[r]=null))}return i}checkFor(e){let i=-1;for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];null!=o&&o.item.type==e&&i<o.item.value&&(i=o.item.value)}return i}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i,this.characterService.characterState.attributes[e.attribute].value+=e.increase*i}usePill(e,i=1){i<1&&(i=1),this.lifetimePillsUsed+=i,"Longevity"==e.effect?(this.characterService.characterState.alchemyLifespan+=e.power*i,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):"Empowerment"==e.effect&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(const i of this.itemStacks)null==i&&e++;return e}mergeEquipment(e,i,r){var o,s;if(e.slot!=i.slot)return;let a=0;a=this.addItem("rightHand"==e.slot||"leftHand"==e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(e.value+i.value,(null===(s=e.armorStats)||void 0===s?void 0:s.material)+"",e.slot)),a!=r&&null==this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[a],this.itemStacks[a]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i,r,o,s;let a=-1,l=null,c=null,u=-1;for(let h=0;h<this.itemStacks.length;h++){let d=null===(i=this.itemStacks[h])||void 0===i?void 0:i.item;d&&Mr(d)&&d.slot==e&&(-1==a?(a=h,u=h,l=d):(c=d,l&&((this.selectedItem==this.itemStacks[a]||this.selectedItem==this.itemStacks[h])&&(this.selectedItem=null),this.itemStacks[a]=null,this.itemStacks[h]=null,this.mergeEquipment(l,c,a),d=null===(r=this.itemStacks[a])||void 0===r?void 0:r.item,d?Mr(d)&&d.slot==e&&(l=d):a=-1)))}if(null!=l&&this.autoequipBestWeapon&&this.autoequipBestArmor){if(c=this.characterService.characterState.equipment[e],null==c)return;l="rightHand"==e||"leftHand"==e?this.generateWeapon(c.value+l.value,(null===(o=c.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(c.value+l.value,(null===(s=c.armorStats)||void 0===s?void 0:s.material)+"",e),this.characterService.characterState.equipment[e]=l,this.itemStacks[u]=null}}mergeSpiritGem(e){if(!(e.quantity<10)&&(e.quantity-=10,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0==e.quantity))for(let i=0;i<this.itemStacks.length;i++)if(this.itemStacks[i]==e)return void(this.itemStacks[i]=null)}mergeAnySpiritGem(){for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e];if(null!=i&&"spiritGem"===i.item.type&&i.quantity>=10)return void this.mergeSpiritGem(i)}}}return n.\u0275fac=function(e){return new(e||n)(_(Mn),_(Be),_(ln),_(Wi),_(qn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mr(n){return"slot"in n}function ow(n){return Array.isArray(n)?n:[n]}function lt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pc(n){return n instanceof Ze?n.nativeElement:n}const eB=["addListener","removeListener"],tB=["addEventListener","removeEventListener"],nB=["on","off"];function Wf(n,t,e,i){if(_e(e)&&(i=e,e=void 0),i)return Wf(n,t,e).pipe(yf(i));const[r,o]=function oB(n){return _e(n.addEventListener)&&_e(n.removeEventListener)}(n)?tB.map(s=>a=>n[s](t,a,e)):function iB(n){return _e(n.addListener)&&_e(n.removeListener)}(n)?eB.map(sw(n,t)):function rB(n){return _e(n.on)&&_e(n.off)}(n)?nB.map(sw(n,t)):[];if(!r&&cu(n))return ct(s=>Wf(s,t,e))(Kt(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function sw(n,t){return e=>i=>n[e](t,i)}class sB extends yt{constructor(t,e){super()}schedule(t,e=0){return this}}const mc={setInterval(n,t,...e){const{delegate:i}=mc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=mc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Yf extends sB{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return mc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;mc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Ca(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const la={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=la;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new yt(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=la;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=la;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},aw={now:()=>(aw.delegate||Date).now(),delegate:void 0};class ca{constructor(t,e=ca.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}ca.now=aw.now;class Kf extends ca{constructor(t,e=ca.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class lB extends Kf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aB extends Yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=la.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(la.cancelAnimationFrame(e),t._scheduled=void 0)}});let Jf,uB=1;const gc={};function lw(n){return n in gc&&(delete gc[n],!0)}const hB={setImmediate(n){const t=uB++;return gc[t]=!0,Jf||(Jf=Promise.resolve()),Jf.then(()=>lw(t)&&n()),t},clearImmediate(n){lw(n)}},{setImmediate:dB,clearImmediate:fB}=hB,vc={setImmediate(...n){const{delegate:t}=vc;return((null==t?void 0:t.setImmediate)||dB)(...n)},clearImmediate(n){const{delegate:t}=vc;return((null==t?void 0:t.clearImmediate)||fB)(n)},delegate:void 0},cw=(new class mB extends Kf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class pB extends Yf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=vc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(vc.clearImmediate(e),t._scheduled=void 0)}}),new Kf(Yf)),vB=cw;function uw(n,t=cw){return function yB(n){return nt((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ze(e,c=>{i=!0,r=c,o||Kt(n(c)).subscribe(o=ze(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function SB(n=0,t,e=vB){let i=-1;return null!=t&&(Om(t)?e=t:i=t),new Ue(r=>{let o=function _B(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let Zf;try{Zf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Zf=!1}let ua,kr,Qf,xi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function RR(n){return n===A0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Zf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(_(Ld))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xf(n){return function bB(){if(null==ua&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ua=!0}))}finally{ua=ua||!1}return ua}()?n:!!n.capture}function wB(){if(null==kr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kr=!1,kr;if("scrollBehavior"in document.documentElement.style)kr=!0;else{const n=Element.prototype.scrollTo;kr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kr}function ep(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Er(n){return n.composedPath?n.composedPath()[0]:n.target}function tp(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const MB=new j("cdk-dir-doc",{providedIn:"root",factory:function kB(){return Qa(he)}}),EB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let np=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ie,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function TB(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?EB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(_(MB,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ha=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),AB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ke,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(uw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(sn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=pc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(_(De),_(xi),_(he,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ke,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(uw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(_(xi),_(De),_(he,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[ha,fw],ha,fw]}),n})();class ip{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class rp extends ip{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class mw extends ip{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class PB extends ip{constructor(t){super(),this.element=t instanceof Ze?t.nativeElement:t}}class op{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof rp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof PB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class OB extends op{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Re.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gw=(()=>{class n extends op{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ie,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(qi),b(_n),b(he))},n.\u0275dir=$({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ge]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();function yw(n){return nt((t,e)=>{Kt(n).subscribe(ze(e,()=>e.complete(),nu)),!e.closed&&t.subscribe(e)})}const _w=wB();class RB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lt(-this._previousScrollPosition.left),t.style.top=lt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_w&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_w&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class FB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sw{enable(){}disable(){}attach(){}}function sp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function bw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class LB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();sp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let NB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Sw,this.close=s=>new FB(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new RB(this._viewportRuler,this._document),this.reposition=s=>new LB(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(_(AB),_(dw),_(De),_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ww{constructor(t){if(this.scrollStrategy=new Sw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class BB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class VB{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ke,this._attachments=new ke,this._detachments=new ke,this._locationChanges=yt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ke,this._outsidePointerEvents=new ke,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=lt(this._config.width),t.height=lt(this._config.height),t.minWidth=lt(this._config.minWidth),t.minHeight=lt(this._config.minHeight),t.maxWidth=lt(this._config.maxWidth),t.maxHeight=lt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=ow(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yw(Bm(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let ap=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||tp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),tp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(_(he),_(xi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw="cdk-overlay-connected-position-bounding-box",HB=/([A-Za-z%]+)$/;class jB{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ke,this._resizeSubscription=yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Cw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Mw(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-a,m=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),S=this._subtractOverflows(o.height,d,m),C=v*S;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Dw(this._overlayRef.getConfig().minHeight),a=Dw(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Mw(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,h=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new BB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,h,d;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*m,s=t.y-m,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)d=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,u=i.right-t.x;else{const m=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=2*m,h=t.x-m,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-v/2)}return{top:s,left:h,bottom:a,right:d,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=lt(i.height),r.top=lt(i.top),r.bottom=lt(i.bottom),r.width=lt(i.width),r.left=lt(i.left),r.right=lt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=lt(o)),s&&(r.maxWidth=lt(s))}this._lastBoundingBoxSize=i,Tr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Tr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Tr(i,this._getExactOverlayY(e,t,u)),Tr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=lt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=lt(s.maxWidth):o&&(i.maxWidth="")),Tr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=lt(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=lt(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bw(t,i),isOriginOutsideView:sp(t,i),isOverlayClipped:bw(e,i),isOverlayOutsideView:sp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ow(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ze)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Tr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Dw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(HB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Mw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const kw="cdk-global-overlay-wrapper";class UB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(kw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(kw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new UB}flexibleConnectedTo(e){return new jB(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(_(dw),_(he),_(xi),_(ap))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ew=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$B=(()=>{class n extends Ew{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(_(he),_(De,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zB=(()=>{class n extends Ew{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Er(o)},this._clickListener=o=>{const s=Er(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(_(he),_(xi),_(De,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GB=0,_c=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new ww(e);return s.direction=s.direction||this._directionality.value,new VB(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+GB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Hs)),new OB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(_(NB),_(ap),_(qi),_(qB),_($B),_(Re),_(De),_(he),_(np),_(qs),_(zB))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const KB={provide:new j("cdk-connected-overlay-scroll-strategy"),deps:[_c],useFactory:function YB(n){return()=>n.scrollStrategies.reposition()}};let JB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:[_c,KB],imports:[[ha,vw,pw],pw]}),n})();function a2(n,t){return n===t}let Iw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function h2(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function u2(n){try{return n.frameElement}catch(t){return null}}(function _2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Ow(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Ow(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function v2(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function y2(n){return!function f2(n){return function m2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function d2(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function p2(n){return function g2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Pw(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(_(xi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Ow(n){if(!Pw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class S2{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zn(1)).subscribe(t)}}let b2=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new S2(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(_(Iw),_(De),_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D2=new j("cdk-input-modality-detector-options"),M2={ignoreKeys:[18,17,224,91,16]},qo=Xf({passive:!0,capture:!0});let k2=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Cn(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Er(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function w2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(s)?"keyboard":"mouse"),this._mostRecentTarget=Er(s))},this._onTouchstart=s=>{!function C2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(s)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Er(s)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},M2),o),this.modalityDetected=this._modality.pipe(function o2(n){return sn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function s2(n,t=Ii){return n=null!=n?n:a2,nt((e,i)=>{let r,o=!0;e.subscribe(ze(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,qo),r.addEventListener("mousedown",this._onMousedown,qo),r.addEventListener("touchstart",this._onTouchstart,qo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,qo),document.removeEventListener("mousedown",this._onMousedown,qo),document.removeEventListener("touchstart",this._onTouchstart,qo))}}return n.\u0275fac=function(e){return new(e||n)(_(xi),_(De),_(he),_(D2,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const T2=new j("cdk-focus-monitor-default-options"),Sc=Xf({passive:!0,capture:!0});let x2=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ke,this._rootNodeFocusAndBlurListener=a=>{const l=Er(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=pc(e);if(!this._platform.isBrowser||1!==r.nodeType)return Y(null);const o=function DB(n){if(function CB(){if(null==Qf){const n="undefined"!=typeof document?document.head:null;Qf=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Qf}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ke,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=pc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=pc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Er(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Sc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Sc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yw(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Sc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Sc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(_(De),_(xi),_(k2),_(he,8),_(T2,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fw="cdk-high-contrast-black-on-white",Lw="cdk-high-contrast-white-on-black",lp="cdk-high-contrast-active";let A2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(lp),e.remove(Fw),e.remove(Lw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(lp),e.add(Fw)):2===i&&(e.add(lp),e.add(Lw))}}}return n.\u0275fac=function(e){return new(e||n)(_(xi),_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const P2=new j("mat-sanity-checks",{providedIn:"root",factory:function I2(){return!0}});let bc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!tp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(_(A2),_(P2,8),_(he))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[ha],ha]}),n})();function O2(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}class jw{}const Ai="*";function H2(n,t){return{type:7,name:n,definitions:t,options:{}}}function Uw(n,t=null){return{type:4,styles:t,timings:n}}function qw(n,t=null){return{type:3,steps:n,options:t}}function $w(n,t=null){return{type:2,steps:n,options:t}}function $o(n){return{type:6,styles:n,offset:null}}function zw(n,t,e){return{type:0,name:n,styles:t,options:e}}function Gw(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ww(n=null){return{type:9,options:n}}function Yw(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Kw(n){Promise.resolve(null).then(n)}class fa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Kw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Jw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Kw(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const fe=!1;function Zw(n){return new N(3e3,fe)}function SV(){return"undefined"!=typeof window&&void 0!==window.document}function hp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Yi(n){switch(n.length){case 0:return new fa;case 1:return n[0];default:return new Jw(n)}}function Xw(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,d=h==l,m=d&&c||{};Object.keys(u).forEach(v=>{let S=v,C=u[v];if("offset"!==v)switch(S=t.normalizePropertyName(S,s),C){case"!":C=r[v];break;case Ai:C=o[v];break;default:C=t.normalizeStyleValue(v,S,C,s)}m[S]=C}),d||a.push(m),c=m,l=h}),s.length)throw function cV(n){return new N(3502,fe)}();return a}function dp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&fp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&fp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&fp(e,"destroy",n)))}}function fp(n,t,e){const i=e.totalTime,o=pp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function pp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function cn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Qw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let mp=(n,t)=>!1,eC=(n,t,e)=>[],tC=null;function gp(n){const t=n.parentNode||n.host;return t===tC?null:t}(hp()||"undefined"!=typeof Element)&&(SV()?(tC=(()=>document.documentElement)(),mp=(n,t)=>{for(;t;){if(t===n)return!0;t=gp(t)}return!1}):mp=(n,t)=>n.contains(t),eC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let xr=null,nC=!1;function iC(n){xr||(xr=function wV(){return"undefined"!=typeof document?document.body:null}()||{},nC=!!xr.style&&"WebkitAppearance"in xr.style);let t=!0;return xr.style&&!function bV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xr.style,!t&&nC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in xr.style)),t}const rC=mp,oC=eC;let sC=(()=>{class n{validateStyleProperty(e){return iC(e)}matchesElement(e,i){return!1}containsElement(e,i){return rC(e,i)}getParentElement(e){return gp(e)}query(e,i,r){return oC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new fa(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),vp=(()=>{class n{}return n.NOOP=new sC,n})();const yp="ng-enter",Cc="ng-leave",Dc="ng-trigger",Mc=".ng-trigger",lC="ng-animating",_p=".ng-animating";function Ar(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sp(parseFloat(t[1]),t[2])}function Sp(n,t){return"s"===t?1e3*n:n}function kc(n,t,e){return n.hasOwnProperty("duration")?n:function MV(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Zw()),{duration:0,delay:0,easing:""};r=Sp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=Sp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function j2(){return new N(3100,fe)}()),a=!0),o<0&&(t.push(function U2(){return new N(3101,fe)}()),a=!0),a&&t.splice(l,0,Zw())}return{duration:r,delay:o,easing:s}}(n,t,e)}function zo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Ki(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else zo(n,e);return e}function uC(n,t,e){return e?t+":"+e+";":""}function hC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uC(0,TV(e),n.style[e]));n.setAttribute("style",t)}function li(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=wp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),hp()&&hC(n))}function Ir(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=wp(e);n.style[i]=""}),hp()&&hC(n))}function pa(n){return Array.isArray(n)?1==n.length?n[0]:$w(n):n}const bp=new RegExp("{{\\s*(.+?)\\s*}}","g");function dC(n){let t=[];if("string"==typeof n){let e;for(;e=bp.exec(n);)t.push(e[1]);bp.lastIndex=0}return t}function Ec(n,t,e){const i=n.toString(),r=i.replace(bp,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function $2(n){return new N(3003,fe)}()),a=""),a.toString()});return r==i?n:r}function Tc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const EV=/-+([a-z0-9])/g;function wp(n){return n.replace(EV,(...t)=>t[1].toUpperCase())}function TV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function un(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function z2(n){return new N(3004,fe)}()}}function fC(n,t){return window.getComputedStyle(n)[t]}function RV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function FV(n,t,e){if(":"==n[0]){const l=function LV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function oV(n){return new N(3016,fe)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function rV(n){return new N(3015,fe)}()),t;const r=i[1],o=i[2],s=i[3];t.push(pC(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(pC(s,r))}(i,e,t)):e.push(n),e}const Pc=new Set(["true","1"]),Oc=new Set(["false","0"]);function pC(n,t){const e=Pc.has(n)||Oc.has(n),i=Pc.has(t)||Oc.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Pc.has(n):Oc.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Pc.has(t):Oc.has(t)),s&&a}}const NV=new RegExp("s*:selfs*,?","g");function Cp(n,t,e,i){return new BV(n).build(t,e,i)}class BV{constructor(t){this._driver=t}build(t,e,i){const r=new jV(e);this._resetContextStyleTimingState(r);const o=un(this,pa(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function W2(){return new N(3006,fe)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function Y2(){return new N(3007,fe)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Rc(a)){const l=a;Object.keys(l).forEach(c=>{dC(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Tc(o.values()),e.errors.push(function K2(n,t){return new N(3008,fe)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=un(this,pa(t.animation),e);return{type:1,matchers:RV(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Pr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>un(this,i,e)),options:Pr(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=un(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Pr(t.options)}}visitAnimate(t,e){const i=function qV(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Dp(kc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Dp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=kc(e,t);return Dp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:$o({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=$o(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Ai?i.push(s):e.errors.push(function J2(n){return new N(3002,fe)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Rc(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function Z2(n,t,e,i,r){return new N(3010,fe)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function kV(n,t,e){const i=t.params||{},r=dC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function q2(n){return new N(3001,fe)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function X2(){return new N(3011,fe)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(M=>{const w=this._makeStyleAst(M,e);let I=null!=w.offset?w.offset:function UV(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Rc(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Rc(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(w.styles),P=0;return null!=I&&(o++,P=w.offset=I),l=l||P<0||P>1,a=a||P<c,c=P,s.push(P),w});l&&e.errors.push(function Q2(){return new N(3012,fe)}()),a&&e.errors.push(function eV(){return new N(3200,fe)}());const h=t.steps.length;let d=0;o>0&&o<h?e.errors.push(function tV(){return new N(3202,fe)}()):0==o&&(d=1/(h-1));const m=h-1,v=e.currentTime,S=e.currentAnimateTimings,C=S.duration;return u.forEach((M,w)=>{const I=d>0?w==m?1:d*w:s[w],P=I*C;e.currentTime=v+S.delay+P,S.duration=P,this._validateStyleAst(M,e),M.offset=I,i.styles.push(M)}),i}visitReference(t,e){return{type:8,animation:un(this,pa(t.animation),e),options:Pr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Pr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Pr(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function VV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(NV,"")),n=n.replace(/@\*/g,Mc).replace(/@\w+/g,e=>Mc+"-"+e.substr(1)).replace(/:animating/g,_p),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,cn(e.collectedStyles,e.currentQuerySelector,{});const a=un(this,pa(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Pr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function nV(){return new N(3013,fe)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:kc(t.timings,e.errors,!0);return{type:12,animation:un(this,pa(t.animation),e),timings:i,options:null}}}class jV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rc(n){return!Array.isArray(n)&&"object"==typeof n}function Pr(n){return n?(n=zo(n)).params&&(n.params=function HV(n){return n?zo(n):null}(n.params)):n={},n}function Dp(n,t,e){return{duration:n,delay:t,easing:e}}function Mp(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Fc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const GV=new RegExp(":enter","g"),YV=new RegExp(":leave","g");function kp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new KV).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class KV{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Fc;const h=new Ep(t,e,c,r,o,u,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),un(this,i,h);const d=h.timelines.filter(m=>m.containsAnimation());if(Object.keys(a).length){let m;for(let v=d.length-1;v>=0;v--){const S=d[v];if(S.element===e){m=S;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,h.errors,l)}return d.length?d.map(m=>m.buildKeyframes()):[Mp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Ar(i.duration):null,a=null!=i.delay?Ar(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),un(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Lc);const s=Ar(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>un(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ar(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),un(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return kc(e.params?Ec(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ar(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Lc);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),un(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;un(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const Lc={};class Ep{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Lc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Nc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ar(i.duration)),null!=i.delay&&(r.delay=Ar(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ec(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Ep(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Lc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new JV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(GV,"."+this._enterClassName)).replace(YV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function iV(n){return new N(3014,fe)}()),a}}class Nc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Nc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ai,this._currentKeyframe[e]=Ai}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function ZV(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Ai})):Ki(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Ec(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ai),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ki(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?t.add(u):h==Ai&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Tc(t.values()):[],s=e.size?Tc(e.values()):[];if(i){const a=r[0],l=zo(a);a.offset=0,l.offset=1,r=[a,l]}return Mp(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class JV extends Nc{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Ki(t[0],!1);l.offset=0,o.push(l);const c=Ki(t[0],!1);c.offset=vC(a),o.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let d=Ki(t[h],!1);d.offset=vC((e+d.offset*i)/s),o.push(d)}i=s,e=0,r="",t=o}return Mp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function vC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Tp{}class XV extends Tp{normalizePropertyName(t,e){return wp(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(QV[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function G2(n,t){return new N(3005,fe)}())}return s+o}}const QV=(()=>function eH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yC(n,t,e,i,r,o,s,a,l,c,u,h,d){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const xp={};class _C{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function tH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||xp,v=this.buildStyles(i,a&&a.params||xp,h),S=l&&l.params||xp,C=this.buildStyles(r,S,h),M=new Set,w=new Map,I=new Map,P="void"===r,q={params:Object.assign(Object.assign({},d),S)},Se=u?[]:kp(t,e,this.ast.animation,o,s,v,C,q,c,h);let we=0;if(Se.forEach(et=>{we=Math.max(et.duration+et.delay,we)}),h.length)return yC(e,this._triggerName,i,r,P,v,C,[],[],w,I,we,h);Se.forEach(et=>{const tt=et.element,Yt=cn(w,tt,{});et.preStyleProps.forEach(pt=>Yt[pt]=!0);const Mt=cn(I,tt,{});et.postStyleProps.forEach(pt=>Mt[pt]=!0),tt!==e&&M.add(tt)});const Qe=Tc(M.values());return yC(e,this._triggerName,i,r,P,v,C,Se,Qe,w,I,we)}}class nH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=zo(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Ec(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class rH{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new nH(r.style,r.options&&r.options.params||{},i)}),SC(this.states,"true","1"),SC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _C(t,r,this.states))}),this.fallbackTransition=function oH(n,t,e){return new _C(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function SC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const sH=new Fc;class aH{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Cp(this._driver,e,i,[]);if(i.length)throw function uV(n){return new N(3503,fe)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Xw(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=kp(this._driver,e,o,yp,Cc,{},{},i,sH,r),s.forEach(u=>{const h=cn(a,u.element,{});u.postStyleProps.forEach(d=>h[d]=null)})):(r.push(function hV(){return new N(3300,fe)}()),s=[]),r.length)throw function dV(n){return new N(3504,fe)}();a.forEach((u,h)=>{Object.keys(u).forEach(d=>{u[d]=this._driver.computeStyle(h,d,Ai)})});const c=Yi(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function fV(n){return new N(3301,fe)}();return e}listen(t,e,i,r){const o=pp(e,"","","");return dp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bC="ng-animate-queued",Ap="ng-animate-disabled",dH=[],wC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},fH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kn="__ng_removed";class Ip{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function vH(n){return null!=n?n:null}(i?t.value:t),i){const o=zo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ma="void",Pp=new Ip(ma);class pH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,En(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function pV(n,t){return new N(3302,fe)}();if(null==i||0==i.length)throw function mV(n){return new N(3303,fe)}();if(!function yH(n){return"start"==n||"done"==n}(i))throw function gV(n,t){return new N(3400,fe)}();const o=cn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=cn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(En(t,Dc),En(t,Dc+"-"+e),a[e]=Pp),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function vV(n){return new N(3401,fe)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new Op(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(En(t,Dc),En(t,Dc+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new Ip(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=Pp),c.value!==ma&&l.value===c.value){if(!function bH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const S=[],C=o.matchStyles(l.value,l.params,S),M=o.matchStyles(c.value,c.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Ir(t,C),li(t,M)})}return}const d=cn(this._engine.playersByElement,t,[]);d.forEach(S=>{S.namespaceId==this.id&&S.triggerName==e&&S.queued&&S.destroy()});let m=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!m){if(!r)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(En(t,bC),s.onStart(()=>{Go(t,bC)})),s.onDone(()=>{let S=this.players.indexOf(s);S>=0&&this.players.splice(S,1);const C=this._engine.playersByElement.get(t);if(C){let M=C.indexOf(s);M>=0&&C.splice(M,1)}}),this.players.push(s),d.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Mc,!0);i.forEach(r=>{if(r[kn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,ma,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Yi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||Pp,u=new Ip(ma),h=new Op(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[kn];(!o||o===wC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){En(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=pp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,dp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class mH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new pH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Bc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Bc(e))return;const o=e[kn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),En(t,Ap)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Go(t,Ap))}removeNode(t,e,i,r){if(Bc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[kn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Bc(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Mc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,_p,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Yi(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[kn];if(i&&i.setForRemoval){if(t[kn]=wC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Ap))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)En(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Yi(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function yV(n){return new N(3402,fe)}()}_flushAnimations(t,e){const i=new Fc,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(V=>{u.add(V);const z=this.driver.query(V,".ng-animate-queued",!0);for(let J=0;J<z.length;J++)u.add(z[J])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),m=MC(d,this.collectedEnterElements),v=new Map;let S=0;m.forEach((V,z)=>{const J=yp+S++;v.set(z,J),V.forEach(ye=>En(ye,J))});const C=[],M=new Set,w=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){const z=this.collectedLeaveElements[V],J=z[kn];J&&J.setForRemoval&&(C.push(z),M.add(z),J.hasAnimation?this.driver.query(z,".ng-star-inserted",!0).forEach(ye=>M.add(ye)):w.add(z))}const I=new Map,P=MC(d,Array.from(M));P.forEach((V,z)=>{const J=Cc+S++;I.set(z,J),V.forEach(ye=>En(ye,J))}),t.push(()=>{m.forEach((V,z)=>{const J=v.get(z);V.forEach(ye=>Go(ye,J))}),P.forEach((V,z)=>{const J=I.get(z);V.forEach(ye=>Go(ye,J))}),C.forEach(V=>{this.processLeaveNode(V)})});const q=[],Se=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(e).forEach(J=>{const ye=J.player,vt=J.element;if(q.push(ye),this.collectedEnterElements.length){const jt=vt[kn];if(jt&&jt.setForMove){if(jt.previousTriggersValues&&jt.previousTriggersValues.has(J.triggerName)){const Nr=jt.previousTriggersValues.get(J.triggerName),nr=this.statesByElement.get(J.element);nr&&nr[J.triggerName]&&(nr[J.triggerName].value=Nr)}return void ye.destroy()}}const hi=!h||!this.driver.containsElement(h,vt),hn=I.get(vt),tr=v.get(vt),$e=this._buildInstruction(J,i,tr,hn,hi);if($e.errors&&$e.errors.length)return void Se.push($e);if(hi)return ye.onStart(()=>Ir(vt,$e.fromStyles)),ye.onDestroy(()=>li(vt,$e.toStyles)),void r.push(ye);if(J.isFallbackTransition)return ye.onStart(()=>Ir(vt,$e.fromStyles)),ye.onDestroy(()=>li(vt,$e.toStyles)),void r.push(ye);const yM=[];$e.timelines.forEach(jt=>{jt.stretchStartingKeyframe=!0,this.disabledNodes.has(jt.element)||yM.push(jt)}),$e.timelines=yM,i.append(vt,$e.timelines),s.push({instruction:$e,player:ye,element:vt}),$e.queriedElements.forEach(jt=>cn(a,jt,[]).push(ye)),$e.preStyleProps.forEach((jt,Nr)=>{const nr=Object.keys(jt);if(nr.length){let Br=l.get(Nr);Br||l.set(Nr,Br=new Set),nr.forEach(um=>Br.add(um))}}),$e.postStyleProps.forEach((jt,Nr)=>{const nr=Object.keys(jt);let Br=c.get(Nr);Br||c.set(Nr,Br=new Set),nr.forEach(um=>Br.add(um))})});if(Se.length){const V=[];Se.forEach(z=>{V.push(function _V(n,t){return new N(3505,fe)}())}),q.forEach(z=>z.destroy()),this.reportError(V)}const we=new Map,Qe=new Map;s.forEach(V=>{const z=V.element;i.has(z)&&(Qe.set(z,z),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,we))}),r.forEach(V=>{const z=V.element;this._getPreviousPlayers(z,!1,V.namespaceId,V.triggerName,null).forEach(ye=>{cn(we,z,[]).push(ye),ye.destroy()})});const et=C.filter(V=>EC(V,l,c)),tt=new Map;DC(tt,this.driver,w,c,Ai).forEach(V=>{EC(V,l,c)&&et.push(V)});const Mt=new Map;m.forEach((V,z)=>{DC(Mt,this.driver,new Set(V),l,"!")}),et.forEach(V=>{const z=tt.get(V),J=Mt.get(V);tt.set(V,Object.assign(Object.assign({},z),J))});const pt=[],Jo=[],Zo={};s.forEach(V=>{const{element:z,player:J,instruction:ye}=V;if(i.has(z)){if(u.has(z))return J.onDestroy(()=>li(z,ye.toStyles)),J.disabled=!0,J.overrideTotalTime(ye.totalTime),void r.push(J);let vt=Zo;if(Qe.size>1){let hn=z;const tr=[];for(;hn=hn.parentNode;){const $e=Qe.get(hn);if($e){vt=$e;break}tr.push(hn)}tr.forEach($e=>Qe.set($e,vt))}const hi=this._buildAnimation(J.namespaceId,ye,we,o,Mt,tt);if(J.setRealPlayer(hi),vt===Zo)pt.push(J);else{const hn=this.playersByElement.get(vt);hn&&hn.length&&(J.parentPlayer=Yi(hn)),r.push(J)}}else Ir(z,ye.fromStyles),J.onDestroy(()=>li(z,ye.toStyles)),Jo.push(J),u.has(z)&&r.push(J)}),Jo.forEach(V=>{const z=o.get(V.element);if(z&&z.length){const J=Yi(z);V.setRealPlayer(J)}}),r.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<C.length;V++){const z=C[V],J=z[kn];if(Go(z,Cc),J&&J.hasAnimation)continue;let ye=[];if(a.size){let hi=a.get(z);hi&&hi.length&&ye.push(...hi);let hn=this.driver.query(z,_p,!0);for(let tr=0;tr<hn.length;tr++){let $e=a.get(hn[tr]);$e&&$e.length&&ye.push(...$e)}}const vt=ye.filter(hi=>!hi.destroyed);vt.length?_H(this,z,vt):this.processLeaveNode(z)}return C.length=0,pt.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();const z=this.players.indexOf(V);this.players.splice(z,1)}),V.play()}),pt}elementContainsData(t,e){let i=!1;const r=e[kn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==ma;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,h=cn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(m=>{const v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),h.push(m)})}Ir(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,d=e.timelines.map(v=>{const S=v.element;u.add(S);const C=S[kn];if(C&&C.removedBeforeQueried)return new fa(v.duration,v.delay);const M=S!==l,w=function SH(n){const t=[];return kC(n,t),t}((i.get(S)||dH).map(we=>we.getRealPlayer())).filter(we=>!!we.element&&we.element===S),I=o.get(S),P=s.get(S),q=Xw(0,this._normalizer,0,v.keyframes,I,P),Se=this._buildPlayer(v,q,w);if(v.subTimeline&&r&&h.add(S),M){const we=new Op(t,a,S);we.setRealPlayer(Se),c.push(we)}return Se});c.forEach(v=>{cn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function gH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>En(v,lC));const m=Yi(d);return m.onDestroy(()=>{u.forEach(v=>Go(v,lC)),li(l,e.toStyles)}),h.forEach(v=>{cn(r,v,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new fa(t.duration,t.delay)}}class Op{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new fa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>dp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){cn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Bc(n){return n&&1===n.nodeType}function CC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function DC(n,t,e,i,r){const o=[];e.forEach(l=>o.push(CC(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const d=u[h]=t.computeStyle(c,h,r);(!d||0==d.length)&&(c[kn]=fH,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>CC(l,o[a++])),s}function MC(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function En(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Go(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function _H(n,t,e){Yi(e).onDone(()=>n.processLeaveNode(t))}function kC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Jw?kC(i.players,t):t.push(i)}}function EC(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Vc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new mH(t,e,i),this._timelineEngine=new aH(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=Cp(this._driver,o,l,[]);if(l.length)throw function lV(n,t){return new N(3404,fe)}();a=function iH(n,t,e){return new rH(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=Qw(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=Qw(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let CH=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&li(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(li(this._element,this._initialStyles),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ir(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ir(this._element,this._endStyles),this._endStyles=null),li(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Rp(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];DH(r)&&(t=t||{},t[r]=n[r])}return t}function DH(n){return"display"===n||"position"===n}class TC{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:fC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class MH{validateStyleProperty(t){return iC(t)}matchesElement(t,e){return!1}containsElement(t,e){return rC(t,e)}getParentElement(t){return gp(t)}query(t,e,i){return oC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(d=>d instanceof TC);(function xV(n,t){return 0===n||0===t})(i,r)&&u.forEach(d=>{let m=d.currentSnapshot;Object.keys(m).forEach(v=>c[v]=m[v])}),e=function AV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=fC(n,l)})}}return t}(t,e=e.map(d=>Ki(d,!1)),c);const h=function wH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Rp(t[0]),t.length>1&&(i=Rp(t[t.length-1]))):t&&(e=Rp(t)),e||i?new CH(n,e,i):null}(t,e);return new TC(t,e,l,h)}}let kH=(()=>{class n extends jw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:xn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?$w(e):e;return xC(this._renderer,null,i,"register",[r]),new EH(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(_(Rs),_(he))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class EH extends class V2{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new TH(this._id,t,e||{},this._renderer)}}class TH{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const AC="@.disabled";let xH=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new IC("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new AH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(_(Rs),_(Vc),_(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class IC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==AC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class AH extends IC{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==AC?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function IH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function PH(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let OH=(()=>{class n extends Vc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(_(he),_(vp),_(Tp))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Fp=new j("AnimationModuleType"),PC=[{provide:jw,useClass:kH},{provide:Tp,useFactory:function RH(){return new XV}},{provide:Vc,useClass:OH},{provide:Rs,useFactory:function FH(n,t,e){return new xH(n,t,e)},deps:[Jl,Vc,De]}],OC=[{provide:vp,useFactory:()=>new MH},{provide:Fp,useValue:"BrowserAnimations"},...PC],LH=[{provide:vp,useClass:sC},{provide:Fp,useValue:"NoopAnimations"},...PC];let NH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?LH:OC}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:OC,imports:[U0]}),n})();function BH(n,t){}class Lp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const VH={dialogContainer:H2("dialogContainer",[zw("void, exit",$o({opacity:0,transform:"scale(0.7)"})),zw("enter",$o({transform:"none"})),Gw("* => enter",qw([Uw("150ms cubic-bezier(0, 0, 0.2, 1)",$o({transform:"none",opacity:1})),Yw("@*",Ww(),{optional:!0})])),Gw("* => void, * => exit",qw([Uw("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",$o({opacity:0})),Yw("@*",Ww(),{optional:!0})]))])};let HH=(()=>{class n extends op{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Ie,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ep())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=ep(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=ep();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(b2),b(js),b(he,8),b(Lp),b(Iw),b(De),b(x2))},n.\u0275dir=$({type:n,viewQuery:function(e,i){if(1&e&&SS(gw,7),2&e){let r;El(r=function Tl(){return function dP(n,t){return n[19].queries[t].queryList}(x(),ag())}())&&(i._portalOutlet=r.first)}},features:[ge]}),n})(),jH=(()=>{class n extends HH{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275cmp=xe({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&nd("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(ad("id",i._id),bt("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ld("@dialogContainer",i._state))},features:[ge],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&T(0,BH,0,0,"ng-template",0)},directives:[gw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[VH.dialogContainer]}}),n})(),UH=0;class qH{constructor(t,e,i="mat-dialog-"+UH++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ke,this._afterClosed=new ke,this._beforeClosed=new ke,this._state=0,e._id=i,e._animationStateChanged.pipe(sn(r=>"opened"===r.state),zn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(sn(r=>"closed"===r.state),zn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(sn(r=>27===r.keyCode&&!this.disableClose&&!function r2(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),RC(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():RC(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(sn(e=>"closing"===e.state),zn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function RC(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const $H=new j("MatDialogData"),zH=new j("mat-dialog-default-options"),FC=new j("mat-dialog-scroll-strategy"),WH={provide:FC,deps:[_c],useFactory:function GH(n){return()=>n.scrollStrategies.block()}};let YH=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ke,this._afterOpenedAtThisLevel=new ke,this._ariaHiddenElements=new Map,this.afterAllClosed=Sf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(J0(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function KH(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Lp),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new ww({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Re.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Lp,useValue:i}]}),s=new rp(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof ii)i.attachTemplatePortal(new mw(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new rp(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(np,null,Q.Optional))&&s.push({provide:np,useValue:{value:e.direction,change:Y()}}),Re.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){vl()},n.\u0275dir=$({type:n}),n})(),jc=(()=>{class n extends YH{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,qH,jH,$H,c)}}return n.\u0275fac=function(e){return new(e||n)(_(_c),_(Re),_(qs,8),_(zH,8),_(FC),_(n,12),_(ap),_(Fp,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:[jc,WH],imports:[[JB,vw,bc],bc]}),n})(),Wo=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.dialog=a,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(let e in this.itemRepoService.furniture){let i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&(this.furniture.push(i),this.furniturePrices[i.name]=this.homeService.ownedFurniture.includes(i.name)?0:i.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"==this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}buyFurniture(){if(this.selectedItem){if(!function ZN(n){return"slot"in n}(this.selectedItem))return;let e=this.selectedItem.slot;(this.selectedItem.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(this.selectedItem.name))&&(this.homeService.ownedFurniture.includes(this.selectedItem.name)||(this.characterService.characterState.money-=this.selectedItem.value,this.homeService.ownedFurniture.push(this.selectedItem.name),this.furniturePrices[this.selectedItem.name]=0),this.homeService.furniture[e]=this.selectedItem,this.homeService.autoBuyFurniture[e]=this.selectedItem)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0===this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Mansion]):1===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Palace]):2===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Castle]):3===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Fortress]):4===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Mountain]):5===this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.")}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=5?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(_(Mn),_(Be),_(X),_(qn),_(at),_(jc))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,m){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=s,this.itemRepoService=a,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=h,this.followerService=d,this.impossibleTaskService=m,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persitent Reincarnator",description:"You lived 88 lives and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=88&&this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Woodworking),effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0==this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Le.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!=this.homeService.furniture.bathtub&&null!=this.homeService.furniture.bed&&null!=this.homeService.furniture.kitchen&&null!=this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.homeService.autoFieldUnlocked&&this.homeService.autoBuyFurnitureUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>{var v,S,C,M,w,I,P,q;return!!((null===(S=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.rightHand)||void 0===S?void 0:S.weaponStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.rightHand)||void 0===M?void 0:M.weaponStats.baseDamage)>=131&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.leftHand)||void 0===I?void 0:I.weaponStats)&&(null===(q=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.leftHand)||void 0===q?void 0:q.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>{var v,S,C,M,w,I,P,q,Se,we,Qe,et,tt,Yt,Mt,pt;return!!((null===(S=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.head)||void 0===S?void 0:S.armorStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.head)||void 0===M?void 0:M.armorStats.defense)>=131&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.body)||void 0===I?void 0:I.armorStats)&&(null===(q=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.body)||void 0===q?void 0:q.armorStats.defense)>=131&&(null===(we=null===(Se=this.characterService.characterState.equipment)||void 0===Se?void 0:Se.legs)||void 0===we?void 0:we.armorStats)&&(null===(et=null===(Qe=this.characterService.characterState.equipment)||void 0===Qe?void 0:Qe.legs)||void 0===et?void 0:et.armorStats.defense)>=131&&(null===(Yt=null===(tt=this.characterService.characterState.equipment)||void 0===tt?void 0:tt.feet)||void 0===Yt?void 0:Yt.armorStats)&&(null===(pt=null===(Mt=this.characterService.characterState.equipment)||void 0===Mt?void 0:Mt.feet)||void 0===pt?void 0:pt.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",description:"You achieved a deep understanding of metal ore and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>{var v,S,C,M,w,I,P,q;return!!((null===(S=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.rightHand)||void 0===S?void 0:S.weaponStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.rightHand)||void 0===M?void 0:M.weaponStats.baseDamage)>=8888&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.leftHand)||void 0===I?void 0:I.weaponStats)&&(null===(q=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.leftHand)||void 0===q?void 0:q.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>{var v,S,C,M,w,I,P,q,Se,we,Qe,et,tt,Yt,Mt,pt;return!!((null===(S=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.head)||void 0===S?void 0:S.armorStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.head)||void 0===M?void 0:M.armorStats.defense)>=8888&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.body)||void 0===I?void 0:I.armorStats)&&(null===(q=null===(P=this.characterService.characterState.equipment)||void 0===P?void 0:P.body)||void 0===q?void 0:q.armorStats.defense)>=8888&&(null===(we=null===(Se=this.characterService.characterState.equipment)||void 0===Se?void 0:Se.legs)||void 0===we?void 0:we.armorStats)&&(null===(et=null===(Qe=this.characterService.characterState.equipment)||void 0===Qe?void 0:Qe.legs)||void 0===et?void 0:et.armorStats.defense)>=8888&&(null===(Yt=null===(tt=this.characterService.characterState.equipment)||void 0===tt?void 0:tt.feet)||void 0===Yt?void 0:Yt.armorStats)&&(null===(pt=null===(Mt=this.characterService.characterState.equipment)||void 0===Mt?void 0:Mt.feet)||void 0===pt?void 0:pt.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{let v=this.characterService.characterState.attributes.fireLore.value,S=this.characterService.characterState.attributes.earthLore.value,C=this.characterService.characterState.attributes.woodLore.value,M=this.characterService.characterState.attributes.waterLore.value,w=this.characterService.characterState.attributes.metalLore.value,I=Math.min(w,M,C,S,v),P=Math.max(w,M,C,S,v);return I>=1e3&&P<=1.21*I},effect:()=>{this.characterService.characterState.manaUnlocked=!0,0==this.characterService.characterState.status.mana.max&&(this.characterService.characterState.status.mana.max=1,this.characterService.characterState.status.mana.value=1)},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can achieve this. It can't be done.",check:()=>this.characterService.soulCoreRank()>=4&&this.characterService.meridianRank()>=4&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let v=this.characterService.characterState.attributes.speed.value,S=this.characterService.characterState.attributes.toughness.value,C=this.characterService.characterState.attributes.charisma.value,M=this.characterService.characterState.attributes.intelligence.value,w=this.characterService.characterState.attributes.strength.value,I=Math.min(v,S,C,M,w),P=Math.max(v,S,C,M,w);return I>=1e6&&P<=1.21*I},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let v=this.characterService.characterState.attributes.spirituality.value,S=this.characterService.characterState.attributes.speed.value,C=this.characterService.characterState.attributes.toughness.value,M=this.characterService.characterState.attributes.charisma.value,w=this.characterService.characterState.attributes.intelligence.value,I=this.characterService.characterState.attributes.strength.value,P=Math.min(S,C,M,w,I,v),q=Math.max(S,C,M,w,I,v);return P>=1e6&&q<=1.21*P},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(let v of this.achievements)this.unlockedAchievements.includes(v.name)||v.check()&&this.unlockAchievement(v,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(ci)),this.gameStateService.savetoLocalStorage()),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(let i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(_(ln),_(Re),_(Mn),_(Be),_(X),_(qn),_(Wo),_(Ti),_(at),_($n),_(Dr),_(jo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Np="immortalityIdleGameState";let ci=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,m,v){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.autoBuyerService=h,this.mainLoopService=d,this.achievementService=m,this.impossibleTaskService=v,this.lastSaved=0,this.isDarkMode=!1,window.GameStateService=this,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){window.localStorage.setItem(Np,this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(){const e=window.localStorage.getItem(Np);!e||this.importGame(e)}importGame(e){let i;i="iig"==e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(i);this.achievementService.setProperties(r.achievements),this.impossibleTaskService.setProperties(r.impossibleTasks),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(null==o)continue;const s=this.itemRepoService.getItemById(o.item.id);s&&(o.item=s)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.isDarkMode=r.darkMode||!1}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode};let i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(Np),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(let i in this.itemRepoService.items){let r=this.itemRepoService.items[i];"manual"==r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){let r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}}return n.\u0275fac=function(e){return new(e||n)(_(Be),_(at),_(X),_(Mn),_(Wi),_($n),_(qn),_(Ti),_(Dr),_(fc),_(ln),_(NC),_(jo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const JH=function(n,t){return{selectedItem:n,ownedItem:t}};function ZH(n,t){if(1&n){const e=te();p(0,"div")(1,"table",4),E("click",function(){const o=B(e).$implicit;return k().slotClicked(o)}),p(2,"tr")(3,"mat-icon"),g(4,"menu_book"),f()(),p(5,"tr"),g(6),U(7,"titlecase"),f()(),p(8,"div",5)(9,"span"),g(10),U(11,"bigNumber"),f()()()}if(2&n){const e=t.$implicit,i=k();y(1),Ae("tooltip",e.description),D("ngClass",yd(8,JH,e===i.storeService.selectedItem,e.owned&&e.owned())),y(5),He(ne(7,4,e.name)),y(4),He(ne(11,6,e.value))}}let BC=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(Wo),b(Be),b(at),b(X),b(qn),b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Manuals Shop"),f(),H(3,"hr"),p(4,"div",1),T(5,ZH,12,11,"div",2),f(),p(6,"button",3),E("click",function(){return i.storeService.buyManual()}),g(7," Buy "),f()()),2&e&&(y(5),D("ngForOf",i.storeService.manuals),y(1),D("disabled",i.buyDisabled))},styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor)}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();let HC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(ni),b(Ze))},n.\u0275dir=$({type:n}),n})(),Or=(()=>{class n extends HC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=$({type:n,features:[ge]}),n})();const ui=new j("NgValueAccessor");let TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();const Fj={provide:ui,useExisting:Pe(()=>rm),multi:!0};function FD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let rm=(()=>{class n extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=FD(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Lj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&E("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([Fj]),ge]}),n})(),LD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ni),b(rm,9))},n.\u0275dir=$({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Nj={provide:ui,useExisting:Pe(()=>om),multi:!0};function ND(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let om=(()=>{class n extends Or{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Bj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&E("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([Nj]),ge]}),n})(),BD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ND(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ND(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ni),b(om,9))},n.\u0275dir=$({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[TD]]}),n})(),Kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[Yj]}),n})();function Jj(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span"),g(2," Automatically buy up to "),p(3,"input",3),E("change",function(r){return B(e),k().autoBuyLandLimitChanged(r)}),f(),g(4," land (including fields) "),f()()}if(2&n){const e=k();y(3),Ae("value",e.homeService.autoBuyLandLimit)}}function Zj(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span"),g(2," Automatically plow up to "),p(3,"input",3),E("change",function(r){return B(e),k().autoFieldLimitChanged(r)}),f(),g(4," fields "),f()()}if(2&n){const e=k();y(3),Ae("value",e.homeService.autoFieldLimit)}}function Xj(n,t){if(1&n&&(p(0,"option",6),g(1),f()),2&n){const e=t.$implicit,i=k(2);Ae("value",e.type),D("selected",i.homeService.autoBuyHomeLimit===e.type),y(1),ve(" ",e.name," ")}}function Qj(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span"),g(2," Automatically upgrade your home up to a "),p(3,"select",4),E("change",function(r){return B(e),k().autoBuyHomeLimitChanged(r)}),T(4,Xj,2,3,"option",5),f()()()}if(2&n){const e=k();y(4),D("ngForOf",e.homeService.homesList)}}function e3(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span")(2,"input",7),E("change",function(r){return B(e),k().useAutoBuyReserveChanged(r)}),f(),p(3,"label",8),g(4,"Auto-buying should always reserve "),f(),p(5,"input",3),E("change",function(r){return B(e),k().autoBuyReserveAmountChanged(r)}),f(),g(6," taels "),f()()}if(2&n){const e=k();y(2),D("checked",e.homeService.useAutoBuyReserve),y(3),Ae("value",e.homeService.autoBuyReserveAmount)}}function t3(n,t){if(1&n){const e=te();p(0,"tr")(1,"td")(2,"button",12),E("click",function(){const o=B(e).index;return k(2).autoBuySettingsPriorityChanged(o,!0)}),g(3,"\u25b2"),f()(),p(4,"td")(5,"button",12),E("click",function(){const o=B(e).index;return k(2).autoBuySettingsPriorityChanged(o,!1)}),g(6,"\u25bc"),f()(),p(7,"td",13),g(8),f(),p(9,"td",14)(10,"input",15),E("change",function(r){const s=B(e).$implicit;return k(2).autoBuySettingsEnabledChange(r,s)}),f()(),p(11,"td",14)(12,"input",15),E("change",function(r){const s=B(e).$implicit;return k(2).autoBuySettingsWaitForFinishChange(r,s)}),f()()()}if(2&n){const e=t.$implicit,i=t.first,r=t.last;y(2),D("disabled",i),y(3),D("disabled",r),y(3),He(e.label),y(2),D("checked",e.enabled),y(2),D("checked",e.waitForFinish)}}function n3(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2," Auto-Buyer Options: "),p(3,"table",9)(4,"tr")(5,"th",10),g(6,"Priority Order"),f(),p(7,"th"),g(8,"Enabled"),f(),p(9,"th"),g(10,"Wait For Finish"),f()(),T(11,t3,13,5,"tr",11),f()()()),2&n){const e=k();y(11),D("ngForOf",e.autoBuyerService.autoBuyerSettings)}}function r3(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span")(2,"input",16),E("change",function(r){return B(e),k().autoequipEnableChange(r)}),f(),p(3,"label",17),g(4,"Automatically equip best equipment"),f()()()}if(2&n){const e=k();y(2),D("checked",e.inventoryService.autoequipBestEnabled)}}function o3(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span")(2,"input",18),E("change",function(r){return B(e),k().autosellOldGems(r)}),f(),p(3,"label",19),g(4,"Automatically sell lower grade gems than what current monsters drop"),f()()()}if(2&n){const e=k();y(2),D("checked",e.inventoryService.autoSellOldGemsEnabled)}}function s3(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span")(2,"input",20),E("change",function(r){return B(e),k().useSpiritGemWeaponsChange(r)}),f(),p(3,"label",21),g(4,"Use spirit gem when crafting weapons"),f()()()}if(2&n){const e=k();y(2),D("checked",e.inventoryService.useSpiritGemWeapons)}}function a3(n,t){if(1&n){const e=te();p(0,"div",2)(1,"span")(2,"input",22),E("change",function(r){return B(e),k().useSpiritGemPotionsChange(r)}),f(),p(3,"label",23),g(4,"Use spirit gem when crafting potions"),f()()()}if(2&n){const e=k();y(2),D("checked",e.inventoryService.useSpiritGemPotions)}}function l3(n,t){if(1&n){const e=te();p(0,"div")(1,"span"),g(2),U(3,"titlecase"),p(4,"button",25),E("click",function(){const o=B(e).$implicit;return k(2).inventoryService.unAutoSell(o)}),g(5,"Stop Selling"),f()()()}if(2&n){const e=t.$implicit;y(2),ve(" -",ne(3,1,e)," ")}}function c3(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2," Automatically Sold Items: "),f(),p(3,"div",24),T(4,l3,6,3,"div",11),f()()),2&n){const e=k();y(4),D("ngForOf",e.inventoryService.autoSellItems)}}function u3(n,t){if(1&n){const e=te();p(0,"div")(1,"span"),g(2),U(3,"titlecase"),p(4,"button",25),E("click",function(){const o=B(e).$implicit;return k(2).inventoryService.unAutoUse(o)}),g(5,"Stop Using"),f()()()}if(2&n){const e=t.$implicit;y(2),ve(" -",ne(3,1,e)," ")}}function h3(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2,"Automatically Used Items:"),f(),p(3,"div",24),T(4,u3,6,3,"div",11),f()()),2&n){const e=k();y(4),D("ngForOf",e.inventoryService.autoUseItems)}}function d3(n,t){if(1&n){const e=te();p(0,"div")(1,"span"),g(2),U(3,"titlecase"),p(4,"input",3),E("change",function(r){const s=B(e).$implicit;return k(2).autoBalanceUseChanged(r,s)}),f(),g(5," then Sell "),p(6,"input",3),E("change",function(r){const s=B(e).$implicit;return k(2).autoBalanceSellChanged(r,s)}),f(),p(7,"button",25),E("click",function(){const o=B(e).$implicit;return k(2).inventoryService.unAutoBalance(o.name)}),g(8,"Stop Balancing"),f()()()}if(2&n){const e=t.$implicit;y(2),ve(" -",ne(3,3,e.name)," Use "),y(2),Ae("value",e.useNumber),y(2),Ae("value",e.sellNumber)}}function f3(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2,"Automatically Balanced Items:"),f(),p(3,"div",24),T(4,d3,9,5,"div",11),f()()),2&n){const e=k();y(4),D("ngForOf",e.inventoryService.autoBalanceItems)}}function p3(n,t){if(1&n){const e=te();p(0,"div")(1,"span"),g(2),U(3,"titlecase"),p(4,"button",25),E("click",function(){const o=B(e).$implicit;return k(2).followerService.unAutoDismiss(o)}),g(5,"Stop Dismissing"),f()()()}if(2&n){const e=t.$implicit;y(2),ve(" -",ne(3,1,e)," ")}}function m3(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2,"Automatically Dismissed Followers (by Job):"),f(),p(3,"div",24),T(4,p3,6,3,"div",11),f()()),2&n){const e=k();y(4),D("ngForOf",e.followerService.autoDismissJobs)}}let g3=(()=>{class n{constructor(e,i,r,o,s){this.homeService=e,this.inventoryService=i,this.gameStateService=r,this.followerService=o,this.autoBuyerService=s}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseInt(e.target.value))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}autosellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,i){this.autoBuyerService.autoBuyerSettings.splice(e+(i?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,i){e.target instanceof HTMLInputElement&&(i.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,i){e.target instanceof HTMLInputElement&&(i.waitForFinish=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(at),b(X),b(ci),b(Dr),b(fc))},n.\u0275cmp=xe({type:n,selectors:[["app-options-modal"]],decls:17,vars:13,consts:[[1,"darkMode"],["class","optionField",4,"ngIf"],[1,"optionField"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","useAutoBuyReserve",3,"checked","change"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"reorderListButton",3,"disabled","click"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"checked","change"],["type","checkbox","id","autoequipEnable",3,"checked","change"],["for","autoequipEnable"],["type","checkbox","id","autosellOldGems",3,"checked","change"],["for","autosellOldGems"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],[1,"scrollingDiv"],[3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Manuals Options"),f(),H(3,"hr"),T(4,Jj,5,1,"div",1),T(5,Zj,5,1,"div",1),T(6,Qj,5,1,"div",1),T(7,e3,7,2,"div",1),T(8,n3,12,1,"div",1),T(9,r3,5,1,"div",1),T(10,o3,5,1,"div",1),T(11,s3,5,1,"div",1),T(12,a3,5,1,"div",1),T(13,c3,5,1,"div",1),T(14,h3,5,1,"div",1),T(15,f3,5,1,"div",1),T(16,m3,5,1,"div",1),f()),2&e&&(y(4),D("ngIf",i.homeService.autoBuyLandUnlocked),y(1),D("ngIf",i.homeService.autoFieldUnlocked),y(1),D("ngIf",i.homeService.autoBuyHomeUnlocked),y(1),D("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoBuyHomeUnlocked||i.homeService.autoBuyFurnitureUnlocked),y(1),D("ngIf",i.autoBuyerService.autoBuyerSettingsUnlocked),y(1),D("ngIf",i.inventoryService.autoequipBestArmor||i.inventoryService.autoequipBestWeapon),y(1),D("ngIf",i.inventoryService.autoSellOldGemsUnlocked),y(1),D("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),D("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),D("ngIf",i.inventoryService.autoSellUnlocked),y(1),D("ngIf",i.inventoryService.autoUseUnlocked),y(1),D("ngIf",i.inventoryService.autoBalanceUnlocked),y(1),D("ngIf",i.followerService.autoDismissUnlocked))},directives:[zt,$t,LD,BD],pipes:[wn],styles:[".inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}"]}),n})();function v3(n,t){if(1&n&&(p(0,"span"),g(1),U(2,"number"),f()),2&n){const e=k();y(1),yn(" Next rank requires ",ne(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster gem. ")}}function y3(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),f())}function _3(n,t){if(1&n&&(p(0,"span"),g(1),U(2,"number"),f()),2&n){const e=k();y(1),yn(" Next rank requires ",ne(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster gem. ")}}function S3(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),f())}function b3(n,t){if(1&n&&(p(0,"span"),g(1),U(2,"number"),f()),2&n){const e=k();y(1),yn(" Next rank requires ",ne(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function w3(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),f())}function C3(n,t){if(1&n&&(p(0,"span"),g(1),U(2,"number"),U(3,"number"),f()),2&n){const e=k();y(1),yn(" You have consumed ",Bt(2,2,100*(e.characterService.characterState.empowermentFactor-1),"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",Bt(3,5,e.characterService.characterState.empowermentFactor,"1.0-2"),". ")}}let D3=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a}}return n.\u0275fac=function(e){return new(e||n)(b(Wo),b(Be),b(at),b(X),b(qn),b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-ascension-store-modal"]],decls:39,vars:15,consts:[[1,"darkMode"],[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Ascension Techniques"),f(),H(3,"hr"),p(4,"table")(5,"tr")(6,"td")(7,"button",1),E("click",function(){return i.storeService.condenseSoulCore()}),g(8,"Condense Soul Core"),f()(),p(9,"td"),g(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),H(11,"br"),g(12),H(13,"br"),T(14,v3,3,4,"span",2),T(15,y3,2,0,"span",2),f()(),p(16,"tr")(17,"td")(18,"button",1),E("click",function(){return i.storeService.reinforceMeridians()}),g(19,"Reinforce Meridians"),f()(),p(20,"td"),g(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),H(22,"br"),g(23),H(24,"br"),T(25,_3,3,4,"span",2),T(26,S3,2,0,"span",2),f()(),p(27,"tr")(28,"td")(29,"button",1),E("click",function(){return i.storeService.upgradeBloodline()}),g(30),f()(),p(31,"td"),g(32),H(33,"br"),g(34),H(35,"br"),T(36,b3,3,4,"span",2),T(37,w3,2,0,"span",2),f()()(),T(38,C3,4,8,"span",2),f()),2&e&&(y(7),D("disabled",i.storeService.soulCoreRank>8),y(5),ve(" Current Rank: ",i.storeService.soulCoreRank," "),y(2),D("ngIf",i.storeService.soulCoreRank<9),y(1),D("ngIf",i.storeService.soulCoreRank>=9),y(3),D("disabled",i.storeService.meridianRank>8),y(5),ve(" Current Rank: ",i.storeService.meridianRank," "),y(2),D("ngIf",i.storeService.meridianRank<9),y(1),D("ngIf",i.storeService.meridianRank>=9),y(3),D("disabled",i.characterService.characterState.bloodlineRank>=5),y(1),He(i.storeService.bloodlineLabel),y(2),ve(" ",i.storeService.bloodlineDescription," "),y(2),ve(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),y(2),D("ngIf",i.characterService.characterState.bloodlineRank<5),y(1),D("ngIf",i.characterService.characterState.bloodlineRank>=5),y(1),D("ngIf",i.characterService.characterState.empowermentFactor>1))},directives:[zt],pipes:[yr],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function M3(n,t){1&n&&H(0,"div",3)}function k3(n,t){1&n&&ed(0)}function E3(n,t){if(1&n&&(p(0,"div"),T(1,k3,1,0,"ng-container",4),f()),2&n){const e=k();y(1),D("ngTemplateOutlet",e.value)}}function T3(n,t){1&n&&H(0,"div",5),2&n&&D("innerHTML",k().value,Jg)}let x3=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new Ie}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,h=window.pageYOffset;let d,m;if(s&&(a=0,l=0),"top"===e&&(d=this.elementPosition.top+h-(c+this.tooltipOffset)),"bottom"===e&&(d=this.elementPosition.top+h+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(m=this.elementPosition.left+l/2-u/2),"left"===e&&(m=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(m=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(d=this.elementPosition.top+h+a/2-o.clientHeight/2),this.autoPlacement&&!i){const S=d+c,C=m,M=m+u,w=window.innerHeight+h,I=document.body.clientWidth;if(d<0||S>w||C<0||M>I)return!1}return this.hostStyleTop=d+"px",this.hostStyleLeft=m+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ni))},n.\u0275cmp=xe({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&E("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(Nn("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),ko("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(T(0,M3,1,0,"div",0),T(1,E3,2,1,"div",1),T(2,T3,1,1,"ng-template",null,2,DS)),2&e){const r=Lt(3);D("ngIf",i.isThemeLight),y(1),D("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[zt,E0],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const YD=new j("TooltipOptions"),KD={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},JD={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let Gt=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new Ie}set options(e){e&&KD&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(KD,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)JD[i]&&(e[JD[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(x3)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(b(YD,8),b(Ze),b(qi),b(Hs),b(Re))},n.\u0275dir=$({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&E("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[Qt]}),n})(),A3=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:YD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[uf]]}),n})();function I3(n,t){if(1&n&&(p(0,"div",4),g(1),f()),2&n){const e=k().$implicit;Ae("tooltip",e.description),y(1),ve(" ",e.name," ")}}function P3(n,t){1&n&&(p(0,"div",4),g(1," ? "),f()),2&n&&Ae("tooltip",k().$implicit.hint)}function O3(n,t){if(1&n&&(p(0,"div"),T(1,I3,2,2,"div",3),T(2,P3,2,1,"div",3),f()),2&n){const e=t.$implicit;y(1),D("ngIf",e.unlocked),y(1),D("ngIf",!e.unlocked)}}let R3=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(b(NC))},n.\u0275cmp=xe({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"darkMode"],[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Achievements"),f(),H(3,"hr"),p(4,"div",1),T(5,O3,3,2,"div",2),f()()),2&e&&(y(5),D("ngForOf",i.achievementService.achievements))},directives:[$t,zt,Gt],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class F3{}class Qi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class L3{encodeKey(t){return ZD(t)}encodeValue(t){return ZD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const B3=/%(\d[a-f0-9])/gi,V3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ZD(n){return encodeURIComponent(n).replace(B3,(t,e)=>{var i;return null!==(i=V3[e])&&void 0!==i?i:t})}function XD(n){return`${n}`}class er{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new L3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function N3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new er({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(XD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(XD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class H3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function QD(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function eM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function tM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Sa{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function j3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Qi),this.context||(this.context=new H3),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new er,this.urlWithParams=e}serializeBody(){return null===this.body?null:QD(this.body)||eM(this.body)||tM(this.body)||function U3(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof er?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tM(this.body)?null:eM(this.body)?this.body.type||null:QD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof er?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,m)=>d.set(m,t.setHeaders[m]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,m)=>d.set(m,t.setParams[m]),u)),new Sa(i,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var Dt=(()=>((Dt=Dt||{})[Dt.Sent=0]="Sent",Dt[Dt.UploadProgress=1]="UploadProgress",Dt[Dt.ResponseHeader=2]="ResponseHeader",Dt[Dt.DownloadProgress=3]="DownloadProgress",Dt[Dt.Response=4]="Response",Dt[Dt.User=5]="User",Dt))();class am extends class q3{constructor(t,e=200,i="OK"){this.headers=t.headers||new Qi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Dt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new am({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function lm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iM=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Sa)o=e;else{let l,c;l=r.headers instanceof Qi?r.headers:new Qi(r.headers),r.params&&(c=r.params instanceof er?r.params:new er({fromObject:r.params})),o=new Sa(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Y(o).pipe(Oo(l=>this.handler.handle(l)));if(e instanceof Sa||"events"===r.observe)return s;const a=s.pipe(sn(l=>l instanceof am));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(pe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(pe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new er).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lm(r,i))}post(e,i,r={}){return this.request("POST",e,lm(r,i))}put(e,i,r={}){return this.request("PUT",e,lm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(_(F3))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const z3=["*"];let Zc;function ba(n){var t;return(null===(t=function G3(){if(void 0===Zc&&(Zc=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Zc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Zc}())||void 0===t?void 0:t.createHTML(n))||n}function rM(n){return Error(`Unable to find icon with the name "${n}"`)}function oM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function sM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Fr{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Xc=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Fr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(be.HTML,r);if(!s)throw sM(r);const a=ba(s);return this._addSvgIconConfig(e,i,new Fr("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Fr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(be.HTML,i);if(!o)throw sM(i);const s=ba(o);return this._addSvgIconSetConfig(e,new Fr("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(be.RESOURCE_URL,e);if(!i)throw oM(e);const r=this._cachedIconsByUrl.get(i);return r?Y(Qc(r)):this._loadSvgIconFromConfig(new Fr(e,null)).pipe(At(o=>this._cachedIconsByUrl.set(i,o)),pe(o=>Qc(o)))}getNamedSvgIcon(e,i=""){const r=aM(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Ys(rM(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(Qc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(pe(i=>Qc(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Y(r):function VC(...n){const t=Rm(n),{args:e,keys:i}=G0(n),r=new Ue(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;Kt(e[u]).subscribe(ze(o,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?W0(i,a):a),o.complete())}))}});return t?r.pipe(yf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Mi(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(be.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Y(null)})))).pipe(pe(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw rM(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(At(i=>e.svgText=i),pe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(At(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(ba("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ba("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function W3(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(be.RESOURCE_URL,r);if(!a)throw oM(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(pe(u=>ba(u)),eb(()=>this._inProgressUrlFetches.delete(a)),Vm());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(aM(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return K3(o)?new Fr(o.url,null,o.options):new Fr(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(_(iM,8),_(vf),_(he,8),_(Bi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qc(n){return n.cloneNode(!0)}function aM(n,t){return n+":"+t}function K3(n){return!(!n.url||!n.options)}const J3=O2(class{constructor(n){this._elementRef=n}}),Z3=new j("mat-icon-location",{providedIn:"root",factory:function X3(){const n=Qa(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),lM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Q3=lM.map(n=>`[${n}]`).join(", "),eU=/^url\(['"]?#(.*?)['"]?\)$/;let Wt=(()=>{class n extends J3{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=yt.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function XN(n){return null!=n&&"false"!=`${n}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Q3),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)lM.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(eU):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(zn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(Xc),Kr("aria-hidden"),b(Z3),b(Bi))},n.\u0275cmp=xe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(bt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),ko("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ge],ngContentSelectors:z3,decls:1,vars:0,template:function(e,i){1&e&&(function Yy(n){const t=x()[16][6];if(!t.projection){const i=t.projection=ds(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?jx(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),function Ky(n,t=0,e){const i=x(),r=me(),o=so(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Ou(),64!=(64&o.flags)&&function UE(n,t,e){Cv(t[11],0,t,e,fv(n,e,t),vv(e.parent||t[6],e,t))}(r,i,o)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),cM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[bc],bc]}),n})();function tU(n,t){if(1&n&&(p(0,"span")(1,"mat-icon",4),g(2," help "),f(),g(3),f()),2&n){const e=k().$implicit;y(1),Ae("tooltip",e.description),y(2),ve(" ",e.name," ")}}function nU(n,t){1&n&&(p(0,"span"),g(1," ???????????? "),f())}function iU(n,t){1&n&&(p(0,"span")(1,"mat-icon"),g(2," done "),f()())}function rU(n,t){if(1&n){const e=te();p(0,"span")(1,"button",5),E("click",function(){return B(e),k(2).impossibleTaskService.stopTask()}),g(2,"Stop"),f()()}}function oU(n,t){if(1&n){const e=te();p(0,"span")(1,"button",5),E("click",function(){return B(e),k(2).impossibleTaskService.startTask()}),g(2,"Start"),f()()}}function sU(n,t){if(1&n&&(p(0,"tr")(1,"td"),T(2,tU,4,2,"span",2),T(3,nU,2,0,"span",2),f(),p(4,"td")(5,"div",3),H(6,"span"),f()(),p(7,"td"),T(8,iU,3,0,"span",2),T(9,rU,3,0,"span",2),T(10,oU,3,0,"span",2),f()()),2&n){const e=t.$implicit,i=k();y(2),D("ngIf",i.impossibleTaskService.nextTask>=e.taskType),y(1),D("ngIf",i.impossibleTaskService.nextTask<e.taskType),y(3),Nn("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%"),y(2),D("ngIf",i.impossibleTaskService.taskProgress[e.taskType].complete),y(1),D("ngIf",i.impossibleTaskService.activeTaskIndex===e.taskType),y(1),D("ngIf",-1===i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask===e.taskType)}}let aU=(()=>{class n{constructor(e,i){this.impossibleTaskService=e,this.gameStateService=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(b(jo),b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-impossible-task-panel"]],decls:7,vars:1,consts:[[1,"darkMode"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"progress-bar"],[3,"tooltip"],[3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Impossible Tasks"),f(),H(3,"hr"),p(4,"div")(5,"table"),T(6,sU,11,7,"tr",1),f()()()),2&e&&(y(6),D("ngForOf",i.impossibleTaskService.tasks))},directives:[$t,zt,Wt,Gt],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const uM={appVersion:dm(147).i8,production:!0};let lU=(()=>{class n{constructor(e){this.gameStateService=e}importClick(e){this.gameStateService.importGame(e)}exportClick(){document.getElementById("saveFileTextArea").value=this.gameStateService.getGameExport()}}return n.\u0275fac=function(e){return new(e||n)(b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-export-panel"]],decls:12,vars:0,consts:[[1,"darkMode"],["id","saveFileTextArea"],["saveFileTextArea",""],[3,"click"]],template:function(e,i){if(1&e){const r=te();p(0,"div",0)(1,"h3"),g(2,"Import/Export Save File"),f(),H(3,"hr"),p(4,"div")(5,"textarea",1,2),g(7,"To export a game, press the Export button then copy and paste the contents of this box to wherever you want to store the save data. To import a game, paste save data into this box and press the Import button. Make sure that the only thing in the box is your save data or the save may be corrupted. The best way to do this is have the game data in your clipboard, then click on this box and press Ctrl-a then Ctrl-v."),f()(),p(8,"button",3),E("click",function(){B(r);const s=Lt(6);return i.importClick(s.value)}),g(9,"Import"),f(),p(10,"button",3),E("click",function(){return i.exportClick()}),g(11,"Export"),f()()}},styles:["textarea[_ngcontent-%COMP%]{width:450px;height:450px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),cU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xe({type:n,selectors:[["app-tutorial-panel"]],decls:28,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Tutorial"),f(),H(3,"hr"),p(4,"div",1)(5,"span"),g(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),f(),H(7,"hr"),p(8,"span"),g(9," The game is intended to be played on a laptop or desktop computer using the Chrome browser. "),f(),H(10,"hr"),p(11,"span"),g(12," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),f(),H(13,"hr"),p(14,"span"),g(15," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),f(),H(16,"hr"),p(17,"span"),g(18," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),f(),H(19,"hr"),p(20,"span"),g(21," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),f(),H(22,"hr"),p(23,"span"),g(24," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),f(),H(25,"hr"),p(26,"span"),g(27," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. Now, it's time to develop your potential for immortality. Get to it! "),f()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:500px}"]}),n})(),uU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xe({type:n,selectors:[["app-changelog-panel"]],decls:166,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Change Log"),f(),H(3,"hr"),p(4,"div",1)(5,"table")(6,"tr")(7,"td"),g(8,"v1.0.46"),f(),p(9,"td"),g(10,"Condensing your Soul Core now provides greater benefits."),f()(),p(11,"tr")(12,"td"),g(13,"v1.0.45"),f(),p(14,"td"),g(15,"A powerful new pill can now be created by aspiring immortals who have mastered many jobs."),f()(),p(16,"tr")(17,"td"),g(18,"v1.0.44"),f(),p(19,"td"),g(20,"Autobuy options are now configurable if you have found the secret knowledge needed."),f()(),p(21,"tr")(22,"td"),g(23,"v1.0.43"),f(),p(24,"td"),g(25,"When the game is paused you can advance a day with the Enter key. Time now moves faster the older you are starting at 5,000 years old. Base lifespan now increases based on total days lived, not number of lives lived. Balance changes to attributes and aptitudes."),f()(),p(26,"tr")(27,"td"),g(28,"v1.0.42"),f(),p(29,"td"),g(30,"Gaining large numbers of items at once is now much more efficient, so having obscenely huge farms no longer breaks the game."),f()(),p(31,"tr")(32,"td"),g(33,"v1.0.41"),f(),p(34,"td"),g(35,"Panel size fixes. Bloodline ascension rank 5. Fixed log line duplication bug. Pause on death should no longer allow extra days to pass before pausing."),f()(),p(36,"tr")(37,"td"),g(38,"v1.0.40"),f(),p(39,"td"),g(40,"Changed the way damage and armor work. Late-game fights should now be more epic and interesting."),f()(),p(41,"tr")(42,"td"),g(43,"v1.0.39"),f(),p(44,"td"),g(45,"Better descriptions for resting activities. Shift-click activities to load them onto the schedule 10 at a time. Canopy beds give more health."),f()(),p(46,"tr")(47,"td"),g(48,"v1.0.38"),f(),p(49,"td"),g(50,"Better performance for aspiring immortals who want to buy vast tracts of land."),f()(),p(51,"tr")(52,"td"),g(53,"v1.0.37"),f(),p(54,"td"),g(55,"New status bars that show values on non-chrome browsers."),f()(),p(56,"tr")(57,"td"),g(58,"v1.0.36"),f(),p(59,"td"),g(60,"You can now choose how much money to reserve when doing automatic purchases."),f()(),p(61,"tr")(62,"td"),g(63,"v1.0.35"),f(),p(64,"td"),g(65,"The log panel can now be resized by sliding the slider up and down. The Ascension Techniques panel stays unlocked once unlocked. Old junky gems can now be easily removed if you know how."),f()(),p(66,"tr")(67,"td"),g(68,"v1.0.34"),f(),p(69,"td"),g(70,"Style fix, clear schedule button, and auto-equip can now be turned off in the options."),f()(),p(71,"tr")(72,"td"),g(73,"v1.0.33"),f(),p(74,"td"),g(75,"Some styling improvements and a fix to very late game reward loot."),f()(),p(76,"tr")(77,"td"),g(78,"v1.0.32"),f(),p(79,"td"),g(80,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),f()(),p(81,"tr")(82,"td"),g(83,"v1.0.31"),f(),p(84,"td"),g(85,"Some balance changes."),f()(),p(86,"tr")(87,"td"),g(88,"v1.0.30"),f(),p(89,"td"),g(90,"A certain impossible task is now slightly less impossible."),f()(),p(91,"tr")(92,"td"),g(93,"v1.0.29"),f(),p(94,"td"),g(95,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),f()(),p(96,"tr")(97,"td"),g(98,"v1.0.28"),f(),p(99,"td"),g(100,"Improvements to automatic home purchasing."),f()(),p(101,"tr")(102,"td"),g(103,"v1.0.27"),f(),p(104,"td"),g(105,"You can now save and load an activity schedule."),f()(),p(106,"tr")(107,"td"),g(108,"v1.0.26"),f(),p(109,"td"),g(110,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),f()(),p(111,"tr")(112,"td"),g(113,"v1.0.25"),f(),p(114,"td"),g(115,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),f()(),p(116,"tr")(117,"td"),g(118,"v1.0.24"),f(),p(119,"td"),g(120,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),f()(),p(121,"tr")(122,"td"),g(123,"v1.0.23"),f(),p(124,"td"),g(125,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),f()(),p(126,"tr")(127,"td"),g(128,"v1.0.22"),f(),p(129,"td"),g(130,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),f()(),p(131,"tr")(132,"td"),g(133,"v1.0.21"),f(),p(134,"td"),g(135,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),f()(),p(136,"tr")(137,"td"),g(138,"v1.0.20"),f(),p(139,"td"),g(140,"Added Discord link."),f()(),p(141,"tr")(142,"td"),g(143,"v1.0.19"),f(),p(144,"td"),g(145,"Added changelog."),f()(),p(146,"tr")(147,"td"),g(148,"v1.0.18"),f(),p(149,"td"),g(150,"New follower types are now available."),f()(),p(151,"tr")(152,"td"),g(153,"v1.0.17"),f(),p(154,"td"),g(155,"Crafting log entries can now be filtered out."),f()(),p(156,"tr")(157,"td"),g(158,"v1.0.16"),f(),p(159,"td"),g(160,"Added tutorial help button."),f()(),p(161,"tr")(162,"td"),g(163,"v0.0.0 - v1.0.15"),f(),p(164,"td"),g(165,"Created and launched the game."),f()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}"]}),n})(),hU=(()=>{class n{constructor(e){this.nativeElement=e.nativeElement}setMaxHeight(e){this.nativeElement.setAttribute("style",`max-height: ${e}px;`)}getSize(){return{width:this.nativeElement.clientWidth,height:this.nativeElement.clientHeight}}}return n.\u0275fac=function(e){return new(e||n)(b(Ze))},n.\u0275dir=$({type:n,selectors:[["","appResizable",""]],exportAs:["appResizable"]}),n})();const wa=function(n){return{iconActive:n}};function dU(n,t){if(1&n){const e=te();p(0,"mat-icon",17),E("click",function(){return B(e),k().fastClick()}),g(1," fast_forward "),f()}if(2&n){const e=k();D("ngClass",wt(1,wa,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function fU(n,t){if(1&n){const e=te();p(0,"mat-icon",18),E("click",function(){return B(e),k().fasterClick()}),g(1," skip_next "),f()}if(2&n){const e=k();D("ngClass",wt(1,wa,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function pU(n,t){if(1&n){const e=te();p(0,"mat-icon",19),E("click",function(){return B(e),k().fastestClick()}),g(1," bolt "),f()}if(2&n){const e=k();D("ngClass",wt(1,wa,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function mU(n,t){if(1&n){const e=te();p(0,"input",20),E("change",function(r){return B(e),k().pauseOnDeath(r)}),f()}2&n&&D("checked",k().activityService.pauseOnDeath)}function gU(n,t){1&n&&(p(0,"label",21),g(1,"Pause on Death"),f())}function vU(n,t){if(1&n){const e=te();p(0,"h6")(1,"input",22),E("change",function(r){return B(e),k().useSavedTicks(r)}),f(),p(2,"label",23),g(3),U(4,"number"),f()()}if(2&n){const e=k();y(1),D("checked",e.mainLoopService.useSavedTicks),y(2),ve("Use banked time to accelerate reality. ",Bt(4,2,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}const cm=function(n){return{currentRow:n}};function yU(n,t){if(1&n){const e=te();p(0,"tr",24),E("dragover",function(r){return B(e),k().allowDrop(r)})("drop",function(r){const s=B(e).index;return k().drop(s,r)})("dragstart",function(r){const s=B(e).index;return k().drag(s,r)}),p(1,"td",25),g(2),f(),p(3,"td",25)(4,"div",26),H(5,"span"),f()(),p(6,"td",25)(7,"mat-icon",27),E("click",function(r){const s=B(e).$implicit;return k().onMinusClick(s,r)}),g(8,"remove"),f(),p(9,"mat-icon",28),E("click",function(r){const s=B(e).$implicit;return k().onPlusClick(s,r)}),g(10,"add"),f(),p(11,"mat-icon",29),E("click",function(){const o=B(e).$implicit;return k().onRemoveClick(o)}),g(12,"clear"),f()()()}if(2&n){const e=t.$implicit,i=t.index,r=k();y(1),D("ngClass",wt(8,cm,i===r.activityService.currentIndex)),y(1),_l("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),y(1),D("ngClass",wt(10,cm,i===r.activityService.currentIndex)),y(2),Nn("width",100*(i!==r.activityService.currentIndex?e.repeatTimes:r.activityService.currentTickCount)/e.repeatTimes,"%"),y(1),D("ngClass",wt(12,cm,i===r.activityService.currentIndex))}}function _U(n,t){if(1&n){const e=te();p(0,"tr")(1,"td"),g(2),f(),p(3,"td")(4,"div",32),H(5,"span"),f()(),p(6,"td")(7,"mat-icon",29),E("click",function(){return B(e),k(2).removeSpiritActivity()}),g(8,"clear"),f()()()}if(2&n){const e=k(2);y(2),He(e.activityService.getActivityByType(e.activityService.spiritActivity).name[e.activityService.getActivityByType(e.activityService.spiritActivity).level])}}function SU(n,t){if(1&n){const e=te();p(0,"table",30),E("drop",function(r){return B(e),k().spiritActivityDrop(r)})("dragover",function(r){return B(e),k().allowDrop(r)}),p(1,"tr")(2,"td",31),g(3," Spiritual Projection "),f()(),T(4,_U,9,1,"tr",10),f()}if(2&n){const e=k();y(4),D("ngIf",e.activityService.spiritActivity)}}let bU=(()=>{class n{constructor(e,i,r){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1}ngOnInit(){}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}onPlusClick(e,i){i.preventDefault(),i.stopPropagation(),i.shiftKey?e.repeatTimes+=10:e.repeatTimes++}onMinusClick(e,i){i.preventDefault(),i.stopPropagation(),i.shiftKey?e.repeatTimes-=10:e.repeatTimes--,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}removeSpiritActivity(){this.activityService.spiritActivity=null}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useSavedTicks=e.target.checked)}allowDrop(e){var i,r;("activityloop"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let s=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""==s){if(s=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""==s)return;let l={activity:parseInt(s),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{let a=parseInt(s);if(a>=0&&a<this.activityService.activityLoop.length){let l=this.activityService.activityLoop.splice(a,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault(),e.stopPropagation();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""==o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""==o)return;let s=parseInt(o);this.activityService.spiritActivity=s}else{let s=parseInt(o);s>=0&&s<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[s].activity)}}}return n.\u0275fac=function(e){return new(e||n)(b(ln),b($n),b(Be))},n.\u0275cmp=xe({type:n,selectors:[["app-time-panel"]],decls:28,vars:14,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar). Clicking this again while paused will step time forward a single day. When paused, you can also advance one day by pressing the Enter key.",1,"iconButton",3,"ngClass","click"],["tooltip","Standard Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fast Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Faster Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Fastest Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],[1,"overflow"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Save your current schedule of actviities.",1,"iconButton",3,"click"],["tooltip","Load your saved schedule of actviities. Note that activities that you cannot do right now will not be loaded.",1,"iconButton",3,"click"],["tooltip","Clear your current schedule.",1,"iconButton",3,"click"],["tooltip","Fast Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Faster Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fastest Game Speed",1,"iconButton",3,"ngClass","click"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["type","checkbox","id","useSavedTicks",3,"checked","change"],["for","useSavedTicks"],["draggable","true",3,"dragover","drop","dragstart"],[3,"ngClass"],[1,"progress-bar"],["tooltip","Spend fewer days on this. Shift-click to remove 10 days.",1,"iconButton",3,"click"],["tooltip","Spend more days on this. Shift-click to add 10 days.",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"progress-bar","indeterminate"]],template:function(e,i){1&e&&(p(0,"div",0),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),p(1,"h3",1)(2,"span",2)(3,"mat-icon"),g(4," calendar_month "),f(),g(5," How will you spend your days? "),f(),p(6,"mat-icon",3),E("click",function(){return i.pauseClick()}),g(7," pause "),f(),p(8,"mat-icon",4),E("click",function(){return i.standardClick()}),g(9," play_arrow "),f(),T(10,dU,2,3,"mat-icon",5),T(11,fU,2,3,"mat-icon",6),T(12,pU,2,3,"mat-icon",7),T(13,mU,1,1,"input",8),T(14,gU,2,0,"label",9),T(15,vU,5,5,"h6",10),f(),p(16,"div",11)(17,"table"),T(18,yU,13,14,"tr",12),f(),T(19,SU,5,1,"table",13),f(),p(20,"div")(21,"span")(22,"mat-icon",14),E("click",function(){return i.activityService.saveActivityLoop()}),g(23," content_paste "),f(),p(24,"mat-icon",15),E("click",function(){return i.activityService.loadActivityLoop()}),g(25," content_paste_go "),f(),p(26,"mat-icon",16),E("click",function(){return i.activityService.activityLoop=[]}),g(27," delete_sweep "),f()()()()),2&e&&(y(6),D("ngClass",wt(10,wa,i.mainLoopService.pause)),y(2),D("ngClass",wt(12,wa,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),y(2),D("ngIf",i.mainLoopService.unlockFastSpeed),y(1),D("ngIf",i.mainLoopService.unlockFasterSpeed),y(1),D("ngIf",i.mainLoopService.unlockFastestSpeed),y(1),D("ngIf",i.activityService.autoRestart),y(1),D("ngIf",i.activityService.autoRestart),y(1),D("ngIf",i.mainLoopService.bankedTicks>0),y(3),D("ngForOf",i.activityService.activityLoop),y(1),D("ngIf",i.characterService.characterState.manaUnlocked))},directives:[Gt,Wt,$i,zt,$t],pipes:[yr],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{background-color:var(--activeButtonColor)}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),CU=(()=>{class n extends class wU{constructor(){this.mouseMoveListener=this.handleMouseMove.bind(this),this.mouseUpListener=this.handleMouseUp.bind(this)}handleMouseDown(t){window.addEventListener("mousemove",this.mouseMoveListener),window.addEventListener("mouseup",this.mouseUpListener)}handleMouseUp(){window.removeEventListener("mousemove",this.mouseMoveListener),window.removeEventListener("mouseup",this.mouseUpListener)}}{constructor(){super(),this.dragBeginY=0}handleMouseDown(e){var i,r;super.handleMouseDown(e),this.dragBeginY=e.y,this.topInitialSize=null===(i=this.top)||void 0===i?void 0:i.getSize(),this.bottomInitialSize=null===(r=this.bottom)||void 0===r?void 0:r.getSize()}handleMouseMove(e){var i,r;if(void 0===this.topInitialSize||void 0===this.bottomInitialSize)throw new Error("initial size was not defined");const o=this.topInitialSize.height-this.dragBeginY+e.y,s=this.bottomInitialSize.height+this.dragBeginY-e.y;o>0&&s>0&&(null===(i=this.top)||void 0===i||i.setMaxHeight(o),null===(r=this.bottom)||void 0===r||r.setMaxHeight(s))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xe({type:n,selectors:[["app-vertical-panel-slider"]],inputs:{top:"top",bottom:"bottom"},features:[ge],decls:3,vars:0,consts:[[1,"handle"],[1,"resize-vertical",3,"mousedown"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"mat-icon",1),E("mousedown",function(o){return i.handleMouseDown(o)}),g(2,"drag_handle"),f()())},directives:[Wt],styles:[".handle[_ngcontent-%COMP%]{display:flex;justify-content:center}.resize-vertical[_ngcontent-%COMP%]{color:var(--bodyText);cursor:ns-resize;font-size:20px;height:20px;width:20px}"]}),n})();function DU(n,t){if(1&n&&(p(0,"span",6),U(1,"bigNumber"),U(2,"number"),U(3,"bigNumber"),U(4,"number"),p(5,"mat-icon"),g(6),f(),g(7),U(8,"camelToTitle"),U(9,"bigNumber"),U(10,"number"),U(11,"number"),f()),2&n){const e=k().$implicit,i=k();rd("tooltip","",e.value.description," Your aptitude of \n        ",e.value.aptitude>1e7?ne(1,6,e.value.aptitude):Bt(2,8,e.value.aptitude,"1.0-2"),"\n        multiplies your gains by \n        ",i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)>1e7?ne(3,11,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)):Bt(4,13,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),y(6),He(e.value.icon),y(1),yn(" ",ne(8,16,e.key),": ",e.value.value>1e7?ne(9,18,e.value.value):e.value.value>1e3?Bt(10,20,e.value.value,"1.0-0"):Bt(11,23,e.value.value,"1.0-1")," ")}}function MU(n,t){if(1&n&&(p(0,"div"),T(1,DU,12,26,"span",5),f()),2&n){const e=t.$implicit;y(1),D("ngIf",0!==e.value.value)}}function kU(n,t){if(1&n){const e=te();p(0,"div")(1,"span",8),U(2,"titlecase"),U(3,"number"),U(4,"number"),g(5),U(6,"titlecase"),U(7,"titlecase"),f(),p(8,"mat-icon",9),E("click",function(r){const s=B(e).$implicit;return k(2).dismissFollower(r,s)}),g(9," cancel "),f()()}if(2&n){const e=t.$implicit,i=k(2);y(1),od("tooltip","",e.name," is a level ",e.power," ",ne(2,10,e.job),". ",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",Bt(3,12,e.age/365,"1.0-1")," years and will serve for another ",Bt(4,15,(e.lifespan-e.age)/365,"1.0-1")," more years."),y(4),yn(" ",ne(6,18,e.name)," the ",ne(7,20,e.job)," "),y(3),D("tooltip",i.followerService.autoDismissUnlocked?"Dismiss this follower.\n\nShift-click to automatically dismiss this job type":"Dismiss this follower.")}}function EU(n,t){if(1&n&&(p(0,"div",7),T(1,kU,10,22,"div",2),f()),2&n){const e=k();y(1),D("ngForOf",e.followerService.followers)}}let hM=(()=>{class n{constructor(e,i){this.characterService=e,this.followerService=i,this.originalOrder=()=>0,this.character=e.characterState}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissFollowerJob(i.job):this.followerService.dismissFollower(i)}}return n.\u0275fac=function(e){return new(e||n)(b(Be),b(Dr))},n.\u0275cmp=xe({type:n,selectors:[["app-attributes-panel"]],decls:15,vars:5,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],["class","followerPanel",4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],[1,"followerPanel"],[3,"tooltip"],["tooltipClass","tooltip-break",1,"smallerIcon",3,"tooltip","click"]],template:function(e,i){1&e&&(p(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),g(5," bar_chart "),f(),g(6," Attributes "),f(),T(7,MU,2,1,"div",2),U(8,"keyvalue"),f(),p(9,"td")(10,"h3",0)(11,"mat-icon",3),g(12," person "),f(),g(13," Followers "),f(),T(14,EU,2,1,"div",4),f()()()),2&e&&(y(7),D("ngForOf",Bt(8,2,i.character.attributes,i.originalOrder)),y(7),D("ngIf",i.followerService.followersUnlocked))},styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function TU(n,t){1&n&&(p(0,"td",1),g(1," You expect to live forever. "),f())}function xU(n,t){if(1&n&&(p(0,"td",1),g(1),U(2,"number"),f()),2&n){const e=k();y(1),ve(" You expect to live ",Bt(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}let dM=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(b(Be))},n.\u0275cmp=xe({type:n,selectors:[["app-health-panel"]],decls:35,vars:30,consts:[[1,"panelHeader"],[1,"headerCell"],["class","headerCell",4,"ngIf"],[3,"tooltip"],["placement","right",3,"tooltip"],[1,"health"],[1,"progress-bar"],[1,"stamina"],[1,"nourishment"],[1,"mana"]],template:function(e,i){1&e&&(p(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),g(4),U(5,"floor"),U(6,"number"),f(),T(7,TU,2,0,"td",2),T(8,xU,3,4,"td",2),p(9,"td")(10,"mat-icon",3),g(11,"timer"),f()()()()(),p(12,"table")(13,"tr")(14,"td",4),g(15,"Health"),f(),p(16,"td",5)(17,"div",6),H(18,"span"),f()(),p(19,"td",4),g(20,"Stamina"),f(),p(21,"td",7)(22,"div",6),H(23,"span"),f()()(),p(24,"tr")(25,"td",4),g(26,"Nutrition"),f(),p(27,"td",8)(28,"div",6),H(29,"span"),f()(),p(30,"td",4),g(31,"Mana"),f(),p(32,"td",9)(33,"div",6),H(34,"span"),f()()()()),2&e&&(y(4),yn(" You are ",ne(5,25,i.characterService.characterState.age/365)," years, ",Bt(6,27,i.characterService.characterState.age%365,"1.0-0")," days old. "),y(3),D("ngIf",i.characterService.characterState.immortal),y(1),D("ngIf",!i.characterService.characterState.immortal),y(2),Ae("tooltip",i.characterService.lifespanTooltip),y(4),Ae("tooltip",i.characterService.characterState.status.health.description),y(3),bt("value",i.Math.floor(i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),y(1),Nn("width",100*i.Math.floor(i.characterService.characterState.status.health.value)/i.Math.floor(i.characterService.characterState.status.health.max),"%"),y(1),Ae("tooltip",i.characterService.characterState.status.stamina.description),y(3),bt("value",i.Math.floor(i.characterService.characterState.status.stamina.value))("max",i.Math.floor(i.characterService.characterState.status.stamina.max)),y(1),Nn("width",100*i.Math.floor(i.characterService.characterState.status.stamina.value)/i.Math.floor(i.characterService.characterState.status.stamina.max),"%"),y(2),Ae("tooltip",i.characterService.characterState.status.nourishment.description),y(3),bt("value",i.Math.floor(i.characterService.characterState.status.nourishment.value))("max",i.Math.floor(i.characterService.characterState.status.nourishment.max)),y(1),Nn("width",100*i.Math.floor(i.characterService.characterState.status.nourishment.value)/i.Math.floor(i.characterService.characterState.status.nourishment.max),"%"),y(1),Ae("tooltip",i.characterService.characterState.status.mana.description),y(3),bt("value",i.Math.floor(i.characterService.characterState.status.mana.value))("max",i.Math.floor(i.characterService.characterState.status.mana.max)),y(1),Nn("width",100*i.Math.floor(i.characterService.characterState.status.mana.value)/i.Math.floor(i.characterService.characterState.status.mana.max),"%"))},styles:[".panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--manaColor)}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function AU(n,t){1&n&&(p(0,"mat-icon",10),g(1," model_training "),f())}function IU(n,t){if(1&n&&(p(0,"span")(1,"mat-icon",11),U(2,"number"),g(3," attach_money "),f()()),2&n){const e=k(2).$implicit;y(1),ji("tooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",Bt(2,1,e.lastIncome,"1.0-1")," taels.")}}function PU(n,t){if(1&n){const e=te();p(0,"tr",5),E("dragstart",function(r){B(e);const o=k().$implicit;return k().drag(o,r)}),p(1,"td")(2,"span",6)(3,"button",7),E("click",function(r){B(e);const o=k().$implicit;return k().onClick(o,r)}),g(4),f(),T(5,AU,2,0,"mat-icon",8),f()(),p(6,"td"),g(7),H(8,"br"),g(9),T(10,IU,4,4,"span",9),f()()}if(2&n){const e=k().$implicit;y(4),ve(" ",e.name[e.level]," "),y(1),D("ngIf",e.skipApprenticeshipLevel>0),y(2),ve(" ",e.description[e.level]," "),y(2),ve(" ",e.consequenceDescription[e.level]," "),y(1),D("ngIf",e.lastIncome&&e.lastIncome>0)}}function OU(n,t){if(1&n&&(Co(0),T(1,PU,11,5,"tr",4),Do()),2&n){const e=t.$implicit;y(1),D("ngIf",e.unlocked)}}let RU=(()=>{class n{constructor(e,i,r){this.gameStateService=e,this.activityService=i,this.character=r.characterState}onClick(e,i){let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}}return n.\u0275fac=function(e){return new(e||n)(b(ci),b($n),b(Be))},n.\u0275cmp=xe({type:n,selectors:[["app-activity-panel"]],decls:7,vars:1,consts:[[1,"panelHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],["draggable","true",3,"dragstart",4,"ngIf"],["draggable","true",3,"dragstart"],[1,"noWrap"],["tooltip","Add this to your schedule\n\n                    Shift- or Ctrl-click to repeat it 10x\n                    Shift-Ctrl-click to repeat it 100x\n                    Alt-click to add it to the top","tooltipClass","tooltip-break",3,"click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],[4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."],[3,"tooltip"]],template:function(e,i){1&e&&(p(0,"h3",0)(1,"mat-icon",1),g(2," help "),f(),g(3," Activities\n"),f(),p(4,"div",2)(5,"table"),T(6,OU,2,1,"ng-container",3),f()()),2&e&&(y(6),D("ngForOf",i.activityService.activities))},directives:[Wt,Gt,$t,zt],pipes:[yr],styles:["td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function FU(n,t){if(1&n){const e=te();p(0,"span",11)(1,"input",12),E("change",function(r){return B(e),k(2).manaShieldToggle(r)}),f(),p(2,"label",13),g(3,"Activate Mana Shield"),f()()}if(2&n){const e=k(2);y(1),D("checked",e.battleService.enableManaShield)}}function LU(n,t){if(1&n){const e=te();p(0,"span",14)(1,"input",15),E("change",function(r){return B(e),k(2).manaAttackToggle(r)}),f(),p(2,"label",16),g(3,"Activate Mana Strike"),f()()}if(2&n){const e=k(2);y(1),D("checked",e.battleService.enableManaAttack)}}function NU(n,t){if(1&n&&(p(0,"span"),T(1,FU,4,1,"span",9),T(2,LU,4,1,"span",10),f()),2&n){const e=k();y(1),D("ngIf",e.battleService.manaShieldUnlocked),y(1),D("ngIf",e.battleService.manaAttackUnlocked)}}function BU(n,t){if(1&n){const e=te();p(0,"button",17),E("click",function(){return B(e),k().battleService.trouble()}),g(1,"Look for Trouble"),f()}}function VU(n,t){if(1&n){const e=te();p(0,"input",18),E("change",function(r){return B(e),k().autoTroubleChange(r)}),f()}2&n&&D("checked",k().battleService.autoTroubleEnabled)}function HU(n,t){1&n&&(p(0,"label",19),g(1,"Look for Trouble"),f())}function jU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),f())}function UU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),f())}function qU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),f())}function $U(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),f())}function zU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),f())}function GU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"crisis_alert"),f())}function WU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),f())}function YU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),f())}function KU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),f())}function JU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),f())}function ZU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),f())}function XU(n,t){if(1&n&&(p(0,"table",20)(1,"tr")(2,"td",21),H(3,"mat-icon",22),f(),p(4,"td",21),T(5,jU,2,0,"mat-icon",23),f(),p(6,"td",21),T(7,UU,2,0,"mat-icon",23),f(),p(8,"td",21),T(9,qU,2,0,"mat-icon",23),f(),p(10,"td",21),T(11,$U,2,0,"mat-icon",23),f(),p(12,"td",21),T(13,zU,2,0,"mat-icon",23),f(),p(14,"td",21),T(15,GU,2,0,"mat-icon",23),f(),p(16,"td",21),T(17,WU,2,0,"mat-icon",23),f(),p(18,"td",21),T(19,YU,2,0,"mat-icon",23),f(),p(20,"td",21),T(21,KU,2,0,"mat-icon",23),f(),p(22,"td",21),T(23,JU,2,0,"mat-icon",23),f(),p(24,"td",21),T(25,ZU,2,0,"mat-icon",23),f()()()),2&n){const e=k();y(5),D("ngIf",4==e.battleService.tickCounter||5==e.battleService.tickCounter),y(2),D("ngIf",3==e.battleService.tickCounter||6==e.battleService.tickCounter),y(2),D("ngIf",2==e.battleService.tickCounter||7==e.battleService.tickCounter),y(2),D("ngIf",1==e.battleService.tickCounter||8==e.battleService.tickCounter),y(2),D("ngIf",0==e.battleService.tickCounter||9==e.battleService.tickCounter),y(2),D("ngIf",10==e.battleService.tickCounter),y(2),D("ngIf",0==e.battleService.tickCounter||9==e.battleService.tickCounter),y(2),D("ngIf",1==e.battleService.tickCounter||8==e.battleService.tickCounter),y(2),D("ngIf",2==e.battleService.tickCounter||7==e.battleService.tickCounter),y(2),D("ngIf",3==e.battleService.tickCounter||6==e.battleService.tickCounter),y(2),D("ngIf",4==e.battleService.tickCounter||5==e.battleService.tickCounter)}}function QU(n,t){if(1&n){const e=te();p(0,"button",17),E("click",function(){B(e);const r=k().$implicit;return k().battleService.fight(r)}),g(1,"Fight"),f()}}function eq(n,t){1&n&&(p(0,"span"),g(1,"Fighting"),f())}function tq(n,t){if(1&n&&(Co(0),p(1,"tr")(2,"td"),T(3,QU,2,0,"button",3),T(4,eq,2,0,"span",1),f(),p(5,"td",24),g(6),U(7,"titlecase"),f(),p(8,"td",25)(9,"div",26),H(10,"span"),f()(),p(11,"td",27)(12,"mat-icon"),g(13,"manage_accounts"),f(),g(14),U(15,"percent"),f(),p(16,"td",28)(17,"mat-icon"),g(18,"flare"),f(),g(19),U(20,"bigNumber"),f(),p(21,"td",29)(22,"mat-icon"),g(23,"shield"),f(),g(24),U(25,"bigNumber"),f()(),Do()),2&n){const e=t.$implicit,i=k();y(3),D("ngIf",i.battleService.currentEnemy!==e),y(1),D("ngIf",i.battleService.currentEnemy===e),y(2),yn("",ne(7,11,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),y(3),bt("value",i.Math.floor(e.enemy.health))("max",i.Math.floor(e.enemy.maxHealth)),y(1),Nn("width",100*i.Math.floor(e.enemy.health)/i.Math.floor(e.enemy.maxHealth),"%"),y(4),He(ne(15,13,e.enemy.accuracy)),y(5),He(ne(20,15,e.enemy.attack)),y(5),He(ne(25,17,e.enemy.defense))}}let fM=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i,this.Math=Math}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}manaShieldToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaShield=e.target.checked)}manaAttackToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaAttack=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Ti),b(Be))},n.\u0275cmp=xe({type:n,selectors:[["app-battle-panel"]],decls:13,vars:6,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],["tooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],["class","clashTable",4,"ngIf"],[4,"ngFor","ngForOf"],["class","battleOption","tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["class","battleOption","tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",1,"battleOption"],["type","checkbox","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",1,"battleOption"],["type","checkbox","id","manaStrike",3,"checked","change"],["for","manaStrike"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"clashTable"],[1,"fixedCell"],[1,"clashIcon"],["class","clashIcon",4,"ngIf"],[1,"enemyName"],[1,"health"],[1,"progress-bar"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(p(0,"h3")(1,"mat-icon",0),g(2,"fort"),f(),g(3," Battles "),T(4,NU,3,2,"span",1),p(5,"span",2),T(6,BU,2,0,"button",3),T(7,VU,1,1,"input",4),T(8,HU,2,0,"label",5),f()(),p(9,"div",6),T(10,XU,26,11,"table",7),p(11,"table"),T(12,tq,26,19,"ng-container",8),f()()),2&e&&(y(4),D("ngIf",i.characterService.characterState.manaUnlocked),y(2),D("ngIf",!i.battleService.autoTroubleUnlocked),y(1),D("ngIf",i.battleService.autoTroubleUnlocked),y(1),D("ngIf",i.battleService.autoTroubleUnlocked),y(2),D("ngIf",i.battleService.enemies.length>0),y(2),D("ngForOf",i.battleService.enemies))},styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.battleOption[_ngcontent-%COMP%]{margin-left:10px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{min-height:60px}.enemyName[_ngcontent-%COMP%]{min-width:200px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Ko=function(n){return{highlightSlot:n}};let pM=(()=>{class n{constructor(e,i){this.characterService=e,this.inventoryService=i,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Mr(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();let o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){let a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(Be),b(X))},n.\u0275cmp=xe({type:n,selectors:[["app-equipment-panel"]],decls:47,vars:51,consts:[[1,"panelHeader"],["draggable","true","placement","left",1,"itemSlot",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["rowspan","2"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons."],["tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor."]],template:function(e,i){1&e&&(p(0,"h3",0),g(1,"Equipment"),f(),p(2,"table")(3,"tr"),H(4,"td"),p(5,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)})("dblclick",function(o){return i.slotDoubleClicked("head",o)}),g(6),U(7,"titlecase"),f(),H(8,"td"),f(),p(9,"tr")(10,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)})("dblclick",function(o){return i.slotDoubleClicked("rightHand",o)}),g(11),U(12,"titlecase"),f(),p(13,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)})("dblclick",function(o){return i.slotDoubleClicked("body",o)}),g(14),U(15,"titlecase"),f(),p(16,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)})("dblclick",function(o){return i.slotDoubleClicked("leftHand",o)}),g(17),U(18,"titlecase"),f()(),p(19,"tr")(20,"td",2)(21,"span",3)(22,"mat-icon"),g(23,"manage_accounts"),f(),g(24),U(25,"percent"),f(),H(26,"br"),p(27,"span",4)(28,"mat-icon"),g(29,"flare"),f(),g(30),U(31,"bigNumber"),f(),H(32,"br"),p(33,"span",5)(34,"mat-icon"),g(35,"shield"),f(),g(36),U(37,"bigNumber"),f()(),p(38,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)})("dblclick",function(o){return i.slotDoubleClicked("legs",o)}),g(39),U(40,"titlecase"),f(),H(41,"td"),f(),p(42,"tr")(43,"td",1),E("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)})("dblclick",function(o){return i.slotDoubleClicked("feet",o)}),g(44),U(45,"titlecase"),f(),H(46,"td"),f()()),2&e&&(y(5),Ae("tooltip",null==i.character.equipment.head?null:i.character.equipment.head.description),D("ngClass",wt(39,Ko,"head"===i.getSelectedItemSlot())),y(1),ve(" ",ne(7,21,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),y(4),Ae("tooltip",null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description),D("ngClass",wt(41,Ko,"rightHand"===i.getSelectedItemSlot())),y(1),ve(" ",ne(12,23,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),y(2),Ae("tooltip",null==i.character.equipment.body?null:i.character.equipment.body.description),D("ngClass",wt(43,Ko,"body"===i.getSelectedItemSlot())),y(1),ve(" ",ne(15,25,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),y(2),Ae("tooltip",null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description),D("ngClass",wt(45,Ko,"leftHand"===i.getSelectedItemSlot())),y(1),ve(" ",ne(18,27,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),y(7),He(ne(25,29,i.character.accuracy)),y(6),He(ne(31,31,i.character.attackPower)),y(6),He(ne(37,33,i.character.defense)),y(2),Ae("tooltip",null==i.character.equipment.legs?null:i.character.equipment.legs.description),D("ngClass",wt(47,Ko,"legs"===i.getSelectedItemSlot())),y(1),ve(" ",ne(40,35,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),y(4),Ae("tooltip",null==i.character.equipment.feet?null:i.character.equipment.feet.description),D("ngClass",wt(49,Ko,"feet"===i.getSelectedItemSlot())),y(1),ve(" ",ne(45,37,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},styles:[".itemSlot[_ngcontent-%COMP%]{width:80px;height:32px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}table[_ngcontent-%COMP%]{margin:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const nq=function(n,t){return{selectedItem:n,ownedItem:t}};function iq(n,t){if(1&n){const e=te();p(0,"div")(1,"table",4),E("click",function(){const o=B(e).$implicit;return k().slotClicked(o)}),p(2,"tr")(3,"mat-icon"),g(4),f()(),p(5,"tr"),g(6),U(7,"titlecase"),f()(),p(8,"div",5)(9,"span"),g(10),U(11,"number"),f()()()}if(2&n){const e=t.$implicit,i=k();y(1),Ae("tooltip",e.description),D("ngClass",yd(10,nq,e===i.storeService.selectedItem,i.homeService.furniture[e.slot]===e)),y(3),He(e.slot),y(2),He(ne(7,5,e.name)),y(4),He(Bt(11,7,i.storeService.furniturePrices[e.name],"1.0-0"))}}let rq=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(Wo),b(Be),b(at),b(X),b(qn),b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-furniture-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Furniture Shop"),f(),H(3,"hr"),p(4,"div",1),T(5,iq,12,13,"div",2),f(),p(6,"button",3),E("click",function(){return i.storeService.buyFurniture()}),g(7," Buy "),f()()),2&e&&(y(5),D("ngForOf",i.storeService.furniture),y(1),D("disabled",i.buyDisabled))},directives:[$t,$i,Gt,Wt],pipes:[wn,yr],styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor)}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function oq(n,t){if(1&n&&(p(0,"div")(1,"table",7)(2,"tr"),g(3),U(4,"titlecase"),f(),p(5,"tr"),g(6),f(),p(7,"tr"),g(8),U(9,"percent"),f()()()),2&n){const e=t.$implicit;y(1),Ui("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),y(2),He(ne(4,5,e.cropName)),y(3),He(e.yield),y(2),He(ne(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let mM=(()=>{class n{constructor(e,i,r){this.homeService=e,this.characterService=i,this.gameStateService=r}clearClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.clearField(10):e.ctrlKey?this.homeService.clearField(-1):this.homeService.clearField()}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(at),b(Be),b(ci))},n.\u0275cmp=xe({type:n,selectors:[["app-farm-panel"]],decls:18,vars:10,consts:[[1,"darkMode"],[1,"yieldText"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Your Farm"),f(),H(3,"hr"),p(4,"div",1)(5,"span"),g(6),U(7,"bigNumber"),U(8,"bigNumber"),f(),p(9,"mat-icon",2),E("click",function(o){return i.buyClicked(o)}),U(10,"bigNumber"),g(11," add "),f(),p(12,"mat-icon",3),E("click",function(o){return i.plowClicked(o)}),g(13," waves "),f(),p(14,"mat-icon",4),E("click",function(o){return i.clearClicked(o)}),g(15," delete_sweep "),f()(),p(16,"div",5),T(17,oq,10,9,"div",6),f()()),2&e&&(y(6),yn("Your ",ne(7,4,i.homeService.fields.length+i.homeService.extraFields)," fields produced an average of ",ne(8,6,i.homeService.averageYield)," food per day over the last year."),y(3),ji("tooltip","Buy a plot of land for ",ne(10,8,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),y(8),D("ngForOf",i.homeService.fields))},styles:[".itemSlot[_ngcontent-%COMP%]{width:10px;height:10px}.farmGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function sq(n,t){1&n&&H(0,"div",18),2&n&&ji("tooltip","You don't own a ",k().$implicit,", but your home could hold one.")}function aq(n,t){if(1&n&&(p(0,"div",18),g(1),U(2,"titlecase"),f()),2&n){const e=k().$implicit,i=k(2);Ae("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),y(1),He(ne(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function lq(n,t){if(1&n&&(p(0,"div"),T(1,sq,1,1,"div",17),T(2,aq,3,4,"div",17),f()),2&n){const e=t.$implicit,i=k(2);y(1),D("ngIf",!i.homeService.furniture[e]),y(1),D("ngIf",i.homeService.furniture[e])}}function cq(n,t){if(1&n&&(p(0,"div",15),T(1,lq,3,2,"div",16),f()),2&n){const e=k();y(1),D("ngForOf",e.homeService.home.furnitureSlots)}}function uq(n,t){1&n&&(p(0,"div",15)(1,"span",19),g(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),f()())}function hq(n,t){if(1&n){const e=te();p(0,"mat-icon",9),E("click",function(){return B(e),k().homeService.upgradeToNextHome()}),U(1,"bigNumber"),U(2,"bigNumber"),g(3," add_business "),f()}if(2&n){const e=k();Ui("tooltip","Get a better house. A better home will cost ",ne(1,2,e.homeService.nextHomeCost)," taels and take up ",ne(2,4,e.homeService.nextHome.landRequired)," land.")}}function dq(n,t){if(1&n){const e=te();p(0,"mat-icon",20),E("click",function(){return B(e),k().storeClicked()}),g(1," shopping_cart "),f()}}function fq(n,t){if(1&n&&(p(0,"div",21),H(1,"span"),f()),2&n){const e=k();y(1),Nn("width",100*e.homeService.houseBuildingProgress,"%")}}let gM=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(rq,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(mM,{width:"800px",data:{someField:"foo"}})}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(Be),b(at),b(jc),b(Wo))},n.\u0275cmp=xe({type:n,selectors:[["app-home-panel"]],decls:30,vars:19,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"overflow"],[1,"homeInfo"],["class","furnitureSlots",4,"ngIf"],[1,"buttons"],[1,"button-group"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","progress-bar","tooltip","Upgrading your home.",4,"ngIf"],["tooltip","View your farm.",1,"iconButton",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton",3,"click"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"mouseWarning"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"progress-bar"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"mat-icon",2),g(3,"home"),f(),p(4,"div",3),g(5),f()(),p(6,"div",4)(7,"div",5)(8,"span"),g(9),f()(),p(10,"div",5)(11,"span"),g(12),U(13,"bigNumber"),U(14,"bigNumber"),f()(),T(15,cq,2,1,"div",6),T(16,uq,3,0,"div",6),f(),p(17,"div",7)(18,"div",8)(19,"mat-icon",9),E("click",function(o){return i.buyClicked(o)}),U(20,"bigNumber"),g(21," add "),f(),T(22,hq,4,6,"mat-icon",10),T(23,dq,2,0,"mat-icon",11),T(24,fq,2,2,"div",12),f(),p(25,"div",8)(26,"mat-icon",13),E("click",function(){return i.farmClicked()}),g(27,"grass"),f(),p(28,"mat-icon",14),E("click",function(o){return i.plowClicked(o)}),g(29," waves "),f()()()()),2&e&&(y(4),Ae("tooltip",i.homeService.home.description),y(1),ve(" You live in a ",i.homeService.home.name," "),y(4),yn("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),y(3),_l("You own ",ne(13,13,i.homeService.land)," open ",1===i.homeService.land?"plot":"plots"," of land and ",ne(14,15,i.homeService.fields.length+i.homeService.extraFields)," fields"),y(3),D("ngIf",i.homeService.home.furnitureSlots.length>0),y(1),D("ngIf",0===i.homeService.home.furnitureSlots.length),y(3),ji("tooltip","Buy a plot of land for ",ne(20,17,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),y(3),D("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),y(1),D("ngIf",i.homeService.home.furnitureSlots.length),y(1),D("ngIf",i.homeService.upgrading))},styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%]{width:50px;height:36px}.progress-bar[_ngcontent-%COMP%]{width:100px;margin-left:4px}.overflow[_ngcontent-%COMP%]{overflow:auto}.panelHeader[_ngcontent-%COMP%]{display:flex;gap:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function pq(n,t){1&n&&(p(0,"mat-icon",10),g(1," soup_kitchen "),f())}function mq(n,t){if(1&n&&(p(0,"tr"),g(1),f()),2&n){const e=k().$implicit;y(1),He(null==e?null:e.quantity)}}const gq=function(n){return{selectedItem:n}};function vq(n,t){if(1&n){const e=te();p(0,"div")(1,"table",11),E("click",function(r){const s=B(e).$implicit;return k().slotClicked(s,r)})("dblclick",function(r){const s=B(e).$implicit;return k().slotDoubleClicked(s,r)})("contextmenu",function(r){const s=B(e).$implicit;return k().slotRightClicked(s,r)})("dragover",function(r){return B(e),k().allowDrop(r)})("drop",function(r){const s=B(e).index;return k().drop(s,r)})("dragstart",function(r){const s=B(e).index;return k().drag(s,r)}),p(2,"tr"),g(3),U(4,"titlecase"),f(),T(5,mq,2,1,"tr",12),f()()}if(2&n){const e=t.$implicit,i=k();y(1),Ae("tooltip",null==e||null==e.item?null:e.item.description),D("ngClass",wt(6,gq,null!==e&&e===i.inventoryService.selectedItem)),y(2),He(ne(4,4,null==e||null==e.item?null:e.item.name)),y(2),D("ngIf",((null==e?null:e.quantity)||0)>1)}}function yq(n,t){if(1&n){const e=te();p(0,"mat-icon",21),E("click",function(){return B(e),k(2).autoSell()}),g(1," currency_exchange "),f()}}function _q(n,t){if(1&n){const e=te();p(0,"mat-icon",14),E("click",function(){return B(e),k(2).use()}),g(1," auto_awesome "),f()}if(2&n){const e=k(2);Ui("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function Sq(n,t){if(1&n){const e=te();p(0,"mat-icon",14),E("click",function(){return B(e),k(2).autoUse()}),g(1," auto_mode "),f()}if(2&n){const e=k(2);Ui("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function bq(n,t){if(1&n){const e=te();p(0,"mat-icon",22),E("click",function(){return B(e),k(2).autoBalance()}),g(1," balance "),f()}}function wq(n,t){if(1&n){const e=te();p(0,"mat-icon",23),E("click",function(){return B(e),k(2).equip()}),g(1," shield "),f()}}function Cq(n,t){if(1&n){const e=te();p(0,"mat-icon",24),E("click",function(){return B(e),k(2).mergeSpiritGem()}),g(1," diamond "),f()}}function Dq(n,t){if(1&n){const e=te();p(0,"div",13)(1,"mat-icon",14),E("click",function(){return B(e),k().sell(1)}),g(2," attach_money "),f(),p(3,"mat-icon",14),E("click",function(){return B(e),k().sellStack()}),g(4," paid "),f(),p(5,"mat-icon",14),E("click",function(){return B(e),k().sellAll()}),g(6," shopping_basket "),f(),T(7,yq,2,0,"mat-icon",15),T(8,_q,2,2,"mat-icon",16),T(9,Sq,2,2,"mat-icon",17),T(10,bq,2,0,"mat-icon",18),T(11,wq,2,0,"mat-icon",19),T(12,Cq,2,0,"mat-icon",20),f()}if(2&n){const e=k();y(1),Ui("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell."),y(2),Ui("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack."),y(2),ji("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in the whole inventory."),y(2),D("ngIf",e.inventoryService.autoSellUnlocked),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked),y(1),D("ngIf","equipment"===e.inventoryService.selectedItem.item.type),y(1),D("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}let vM=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}slotClicked(e,i){if(i.preventDefault(),i.stopPropagation(),i.shiftKey){let r=null;r!=e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem==e?null:e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0==this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"==(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){let l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c==e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){let u=this.inventoryService.itemStacks[c],h=this.inventoryService.itemStacks[e],d=null==u?void 0:u.item,m=null==h?void 0:h.item;if(d&&m&&Mr(d)&&Mr(m)&&d.slot==m.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(d,m,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=h}}else if("equipment"==(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){let l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(X),b(Be))},n.\u0275cmp=xe({type:n,selectors:[["app-inventory-panel"]],decls:15,vars:6,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",4,"ngIf"],[1,"overflow"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",1,"noFood"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","click","dblclick","contextmenu","dragover","drop","dragstart"],[4,"ngIf"],[1,"inventoryButtons"],["placement","left",1,"iconButton",3,"tooltip","click"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"div",2),g(3,"Inventory"),f(),p(4,"div",3),g(5,"Money: "),f(),p(6,"div",4),g(7),U(8,"bigNumber"),f(),p(9,"div"),T(10,pq,2,0,"mat-icon",5),f()(),p(11,"div",6)(12,"div",7),T(13,vq,6,8,"div",8),f()(),T(14,Dq,13,11,"div",9),f()),2&e&&(y(7),ve("",ne(8,4,i.characterService.characterState.money)," Taels"),y(3),D("ngIf",i.inventoryService.noFood),y(3),D("ngForOf",i.inventoryService.itemStacks),y(1),D("ngIf",i.inventoryService.selectedItem))},styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-top:2px;margin-left:2px}.inventoryButtons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder)}table[_ngcontent-%COMP%]{width:100%}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.panelHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function Mq(n,t){if(1&n&&(Co(0),p(1,"div",15),g(2),f(),Do()),2&n){const e=t.$implicit;y(1),D("ngClass",e.type),y(1),ve(" ",e.message," ")}}let kq=(()=>{class n{constructor(e){this.logService=e}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Mn))},n.\u0275cmp=xe({type:n,selectors:[["app-log-panel"]],decls:23,vars:9,consts:[[1,"log"],[1,"panelHeader"],[1,"headerNote"],[1,"filters"],["type","checkbox","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCrafting",3,"checked","change"],["for","filterCrafting"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],[1,"logBox"],[4,"ngFor","ngForOf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"span"),g(3,"Log"),f(),p(4,"span",2),g(5,"Newest messages appear at the top, so read from the bottom up."),f(),p(6,"span",3)(7,"input",4),E("change",function(o){return i.topicFilter(o,"STORY")}),f(),p(8,"label",5),g(9,"Show Story Messages "),p(10,"span",6),g(11),f()(),p(12,"input",7),E("change",function(o){return i.topicFilter(o,"EVENT")}),f(),p(13,"label",8),g(14),f(),p(15,"input",9),E("change",function(o){return i.topicFilter(o,"CRAFTING")}),f(),p(16,"label",10),g(17),f(),p(18,"input",11),E("change",function(o){return i.topicFilter(o,"COMBAT")}),f(),p(19,"label",12),g(20),f()()(),p(21,"div",13),T(22,Mq,3,2,"ng-container",14),f()()),2&e&&(y(7),D("checked",i.logService.logTopics.includes("STORY")),y(4),He(i.logService.newStory),y(1),D("checked",i.logService.logTopics.includes("EVENT")),y(2),ve("Show Event Messages ",i.logService.newEvents,""),y(1),D("checked",i.logService.logTopics.includes("CRAFTING")),y(2),ve("Show Crafting Messages ",i.logService.newCrafting,""),y(1),D("checked",i.logService.logTopics.includes("COMBAT")),y(2),ve("Show Combat Messages ",i.logService.newCombat,""),y(2),D("ngForOf",i.logService.currentLog))},directives:[$t,$i],styles:[".log[_ngcontent-%COMP%]{flex-direction:column;width:100%;display:flex}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBox[_ngcontent-%COMP%]{overflow:auto;flex:1 1 auto;width:100%}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap;flex:0 1 auto}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function Eq(n,t){if(1&n){const e=te();p(0,"mat-icon",45),E("click",function(){return B(e),k().impossibleTasksClicked()}),g(1," priority_high "),f()}}function Tq(n,t){if(1&n){const e=te();p(0,"span")(1,"mat-icon",46),E("click",function(){return B(e),k().ascensionStoreClicked()}),g(2," keyboard_double_arrow_up "),f()()}}function xq(n,t){if(1&n&&H(0,"app-vertical-panel-slider",41),2&n){k();const e=Lt(38),i=Lt(41);D("top",e)("bottom",i)}}function Aq(n,t){if(1&n&&H(0,"app-vertical-panel-slider",41),2&n){k();const e=Lt(41),i=Lt(44);D("top",e)("bottom",i)}}function Iq(n,t){if(1&n&&H(0,"app-vertical-panel-slider",41),2&n){k();const e=Lt(47),i=Lt(50);D("top",e)("bottom",i)}}function Pq(n,t){if(1&n&&H(0,"app-vertical-panel-slider",41),2&n){k();const e=Lt(53),i=Lt(56);D("top",e)("bottom",i)}}function Oq(n,t){if(1&n&&H(0,"app-vertical-panel-slider",41),2&n){k();const e=Lt(56),i=Lt(59);D("top",e)("bottom",i)}}const Rq=function(n){return{darkMode:n}};let Fq=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"floor",type:n,pure:!0}),n})(),Lq=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"camelToTitle",type:n,pure:!0}),n})(),Lr=(()=>{class n{transform(e){return e<1e4?oi(e,"en-US","1.0-0"):e<1e6?oi(e/1e3,"en-US","1.0-2")+"K":e<1e9?oi(e/1e6,"en-US","1.0-2")+"M":e<1e12?oi(e/1e9,"en-US","1.0-2")+"B":e<1e15?oi(e/1e12,"en-US","1.0-2")+"T":e<1e18?oi(e/1e15,"en-US","1.0-2")+"q":oi(e/1e18,"en-US","1.0-2")+"Q"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"bigNumber",type:n,pure:!0}),n})(),Nq=(()=>{class n{constructor(e,i,r,o,s,a){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=s,this.dialog=a,this.title="immortalityidle",this.applicationVersion=uM.appVersion,this.activateSliders=!1}handleKeyboardEvent(e){"Space"==e.code?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):("Enter"==e.code||"NumpadEnter"==e.code)&&this.mainLoopService.pause&&(this.mainLoopService.tick(),e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}exportClicked(){this.dialog.open(lU,{width:"510px",data:{someField:"foo"}})}storeClicked(){this.dialog.open(BC,{width:"510px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(g3,{width:"500px",data:{someField:"foo"}})}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(D3,{width:"500px",data:{someField:"foo"}})}tutorialClicked(){this.dialog.open(cU,{width:"700px",data:{someField:"foo"}})}changelogClicked(){this.dialog.open(uU,{width:"700px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(R3,{width:"750px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(aU,{width:"500px",data:{someField:"foo"}})}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}}return n.\u0275fac=function(e){return new(e||n)(b(ln),b(ci),b(Wo),b(Be),b(jo),b(jc))},n.\u0275cmp=xe({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&E("keydown",function(o){return i.handleKeyboardEvent(o)},!1,rv)},decls:64,vars:15,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused? Click here.",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",1,"iconButton",3,"click"],["type","checkbox","id","darkMode",3,"checked","change"],["for","darkMode"],["tooltip","Import or export your save game file. Sometimes immortals need a different browser.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],["href","https://discord.gg/Tyn9F9nhxg","target","_blank","rel","noopener noreferrer","tooltip","Have questions? Try the Immortality Idle Discord."],[1,"bodyContainer"],["appResizable","",1,"panelContainer"],["panelContainer","appResizable"],[1,"leftPanel"],["appResizable","",1,"timePanel","panel"],["timePanel","appResizable"],[3,"top","bottom",4,"ngIf"],["appResizable","",1,"attributesPanel","panel"],["attributesPanel","appResizable"],["appResizable","",1,"healthPanel","panel"],["healthPanel","appResizable"],[1,"centerPanel"],["appResizable","",1,"activityPanel","panel"],["activityPanel","appResizable"],["appResizable","",1,"battlePanel","panel"],["battlePanel","appResizable"],[1,"rightPanel"],["appResizable","",1,"equipmentPanel","panel"],["equipmentPanel","appResizable"],["appResizable","",1,"homePanel","panel"],["homePanel","appResizable"],["appResizable","",1,"inventoryPanel","panel"],["inventoryPanel","appResizable"],[3,"top","bottom"],["appResizable","",1,"logContainer"],["logContainer","appResizable"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.",1,"iconButton",3,"click"]],template:function(e,i){if(1&e&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),g(4),p(5,"span",4),E("click",function(){return i.changelogClicked()}),g(6),f()(),p(7,"mat-icon",5),E("click",function(){return i.tutorialClicked()}),g(8," help "),f(),p(9,"span")(10,"mat-icon",6),E("click",function(){return i.storeClicked()}),g(11," local_library "),f(),p(12,"mat-icon",7),E("click",function(){return i.storeOptionsClicked()}),g(13," settings "),f()(),p(14,"mat-icon",8),E("click",function(){return i.achievementsClicked()}),g(15," military_tech "),f(),T(16,Eq,2,0,"mat-icon",9),T(17,Tq,3,0,"span",10),p(18,"span")(19,"a",11),E("click",function(o){return i.rebirthClicked(o)}),g(20,"Reincarnate"),f()(),p(21,"mat-icon",12),E("click",function(o){return i.saveClicked(o)}),g(22," save "),f(),p(23,"span")(24,"input",13),E("change",function(){return i.darkModeToggle()}),f(),p(25,"label",14),g(26,"Dark Mode"),f()(),p(27,"mat-icon",15),E("click",function(){return i.exportClicked()}),g(28," upload "),f(),p(29,"a",16),E("click",function(o){return i.hardResetClicked(o)}),g(30,"Hard Reset"),f(),p(31,"a",17),g(32,"Discord"),f()(),p(33,"div",18)(34,"div",19,20)(36,"div",21),H(37,"app-time-panel",22,23),T(39,xq,1,2,"app-vertical-panel-slider",24),H(40,"app-attributes-panel",25,26),T(42,Aq,1,2,"app-vertical-panel-slider",24),H(43,"app-health-panel",27,28),f(),p(45,"div",29),H(46,"app-activity-panel",30,31),T(48,Iq,1,2,"app-vertical-panel-slider",24),H(49,"app-battle-panel",32,33),f(),p(51,"div",34),H(52,"app-equipment-panel",35,36),T(54,Pq,1,2,"app-vertical-panel-slider",24),H(55,"app-home-panel",37,38),T(57,Oq,1,2,"app-vertical-panel-slider",24),H(58,"app-inventory-panel",39,40),f()(),H(60,"app-vertical-panel-slider",41),p(61,"div",42,43),H(63,"app-log-panel",44),f()()()()),2&e){const r=Lt(35),o=Lt(62);D("ngClass",wt(13,Rq,i.gameStateService.isDarkMode)),y(4),ve(" Immortality Idle - ",i.characterService.characterState.immortal?"You are Immortal!":"Can you become an immortal?"," "),y(2),ve("v",i.applicationVersion,""),y(10),D("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),y(1),D("ngIf",i.characterService.characterState.ascensionUnlocked),y(7),D("checked",i.gameStateService.isDarkMode),y(15),D("ngIf",i.activateSliders),y(3),D("ngIf",i.activateSliders),y(6),D("ngIf",i.activateSliders),y(6),D("ngIf",i.activateSliders),y(3),D("ngIf",i.activateSliders),y(3),D("top",r)("bottom",o)}},directives:[$i,Wt,Gt,zt,hU,bU,CU,hM,dM,RU,fM,pM,gM,vM,kq],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Bq=[LC,cM];let Vq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n,bootstrap:[Nq]}),n.\u0275inj=Ke({providers:[wn],imports:[[U0,BN,NH,Kj,uf,A3.forRoot({"show-delay":500,hideDelay:50}),...Bq],LC,cM]}),n})();gi(hM,[Wt,Gt,$t,zt],[T0,Lr,yr,Lq,wn]),gi(dM,[zt,Wt,Gt],[Fq,yr]),gi(gM,[Wt,Gt,zt,$t],[Lr,wn]),gi(vM,[zt,Wt,Gt,$t,$i],[Lr,wn]),gi(pM,[$i,Gt,Wt],[wn,zl,Lr]),gi(BC,[$t,$i,Gt,Wt],[wn,Lr]),gi(fM,[Wt,Gt,zt,$t],[wn,zl,Lr]),gi(mM,[Wt,Gt,$t],[Lr,wn,zl]),uM.production&&function XP(){QS=!1}(),aF().bootstrapModule(Vq).catch(n=>console.error(n))},147:Xo=>{Xo.exports={i8:"1.0.46"}}},Xo=>{Xo(Xo.s=569)}]);