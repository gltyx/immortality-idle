"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{727:(Ko,cm,um)=>{function ye(n){return"function"==typeof n}function Zc(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Xc=Zc(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Sa(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class yt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(ye(i))try{i()}catch(o){t=o instanceof Xc?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{fm(o)}catch(s){t=null!=t?t:[],s instanceof Xc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Xc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)fm(t);else{if(t instanceof yt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Sa(e,t)}remove(t){const{_finalizers:e}=this;e&&Sa(e,t),t instanceof yt&&t._removeParent(this)}}yt.EMPTY=(()=>{const n=new yt;return n.closed=!0,n})();const hm=yt.EMPTY;function dm(n){return n instanceof yt||n&&"closed"in n&&ye(n.remove)&&ye(n.add)&&ye(n.unsubscribe)}function fm(n){ye(n)?n():n.unsubscribe()}const tr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ba={setTimeout(n,t,...e){const{delegate:i}=ba;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ba;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function pm(n){ba.setTimeout(()=>{const{onUnhandledError:t}=tr;if(!t)throw n;t(n)})}function Qc(){}const vM=eu("C",void 0,void 0);function eu(n,t,e){return{kind:n,value:t,error:e}}let nr=null;function wa(n){if(tr.useDeprecatedSynchronousErrorHandling){const t=!nr;if(t&&(nr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=nr;if(nr=null,e)throw i}}else n()}class tu extends yt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,dm(t)&&t.add(this)):this.destination=DM}static create(t,e,i){return new Ca(t,e,i)}next(t){this.isStopped?iu(function _M(n){return eu("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?iu(function yM(n){return eu("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?iu(vM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const bM=Function.prototype.bind;function nu(n,t){return bM.call(n,t)}class wM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Da(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Da(i)}else Da(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Da(e)}}}class Ca extends tu{constructor(t,e,i){let r;if(super(),ye(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&tr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&nu(t.next,o),error:t.error&&nu(t.error,o),complete:t.complete&&nu(t.complete,o)}):r=t}this.destination=new wM(r)}}function Da(n){tr.useDeprecatedSynchronousErrorHandling?function SM(n){tr.useDeprecatedSynchronousErrorHandling&&nr&&(nr.errorThrown=!0,nr.error=n)}(n):pm(n)}function iu(n,t){const{onStoppedNotification:e}=tr;e&&ba.setTimeout(()=>e(n,t))}const DM={closed:!0,next:Qc,error:function CM(n){throw n},complete:Qc},ru="function"==typeof Symbol&&Symbol.observable||"@@observable";function xi(n){return n}let Ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function EM(n){return n&&n instanceof tu||function MM(n){return n&&ye(n.next)&&ye(n.error)&&ye(n.complete)}(n)&&dm(n)}(e)?e:new Ca(e,i,r);return wa(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=gm(i))((r,o)=>{const s=new Ca({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ru](){return this}pipe(...e){return function mm(n){return 0===n.length?xi:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=gm(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function gm(n){var t;return null!==(t=null!=n?n:tr.Promise)&&void 0!==t?t:Promise}const kM=Zc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ee=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new vm(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new kM}next(e){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?hm:(this.currentObservers=null,o.push(e),new yt(()=>{this.currentObservers=null,Sa(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ue;return e.source=this,e}}return n.create=(t,e)=>new vm(t,e),n})();class vm extends Ee{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:hm}}function ym(n){return ye(null==n?void 0:n.lift)}function tt(n){return t=>{if(ym(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(n,t,e,i,r){return new TM(n,t,e,i,r)}class TM extends tu{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fe(n,t){return tt((e,i)=>{let r=0;e.subscribe(ze(i,o=>{i.next(n.call(t,o,r++))}))})}function ir(n){return this instanceof ir?(this.v=n,this):new ir(n)}function IM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(d){i[d]&&(r[d]=function(f){return new Promise(function(g,_){o.push([d,f,g,_])>1||a(d,f)})})}function a(d,f){try{!function l(d){d.value instanceof ir?Promise.resolve(d.value.v).then(c,u):h(o[0][2],d)}(i[d](f))}catch(g){h(o[0][3],g)}}function c(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function PM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function bm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const su=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function wm(n){return ye(null==n?void 0:n.then)}function Cm(n){return ye(n[ru])}function Dm(n){return Symbol.asyncIterator&&ye(null==n?void 0:n[Symbol.asyncIterator])}function Mm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Em=function RM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function km(n){return ye(null==n?void 0:n[Em])}function Tm(n){return IM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield ir(e.read());if(r)return yield ir(void 0);yield yield ir(i)}}finally{e.releaseLock()}})}function xm(n){return ye(null==n?void 0:n.getReader)}function Gt(n){if(n instanceof Ue)return n;if(null!=n){if(Cm(n))return function FM(n){return new Ue(t=>{const e=n[ru]();if(ye(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(su(n))return function LM(n){return new Ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(wm(n))return function NM(n){return new Ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,pm)})}(n);if(Dm(n))return Am(n);if(km(n))return function BM(n){return new Ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(xm(n))return function VM(n){return Am(Tm(n))}(n)}throw Mm(n)}function Am(n){return new Ue(t=>{(function HM(n,t){var e,i,r,o;return function xM(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=PM(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function ui(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function lt(n,t,e=1/0){return ye(t)?lt((i,r)=>fe((o,s)=>t(i,o,r,s))(Gt(n(i,r))),e):("number"==typeof t&&(e=t),tt((i,r)=>function jM(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,h=!1;const d=()=>{h&&!l.length&&!c&&t.complete()},f=_=>c<i?g(_):l.push(_),g=_=>{o&&t.next(_),c++;let C=!1;Gt(e(_,u++)).subscribe(ze(t,M=>{null==r||r(M),o?f(M):t.next(M)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<i;){const M=l.shift();s?ui(t,s,()=>g(M)):g(M)}d()}catch(M){t.error(M)}}))};return n.subscribe(ze(t,f,()=>{h=!0,d()})),()=>{null==a||a()}}(i,r,n,e)))}function Jo(n=1/0){return lt(xi,n)}const hi=new Ue(n=>n.complete());function Im(n){return n&&ye(n.schedule)}function au(n){return n[n.length-1]}function Pm(n){return ye(au(n))?n.pop():void 0}function Zo(n){return Im(au(n))?n.pop():void 0}function Om(n,t=0){return tt((e,i)=>{e.subscribe(ze(i,r=>ui(i,n,()=>i.next(r),t),()=>ui(i,n,()=>i.complete(),t),r=>ui(i,n,()=>i.error(r),t)))})}function Rm(n,t=0){return tt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Fm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ue(e=>{ui(e,t,()=>{const i=n[Symbol.asyncIterator]();ui(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function mt(n,t){return t?function KM(n,t){if(null!=n){if(Cm(n))return function $M(n,t){return Gt(n).pipe(Rm(t),Om(t))}(n,t);if(su(n))return function GM(n,t){return new Ue(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(wm(n))return function zM(n,t){return Gt(n).pipe(Rm(t),Om(t))}(n,t);if(Dm(n))return Fm(n,t);if(km(n))return function WM(n,t){return new Ue(e=>{let i;return ui(e,t,()=>{i=n[Em](),ui(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>ye(null==i?void 0:i.return)&&i.return()})}(n,t);if(xm(n))return function YM(n,t){return Fm(Tm(n),t)}(n,t)}throw Mm(n)}(n,t):Gt(n)}function Lm(...n){const t=Zo(n),e=function qM(n,t){return"number"==typeof au(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Gt(i[0]):Jo(e)(mt(i,t)):hi}function qn(n){return n<=0?()=>hi:tt((t,e)=>{let i=0;t.subscribe(ze(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Nm(n={}){const{connector:t=(()=>new Ee),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,h=!1;const d=()=>{null==a||a.unsubscribe(),a=null},f=()=>{d(),s=l=null,u=h=!1},g=()=>{const _=s;f(),null==_||_.unsubscribe()};return tt((_,C)=>{c++,!h&&!u&&d();const M=l=null!=l?l:t();C.add(()=>{c--,0===c&&!h&&!u&&(a=lu(g,r))}),M.subscribe(C),s||(s=new Ca({next:w=>M.next(w),error:w=>{h=!0,d(),a=lu(f,e,w),M.error(w)},complete:()=>{u=!0,d(),a=lu(f,i),M.complete()}}),mt(_).subscribe(s))})(o)}}function lu(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(qn(1)).subscribe(()=>n())}function ke(n){for(let t in n)if(n[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function cu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ce(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ce).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function uu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const JM=ke({__forward_ref__:ke});function Ae(n){return n.__forward_ref__=Ae,n.toString=function(){return Ce(this())},n}function re(n){return Bm(n)?n():n}function Bm(n){return"function"==typeof n&&n.hasOwnProperty(JM)&&n.__forward_ref__===Ae}class N extends Error{constructor(t,e){super(function hu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function te(n){return"string"==typeof n?n:null==n?"":String(n)}function It(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():te(n)}function Ma(n,t){const e=t?` in ${t}`:"";throw new N(-201,`No provider for ${It(n)} found${e}`)}function Yt(n,t){null==n&&function Ne(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function du(n){return Vm(n,Ea)||Vm(n,jm)}function Vm(n,t){return n.hasOwnProperty(t)?n[t]:null}function Hm(n){return n&&(n.hasOwnProperty(fu)||n.hasOwnProperty(iE))?n[fu]:null}const Ea=ke({\u0275prov:ke}),fu=ke({\u0275inj:ke}),jm=ke({ngInjectableDef:ke}),iE=ke({ngInjectorDef:ke});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let pu;function Ai(n){const t=pu;return pu=n,t}function Um(n,t,e){const i=du(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&X.Optional?null:void 0!==t?t:void Ma(Ce(n),"Injector")}function Ii(n){return{toString:n}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),Tn=(()=>{return(n=Tn||(Tn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Tn;var n})();const oE="undefined"!=typeof globalThis&&globalThis,sE="undefined"!=typeof window&&window,aE="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Me=oE||"undefined"!=typeof global&&global||sE||aE,Lr={},Te=[],ka=ke({\u0275cmp:ke}),mu=ke({\u0275dir:ke}),gu=ke({\u0275pipe:ke}),qm=ke({\u0275mod:ke}),fi=ke({\u0275fac:ke}),Xo=ke({__NG_ELEMENT_ID__:ke});let lE=0;function Ie(n){return Ii(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,id:"c",styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=lE++,i.inputs=Wm(n.inputs,e),i.outputs=Wm(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map($m):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(zm):null,i})}function rr(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map($m),i.pipeDefs=()=>e.map(zm)}function $m(n){return Mt(n)||function Pi(n){return n[mu]||null}(n)}function zm(n){return function or(n){return n[gu]||null}(n)}const Gm={};function nt(n){return Ii(()=>{const t={type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Gm[n.id]=n.type),t})}function Wm(n,t){if(null==n)return Lr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const q=Ie;function _t(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Mt(n){return n[ka]||null}function cn(n,t){const e=n[qm]||null;if(!e&&!0===t)throw new Error(`Type ${Ce(n)} does not have '\u0275mod' property.`);return e}function $n(n){return Array.isArray(n)&&"object"==typeof n[1]}function An(n){return Array.isArray(n)&&!0===n[1]}function _u(n){return 0!=(8&n.flags)}function Ia(n){return 2==(2&n.flags)}function Pa(n){return 1==(1&n.flags)}function In(n){return null!==n.template}function fE(n){return 0!=(512&n[2])}function cr(n,t){return n.hasOwnProperty(fi)?n[fi]:null}class gE{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Jt(){return Km}function Km(n){return n.type.prototype.ngOnChanges&&(n.setInput=yE),vE}function vE(){const n=Zm(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Lr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function yE(n,t,e,i){const r=Zm(n)||function _E(n,t){return n[Jm]=t}(n,{previous:Lr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new gE(l&&l.currentValue,t,s===Lr),n[i]=t}Jt.ngInherit=!0;const Jm="__ngSimpleChanges__";function Zm(n){return n[Jm]||null}let Du;function Mu(){return void 0!==Du?Du:"undefined"!=typeof document?document:void 0}function Ge(n){return!!n.listen}const Xm={createRenderer:(n,t)=>Mu()};function it(n){for(;Array.isArray(n);)n=n[0];return n}function Oa(n,t){return it(t[n])}function dn(n,t){return it(t[n.index])}function Eu(n,t){return n.data[t]}function jr(n,t){return n[t]}function Zt(n,t){const e=t[n];return $n(e)?e:e[0]}function Qm(n){return 4==(4&n[2])}function ku(n){return 128==(128&n[2])}function Oi(n,t){return null==t?null:n[t]}function eg(n){n[18]=0}function Tu(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Q={lFrame:lg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function tg(){return Q.bindingsEnabled}function k(){return Q.lFrame.lView}function pe(){return Q.lFrame.tView}function H(n){return Q.lFrame.contextLView=n,n[8]}function ct(){let n=ng();for(;null!==n&&64===n.type;)n=n.parent;return n}function ng(){return Q.lFrame.currentTNode}function zn(n,t){const e=Q.lFrame;e.currentTNode=n,e.isParent=t}function xu(){return Q.lFrame.isParent}function Au(){Q.lFrame.isParent=!1}function Ra(){return Q.isInCheckNoChangesMode}function Fa(n){Q.isInCheckNoChangesMode=n}function Pt(){const n=Q.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function pi(){return Q.lFrame.bindingIndex}function Ur(){return Q.lFrame.bindingIndex++}function mi(n){const t=Q.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function LE(n,t){const e=Q.lFrame;e.bindingIndex=e.bindingRootIndex=n,Iu(t)}function Iu(n){Q.lFrame.currentDirectiveIndex=n}function Pu(n){const t=Q.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function og(){return Q.lFrame.currentQueryIndex}function Ou(n){Q.lFrame.currentQueryIndex=n}function BE(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function sg(n,t,e){if(e&X.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&X.Host||(r=BE(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=Q.lFrame=ag();return i.currentTNode=t,i.lView=n,!0}function La(n){const t=ag(),e=n[1];Q.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ag(){const n=Q.lFrame,t=null===n?null:n.child;return null===t?lg(n):t}function lg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function cg(){const n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ug=cg;function Na(){const n=cg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ot(){return Q.lFrame.selectedIndex}function Ri(n){Q.lFrame.selectedIndex=n}function We(){const n=Q.lFrame;return Eu(n.tView,n.selectedIndex)}function Ba(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function Va(n,t,e){hg(n,t,3,e)}function Ha(n,t,e,i){(3&n[2])===e&&hg(n,t,e,i)}function Ru(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function hg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(WE(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function WE(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class is{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function ja(n,t,e){const i=Ge(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];Lu(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function dg(n){return 3===n||4===n||6===n}function Lu(n){return 64===n.charCodeAt(0)}function Ua(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||fg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function fg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function pg(n){return-1!==n}function qr(n){return 32767&n}function $r(n,t){let e=function XE(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Nu=!0;function qa(n){const t=Nu;return Nu=n,t}let QE=0;function os(n,t){const e=Vu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Bu(i.data,n),Bu(t,null),Bu(i.blueprint,null));const r=$a(n,t),o=n.injectorIndex;if(pg(r)){const s=qr(r),a=$r(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function Bu(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Vu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function $a(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function za(n,t,e){!function ek(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Xo)&&(i=e[Xo]),null==i&&(i=e[Xo]=QE++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function vg(n,t,e){if(e&X.Optional)return n;Ma(t,"NodeInjector")}function yg(n,t,e,i){if(e&X.Optional&&void 0===i&&(i=null),0==(e&(X.Self|X.Host))){const r=n[9],o=Ai(void 0);try{return r?r.get(t,i,e&X.Optional):Um(t,i,e&X.Optional)}finally{Ai(o)}}return vg(i,t,e)}function _g(n,t,e,i=X.Default,r){if(null!==n){const o=function rk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Xo)?n[Xo]:void 0;return"number"==typeof t?t>=0?255&t:nk:t}(e);if("function"==typeof o){if(!sg(t,n,i))return i&X.Host?vg(r,e,i):yg(t,e,i,r);try{const s=o(i);if(null!=s||i&X.Optional)return s;Ma(e)}finally{ug()}}else if("number"==typeof o){let s=null,a=Vu(n,t),l=-1,c=i&X.Host?t[16][6]:null;for((-1===a||i&X.SkipSelf)&&(l=-1===a?$a(n,t):t[a+8],-1!==l&&wg(i,!1)?(s=t[1],a=qr(l),t=$r(l,t)):a=-1);-1!==a;){const u=t[1];if(bg(o,a,u.data)){const h=ik(a,t,e,s,i,c);if(h!==Sg)return h}l=t[a+8],-1!==l&&wg(i,t[1].data[a+8]===c)&&bg(o,a,t)?(s=u,a=qr(l),t=$r(l,t)):a=-1}}}return yg(t,e,i,r)}const Sg={};function nk(){return new zr(ct(),k())}function ik(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=Ga(a,s,e,null==i?Ia(a)&&Nu:i!=s&&0!=(3&a.type),r&X.Host&&o===a);return null!==u?ss(t,s,u,a):Sg}function Ga(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,d=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<d;f++){const g=s[f];if(f<l&&e===g||f>=l&&g.type===e)return f}if(r){const f=s[l];if(f&&In(f)&&f.type===e)return l}return null}function ss(n,t,e,i){let r=n[e];const o=t.data;if(function YE(n){return n instanceof is}(r)){const s=r;s.resolving&&function ZM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new N(-200,`Circular dependency in DI detected for ${n}${e}`)}(It(o[e]));const a=qa(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Ai(s.injectImpl):null;sg(n,i,X.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function GE(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Km(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Ai(l),qa(a),s.resolving=!1,ug()}}return r}function bg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function wg(n,t){return!(n&X.Self||n&X.Host&&t)}class zr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return _g(this._tNode,this._lView,t,i,e)}}function St(n){return Ii(()=>{const t=n.prototype.constructor,e=t[fi]||Hu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[fi]||Hu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Hu(n){return Bm(n)?()=>{const t=Hu(re(n));return t&&t()}:cr(n)}function Gr(n){return function tk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(dg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ct(),n)}const Yr="__parameters__";function Jr(n,t,e){return Ii(()=>{const i=function ju(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty(Yr)?l[Yr]:Object.defineProperty(l,Yr,{value:[]})[Yr];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class V{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const sk=new V("AnalyzeForEntryComponents");function fn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),fn(i,t)):t!==n&&t.push(i)}return t}function Gn(n,t){n.forEach(e=>Array.isArray(e)?Gn(e,t):t(e))}function Dg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Wa(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function cs(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function Xt(n,t,e){let i=Zr(n,t);return i>=0?n[1|i]=e:(i=~i,function ck(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function qu(n,t){const e=Zr(n,t);if(e>=0)return n[1|e]}function Zr(n,t){return function kg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const us={},zu="__NG_DI_FLAG__",Ka="ngTempTokenPath",gk=/\n/gm,xg="__source",yk=ke({provide:String,useValue:ke});let hs;function Ag(n){const t=hs;return hs=n,t}function _k(n,t=X.Default){if(void 0===hs)throw new N(203,"");return null===hs?Um(n,void 0,t):hs.get(n,t&X.Optional?null:void 0,t)}function S(n,t=X.Default){return(function rE(){return pu}()||_k)(re(n),t)}const Ja=S;function Gu(n){const t=[];for(let e=0;e<n.length;e++){const i=re(n[e]);if(Array.isArray(i)){if(0===i.length)throw new N(900,"");let r,o=X.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Sk(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(S(r,o))}else t.push(S(i))}return t}function ds(n,t){return n[zu]=t,n.prototype[zu]=t,n}function Sk(n){return n[zu]}const Za=ds(Jr("Inject",n=>({token:n})),-1),Pn=ds(Jr("Optional"),8),Xr=ds(Jr("SkipSelf"),4);let Qa,el;function eo(n){var t;return(null===(t=function Yu(){if(void 0===Qa&&(Qa=null,Me.trustedTypes))try{Qa=Me.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Qa}())||void 0===t?void 0:t.createHTML(n))||n}function Lg(n){var t;return(null===(t=function Ku(){if(void 0===el&&(el=null,Me.trustedTypes))try{el=Me.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return el}())||void 0===t?void 0:t.createHTML(n))||n}class ur{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ok extends ur{getTypeName(){return"HTML"}}class Rk extends ur{getTypeName(){return"Style"}}class Fk extends ur{getTypeName(){return"Script"}}class Lk extends ur{getTypeName(){return"URL"}}class Nk extends ur{getTypeName(){return"ResourceURL"}}function Qt(n){return n instanceof ur?n.changingThisBreaksApplicationSecurity:n}function Wn(n,t){const e=Vg(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Vg(n){return n instanceof ur&&n.getTypeName()||null}class qk{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(eo(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class $k{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=eo(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=eo(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Gk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ps(n){return(n=String(n)).match(Gk)||n.match(Wk)?n:"unsafe:"+n}function Yn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ms(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Ug=Yn("area,br,col,hr,img,wbr"),qg=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$g=Yn("rp,rt"),Ju=ms(Ug,ms(qg,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ms($g,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ms($g,qg)),Zu=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Xu=Yn("srcset"),zg=ms(Zu,Xu,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Yk=Yn("script,style,template");class Kk{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ju.hasOwnProperty(e))return this.sanitizedSomething=!0,!Yk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!zg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;Zu[a]&&(l=ps(l)),Xu[a]&&(n=l,l=(n=String(n)).split(",").map(t=>ps(t.trim())).join(", ")),this.buf.push(" ",s,'="',Gg(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ju.hasOwnProperty(e)&&!Ug.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Gg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Jk=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zk=/([^\#-~ |!])/g;function Gg(n){return n.replace(/&/g,"&amp;").replace(Jk,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Zk,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function Wg(n,t){let e=null;try{tl=tl||function Hg(n){const t=new $k(n);return function zk(){try{return!!(new window.DOMParser).parseFromString(eo(""),"text/html")}catch(n){return!1}}()?new qk(t):t}(n);let i=t?String(t):"";e=tl.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=tl.getInertBodyElement(i)}while(i!==o);return eo((new Kk).sanitizeChildren(Qu(e)||e))}finally{if(e){const i=Qu(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Qu(n){return"content"in n&&function Xk(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Se=(()=>((Se=Se||{})[Se.NONE=0]="NONE",Se[Se.HTML=1]="HTML",Se[Se.STYLE=2]="STYLE",Se[Se.SCRIPT=3]="SCRIPT",Se[Se.URL=4]="URL",Se[Se.RESOURCE_URL=5]="RESOURCE_URL",Se))();function Yg(n){const t=function gs(){const n=k();return n&&n[12]}();return t?Lg(t.sanitize(Se.HTML,n)||""):Wn(n,"HTML")?Lg(Qt(n)):Wg(Mu(),te(n))}const Zg="__ngContext__";function kt(n,t){n[Zg]=t}function nh(n){const t=function vs(n){return n[Zg]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function rh(n){return n.ngOriginalError}function m1(n,...t){n.error(...t)}class Li{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function p1(n){return n&&n.ngErrorLogger||m1}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&rh(t);for(;e&&rh(e);)e=rh(e);return e||null}}const M1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Me))();function nv(n){return n.ownerDocument}function Kn(n){return n instanceof Function?n():n}var en=(()=>((en=en||{})[en.Important=1]="Important",en[en.DashCase=2]="DashCase",en))();function sh(n,t){return undefined(n,t)}function ys(n){const t=n[3];return An(t)?t[3]:t}function ah(n){return av(n[13])}function lh(n){return av(n[4])}function av(n){for(;null!==n&&!An(n);)n=n[4];return n}function no(n,t,e,i,r){if(null!=i){let o,s=!1;An(i)?o=i:$n(i)&&(s=!0,i=i[0]);const a=it(i);0===n&&null!==e?null==r?fv(t,e,a):hr(t,e,a,r||null,!0):1===n&&null!==e?hr(t,e,a,r||null,!0):2===n?function Sv(n,t,e){const i=nl(n,t);i&&function B1(n,t,e,i){Ge(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function j1(n,t,e,i,r){const o=e[7];o!==it(e)&&no(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];_s(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function uh(n,t,e){if(Ge(n))return n.createElement(t,e);{const i=null!==e?function CE(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function cv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Tu(r,-1)),e.splice(i,1)}function hh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&cv(r,i),t>0&&(n[e-1][4]=i[4]);const o=Wa(n,10+t);!function A1(n,t){_s(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function uv(n,t){if(!(256&t[2])){const e=t[11];Ge(e)&&e.destroyNode&&_s(n,t,e,3,null,null),function O1(n){let t=n[13];if(!t)return dh(n[1],n);for(;t;){let e=null;if($n(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)$n(t)&&dh(t[1],t),t=t[3];null===t&&(t=n),$n(t)&&dh(t[1],t),e=t&&t[4]}t=e}}(t)}}function dh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function N1(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof is)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function L1(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):it(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Ge(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&An(t[3])){e!==t[3]&&cv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function hv(n,t,e){return function dv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Tn.None||r===Tn.Emulated)return null}return dn(i,e)}(n,t.parent,e)}function hr(n,t,e,i,r){Ge(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function fv(n,t,e){Ge(n)?n.appendChild(t,e):t.appendChild(e)}function pv(n,t,e,i,r){null!==i?hr(n,t,e,i,r):fv(n,t,e)}function nl(n,t){return Ge(n)?n.parentNode(t):t.parentNode}function mv(n,t,e){return vv(n,t,e)}let vv=function gv(n,t,e){return 40&n.type?dn(n,e):null};function il(n,t,e,i){const r=hv(n,i,t),o=t[11],a=mv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)pv(o,r,e[l],a,!1);else pv(o,r,e,a,!1)}function rl(n,t){if(null!==t){const e=t.type;if(3&e)return dn(t,n);if(4&e)return ph(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return rl(n,i);{const r=n[t.index];return An(r)?ph(-1,r):it(r)}}if(32&e)return sh(t,n)()||it(n[t.index]);{const i=_v(n,t);return null!==i?Array.isArray(i)?i[0]:rl(ys(n[16]),i):rl(n,t.next)}}return null}function _v(n,t){return null!==t?n[16][6].projection[t.projection]:null}function ph(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return rl(i,r)}return t[7]}function mh(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&kt(it(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)mh(n,t,e.child,i,r,o,!1),no(t,n,r,a,o);else if(32&l){const c=sh(e,i);let u;for(;u=c();)no(t,n,r,u,o);no(t,n,r,a,o)}else 16&l?bv(n,t,i,e,r,o):no(t,n,r,a,o);e=s?e.projectionNext:e.next}}function _s(n,t,e,i,r,o){mh(e,i,n.firstChild,t,r,o,!1)}function bv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)no(t,n,r,l[c],o);else mh(n,t,l,s[3],r,o,!0)}function wv(n,t,e){Ge(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function gh(n,t,e){Ge(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Cv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Dv="ng-template";function q1(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Cv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Mv(n){return 4===n.type&&n.value!==Dv}function $1(n,t,e){return t===(4!==n.type||e?n.value:Dv)}function z1(n,t,e){let i=4;const r=n.attrs||[],o=function Y1(n){for(let t=0;t<n.length;t++)if(dg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!$1(n,l,e)||""===l&&1===t.length){if(On(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!q1(n.attrs,c,e)){if(On(i))return!1;s=!0}continue}const h=G1(8&i?"class":l,r,Mv(n),e);if(-1===h){if(On(i))return!1;s=!0;continue}if(""!==c){let d;d=h>o?"":r[h+1].toLowerCase();const f=8&i?d:null;if(f&&-1!==Cv(f,c,0)||2&i&&c!==d){if(On(i))return!1;s=!0}}}}else{if(!s&&!On(i)&&!On(l))return!1;if(s&&On(l))continue;s=!1,i=l|1&i}}return On(i)||s}function On(n){return 0==(1&n)}function G1(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function K1(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Ev(n,t,e=!1){for(let i=0;i<t.length;i++)if(z1(n,t[i],e))return!0;return!1}function J1(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function kv(n,t){return n?":not("+t.trim()+")":t}function Z1(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!On(s)&&(t+=kv(o,r),r=""),i=s,o=o||!On(i);e++}return""!==r&&(t+=kv(o,r)),t}const ne={};function y(n){Tv(pe(),k(),Ot()+n,Ra())}function Tv(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Va(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Ha(t,o,0,e)}Ri(e)}function ol(n,t){return n<<17|t<<2}function Rn(n){return n>>17&32767}function vh(n){return 2|n}function gi(n){return(131068&n)>>2}function yh(n,t){return-131069&n|t<<2}function _h(n){return 1|n}function Vv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Ou(r),s.contentQueries(2,t[o],o)}}}function Ss(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,eg(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function io(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Th(n,t,e,i,r){const o=ng(),s=xu(),l=n.data[t]=function mT(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function FE(){return Q.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function ns(){const n=Q.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return zn(o,!0),o}function ro(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function bs(n,t,e){La(t);try{const i=n.viewQuery;null!==i&&Nh(1,i,e);const r=n.template;null!==r&&Hv(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Vv(n,t),n.staticViewQueries&&Nh(2,n.viewQuery,e);const o=n.components;null!==o&&function dT(n,t){for(let e=0;e<t.length;e++)OT(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Na()}}function oo(n,t,e,i){const r=t[2];if(256==(256&r))return;La(t);const o=Ra();try{eg(t),function ig(n){return Q.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Hv(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&Va(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Ha(t,c,0,null),Ru(t,0)}if(function IT(n){for(let t=ah(n);null!==t;t=lh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Tu(o,1),r[2]|=1024}}}(t),function AT(n){for(let t=ah(n);null!==t;t=lh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];ku(i)&&oo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Vv(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&Va(t,c)}else{const c=n.contentHooks;null!==c&&Ha(t,c,1),Ru(t,1)}!function uT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ri(~r);else{const o=r,s=e[++i],a=e[++i];LE(s,o),a(2,t[o])}}}finally{Ri(-1)}}(n,t);const a=n.components;null!==a&&function hT(n,t){for(let e=0;e<t.length;e++)PT(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&Nh(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&Va(t,c)}else{const c=n.viewHooks;null!==c&&Ha(t,c,2),Ru(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Tu(t[3],-1))}finally{Na()}}function fT(n,t,e,i){const r=t[10],o=!Ra(),s=Qm(t);try{o&&!s&&r.begin&&r.begin(),s&&bs(n,t,i),oo(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function Hv(n,t,e,i,r){const o=Ot(),s=2&i;try{Ri(-1),s&&t.length>20&&Tv(n,t,20,Ra()),e(i,r)}finally{Ri(o)}}function jv(n,t,e){if(_u(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function xh(n,t,e){!tg()||(function wT(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||os(e,t),kt(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=In(l);c&&kT(t,e,l);const u=ss(t,n,a,e);kt(u,t),null!==s&&TT(0,a-r,u,l,0,s),c&&(Zt(e.index,t)[8]=u)}}(n,t,e,dn(e,t)),128==(128&e.flags)&&function CT(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function NE(){return Q.lFrame.currentDirectiveIndex}();try{Ri(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Iu(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Kv(c,u)}}finally{Ri(-1),Iu(a)}}(n,t,e))}function Ah(n,t,e=dn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function Uv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=ll(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function ll(n,t,e,i,r,o,s,a,l,c){const u=20+i,h=u+r,d=function pT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ne);return e}(u,h),f="function"==typeof c?c():c;return d[1]={type:n,blueprint:d,template:e,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function zv(n,t,e,i){const r=ty(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&ny(n).push(i,r.length-1))}function Gv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function tn(n,t,e,i,r,o,s,a){const l=dn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(oy(n,e,u,i,r),Ia(t)&&function yT(n,t){const e=Zt(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function vT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Ge(o)?o.setProperty(l,i,r):Lu(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ih(n,t,e,i){let r=!1;if(tg()){const o=function DT(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Ev(e,s.selectors,!1)&&(r||(r=[]),za(os(e,t),n,s.type),In(s)?(Jv(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Zv(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=ro(n,t,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];e.mergedAttrs=Ua(e.mergedAttrs,h.hostAttrs),Xv(n,e,t,c,h),ET(c,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const d=h.type.prototype;!a&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function gT(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],h=u.inputs,d=null===o||Mv(t)?null:xT(h,o);s.push(d),a=Gv(h,c,a),l=Gv(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function MT(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new N(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Ua(e.mergedAttrs,e.attrs),r}function Yv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function bT(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Kv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Jv(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function ET(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;In(t)&&(e[""]=n)}}function Zv(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Xv(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=cr(r.type)),s=new is(o,In(r),null);n.blueprint[i]=s,e[i]=s,Yv(n,t,0,i,ro(n,e,r.hostVars,ne),r)}function kT(n,t,e){const i=dn(t,n),r=Uv(e),o=n[10],s=cl(n,Ss(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Jn(n,t,e,i,r,o){const s=dn(n,t);!function Ph(n,t,e,i,r,o,s){if(null==o)Ge(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?te(o):s(o,i||"",r);Ge(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function TT(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function xT(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Qv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function PT(n,t){const e=Zt(t,n);if(ku(e)){const i=e[1];80&e[2]?oo(i,e,i.template,e[8]):e[5]>0&&Oh(e)}}function Oh(n){for(let i=ah(n);null!==i;i=lh(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];oo(s,o,s.template,o[8])}else o[5]>0&&Oh(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Zt(e[i],n);ku(r)&&r[5]>0&&Oh(r)}}function OT(n,t){const e=Zt(t,n),i=e[1];(function RT(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),bs(i,e,e[8])}function cl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Rh(n){for(;n;){n[2]|=64;const t=ys(n);if(fE(n)&&!t)return n;n=t}return null}function Lh(n,t,e){const i=t[10];i.begin&&i.begin();try{oo(n,t,n.template,e)}catch(r){throw ry(t,r),r}finally{i.end&&i.end()}}function ey(n){!function Fh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=nh(e),r=i[1];fT(r,i,r.template,e)}}(n[8])}function Nh(n,t,e){Ou(0),t(n,e)}const BT=(()=>Promise.resolve(null))();function ty(n){return n[7]||(n[7]=[])}function ny(n){return n.cleanup||(n.cleanup=[])}function iy(n,t,e){return(null===n||In(n))&&(e=function EE(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function ry(n,t){const e=n[9],i=e?e.get(Li,null):null;i&&i.handleError(t)}function oy(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function vi(n,t,e){const i=Oa(t,n);!function lv(n,t,e){Ge(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function ul(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=uu(r,a):2==o&&(i=uu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Bh=new V("INJECTOR",-1);class sy{get(t,e=us){if(e===us){const i=new Error(`NullInjectorError: No provider for ${Ce(t)}!`);throw i.name="NullInjectorError",i}return e}}const Vh=new V("Set Injector scope."),ws={},jT={};let Hh;function ay(){return void 0===Hh&&(Hh=new sy),Hh}function ly(n,t=null,e=null,i){const r=cy(n,t,e,i);return r._resolveInjectorDefTypes(),r}function cy(n,t=null,e=null,i){return new UT(n,e,t||ay(),i)}class UT{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Gn(e,a=>this.processProvider(a,t,e)),Gn([t],a=>this.processInjectorType(a,[],o)),this.records.set(Bh,so(void 0,this));const s=this.records.get(Vh);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Ce(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=us,i=X.Default){this.assertNotDestroyed();const r=Ag(this),o=Ai(void 0);try{if(!(i&X.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function JT(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(t)&&du(t);a=l&&this.injectableDefInScope(l)?so(jh(t),ws):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&X.Self?ay():this.parent).get(t,e=i&X.Optional&&e===us?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Ka]=s[Ka]||[]).unshift(Ce(t)),r)throw s;return function bk(n,t,e,i){const r=n[Ka];throw t[xg]&&r.unshift(t[xg]),n.message=function wk(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Ce(t);if(Array.isArray(t))r=t.map(Ce).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Ce(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(gk,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Ka]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Ai(o),Ag(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Ce(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processInjectorType(t,e,i){if(!(t=re(t)))return!1;let r=Hm(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=Hm(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{Gn(r.imports,h=>{this.processInjectorType(h,e,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:d,providers:f}=u[h];Gn(f,g=>this.processProvider(g,d,f||Te))}}this.injectorDefTypes.add(s);const l=cr(s)||(()=>new s);this.records.set(s,so(l,ws));const c=r.providers;if(null!=c&&!a){const u=t;Gn(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=ao(t=re(t))?t:re(t&&t.provide);const o=function $T(n,t,e){return hy(n)?so(void 0,n.useValue):so(uy(n),ws)}(t);if(ao(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=so(void 0,ws,!0),s.factory=()=>Gu(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===ws&&(e.value=jT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function KT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=re(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function jh(n){const t=du(n),e=null!==t?t.factory:cr(n);if(null!==e)return e;if(n instanceof V)throw new N(204,!1);if(n instanceof Function)return function qT(n){const t=n.length;if(t>0)throw cs(t,"?"),new N(204,!1);const e=function tE(n){const t=n&&(n[Ea]||n[jm]);if(t){const e=function nE(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new N(204,!1)}function uy(n,t,e){let i;if(ao(n)){const r=re(n);return cr(r)||jh(r)}if(hy(n))i=()=>re(n.useValue);else if(function GT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Gu(n.deps||[]));else if(function zT(n){return!(!n||!n.useExisting)}(n))i=()=>S(re(n.useExisting));else{const r=re(n&&(n.useClass||n.provide));if(!function YT(n){return!!n.deps}(n))return cr(r)||jh(r);i=()=>new r(...Gu(n.deps))}return i}function so(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function hy(n){return null!==n&&"object"==typeof n&&yk in n}function ao(n){return"function"==typeof n}let Oe=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return ly({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return ly({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=us,n.NULL=new sy,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>S(Bh)}),n.__NG_ELEMENT_ID__=-1,n})();function rx(n,t){Ba(nh(n)[1],ct())}function ge(n){let t=function Cy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(In(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new N(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=$h(n.inputs),s.declaredInputs=$h(n.declaredInputs),s.outputs=$h(n.outputs);const a=r.hostBindings;a&&lx(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&sx(n,l),c&&ax(n,c),cu(n.inputs,r.inputs),cu(n.declaredInputs,r.declaredInputs),cu(n.outputs,r.outputs),In(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ge&&(e=!1)}}t=Object.getPrototypeOf(t)}!function ox(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ua(r.hostAttrs,e=Ua(e,r.hostAttrs))}}(i)}function $h(n){return n===Lr?{}:n===Te?[]:n}function sx(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function ax(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function lx(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let hl=null;function lo(){if(!hl){const n=Me.Symbol;if(n&&n.iterator)hl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(hl=i)}}}return hl}function Cs(n){return!!zh(n)&&(Array.isArray(n)||!(n instanceof Map)&&lo()in n)}function zh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zn(n,t,e){return n[t]=e}function Tt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function dr(n,t,e,i){const r=Tt(n,t,e);return Tt(n,t+1,i)||r}function dl(n,t,e,i,r){const o=dr(n,t,e,i);return Tt(n,t+2,r)||o}function mn(n,t,e,i){const r=k();return Tt(r,Ur(),t)&&(pe(),Jn(We(),r,n,t,e,i)),mn}function uo(n,t,e,i){return Tt(n,Ur(),e)?t+te(e)+i:ne}function ho(n,t,e,i,r,o){const a=dr(n,pi(),e,r);return mi(2),a?t+te(e)+i+te(r)+o:ne}function fo(n,t,e,i,r,o,s,a){const c=dl(n,pi(),e,r,s);return mi(3),c?t+te(e)+i+te(r)+o+te(s)+a:ne}function vo(n,t,e,i,r,o,s,a,l,c,u,h,d,f,g,_){const C=pi();let M=function pn(n,t,e,i,r,o){const s=dr(n,t,e,i);return dr(n,t+2,r,o)||s}(n,C,e,r,s,l);return M=dl(n,C+4,u,d,g)||M,mi(7),M?t+te(e)+i+te(r)+o+te(s)+a+te(l)+c+te(u)+h+te(d)+f+te(g)+_:ne}function x(n,t,e,i,r,o,s,a){const l=k(),c=pe(),u=n+20,h=c.firstCreatePass?function mx(n,t,e,i,r,o,s,a,l){const c=t.consts,u=io(t,n,4,s||null,Oi(c,a));Ih(t,e,u,Oi(c,l)),Ba(t,u);const h=u.tViews=ll(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];zn(h,!1);const d=l[11].createComment("");il(c,l,d,h),kt(d,l),cl(l,l[u]=Qv(d,l,d,h)),Pa(h)&&xh(c,l,h),null!=s&&Ah(l,h,a)}function Gh(n){return jr(function RE(){return Q.lFrame.contextLView}(),20+n)}function b(n,t=X.Default){const e=k();return null===e?S(n,t):_g(ct(),e,re(n),t)}function pl(){throw new Error("invalid")}function D(n,t,e){const i=k();return Tt(i,Ur(),t)&&tn(pe(),We(),i,n,t,i[11],e,!1),D}function Zh(n,t,e,i,r){const s=r?"class":"style";oy(n,e,t.inputs[s],s,i)}function m(n,t,e,i){const r=k(),o=pe(),s=20+n,a=r[11],l=r[s]=uh(a,t,function zE(){return Q.lFrame.currentNamespace}()),c=o.firstCreatePass?function Lx(n,t,e,i,r,o,s){const a=t.consts,c=io(t,n,2,r,Oi(a,o));return Ih(t,e,c,Oi(a,s)),null!==c.attrs&&ul(c,c.attrs,!1),null!==c.mergedAttrs&&ul(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];zn(c,!0);const u=c.mergedAttrs;null!==u&&ja(a,l,u);const h=c.classes;null!==h&&gh(a,l,h);const d=c.styles;return null!==d&&wv(a,l,d),64!=(64&c.flags)&&il(o,r,l,c),0===function xE(){return Q.lFrame.elementDepthCount}()&&kt(l,r),function AE(){Q.lFrame.elementDepthCount++}(),Pa(c)&&(xh(o,r,c),jv(o,c,r)),null!==i&&Ah(r,c),m}function p(){let n=ct();xu()?Au():(n=n.parent,zn(n,!1));const t=n;!function IE(){Q.lFrame.elementDepthCount--}();const e=pe();return e.firstCreatePass&&(Ba(e,n),_u(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function JE(n){return 0!=(16&n.flags)}(t)&&Zh(e,t,k(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function ZE(n){return 0!=(32&n.flags)}(t)&&Zh(e,t,k(),t.stylesWithoutHost,!1),p}function W(n,t,e,i){return m(n,t,e,i),p(),W}function So(n,t,e){const i=k(),r=pe(),o=n+20,s=r.firstCreatePass?function Nx(n,t,e,i,r){const o=t.consts,s=Oi(o,i),a=io(t,n,8,"ng-container",s);return null!==s&&ul(a,s,!0),Ih(t,e,a,Oi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];zn(s,!0);const a=i[o]=i[11].createComment("");return il(r,i,a,s),kt(a,i),Pa(s)&&(xh(r,i,s),jv(r,s,i)),null!=e&&Ah(i,s),So}function bo(){let n=ct();const t=pe();return xu()?Au():(n=n.parent,zn(n,!1)),t.firstCreatePass&&(Ba(t,n),_u(n)&&t.queries.elementEnd(n)),bo}function Xh(n,t,e){return So(n,t,e),bo(),Xh}function ie(){return k()}function Ms(n){return!!n&&"function"==typeof n.then}const Qh=function qy(n){return!!n&&"function"==typeof n.subscribe};function T(n,t,e,i){const r=k(),o=pe(),s=ct();return $y(o,r,r[11],s,n,t,!!e,i),T}function ed(n,t){const e=ct(),i=k(),r=pe();return $y(r,i,iy(Pu(r.data),e,i),e,n,t,!1),ed}function $y(n,t,e,i,r,o,s,a){const l=Pa(i),u=n.firstCreatePass&&ny(n),h=t[8],d=ty(t);let f=!0;if(3&i.type||a){const C=dn(i,t),M=a?a(C):C,w=d.length,I=a?O=>a(it(O[i.index])):i.index;if(Ge(e)){let O=null;if(!a&&l&&(O=function Bx(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=o,O.__ngLastListenerFn__=o,f=!1;else{o=td(i,t,h,o,!1);const j=e.listen(M,r,o);d.push(o,j),u&&u.push(r,I,w,w+1)}}else o=td(i,t,h,o,!0),M.addEventListener(r,o,s),d.push(o),u&&u.push(r,I,w,s)}else o=td(i,t,h,o,!1);const g=i.outputs;let _;if(f&&null!==g&&(_=g[r])){const C=_.length;if(C)for(let M=0;M<C;M+=2){const _e=t[_[M]][_[M+1]].subscribe(o),we=d.length;d.push(o,_e),u&&u.push(r,i.index,we,-(we+1))}}}function zy(n,t,e,i){try{return!1!==e(i)}catch(r){return ry(n,r),!1}}function td(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?Zt(n.index,t):t;0==(32&t[2])&&Rh(a);let l=zy(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=zy(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function E(n=1){return function VE(n){return(Q.lFrame.contextLView=function HE(n,t){for(;n>0;)t=t[15],n--;return t}(n,Q.lFrame.contextLView))[8]}(n)}function Vx(n,t){let e=null;const i=function W1(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Ev(n,o,!0):J1(i,o))return r}else e=r}return e}function Re(n,t,e){return Vi(n,"",t,"",e),Re}function Vi(n,t,e,i,r){const o=k(),s=uo(o,t,e,i);return s!==ne&&tn(pe(),We(),o,n,s,o[11],r,!1),Vi}function Hi(n,t,e,i,r,o,s){const a=k(),l=ho(a,t,e,i,r,o);return l!==ne&&tn(pe(),We(),a,n,l,a[11],s,!1),Hi}function nd(n,t,e,i,r,o,s,a,l){const c=k(),u=fo(c,t,e,i,r,o,s,a);return u!==ne&&tn(pe(),We(),c,n,u,c[11],l,!1),nd}function id(n,t,e,i,r,o,s,a,l,c,u,h,d,f,g,_,C){const M=k(),w=vo(M,t,e,i,r,o,s,a,l,c,u,h,d,f,g,_);return w!==ne&&tn(pe(),We(),M,n,w,M[11],C,!1),id}function Qy(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Rn(o):gi(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];Ux(n[a],t)&&(l=!0,n[a+1]=i?_h(u):vh(u)),a=i?Rn(u):gi(u)}l&&(n[e+1]=i?vh(o):_h(o))}function Ux(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Zr(n,t)>=0}function rd(n,t,e){return Ln(n,t,e,!1),rd}function Co(n,t){return Ln(n,t,null,!0),Co}function Ln(n,t,e,i){const r=k(),o=pe(),s=mi(2);o.firstUpdatePass&&function a_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Ot()],s=function s_(n,t){return t>=n.expandoStartIndex}(n,e);(function h_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function Zx(n,t,e,i){const r=Pu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Es(e=od(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=od(r,n,t,e,i),null===o){let l=function Xx(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==gi(i))return n[Rn(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=od(null,n,t,l[1],i),l=Es(l,t.attrs,i),function Qx(n,t,e,i){n[Rn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function eA(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Es(i,n[o].hostAttrs,e);return Es(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function Hx(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Rn(s),l=gi(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||Zr(h,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const d=Rn(n[a+1]);n[i+1]=ol(d,a),0!==d&&(n[d+1]=yh(n[d+1],i)),n[a+1]=function eT(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=ol(a,0),0!==a&&(n[a+1]=yh(n[a+1],i)),a=i;else n[i+1]=ol(l,0),0===a?a=i:n[l+1]=yh(n[l+1],i),l=i;c&&(n[i+1]=vh(n[i+1])),Qy(n,u,i,!0),Qy(n,u,i,!1),function jx(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Zr(o,t)>=0&&(e[i+1]=_h(e[i+1]))}(t,u,n,i,o),s=ol(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==ne&&Tt(r,s,t)&&function c_(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];ml(function Iv(n){return 1==(1&n)}(c)?u_(l,t,e,r,gi(c),s):void 0)||(ml(o)||function Av(n){return 2==(2&n)}(c)&&(o=u_(l,null,e,r,a,s)),function U1(n,t,e,i,r){const o=Ge(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:en.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=en.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Oa(Ot(),e),r,o))}(o,o.data[Ot()],r,r[11],n,r[s+1]=function iA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ce(Qt(n)))),n}(t,e),i,s)}function od(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Es(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Es(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Xt(n,s,!!e||t[++o]))}return void 0===n?null:n}function u_(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let d=e[r+1];d===ne&&(d=h?Te:void 0);let f=h?qu(d,i):u===i?d:void 0;if(c&&!ml(f)&&(f=qu(l,i)),ml(f)&&(a=f,s))return a;const g=n[r+1];r=s?Rn(g):gi(g)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=qu(l,i))}return a}function ml(n){return void 0!==n}function v(n,t=""){const e=k(),i=pe(),r=n+20,o=i.firstCreatePass?io(i,r,1,t,null):i.data[r],s=e[r]=function ch(n,t){return Ge(n)?n.createText(t):n.createTextNode(t)}(e[11],t);il(i,e,s,o),zn(o,!1)}function Ve(n){return be("",n,""),Ve}function be(n,t,e){const i=k(),r=uo(i,n,t,e);return r!==ne&&vi(i,Ot(),r),be}function Bn(n,t,e,i,r){const o=k(),s=ho(o,n,t,e,i,r);return s!==ne&&vi(o,Ot(),s),Bn}function gl(n,t,e,i,r,o,s){const a=k(),l=fo(a,n,t,e,i,r,o,s);return l!==ne&&vi(a,Ot(),l),gl}function sd(n,t,e){const i=k();return Tt(i,Ur(),t)&&tn(pe(),We(),i,n,t,i[11],e,!0),sd}function ad(n,t,e){const i=k();if(Tt(i,Ur(),t)){const o=pe(),s=We();tn(o,s,i,n,t,iy(Pu(o.data),s,i),e,!0)}return ad}const fr=void 0;var CA=["en",[["a","p"],["AM","PM"],fr],[["AM","PM"],fr,fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fr,"{1} 'at' {0}",fr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wA(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Do={};function Ft(n){const t=function DA(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=T_(t);if(e)return e;const i=t.split("-")[0];if(e=T_(i),e)return e;if("en"===i)return CA;throw new Error(`Missing locale data for the locale "${n}".`)}function T_(n){return n in Do||(Do[n]=Me.ng&&Me.ng.common&&Me.ng.common.locales&&Me.ng.common.locales[n]),Do[n]}var L=(()=>((L=L||{})[L.LocaleId=0]="LocaleId",L[L.DayPeriodsFormat=1]="DayPeriodsFormat",L[L.DayPeriodsStandalone=2]="DayPeriodsStandalone",L[L.DaysFormat=3]="DaysFormat",L[L.DaysStandalone=4]="DaysStandalone",L[L.MonthsFormat=5]="MonthsFormat",L[L.MonthsStandalone=6]="MonthsStandalone",L[L.Eras=7]="Eras",L[L.FirstDayOfWeek=8]="FirstDayOfWeek",L[L.WeekendRange=9]="WeekendRange",L[L.DateFormat=10]="DateFormat",L[L.TimeFormat=11]="TimeFormat",L[L.DateTimeFormat=12]="DateTimeFormat",L[L.NumberSymbols=13]="NumberSymbols",L[L.NumberFormats=14]="NumberFormats",L[L.CurrencyCode=15]="CurrencyCode",L[L.CurrencySymbol=16]="CurrencySymbol",L[L.CurrencyName=17]="CurrencyName",L[L.Currencies=18]="Currencies",L[L.Directionality=19]="Directionality",L[L.PluralCase=20]="PluralCase",L[L.ExtraData=21]="ExtraData",L))();const vl="en-US";let x_=vl;function ud(n,t,e,i,r){if(n=re(n),Array.isArray(n))for(let o=0;o<n.length;o++)ud(n[o],t,e,i,r);else{const o=pe(),s=k();let a=ao(n)?n:re(n.provide),l=uy(n);const c=ct(),u=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ao(n)||!n.multi){const f=new is(l,r,b),g=dd(a,t,r?u:u+d,h);-1===g?(za(os(c,s),o,a),hd(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(f),s.push(f)):(e[g]=f,s[g]=f)}else{const f=dd(a,t,u+d,h),g=dd(a,t,u,u+d),_=f>=0&&e[f],C=g>=0&&e[g];if(r&&!C||!r&&!_){za(os(c,s),o,a);const M=function wI(n,t,e,i,r){const o=new is(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,Q_(o,r,i&&!e),o}(r?bI:SI,e.length,r,i,l);!r&&C&&(e[g].providerFactory=M),hd(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(M),s.push(M)}else hd(o,n,f>-1?f:g,Q_(e[r?g:f],l,!r&&i));!r&&i&&C&&e[g].componentProviders++}}}function hd(n,t,e,i){const r=ao(t),o=function WT(n){return!!n.useClass}(t);if(r||o){const l=(o?re(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Q_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function dd(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function SI(n,t,e,i){return fd(this.multi,[])}function bI(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ss(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),fd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],fd(r,o);return o}function fd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function He(n,t=[]){return e=>{e.providersResolver=(i,r)=>function _I(n,t,e){const i=pe();if(i.firstCreatePass){const r=In(n);ud(e,i.data,i.blueprint,r,!0),ud(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class eS{}class MI{resolveComponentFactory(t){throw function DI(n){const t=Error(`No component factory found for ${Ce(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let ji=(()=>{class n{}return n.NULL=new MI,n})();function EI(){return Eo(ct(),k())}function Eo(n,t){return new rt(dn(n,t))}let rt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=EI,n})();function kI(n){return n instanceof rt?n.nativeElement:n}class Is{}let ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function xI(){const n=k(),e=Zt(ct().index,n);return function TI(n){return n[11]}($n(e)?e:n)}(),n})(),AI=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class pr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const II=new pr("13.3.3"),pd={};function wl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(it(o)),An(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&wl(l[1],l,c,i)}const s=e.type;if(8&s)wl(n,t,e.child,i);else if(32&s){const a=sh(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=_v(t,e);if(Array.isArray(a))i.push(...a);else{const l=ys(t[16]);wl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Ps{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(An(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(hh(t,i),Wa(e,i))}this._attachedToViewContainer=!1}uv(this._lView[1],this._lView)}onDestroy(t){zv(this._lView[1],this._lView,null,t)}markForCheck(){Rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Lh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function LT(n,t,e){Fa(!0);try{Lh(n,t,e)}finally{Fa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new N(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function P1(n,t){_s(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,"");this._appRef=t}}class PI extends Ps{constructor(t){super(t),this._view=t}detectChanges(){ey(this._view)}checkNoChanges(){!function NT(n){Fa(!0);try{ey(n)}finally{Fa(!1)}}(this._view)}get context(){return null}}class nS extends ji{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Mt(t);return new md(e,this.ngModule)}}function iS(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class md extends eS{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function X1(n){return n.map(Z1).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return iS(this.componentDef.inputs)}get outputs(){return iS(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function RI(n,t){return{get:(e,i,r)=>{const o=n.get(e,pd,r);return o!==pd||i===pd?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Is,Xm),a=o.get(AI,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function $v(n,t,e){if(Ge(n))return n.selectRootElement(t,e===Tn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):uh(s.createRenderer(null,this.componentDef),c,function OI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?576:528,d=function wy(n,t){return{components:[],scheduler:n||M1,clean:BT,playerHandler:t||null,flags:0}}(),f=ll(0,null,null,1,0,null,null,null,null,null),g=Ss(null,f,d,h,null,null,s,l,a,o);let _,C;La(g);try{const M=function Sy(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=io(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(ul(l,c,!0),null!==n&&(ja(r,n,c),null!==l.classes&&gh(r,n,l.classes),null!==l.styles&&wv(r,n,l.styles)));const u=i.createRenderer(n,t),h=Ss(e,Uv(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(za(os(l,e),s,t.type),Jv(s,l),Zv(l,e.length,1)),cl(e,h),e[20]=h}(u,this.componentDef,g,s,l);if(u)if(i)ja(l,u,["ng-version",II.full]);else{const{attrs:w,classes:I}=function Q1(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!On(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);w&&ja(l,u,w),I&&I.length>0&&gh(l,u,I.join(" "))}if(C=Eu(f,20),void 0!==e){const w=C.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const O=e[I];w.push(null!=O?Array.from(O):null)}}_=function by(n,t,e,i,r){const o=e[1],s=function ST(n,t,e){const i=ct();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Xv(n,i,t,ro(n,t,1,null),e));const r=ss(t,n,i.directiveStart,i);kt(r,t);const o=dn(i,t);return o&&kt(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=ct();t.contentQueries(1,s,l.directiveStart)}const a=ct();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ri(a.index),Yv(e[1],a,0,a.directiveStart,a.directiveEnd,t),Kv(t,s)),s}(M,this.componentDef,g,d,[rx]),bs(f,g,null)}finally{Na()}return new LI(this.componentType,_,Eo(C,g),g,C)}}class LI extends class CI{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new PI(r),this.componentType=t}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class yi{}class rS{}const ko=new Map;class aS extends yi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nS(this);const i=cn(t);this._bootstrapComponents=Kn(i.bootstrap),this._r3Injector=cy(t,e,[{provide:yi,useValue:this},{provide:ji,useValue:this.componentFactoryResolver}],Ce(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Oe.THROW_IF_NOT_FOUND,i=X.Default){return t===Oe||t===yi||t===Bh?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class gd extends rS{constructor(t){super(),this.moduleType=t,null!==cn(t)&&function BI(n){const t=new Set;!function e(i){const r=cn(i,!0),o=r.id;null!==o&&(function oS(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ce(t)} vs ${Ce(t.name)}`)}(o,ko.get(o),i),ko.set(o,i));const s=Kn(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new aS(this.moduleType,t)}}function bt(n,t,e,i){return lS(k(),Pt(),n,t,e,i)}function vd(n,t,e,i,r){return cS(k(),Pt(),n,t,e,i,r)}function Os(n,t){const e=n[t];return e===ne?void 0:e}function lS(n,t,e,i,r,o){const s=t+e;return Tt(n,s,r)?Zn(n,s+1,o?i.call(o,r):i(r)):Os(n,s+1)}function cS(n,t,e,i,r,o,s){const a=t+e;return dr(n,a,r,o)?Zn(n,a+2,s?i.call(s,r,o):i(r,o)):Os(n,a+2)}function Y(n,t){const e=pe();let i;const r=n+20;e.firstCreatePass?(i=function WI(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=cr(i.type)),s=Ai(b);try{const a=qa(!1),l=o();return qa(a),function gx(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,k(),r,l),l}finally{Ai(s)}}function me(n,t,e){const i=n+20,r=k(),o=jr(r,i);return Rs(r,i)?lS(r,Pt(),t,o.transform,e,o):o.transform(e)}function Lt(n,t,e,i){const r=n+20,o=k(),s=jr(o,r);return Rs(o,r)?cS(o,Pt(),t,s.transform,e,i,s):s.transform(e,i)}function fS(n,t,e,i,r){const o=n+20,s=k(),a=jr(s,o);return Rs(s,o)?function uS(n,t,e,i,r,o,s,a){const l=t+e;return dl(n,l,r,o,s)?Zn(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):Os(n,l+3)}(s,Pt(),t,a.transform,e,i,r,a):a.transform(e,i,r)}function Rs(n,t){return n[1].data[t].pure}function yd(n){return t=>{setTimeout(n,void 0,t)}}const xe=class JI extends Ee{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(l=yd(l),a&&(a=yd(a)),c&&(c=yd(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof yt&&t.add(u),u}};function ZI(){return this._results[lo()]()}class _d{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=lo(),i=_d.prototype;i[e]||(i[e]=ZI)}get changes(){return this._changes||(this._changes=new xe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=fn(t);(this._changesDetected=!function ak(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ti=(()=>{class n{}return n.__NG_ELEMENT_ID__=eP,n})();const XI=ti,QI=class extends XI{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Ss(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),bs(e,i,t),new Ps(i)}};function eP(){return Cl(ct(),k())}function Cl(n,t){return 4&n.type?new QI(t,n,Eo(n,t)):null}let gn=(()=>{class n{}return n.__NG_ELEMENT_ID__=tP,n})();function tP(){return gS(ct(),k())}const nP=gn,pS=class extends nP{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Eo(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){const t=$a(this._hostTNode,this._hostLView);if(pg(t)){const e=$r(t,this._hostLView),i=qr(t);return new zr(e[1].data[i+8],e)}return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=mS(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function ls(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const h=e||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.ngModuleRef}const l=s?t:new md(Mt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const d=(s?c:this.parentInjector).get(yi,null);d&&(o=d)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function TE(n){return An(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],d=new pS(h,h[6],h[3]);d.detach(d.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function R1(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],Dg(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function F1(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=ph(o,s),l=i[11],c=nl(l,s[7]);return null!==c&&function I1(n,t,e,i,r,o){i[0]=r,i[6]=t,_s(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),Dg(Sd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=mS(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=hh(this._lContainer,e);i&&(Wa(Sd(this._lContainer),e),uv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=hh(this._lContainer,e);return i&&null!=Wa(Sd(this._lContainer),e)?new Ps(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function mS(n){return n[8]}function Sd(n){return n[8]||(n[8]=[])}function gS(n,t){let e;const i=t[n.index];if(An(i))e=i;else{let r;if(8&n.type)r=it(i);else{const o=t[11];r=o.createComment("");const s=dn(n,t);hr(o,nl(o,s),r,function V1(n,t){return Ge(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=Qv(i,t,r,n),cl(t,e)}return new pS(e,n,t)}class bd{constructor(t){this.queryList=t,this.matches=null}clone(){return new bd(this.queryList)}setDirty(){this.queryList.setDirty()}}class wd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new wd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==wS(t,e).matches&&this.queries[e].setDirty()}}class vS{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Cd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Cd(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Dd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Dd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,oP(e,o)),this.matchTNodeWithReadOption(t,e,Ga(e,t,o,!1,!1))}else i===ti?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ga(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===rt||r===gn||r===ti&&4&e.type)this.addMatch(e.index,-2);else{const o=Ga(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function oP(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function aP(n,t,e,i){return-1===e?function sP(n,t){return 11&n.type?Eo(n,t):4&n.type?Cl(n,t):null}(t,n):-2===e?function lP(n,t,e){return e===rt?Eo(t,n):e===ti?Cl(t,n):e===gn?gS(t,n):void 0}(n,t,i):ss(n,n[1],e,t)}function yS(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:aP(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Md(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=yS(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let h=10;h<u.length;h++){const d=u[h];d[17]===d[3]&&Md(d[1],d,c,i)}if(null!==u[9]){const h=u[9];for(let d=0;d<h.length;d++){const f=h[d];Md(f[1],f,c,i)}}}}}return i}function Dl(n){const t=k(),e=pe(),i=og();Ou(i+1);const r=wS(e,i);if(n.dirty&&Qm(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Md(e,t,i,[]):yS(e,t,r,i);n.reset(o,kI),n.notifyOnChanges()}return!0}return!1}function _S(n,t,e){const i=pe();i.firstCreatePass&&(function bS(n,t,e){null===n.queries&&(n.queries=new Cd),n.queries.track(new Dd(t,e))}(i,new vS(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function SS(n,t,e){const i=new _d(4==(4&e));zv(n,t,i,i.destroy),null===t[19]&&(t[19]=new wd),t[19].queries.push(new bd(i))}(i,k(),t)}function wS(n,t){return n.queries.getByIndex(t)}function CS(n,t){return Cl(n,t)}function Tl(...n){}const Pd=new V("Application Initializer");let Od=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Tl,this.reject=Tl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ms(o))e.push(o);else if(Qh(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(S(Pd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ls=new V("AppId",{providedIn:"root",factory:function HS(){return`${Rd()}${Rd()}${Rd()}`}});function Rd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jS=new V("Platform Initializer"),Fd=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),US=new V("appBootstrapListener");let kP=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const _i=new V("LocaleId",{providedIn:"root",factory:()=>Ja(_i,X.Optional|X.SkipSelf)||function TP(){return"undefined"!=typeof $localize&&$localize.locale||vl}()});class AP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let qS=(()=>{class n{compileModuleSync(e){return new gd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Kn(cn(e).declarations).reduce((s,a)=>{const l=Mt(a);return l&&s.push(new md(l)),s},[]);return new AP(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PP=(()=>Promise.resolve(0))();function Ld(n){"undefined"==typeof Zone?PP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class De{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function OP(){let n=Me.requestAnimationFrame,t=Me.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function LP(n){const t=()=>{!function FP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Me,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Bd(n),n.isCheckStableRunning=!0,Nd(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Bd(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return $S(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),zS(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return $S(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),zS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Bd(n),Nd(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!De.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(De.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,RP,Tl,Tl);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const RP={};function Nd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Bd(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $S(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zS(n){n._nesting--,Nd(n)}class NP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let Vd=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),Ld(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ld(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(S(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),BP=(()=>{class n{constructor(){this._applications=new Map,Hd.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Hd.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class VP{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Vn,Hd=new VP;const GS=new V("AllowMultipleToken");class WS{constructor(t,e){this.name=t,this.token=e}}function YS(n,t,e=[]){const i=`Platform: ${t}`,r=new V(i);return(o=[])=>{let s=KS();if(!s||s.injector.get(GS,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:Vh,useValue:"platform"});!function qP(n){if(Vn&&!Vn.destroyed&&!Vn.injector.get(GS,!1))throw new N(400,"");Vn=n.get(zP);const t=n.get(jS,null);t&&t.forEach(e=>e())}(Oe.create({providers:a,name:i}))}return function $P(n){const t=KS();if(!t)throw new N(401,"");return t}()}}function KS(){return Vn&&!Vn.destroyed?Vn:null}let zP=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function GP(n,t){let e;return e="noop"===n?new NP:("zone.js"===n?void 0:n)||new De({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:De,useValue:a}];return a.run(()=>{const c=Oe.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),h=u.injector.get(Li,null);if(!h)throw new N(402,"");return a.runOutsideAngular(()=>{const d=a.onError.subscribe({next:f=>{h.handleError(f)}});u.onDestroy(()=>{jd(this._modules,u),d.unsubscribe()})}),function WP(n,t,e){try{const i=e();return Ms(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const d=u.injector.get(Od);return d.runInitializers(),d.donePromise.then(()=>(function TA(n){Yt(n,"Expected localeId to be defined"),"string"==typeof n&&(x_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(_i,vl)||vl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=JS({},i);return function jP(n,t,e){const i=new gd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Ns);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new N(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new N(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(Oe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function JS(n,t){return Array.isArray(t)?t.reduce(JS,n):Object.assign(Object.assign({},n),t)}let Ns=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ue(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Ue(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),Ld(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Lm(s,a.pipe(Nm()))}bootstrap(e,i){if(!this._initStatus.done)throw new N(405,"");let r;r=e instanceof eS?e:this._injector.get(ji).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function UP(n){return n.isBoundToModule}(r)?void 0:this._injector.get(yi),a=r.create(Oe.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(Vd,null),u=c&&a.injector.get(BP);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),jd(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new N(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;jd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(US,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(S(De),S(Oe),S(Li),S(Od))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let XS=!0,Bs=(()=>{class n{}return n.__NG_ELEMENT_ID__=JP,n})();function JP(n){return function ZP(n,t,e){if(Ia(n)&&!e){const i=Zt(n.index,t);return new Ps(i,i)}return 47&n.type?new Ps(t[16],t):null}(ct(),k(),16==(16&n))}class r0{constructor(){}supports(t){return Cs(t)}create(t){return new iO(t)}}const nO=(n,t)=>t;class iO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<s0(i,r,o)?e:i,a=s0(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let d=0;d<c;d++){const f=d<o.length?o[d]:o[d]=0,g=f+d;u<=g&&g<c&&(o[d]=f+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Cs(t))throw new N(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function px(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[lo()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new rO(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new o0),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o0),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class o0{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new oO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s0(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class a0{constructor(){}supports(t){return t instanceof Map||zh(t)}create(){return new sO}}class sO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||zh(t)))throw new N(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new aO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class aO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function l0(){return new Il([new r0])}let Il=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||l0()),deps:[[n,new Xr,new Pn]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new N(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:l0}),n})();function c0(){return new Vs([new a0])}let Vs=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||c0()),deps:[[n,new Xr,new Pn]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new N(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:c0}),n})();const uO=YS(null,"core",[]);let hO=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(S(Ns))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})(),Pl=null;function ni(){return Pl}const ue=new V("DocumentToken");let gr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function mO(){return S(u0)}()},providedIn:"platform"}),n})();const gO=new V("Location Initialized");let u0=(()=>{class n extends gr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(e){const i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ni().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){h0()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){h0()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:function(){return function vO(){return new u0(S(ue))}()},providedIn:"platform"}),n})();function h0(){return!!window.history.pushState}function Gd(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function d0(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Si(n){return n&&"?"!==n[0]?"?"+n:n}let xo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function yO(n){const t=S(ue).location;return new f0(S(gr),t&&t.origin||"")}()},providedIn:"root"}),n})();const Wd=new V("appBaseHref");let f0=(()=>{class n extends xo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Gd(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Si(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Si(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Si(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(gr),S(Wd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),_O=(()=>{class n extends xo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Gd(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Si(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(gr),S(Wd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Hs=(()=>{class n{constructor(e,i){this._subject=new xe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=d0(p0(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Si(i))}normalize(e){return n.stripTrailingSlash(function bO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,p0(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Si(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Si(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Si,n.joinWithSlash=Gd,n.stripTrailingSlash=d0,n.\u0275fac=function(e){return new(e||n)(S(xo),S(gr))},n.\u0275prov=R({token:n,factory:function(){return function SO(){return new Hs(S(xo),S(gr))}()},providedIn:"root"}),n})();function p0(n){return n.replace(/\/index.html$/,"")}var jt=(()=>((jt=jt||{})[jt.Decimal=0]="Decimal",jt[jt.Percent=1]="Percent",jt[jt.Currency=2]="Currency",jt[jt.Scientific=3]="Scientific",jt))(),$=(()=>(($=$||{})[$.Decimal=0]="Decimal",$[$.Group=1]="Group",$[$.List=2]="List",$[$.PercentSign=3]="PercentSign",$[$.PlusSign=4]="PlusSign",$[$.MinusSign=5]="MinusSign",$[$.Exponential=6]="Exponential",$[$.SuperscriptingExponent=7]="SuperscriptingExponent",$[$.PerMille=8]="PerMille",$[$.Infinity=9]="Infinity",$[$.NaN=10]="NaN",$[$.TimeSeparator=11]="TimeSeparator",$[$.CurrencyDecimal=12]="CurrencyDecimal",$[$.CurrencyGroup=13]="CurrencyGroup",$))();function vn(n,t){const e=Ft(n),i=e[L.NumberSymbols][t];if(void 0===i){if(t===$.CurrencyDecimal)return e[L.NumberSymbols][$.Decimal];if(t===$.CurrencyGroup)return e[L.NumberSymbols][$.Group]}return i}function Yd(n,t){return Ft(n)[L.NumberFormats][t]}const WO=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Qd(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function eR(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function QO(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(o){const w=o.match(WO);if(null===w)throw new Error(`${o} is not a valid digit info`);const I=w[1],O=w[3],j=w[5];null!=I&&(u=tf(I)),null!=O&&(h=tf(O)),null!=j?d=tf(j):null!=O&&h>d&&(d=h)}!function tR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(h,d,f,g){return g[f]=(d+=h)<10?d:d-10,l&&(0===g[f]&&f>=c?g.pop():l=!1),d>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,d);let f=c.digits,g=c.integerLen;const _=c.exponent;let C=[];for(l=f.every(w=>!w);g<u;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?C=f.splice(g,f.length):(C=f,f=[0]);const M=[];for(f.length>=t.lgSize&&M.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)M.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&M.unshift(f.join("")),a=M.join(vn(e,i)),C.length&&(a+=vn(e,r)+C.join("")),_&&(a+=vn(e,$.Exponential)+"+"+_)}else a=vn(e,$.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function ii(n,t,e){return Qd(n,ef(Yd(t,jt.Decimal),vn(t,$.MinusSign)),t,$.Group,$.Decimal,e)}function ef(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?e.minFrac=e.maxFrac=u+1:"#"===h?e.maxFrac=u+1:e.posSuf+=h}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf("#");e.negPre=o.substr(0,h).replace(/'/g,""),e.negSuf=o.substr(h+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function tf(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let Ui=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Cs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ce(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(Il),b(Vs),b(rt),b(ei))},n.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class oR{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ut=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new oR(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),C0(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{C0(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(gn),b(ti),b(Il))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function C0(n,t){n.context.$implicit=t.item}let qt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new sR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){D0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){D0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(gn),b(ti))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sR{constructor(){this.$implicit=null,this.ngIf=null}}function D0(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ce(t)}'.`)}let E0=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(b(gn))},n.\u0275dir=q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Jt]}),n})();function jn(n,t){return new N(2100,"")}const vR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let _n=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw jn();return e.replace(vR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"titlecase",type:n,pure:!0}),n})(),k0=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=T0}transform(e,i=T0){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function MR(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(b(Vs,16))},n.\u0275pipe=_t({name:"keyvalue",type:n,pure:!1}),n})();function T0(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let wi=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!af(e))return null;r=r||this._locale;try{return ii(lf(e),r,i)}catch(o){throw jn()}}}return n.\u0275fac=function(e){return new(e||n)(b(_i,16))},n.\u0275pipe=_t({name:"number",type:n,pure:!0}),n})(),Ul=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!af(e))return null;r=r||this._locale;try{return function XO(n,t,e){return Qd(n,ef(Yd(t,jt.Percent),vn(t,$.MinusSign)),t,$.Group,$.Decimal,e,!0).replace(new RegExp("%","g"),vn(t,$.PercentSign))}(lf(e),r,i)}catch(o){throw jn()}}}return n.\u0275fac=function(e){return new(e||n)(b(_i,16))},n.\u0275pipe=_t({name:"percent",type:n,pure:!0}),n})();function af(n){return!(null==n||""===n||n!=n)}function lf(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let x0=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw jn();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"slice",type:n,pure:!1}),n})(),cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})();const A0="browser";let IR=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>new PR(S(ue),window)}),n})();class PR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function OR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=I0(this.window.history)||I0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function I0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class uf extends class FR extends class pO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fO(n){Pl||(Pl=n)}(new uf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function LR(){return qs=qs||document.querySelector("base"),qs?qs.getAttribute("href"):null}();return null==e?null:function NR(n){ql=ql||document.createElement("a"),ql.setAttribute("href",n);const t=ql.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function iR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ql,qs=null;const P0=new V("TRANSITION_ID"),VR=[{provide:Pd,useFactory:function BR(n,t,e){return()=>{e.get(Od).donePromise.then(()=>{const i=ni(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[P0,ue,Oe],multi:!0}];class hf{static init(){!function HP(n){Hd=n}(new hf)}addToWindow(t){Me.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Me.getAllAngularTestabilities=()=>t.getAllTestabilities(),Me.getAllAngularRootElements=()=>t.getAllRootElements(),Me.frameworkStabilizers||(Me.frameworkStabilizers=[]),Me.frameworkStabilizers.push(i=>{const r=Me.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?ni().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let HR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const $l=new V("EventManagerPlugins");let zl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(S($l),S(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class O0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ni().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let R0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),$s=(()=>{class n extends R0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(F0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(F0))}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function F0(n){ni().remove(n)}const df={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ff=/%COMP%/g;function Gl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Gl(n,r,e):(r=r.replace(ff,n),e.push(r))}return e}function B0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Tn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new GR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Tn.ShadowDom:return new WR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(S(zl),S($s),S(Ls))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class pf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(df[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=df[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=df[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(en.DashCase|en.Important)?t.style.setProperty(e,i,r&en.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&en.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,B0(i)):this.eventManager.addEventListener(t,e,B0(i))}}class GR extends pf{constructor(t,e,i,r){super(t),this.component=i;const o=Gl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function qR(n){return"_ngcontent-%COMP%".replace(ff,n)}(r+"-"+i.id),this.hostAttr=function $R(n){return"_nghost-%COMP%".replace(ff,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class WR extends pf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Gl(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let YR=(()=>{class n extends O0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const H0=["alt","control","meta","shift"],JR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ZR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let XR=(()=>{class n extends O0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(H0.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function QR(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&j0.hasOwnProperty(t)&&(t=j0[t]))}return JR[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),H0.forEach(o=>{o!=r&&ZR[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const iF=YS(uO,"browser",[{provide:Fd,useValue:A0},{provide:jS,useValue:function eF(){uf.makeCurrent(),hf.init()},multi:!0},{provide:ue,useFactory:function nF(){return function DE(n){Du=n}(document),document},deps:[]}]),rF=[{provide:Vh,useValue:"root"},{provide:Li,useFactory:function tF(){return new Li},deps:[]},{provide:$l,useClass:YR,multi:!0,deps:[ue,De,Fd]},{provide:$l,useClass:XR,multi:!0,deps:[ue]},{provide:Wl,useClass:Wl,deps:[zl,$s,Ls]},{provide:Is,useExisting:Wl},{provide:R0,useExisting:$s},{provide:$s,useClass:$s,deps:[ue]},{provide:Vd,useClass:Vd,deps:[De]},{provide:zl,useClass:zl,deps:[$l,De]},{provide:class RR{},useClass:HR,deps:[]}];let U0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ls,useValue:e.appId},{provide:P0,useExisting:Ls},VR]}}}return n.\u0275fac=function(e){return new(e||n)(S(n,12))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({providers:rF,imports:[cf,hO]}),n})();"undefined"!=typeof window&&window;let gf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new(e||n):S(z0),i},providedIn:"root"}),n})(),z0=(()=>{class n extends gf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Se.NONE:return i;case Se.HTML:return Wn(i,"HTML")?Qt(i):Wg(this._doc,String(i)).toString();case Se.STYLE:return Wn(i,"Style")?Qt(i):i;case Se.SCRIPT:if(Wn(i,"Script"))return Qt(i);throw new Error("unsafe value used in a script context");case Se.URL:return Vg(i),Wn(i,"URL")?Qt(i):ps(String(i));case Se.RESOURCE_URL:if(Wn(i,"ResourceURL"))return Qt(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Bk(n){return new Ok(n)}(e)}bypassSecurityTrustStyle(e){return function Vk(n){return new Rk(n)}(e)}bypassSecurityTrustScript(e){return function Hk(n){return new Fk(n)}(e)}bypassSecurityTrustUrl(e){return function jk(n){return new Lk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Uk(n){return new Nk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new e:function pF(n){return new z0(n.get(ue))}(S(Oe)),i},providedIn:"root"}),n})();function G(...n){return mt(n,Zo(n))}class Sn extends Ee{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:mF}=Array,{getPrototypeOf:gF,prototype:vF,keys:yF}=Object;function G0(n){if(1===n.length){const t=n[0];if(mF(t))return{args:t,keys:null};if(function _F(n){return n&&"object"==typeof n&&gF(n)===vF}(t)){const e=yF(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:SF}=Array;function vf(n){return fe(t=>function bF(n,t){return SF(t)?n(...t):n(t)}(n,t))}function W0(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Y0(n,t,e){n?ui(e,n,t):t()}function zs(n,t){const e=ye(n)?n:()=>n,i=r=>r.error(e());return new Ue(t?r=>t.schedule(i,0,r):i)}const Yl=Zc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function yf(...n){return function DF(){return Jo(1)}()(mt(n,Zo(n)))}function _f(n){return new Ue(t=>{Gt(n()).subscribe(t)})}function K0(){return tt((n,t)=>{let e=null;n._refCount++;const i=ze(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class MF extends Ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ym(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new yt;const e=this.getSubject();t.add(this.source.subscribe(ze(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=yt.EMPTY)}return t}refCount(){return K0()(this)}}function vr(n,t){return tt((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ze(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;Gt(n(l,u)).subscribe(r=ze(i,h=>i.next(t?t(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function J0(...n){const t=Zo(n);return tt((e,i)=>{(t?yf(n,e,t):yf(n,e)).subscribe(i)})}function EF(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ze(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Z0(n,t){return tt(EF(n,t,arguments.length>=2,!0))}function nn(n,t){return tt((e,i)=>{let r=0;e.subscribe(ze(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ci(n){return tt((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ze(e,void 0,void 0,s=>{o=Gt(n(s,Ci(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Ao(n,t){return ye(t)?lt(n,t,1):lt(n,1)}function Sf(n){return n<=0?()=>hi:tt((t,e)=>{let i=[];t.subscribe(ze(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function X0(n=kF){return tt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function kF(){return new Yl}function Q0(n){return tt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Io(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):xi,qn(1),e?Q0(t):X0(()=>new Yl))}function xt(n,t,e){const i=ye(n)||t||e?{next:n,error:t,complete:e}:n;return i?tt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ze(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):xi}function eb(n){return tt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Di{constructor(t,e){this.id=t,this.url=e}}class bf extends Di{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gs extends Di{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tb extends Di{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xF extends Di{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AF extends Di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IF extends Di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PF extends Di{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OF extends Di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RF extends Di{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ib{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FF{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BF{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rb{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const le="primary";class VF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Po(n){return new VF(n)}const ob="ngNavigationCancelingError";function wf(n){const t=Error("NavigationCancelingError: "+n);return t[ob]=!0,t}function jF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ri(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!sb(n[r],t[r]))return!1;return!0}function sb(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ab(n){return Array.prototype.concat.apply([],n)}function lb(n){return n.length>0?n[n.length-1]:null}function wt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function oi(n){return Qh(n)?n:Ms(n)?mt(Promise.resolve(n)):G(n)}const $F={exact:function hb(n,t,e){if(!_r(n.segments,t.segments)||!Kl(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!hb(n.children[i],t.children[i],e))return!1;return!0},subset:db},cb={exact:function zF(n,t){return ri(n,t)},subset:function GF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>sb(n[e],t[e]))},ignored:()=>!0};function ub(n,t,e){return $F[e.paths](n.root,t.root,e.matrixParams)&&cb[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function db(n,t,e){return fb(n,t,t.segments,e)}function fb(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!_r(r,e)||t.hasChildren()||!Kl(r,e,i))}if(n.segments.length===e.length){if(!_r(n.segments,e)||!Kl(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!db(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(_r(n.segments,r)&&Kl(n.segments,r,i)&&n.children[le])&&fb(n.children[le],t,o,i)}}function Kl(n,t,e){return t.every((i,r)=>cb[e](n[r].parameters,i.parameters))}class yr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return KF.serialize(this)}}class he{constructor(t,e){this.segments=t,this.children=e,this.parent=null,wt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}}class Ws{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Po(this.parameters)),this._parameterMap}toString(){return yb(this)}}function _r(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class pb{}class mb{parse(t){const e=new rL(t);return new yr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ys(t.root,!0)}`,i=function XF(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Zl(e)}=${Zl(r)}`).join("&"):`${Zl(e)}=${Zl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function JF(n){return encodeURI(n)}(t.fragment)}`:""}`}}const KF=new mb;function Jl(n){return n.segments.map(t=>yb(t)).join("/")}function Ys(n,t){if(!n.hasChildren())return Jl(n);if(t){const e=n.children[le]?Ys(n.children[le],!1):"",i=[];return wt(n.children,(r,o)=>{o!==le&&i.push(`${o}:${Ys(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function YF(n,t){let e=[];return wt(n.children,(i,r)=>{r===le&&(e=e.concat(t(i,r)))}),wt(n.children,(i,r)=>{r!==le&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===le?[Ys(n.children[le],!1)]:[`${r}:${Ys(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[le]?`${Jl(n)}/${e[0]}`:`${Jl(n)}/(${e.join("//")})`}}function gb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zl(n){return gb(n).replace(/%3B/gi,";")}function Cf(n){return gb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(n){return decodeURIComponent(n)}function vb(n){return Xl(n.replace(/\+/g,"%20"))}function yb(n){return`${Cf(n.path)}${function ZF(n){return Object.keys(n).map(t=>`;${Cf(t)}=${Cf(n[t])}`).join("")}(n.parameters)}`}const QF=/^[^\/()?;=#]+/;function Ql(n){const t=n.match(QF);return t?t[0]:""}const eL=/^[^=?&#]+/,nL=/^[^&#]+/;class rL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new he([],{}):new he([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[le]=new he(t,e)),i}parseSegment(){const t=Ql(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ws(Xl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ql(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Ql(this.remaining);r&&(i=r,this.capture(i))}t[Xl(e)]=Xl(i)}parseQueryParam(t){const e=function tL(n){const t=n.match(eL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function iL(n){const t=n.match(nL);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=vb(e),o=vb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ql(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=le);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[le]:new he([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _b{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Df(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Df(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Mf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Mf(t,this._root).map(e=>e.value)}}function Df(n,t){if(n===t.value)return t;for(const e of t.children){const i=Df(n,e);if(i)return i}return null}function Mf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Mf(n,e);if(i.length)return i.unshift(t),i}return[]}class Mi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Oo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Sb extends _b{constructor(t,e){super(t),this.snapshot=e,Ef(this,t)}toString(){return this.snapshot.toString()}}function bb(n,t){const e=function oL(n,t){const s=new ec([],{},{},"",{},le,t,null,n.root,-1,{});return new Cb("",new Mi(s,[]))}(n,t),i=new Sn([new Ws("",{})]),r=new Sn({}),o=new Sn({}),s=new Sn({}),a=new Sn(""),l=new Ro(i,r,s,a,o,le,t,e.root);return l.snapshot=e.root,new Sb(new Mi(l,[]),e)}class Ro{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(t=>Po(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(t=>Po(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wb(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function sL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class ec{constructor(t,e,i,r,o,s,a,l,c,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Po(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cb extends _b{constructor(t,e){super(e),this.url=t,Ef(this,e)}toString(){return Db(this._root)}}function Ef(n,t){t.value._routerState=n,t.children.forEach(e=>Ef(n,e))}function Db(n){const t=n.children.length>0?` { ${n.children.map(Db).join(", ")} } `:"";return`${n.value}${t}`}function kf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ri(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ri(t.params,e.params)||n.params.next(e.params),function UF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ri(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ri(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Tf(n,t){const e=ri(n.params,t.params)&&function WF(n,t){return _r(n,t)&&n.every((e,i)=>ri(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Tf(n.parent,t.parent))}function Ks(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function lL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ks(n,i,r);return Ks(n,i)})}(n,t,e);return new Mi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Ks(n,a)),s}}const i=function cL(n){return new Ro(new Sn(n.url),new Sn(n.params),new Sn(n.queryParams),new Sn(n.fragment),new Sn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ks(n,o));return new Mi(i,r)}}function tc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Js(n){return"object"==typeof n&&null!=n&&n.outlets}function xf(n,t,e,i,r){let o={};if(i&&wt(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new yr(e,o,r);const s=Mb(n,t,e);return new yr(s,o,r)}function Mb(n,t,e){const i={};return wt(n.children,(r,o)=>{i[o]=r===t?e:Mb(r,t,e)}),new he(n.segments,i)}class Eb{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&tc(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Js);if(r&&r!==lb(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Af{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function kb(n,t,e){if(n||(n=new he([],{})),0===n.segments.length&&n.hasChildren())return nc(n,t,e);const i=function mL(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Js(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!xb(l,c,s))return o;i+=2}else{if(!xb(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new he(n.segments.slice(0,i.pathIndex),{});return o.children[le]=new he(n.segments.slice(i.pathIndex),n.children),nc(o,0,r)}return i.match&&0===r.length?new he(n.segments,{}):i.match&&!n.hasChildren()?If(n,t,e):i.match?nc(n,0,r):If(n,t,e)}function nc(n,t,e){if(0===e.length)return new he(n.segments,{});{const i=function pL(n){return Js(n[0])?n[0].outlets:{[le]:n}}(e),r={};return wt(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=kb(n.children[s],t,o))}),wt(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new he(n.segments,r)}}function If(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Js(o)){const l=gL(o.outlets);return new he(i,l)}if(0===r&&tc(e[0])){i.push(new Ws(n.segments[t].path,Tb(e[0]))),r++;continue}const s=Js(o)?o.outlets[le]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&tc(a)?(i.push(new Ws(s,Tb(a))),r+=2):(i.push(new Ws(s,{})),r++)}return new he(i,{})}function gL(n){const t={};return wt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=If(new he([],{}),0,e))}),t}function Tb(n){const t={};return wt(n,(e,i)=>t[i]=`${e}`),t}function xb(n,t,e){return n==e.path&&ri(t,e.parameters)}class yL{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),kf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Oo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),wt(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Oo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Oo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new BF(o.value.snapshot))}),t.children.length&&this.forwardEvent(new LF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(kf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function _L(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Pf{constructor(t,e){this.routes=t,this.module=e}}function $i(n){return"function"==typeof n}function Sr(n){return n instanceof yr}const Zs=Symbol("INITIAL_VALUE");function Xs(){return vr(n=>function wF(...n){const t=Zo(n),e=Pm(n),{args:i,keys:r}=G0(n);if(0===i.length)return mt([],t);const o=new Ue(function CF(n,t,e=xi){return i=>{Y0(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)Y0(t,()=>{const c=mt(n[l],t);let u=!1;c.subscribe(ze(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>W0(r,s):xi));return e?o.pipe(vf(e)):o}(n.map(t=>t.pipe(qn(1),J0(Zs)))).pipe(Z0((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Zs?r:(o===Zs&&(i=!0),i||!1!==o&&s!==e.length-1&&!Sr(o)?r:o),t)},Zs),nn(t=>t!==Zs),fe(t=>Sr(t)?t:!0===t),qn(1)))}class ML{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Qs,this.attachRef=null}}class Qs{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new ML,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Ab=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.name=o||le,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new EL(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(Qs),b(gn),b(ji),Gr("name"),b(Bs))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class EL{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ro?this.route:t===Qs?this.childContexts:this.parent.get(t,e)}}let Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&W(0,"router-outlet")},directives:[Ab],encapsulation:2}),n})();function Pb(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];kL(i,TL(t,i))}}function kL(n,t){n.children&&Pb(n.children,t)}function TL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Of(n){const t=n.children&&n.children.map(Of),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==le&&(e.component=Ib),e}function bn(n){return n.outlet||le}function Ob(n,t){const e=n.filter(i=>bn(i)===t);return e.push(...n.filter(i=>bn(i)!==t)),e}const Rb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ic(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Rb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||jF)(e,n,t);if(!o)return Object.assign({},Rb);const s={};wt(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function rc(n,t,e,i,r="corrected"){if(e.length>0&&function IL(n,t,e){return e.some(i=>oc(n,t,i)&&bn(i)!==le)}(n,e,i)){const s=new he(t,function AL(n,t,e,i){const r={};r[le]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&bn(o)!==le){const s=new he([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[bn(o)]=s}return r}(n,t,i,new he(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function PL(n,t,e){return e.some(i=>oc(n,t,i))}(n,e,i)){const s=new he(n.segments,function xL(n,t,e,i,r,o){const s={};for(const a of i)if(oc(n,e,a)&&!r[bn(a)]){const l=new he([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[bn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new he(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function oc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Fb(n,t,e,i){return!!(bn(n)===i||i!==le&&oc(t,e,n))&&("**"===n.path||ic(t,n,e).matched)}function Lb(n,t,e){return 0===t.length&&!n.children[e]}class sc{constructor(t){this.segmentGroup=t||null}}class Nb{constructor(t){this.urlTree=t}}function ea(n){return zs(new sc(n))}function Bb(n){return zs(new Nb(n))}class LL{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(yi)}apply(){const t=rc(this.urlTree.root,[],[],this.config).segmentGroup,e=new he(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,le).pipe(fe(o=>this.createUrlTree(Rf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ci(o=>{if(o instanceof Nb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof sc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,le).pipe(fe(r=>this.createUrlTree(Rf(r),t.queryParams,t.fragment))).pipe(Ci(r=>{throw r instanceof sc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new he([],{[le]:t}):t;return new yr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(fe(o=>new he([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return mt(r).pipe(Ao(o=>{const s=i.children[o],a=Ob(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(fe(l=>({segment:l,outlet:o})))}),Z0((o,s)=>(o[s.outlet]=s.segment,o),{}),function TF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):xi,Sf(1),e?Q0(t):X0(()=>new Yl))}())}expandSegment(t,e,i,r,o,s){return mt(i).pipe(Ao(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Ci(c=>{if(c instanceof sc)return G(null);throw c}))),Io(a=>!!a),Ci((a,l)=>{if(a instanceof Yl||"EmptyError"===a.name)return Lb(e,r,o)?G(new he([],{})):ea(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return Fb(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):ea(e):ea(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Bb(o):this.lineralizeSegments(i,o).pipe(lt(s=>{const a=new he(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=ic(e,r,o);if(!a)return ea(e);const h=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Bb(h):this.lineralizeSegments(r,h).pipe(lt(d=>this.expandSegment(t,e,i,d.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?G(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(fe(h=>(i._loadedConfig=h,new he(r,{})))):G(new he(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=ic(e,i,r);return s?this.getChildConfig(t,i,r).pipe(lt(u=>{const h=u.module,d=u.routes,{segmentGroup:f,slicedSegments:g}=rc(e,a,l,d),_=new he(f.segments,f.children);if(0===g.length&&_.hasChildren())return this.expandChildren(h,d,_).pipe(fe(I=>new he(a,I)));if(0===d.length&&0===g.length)return G(new he(a,{}));const C=bn(i)===o;return this.expandSegment(h,_,d,g,C?le:o,!0).pipe(fe(w=>new he(a.concat(w.segments),w.children)))})):ea(e)}getChildConfig(t,e,i){return e.children?G(new Pf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?G(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(lt(r=>r?this.configLoader.load(t.injector,e).pipe(fe(o=>(e._loadedConfig=o,o))):function RL(n){return zs(wf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):G(new Pf([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?G(r.map(s=>{const a=t.get(s);let l;if(function bL(n){return n&&$i(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!$i(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return oi(l)})).pipe(Xs(),xt(s=>{if(!Sr(s))return;const a=wf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),fe(s=>!0===s)):G(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return G(i);if(r.numberOfChildren>1||!r.children[le])return zs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[le]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new yr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return wt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return wt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new he(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Rf(n){const t={};for(const i of Object.keys(n.children)){const o=Rf(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function NL(n){if(1===n.numberOfChildren&&n.children[le]){const t=n.children[le];return new he(n.segments.concat(t.segments),t.children)}return n}(new he(n.segments,t))}class Vb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ac{constructor(t,e){this.component=t,this.route=e}}function VL(n,t,e){const i=n._root;return ta(i,t?t._root:null,e,[i.value])}function lc(n,t,e){const i=function jL(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ta(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Oo(t);return n.children.forEach(s=>{(function UL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function qL(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!_r(n.url,t.url);case"pathParamsOrQueryParamsChange":return!_r(n.url,t.url)||!ri(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tf(n,t)||!ri(n.queryParams,t.queryParams);default:return!Tf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Vb(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ta(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ac(a.outlet.component,s))}else s&&na(t,a,r),r.canActivateChecks.push(new Vb(i)),ta(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),wt(o,(s,a)=>na(s,e.getContext(a),r)),r}function na(n,t,e){const i=Oo(n),r=n.value;wt(i,(o,s)=>{na(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new ac(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class XL{}function Hb(n){return new Ue(t=>t.error(n))}class eN{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=rc(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,le);if(null===e)return null;const i=new ec([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Mi(i,e),o=new Cb(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=wb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=Ob(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=jb(i);return function tN(n){n.sort((t,e)=>t.value.outlet===le?-1:e.value.outlet===le?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return Lb(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Fb(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const f=i.length>0?lb(i).parameters:{};o=new ec(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$b(t),bn(t),t.component,t,Ub(e),qb(e)+i.length,zb(t))}else{const f=ic(e,t,i);if(!f.matched)return null;s=f.consumedSegments,a=f.remainingSegments,o=new ec(s,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,$b(t),bn(t),t.component,t,Ub(e),qb(e)+s.length,zb(t))}const l=function nN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=rc(e,s,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Mi(o,f)]}if(0===l.length&&0===u.length)return[new Mi(o,[])];const h=bn(t)===r,d=this.processSegment(l,c,u,h?le:r);return null===d?null:[new Mi(o,d)]}}function iN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function jb(n){const t=[],e=new Set;for(const i of n){if(!iN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=jb(i.children);t.push(new Mi(i.value,r))}return t.filter(i=>!e.has(i))}function Ub(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function qb(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function $b(n){return n.data||{}}function zb(n){return n.resolve||{}}function Gb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ff(n){return vr(t=>{const e=n(t);return e?mt(e).pipe(fe(()=>t)):G(t)})}class hN extends class uN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Lf=new V("ROUTES");class Wb{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new Pf(ab(s.injector.get(Lf,void 0,X.Self|X.Optional)).map(Of),s)}),Ci(o=>{throw e._loader$=void 0,o}));return e._loader$=new MF(r,()=>new Ee).pipe(K0()),e._loader$}loadModuleFactory(t){return oi(t()).pipe(lt(e=>e instanceof rS?G(e):mt(this.compiler.compileModuleAsync(e))))}}class fN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function pN(n){throw n}function mN(n,t,e){return t.parse("/")}function Yb(n,t){return G(null)}const gN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rn=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee,this.errorHandler=pN,this.malformedUriErrorHandler=mN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yb,afterPreactivation:Yb},this.urlHandlingStrategy=new fN,this.routeReuseStrategy=new hN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(yi),this.console=s.get(kP);const h=s.get(De);this.isNgZoneEnabled=h instanceof De&&De.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function qF(){return new yr(new he([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Wb(s,a,d=>this.triggerEvent(new nb(d)),d=>this.triggerEvent(new ib(d))),this.routerState=bb(this.currentUrlTree,this.rootComponentType),this.transitions=new Sn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(r=>0!==r.id),fe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),vr(r=>{let o=!1,s=!1;return G(r).pipe(xt(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),vr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Kb(a.source)&&(this.browserUrlTree=a.extractedUrl),G(a).pipe(vr(h=>{const d=this.transitions.getValue();return i.next(new bf(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions.getValue()?hi:Promise.resolve(h)}),function BL(n,t,e,i){return vr(r=>function FL(n,t,e,i,r){return new LL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(fe(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xt(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function rN(n,t,e,i,r){return lt(o=>function QL(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new eN(n,t,e,i,r,o).recognize();return null===s?Hb(new XL):G(s)}catch(s){return Hb(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(fe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),xt(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(f,h)}this.browserUrlTree=h.urlAfterRedirects}const d=new AF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(d)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:d,extractedUrl:f,source:g,restoredState:_,extras:C}=a,M=new bf(d,this.serializeUrl(f),g,_);i.next(M);const w=bb(f,this.rootComponentType).snapshot;return G(Object.assign(Object.assign({},a),{targetSnapshot:w,urlAfterRedirects:f,extras:Object.assign(Object.assign({},C),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),hi}),Ff(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),xt(a=>{const l=new IF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),fe(a=>Object.assign(Object.assign({},a),{guards:VL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function $L(n,t){return lt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?G(Object.assign(Object.assign({},e),{guardsResult:!0})):function zL(n,t,e,i){return mt(n).pipe(lt(r=>function ZL(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?G(o.map(a=>{const l=lc(a,t,r);let c;if(function DL(n){return n&&$i(n.canDeactivate)}(l))c=oi(l.canDeactivate(n,t,e,i));else{if(!$i(l))throw new Error("Invalid CanDeactivate guard");c=oi(l(n,t,e,i))}return c.pipe(Io())})).pipe(Xs()):G(!0)}(r.component,r.route,e,t,i)),Io(r=>!0!==r,!0))}(s,i,r,n).pipe(lt(a=>a&&function SL(n){return"boolean"==typeof n}(a)?function GL(n,t,e,i){return mt(t).pipe(Ao(r=>yf(function YL(n,t){return null!==n&&t&&t(new FF(n)),G(!0)}(r.route.parent,i),function WL(n,t){return null!==n&&t&&t(new NF(n)),G(!0)}(r.route,i),function JL(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function HL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>_f(()=>G(s.guards.map(l=>{const c=lc(l,s.node,e);let u;if(function CL(n){return n&&$i(n.canActivateChild)}(c))u=oi(c.canActivateChild(i,n));else{if(!$i(c))throw new Error("Invalid CanActivateChild guard");u=oi(c(i,n))}return u.pipe(Io())})).pipe(Xs())));return G(o).pipe(Xs())}(n,r.path,e),function KL(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return G(!0);const r=i.map(o=>_f(()=>{const s=lc(o,t,e);let a;if(function wL(n){return n&&$i(n.canActivate)}(s))a=oi(s.canActivate(t,n));else{if(!$i(s))throw new Error("Invalid CanActivate guard");a=oi(s(t,n))}return a.pipe(Io())}));return G(r).pipe(Xs())}(n,r.route,e))),Io(r=>!0!==r,!0))}(i,o,n,t):G(a)),fe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),xt(a=>{if(Sr(a.guardsResult)){const c=wf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new PF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),nn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Ff(a=>{if(a.guards.canActivateChecks.length)return G(a).pipe(xt(l=>{const c=new OF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),vr(l=>{let c=!1;return G(l).pipe(function oN(n,t){return lt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return G(e);let o=0;return mt(r).pipe(Ao(s=>function sN(n,t,e,i){return function aN(n,t,e,i){const r=Gb(n);if(0===r.length)return G({});const o={};return mt(r).pipe(lt(s=>function lN(n,t,e,i){const r=lc(n,t,i);return oi(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(xt(a=>{o[s]=a}))),Sf(1),lt(()=>Gb(o).length===r.length?G(o):hi))}(n._resolve,n,t,i).pipe(fe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),wb(n,e).resolve),null)))}(s.route,i,n,t)),xt(()=>o++),Sf(1),lt(s=>o===r.length?G(e):hi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),xt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),xt(l=>{const c=new RF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Ff(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:d,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!d,replaceUrl:!!f})}),fe(a=>{const l=function aL(n,t,e){const i=Ks(n,t._root,e?e._root:void 0);return new Sb(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),xt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>fe(i=>(new yL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),xt({next(){o=!0},complete(){o=!0}}),eb(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ci(a=>{if(s=!0,function HF(n){return n&&n[ob]}(a)){const l=Sr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new tb(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Kb(r.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new xF(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return hi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Pb(e),this.config=e.map(Of),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function uL(n,t,e,i,r){if(0===e.length)return xf(t.root,t.root,t.root,i,r);const o=function hL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Eb(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return wt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Eb(e,t,i)}(e);if(o.toRoot())return xf(t.root,t.root,new he([],{}),i,r);const s=function dL(n,t,e){if(n.isAbsolute)return new Af(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Af(o,o===t.root,0)}const i=tc(n.commands[0])?0:1;return function fL(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Af(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?nc(s.segmentGroup,s.index,o.commands):kb(s.segmentGroup,s.index,o.commands);return xf(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,h,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Sr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function yN(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},gN):!1===i?Object.assign({},vN):i,Sr(e))return ub(this.currentUrlTree,e,r);const o=this.parseUrl(e);return ub(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Gs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((g,_)=>{c=g,u=_});const d=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:d,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new tb(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){pl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function Kb(n){return"imperative"!==n}class Jb{}class Zb{preload(t,e){return G(null)}}let Xb=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Wb(r,i,l=>e.triggerEvent(new nb(l)),l=>e.triggerEvent(new ib(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof Gs),Ao(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(yi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return mt(r).pipe(Jo(),fe(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?G(i._loadedConfig):this.loader.load(e.injector,i)).pipe(lt(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(S(rn),S(qS),S(Oe),S(Jb))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Vf=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Gs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rb&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new rb(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){pl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const br=new V("ROUTER_CONFIGURATION"),Qb=new V("ROUTER_FORROOT_GUARD"),wN=[Hs,{provide:pb,useClass:mb},{provide:rn,useFactory:function kN(n,t,e,i,r,o,s={},a,l){const c=new rn(null,n,t,e,i,r,ab(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function TN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var h,d;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(d=console.groupEnd)||void 0===d||d.call(console)}),c},deps:[pb,Qs,Hs,Oe,qS,Lf,br,[class dN{},new Pn],[class cN{},new Pn]]},Qs,{provide:Ro,useFactory:function xN(n){return n.routerState.root},deps:[rn]},Xb,Zb,class bN{preload(t,e){return e().pipe(Ci(()=>G(null)))}},{provide:br,useValue:{enableTracing:!1}}];function CN(){return new WS("Router",rn)}let ew=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[wN,tw(e),{provide:Qb,useFactory:EN,deps:[[rn,new Pn,new Xr]]},{provide:br,useValue:i||{}},{provide:xo,useFactory:MN,deps:[gr,[new Za(Wd),new Pn],br]},{provide:Vf,useFactory:DN,deps:[rn,IR,br]},{provide:Jb,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Zb},{provide:WS,multi:!0,useFactory:CN},[Hf,{provide:Pd,multi:!0,useFactory:AN,deps:[Hf]},{provide:nw,useFactory:IN,deps:[Hf]},{provide:US,multi:!0,useExisting:nw}]]}}static forChild(e){return{ngModule:n,providers:[tw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(S(Qb,8),S(rn,8))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})();function DN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Vf(n,t,e)}function MN(n,t,e={}){return e.useHash?new _O(n,t):new f0(n,t)}function EN(n){return"guarded"}function tw(n){return[{provide:sk,multi:!0,useValue:n},{provide:Lf,multi:!0,useValue:n}]}let Hf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee}appInitializer(){return this.injector.get(gO,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(rn),s=this.injector.get(br);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?G(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(br),r=this.injector.get(Xb),o=this.injector.get(Vf),s=this.injector.get(rn),a=this.injector.get(Ns);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(S(Oe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function AN(n){return n.appInitializer.bind(n)}function IN(n){return n.bootstrapListener.bind(n)}const nw=new V("Router Initializer"),ON=[];let RN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[ew.forRoot(ON)],ew]}),n})();var iw=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberh","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],FN=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],LN=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],NN=["helmet","helm","mask","faceguard","cap","hat","hood"],BN=["sandals","boots","shoes","footwear","slippers"],Lo=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","usual","acceptable","excellent","exceptional","familiar","favorable","great","marvelous","positive","satisfactory","satisfying","superb","valuable","wonderful","boss","choice","nice","pleasing","prime","radical","superior","worthy","admirable","agreeable","commendable","congenial","deluxe","first-class","first-rate","gnarly","honorable","neat","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","beautiful","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","uncommon","unique","unprecedented","unimaginable","unthinkable"],ia=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","light","darkness","power","decimation","destruction","supremacy","annihilation"],jf=["weak","partial","limited","substantial","blinding","complete","burning","total","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],ra=["comfort","screening","safety","cover","shelter","protection","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],Uf=["weak","limited","partial","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],No=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],cc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let wn=(()=>{class n{constructor(){this.logTopics=["STORY","EVENT"],this.newStory="",this.newEvents="",this.newCombat="",this.newCrafting="",this.storyLog=[],this.eventLog=[],this.combatLog=[],this.craftingLog=[],this.currentLog=[],this.addLogMessage("Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.","STANDARD","STORY"),this.addLogMessage("Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.","STANDARD","STORY"),this.addLogMessage("It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.","STANDARD","STORY"),this.addLogMessage("Be careful, the world can be a dangerous place.","STANDARD","STORY")}addLogMessage(e,i,r){let o=this.eventLog;"COMBAT"==r?o=this.combatLog:"STORY"==r?o=this.storyLog:"CRAFTING"==r&&(o=this.craftingLog);let s={message:e,type:i,topic:r,timestamp:Date.now()};o.unshift(s),o.length>100&&"STORY"!=r&&o.splice(100,1),this.logTopics.includes(r)?this.addToCurrentLog(s):"STORY"==r?this.newStory=" (new)":"EVENT"==r?this.newEvents=" (new)":"CRAFTING"==r?this.newCrafting=" (new)":this.newCombat=" (new)"}addToCurrentLog(e){var i,r;if(0!=this.currentLog.length&&this.currentLog[0].message.includes(e.message)){let o=null===(r=null===(i=this.currentLog[0].message.split(" ").pop())||void 0===i?void 0:i.replace("(",""))||void 0===r?void 0:r.replace(")",""),s=0;o&&(s=parseInt(o)),0==s||isNaN(s)?this.currentLog[0].message=e.message+" (2)":(s++,this.currentLog[0].message=e.message+" ("+s+")")}else this.currentLog.unshift(e),this.currentLog.length>300&&this.currentLog.splice(this.currentLog.length-1,1)}getProperties(){return{logTopics:this.logTopics,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.logTopics=e.logTopics||["STORY","EVENT"],this.updateLogTopics()}enableLogTopic(e,i){if(!i&&this.logTopics.includes(e)){for(let r=0;r<this.logTopics.length;r++)this.logTopics[r]==e&&this.logTopics.splice(r,1);this.updateLogTopics()}else i&&!this.logTopics.includes(e)&&(this.logTopics.push(e),this.updateLogTopics())}updateLogTopics(){let e=[];if(this.logTopics.includes("COMBAT")&&(this.newCombat="",e.push([...this.combatLog])),this.logTopics.includes("STORY")&&(this.newStory="",e.push([...this.storyLog])),this.logTopics.includes("EVENT")&&(this.newEvents="",e.push([...this.eventLog])),this.logTopics.includes("CRAFTING")&&(this.newCrafting="",e.push([...this.craftingLog])),this.currentLog=[],0==e.length)return;let i=r=>Array.isArray(r)&&r.every(i);for(;!i(e);){let r=Number.MAX_VALUE,o=e[0];for(let s=0;s<e.length;s++){let a=e[s];if(0==a.length)continue;let l=a[a.length-1].timestamp||0;l<r&&(r=l,o=a)}this.addToCurrentLog(o[o.length-1]),o.splice(o.length-1,1)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VN{constructor(t,e){this.logService=t,this.titlecasePipe=e,this.maxMoney=1e24,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=100,this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=100,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=0,this.accuracyExponentMultiplier=.01,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.immortal=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,icon:"pets"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.status.mana.max=0,this.status.mana.value=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.baseLifespan+=1,this.baseLifespan>25550&&(this.baseLifespan=25550),this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let t=0;t+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(t/5),this.bloodlineRank<4&&(this.statLifespan*=.1);const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){let r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;r>0&&(this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+this.titlecasePipe.transform(e[i])+" increased by "+ii(r,"en-US","1.0-3"),"STANDARD","EVENT")),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.recalculateDerivedStats(),0==this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<0&&(t=0),e<0&&(e=0),t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,s;this.status.health.max=100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+Math.floor(5*Math.log2(this.attributes.toughness.value+2)),this.money>this.maxMoney&&(this.money=this.maxMoney),this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.accuracy=1-Math.exp(0-this.getAptitudeMultipier(this.attributes.speed.value)*this.accuracyExponentMultiplier),this.defense=Math.floor(Math.log10(this.attributes.toughness.value)),this.attackPower=Math.floor(Math.log10(this.attributes.strength.value))||1,this.equipment.leftHand&&(this.attackPower+=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||0),this.equipment.rightHand&&(this.attackPower+=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.equipment.head&&(this.defense+=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||0),this.equipment.body&&(this.defense+=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||0),this.equipment.legs&&(this.defense+=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||0),this.equipment.feet&&(this.defense+=(null===(s=this.equipment.feet.armorStats)||void 0===s?void 0:s.defense)||0)}getAptitudeMultipier(t){return t<0&&(t=0),t<this.attributeScalingLimit?t:t<10*this.attributeScalingLimit?this.attributeScalingLimit+(t-this.attributeScalingLimit)/4:t<100*this.attributeScalingLimit?this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20:t<this.attributeSoftCap?this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100:this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+this.attributeScalingLimit*(this.attributeSoftCap-100)/100+Math.log2(t-this.attributeSoftCap+1)}increaseAttribute(t,e){let i=e*this.getAptitudeMultipier(this.attributes[t].aptitude);return i<e&&(i=e),this.attributes[t].value+=i,i}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3),this.healthBonusMagic>1e4&&(this.healthBonusMagic=1e4),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineCost:this.bloodlineCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,immortal:this.immortal}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.magicLifespan=t.magicLifespan||0,this.attributeScalingLimit=t.attributeScalingLimit,this.attributeSoftCap=t.attributeSoftCap,this.aptitudeGainDivider=t.aptitudeGainDivider,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.bloodlineCost=t.bloodlineCost,this.bloodlineRank=t.bloodlineRank,this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.healthBonusFood=t.healthBonusFood||0,this.healthBonusBath=t.healthBonusBath||0,this.healthBonusMagic=t.healthBonusMagic||0,this.immortal=t.immortal||!1,this.recalculateDerivedStats()}}var P=(()=>{return(n=P||(P={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",n[n.CoreCultivation=17]="CoreCultivation",n[n.InfuseBody=18]="InfuseBody",n[n.ExtendLife=19]="ExtendLife",n[n.Recruiting=20]="Recruiting",n[n.TrainingFollowers=21]="TrainingFollowers",n[n.Swim=22]="Swim",n[n.ForgeChains=23]="ForgeChains",n[n.AttachChains=24]="AttachChains",n[n.MakeBrick=25]="MakeBrick",n[n.MakeMortar=26]="MakeMortar",n[n.MakeScaffold=27]="MakeScaffold",n[n.BuildTower=28]="BuildTower",n[n.ResearchWind=29]="ResearchWind",n[n.TameWinds=30]="TameWinds",n[n.LearnToFly=31]="LearnToFly",n[n.OfferDragonFood=32]="OfferDragonFood",n[n.OfferDragonWealth=33]="OfferDragonWealth",n[n.TalkToDragon=34]="TalkToDragon",n[n.GatherArmies=35]="GatherArmies",n[n.ConquerTheWorld=36]="ConquerTheWorld",n[n.MoveStars=37]="MoveStars",P;var n})();let Cn=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new Ee,this.longTickSubject=new Ee,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useSavedTicks=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.tickDivider=e.tickDivider,this.pause=e.pause,this.lastTime=e.lastTime;let i=(new Date).getTime();this.bankedTicks=e.bankedTicks+Math.floor((i-this.lastTime)/(25*this.offlineDivider)),this.lastTime=i,this.totalTicks=e.totalTicks||0}start(){this.characterService||(this.characterService=this.injector.get(je)),window.setInterval(()=>{this.longTickSubject.next(!0)},500),window.setInterval(()=>{let e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=Math.floor(i/25)||1;if(this.pause)this.bankedTicks++;else{this.bankedTicks>0&&this.useSavedTicks&&(r+=10/this.tickDivider,this.bankedTicks-=10/this.tickDivider),this.characterService&&this.characterService.characterState.lifespan>36500&&r++,this.characterService&&this.characterService.characterState.lifespan>365e3&&r++;for(let o=0;o<r;o++)this.tickCount++,this.tickCount>=this.tickDivider&&(this.tickCount=0,this.tick())}},25)}tick(){this.totalTicks++,this.tickSubject.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(S(Oe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zi=(()=>{class n{constructor(){this.reincarnateSubject=new Ee}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var z=(()=>{return(n=z||(z={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.TameWinds=3]="TameWinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",z;var n})();let Bo=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.logService=i,this.characterService=r,this.battleService=a,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:z.Swim,progressRequired:1e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:z.RaiseIsland,progressRequired:1e4},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:z.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:z.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:z.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:z.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:z.ConquerTheWorld,progressRequired:100},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:z.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:z.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],o.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let l=0;l<this.tasks.length;l++)if(this.taskProgress[l].complete&&this.tasks[l].taskType==this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){for(let e=0;e<this.tasks.length;e++)this.taskProgress[e].progress<this.tasks[e].progressRequired&&e!=z.BuildTower&&(this.taskProgress[e].progress=0);this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=null==e.activeTaskIndex?-1:e.activeTaskIndex,this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities(),this.activeTaskIndex==z.OvercomeDeath&&this.battleService.addEnemy(this.battleService.enemyRepo.death)}stopTask(){this.activeTaskIndex==z.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(S(Oe),S(wn),S(je),S(Cn),S(zi),S(Ei))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var rw=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohamed","Mohammad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let wr=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.logService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.battleService=c,this.followersUnlocked=!1,this.followers=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.autoDismissJobs=[],this.jobs={builder:{work:u=>{this.homeService.nextHomeCostReduction+=u.power;for(let h=0;h<u.power;h++)this.homeService.upgrading&&this.homeService.upgradeTick()},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster."},hunter:{work:u=>{for(let h=0;h<u.power;h++)this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)},description:"Hunters collect meat and hides for you."},farmer:{work:u=>{this.homeService.workFields(u.power)},description:"Farmers work your fields, helping your crops to grow."},weaponsmith:{work:u=>{this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability+=u.power),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability+=u.power)},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day."},armorer:{work:u=>{this.characterService.characterState.equipment.head&&this.characterService.characterState.equipment.head.armorStats&&(this.characterService.characterState.equipment.head.armorStats.durability+=u.power),this.characterService.characterState.equipment.body&&this.characterService.characterState.equipment.body.armorStats&&(this.characterService.characterState.equipment.body.armorStats.durability+=u.power),this.characterService.characterState.equipment.legs&&this.characterService.characterState.equipment.legs.armorStats&&(this.characterService.characterState.equipment.legs.armorStats.durability+=u.power),this.characterService.characterState.equipment.feet&&this.characterService.characterState.equipment.feet.armorStats&&(this.characterService.characterState.equipment.feet.armorStats.durability+=u.power)},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day."},brawler:{work:u=>{this.characterService.characterState.increaseAttribute("strength",u.power)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength."},sprinter:{work:u=>{this.characterService.characterState.increaseAttribute("speed",u.power)},description:"Sprinters challenge you to footraces and help you increase your speed."},trainer:{work:u=>{this.characterService.characterState.increaseAttribute("toughness",u.power)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness."},tutor:{work:u=>{this.characterService.characterState.increaseAttribute("intelligence",u.power)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence."},mediator:{work:u=>{this.characterService.characterState.increaseAttribute("charisma",u.power)},description:"Mediators teach you how to persuade others, increasing your charisma."},priest:{work:u=>{this.characterService.characterState.increaseAttribute("spirituality",u.power)},description:"Priests help you get closer to the divine, increasing your sprituality."},gemologist:{work:u=>{for(let h=0;h<u.power;h++)this.inventoryService.mergeAnySpiritGem()},description:"Gemologists combine monster gems into higher grades."},scout:{work:u=>{for(let h=0;h<u.power;h++)this.battleService.tickCounter++},description:"Scouts help you track down and fight monsters faster."}},a.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.characterState.dead){this.characterService.characterState.age%18250==0&&this.generateFollower();for(let u=this.followers.length-1;u>=0;u--)this.followerWorks(this.followers[u]),this.followers[u].age++,this.followers[u].age>=this.followers[u].lifespan?this.followers.splice(u,1):this.characterService.characterState.money-=this.followers[u].cost}}),l.reincarnateSubject.subscribe(()=>{this.reset()})}followerWorks(e){this.jobs[e.job].work(e)}reset(){this.followers.splice(0,this.followers.length),this.followersRecruited=0}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,autoDismissUnlocked:this.autoDismissUnlocked,autoDismissJobs:this.autoDismissJobs}}setProperties(e){this.followers=e.followers||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.autoDismissJobs=e.autoDismissJobs||[]}generateFollower(){this.followersRecruited++;let e=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank;if(this.followers.length>=e)return void this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","EVENT");let i=this.generateFollowerJob();this.autoDismissJobs.includes(i)?this.logService.addLogMessage("A new follower shows up, but they were a "+i+" and you don't want any of those.","STANDARD","EVENT"):(this.logService.addLogMessage("A new follower has come to learn at your feet.","STANDARD","EVENT"),this.followers.push({name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/10,job:i,power:1,cost:100}))}generateFollowerName(){return rw[Math.floor(Math.random()*rw.length)]}generateFollowerJob(){const e=Object.keys(this.jobs);return e[Math.floor(Math.random()*e.length)]}dismissFollower(e){let i=this.followers.indexOf(e);this.followers.splice(i,1)}dismissFollowerJob(e){this.autoDismissJobs.includes(e)||this.autoDismissJobs.push(e);for(let i=this.followers.length-1;i>=0;i--)this.followers[i].job==e&&this.followers.splice(i,1)}unAutoDismiss(e){if(this.autoDismissJobs.includes(e))for(let i=this.autoDismissJobs.length-1;i>=0;i--)this.autoDismissJobs[i]==e&&this.autoDismissJobs.splice(i,1)}}return n.\u0275fac=function(e){return new(e||n)(S(wn),S(je),S(ft),S(ee),S(Un),S(Cn),S(zi),S(Ei))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Un=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.02}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.01&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.02&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.05&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.08&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.12&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.15&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.18&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.2&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value++,this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.22&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan+=1)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value+=2,this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:()=>{this.characterService.characterState.status.nourishment.value++,Math.random()<.1&&(this.characterService.characterState.healthBonusFood++,this.characterService.characterState.status.stamina.max++),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},unbreakableChain:{id:"unbreakableChain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong."},everlastingBrick:{id:"everlastingBrick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",name:"Essence of Immortality",type:"immortality",value:1,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(Bo)),this.impossibleTaskService.taskProgress[z.OvercomeDeath].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.OvercomeDeath].complete&&(this.logService.addLogMessage("YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!","INJURY","STORY"),this.logService.addLogMessage("You won this game in "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes. I wonder if other immortals have ever done it faster?","STANDARD","STORY"),this.characterService.characterState.immortal=!0)}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get(Dn)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoBuyFurnitureUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(ft)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPotionUnlocked=!0;for(let s=this.inventoryService.autoUseItems.length-1;s>=0;s--)this.inventoryService.autoUseItems[s].includes("Potion")&&this.inventoryService.autoUseItems.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoswallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPillUnlocked=!0;for(let s=this.inventoryService.autoUseItems.length-1;s>=0;s--)this.inventoryService.autoUseItems[s].includes("Pill")&&this.inventoryService.autoUseItems.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(Ei)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(Ei)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldHerbs=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldWood=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade ores.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldOre=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldOre)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(wr)),this.followerService.autoDismissUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.followerService||(this.followerService=this.injector.get(wr)),this.followerService.autoDismissUnlocked)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(S(je),S(Oe),S(wn),S(Cn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ei=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.ticksPerFight=10,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:2,loot:[this.itemRepoService.items.hide]},army:{name:"an angry army",health:2e6,maxHealth:2e7,accuracy:.9,attack:1e6,defense:5e5,loot:[]},death:{name:"death itself",health:1e8,maxHealth:1e8,accuracy:.99,attack:1e7,defense:1e7,loot:[this.itemRepoService.items.immortality]}},this.monsterNames=["spider","rat","lizard","snake","imp","ooze","jackalope","goblin","monkey","redcap","skeleton","zombie","hobgoblin","kobold","chupacabra","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","troll","manticore","merlion","landshark","bugbear","yeti","dreameater","unicorn","ogre","banshee","harpy","werewolf","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","thunderbird","vampire","beholder","hydra","roc","giant","kraken","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a pathetic","a sickly","a starving","a wimpy","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a typical","an average","a healthy","a big","a tough","a strong","a fearsome","a gutsy","a quick","a hefty","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a devious","a mighty","a powerful","a noble","a magical","a dangerous","a terrifying","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null==this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)if(Math.random()<e.enemy.accuracy){let r=e.enemy.attack;r/=1+.1*this.characterService.characterState.defense,this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(r/=2,this.characterService.characterState.status.mana.value-=10),this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+ii(r,"en-US","1.0-2")+" damage","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=r,this.characterService.characterState.increaseAttribute("toughness",.01);let o=[];if(this.characterService.characterState.equipment.head&&o.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&o.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&o.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&o.push(this.characterService.characterState.equipment.feet),o.length>0&&this.degradeArmor(o[Math.floor(Math.random()*o.length)]),this.characterService.characterState.status.health.value<=0)return this.logService.addLogMessage("You were defeated by "+e.enemy.name,"INJURY","EVENT"),void(this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0))}else this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.currentEnemy){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower;if(e/=1+.1*this.currentEnemy.enemy.defense,e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10),this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null)),this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(let i of this.currentEnemy.enemy.loot)this.inventoryService.addItem(i);if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){let i=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(i,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+e+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name==e.name)return void i.quantity++;this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1}),null==this.currentEnemy&&(this.currentEnemy=this.enemies[0])}trouble(){if(0!=this.enemies.length)return;let e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length),s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1)),this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:Math.floor(Math.log2(this.troubleKills)),loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)))]}),this.troubleKills++}degradeArmor(e){e.armorStats&&(e.armorStats.durability--,this.inventoryService.updateArmorDescription(e),e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null))}}return n.\u0275fac=function(e){return new(e||n)(S(wn),S(je),S(Un),S(ee),S(Cn),S(zi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Le=(()=>{return(n=Le||(Le={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",Le;var n})();let ft=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.homesList=[{name:"Squatter Tent",type:Le.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Le.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Le.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Le.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Le.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina and a bit of health each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Le.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina and a bit of health each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Le.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina and a bit of health each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Le.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina and a bit of health each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Le.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina and a bit of health each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Le.Palace,description:"A lavish palace. Automatically restores 35 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Le.Castle,description:"An imposing castle. Automatically restores 40 stamina and a bit of health each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Le.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina and a bit of health each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Le.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina and a bit of health each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Le.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina and a bit of health each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Le.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina and a bit of health each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),this.home.consequence();for(let c of this.furniturePositionsArray){let u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay,this.autoBuy()}}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on  it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(let i of this.furniturePositionsArray){let r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[]}getNextHome(){for(let e=0;e<this.homesList.length-1;e++)if(this.homeValue==this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(){this.houseBuildingProgress+=1/this.nextHome.daysToBuild,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.nextHomeCostReduction=0,this.setCurrentHome(this.homesList[0]),this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.upgrading=!1,this.houseBuildingProgress=1,this.ownedFurniture=[]}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(){this.land>0&&(this.land--,this.fields.length>=300?this.extraFields++:this.fields.push(this.getCrop()))}clearField(){if(this.extraFields>0)return this.extraFields--,void this.land++;this.fields.length>0&&(this.fields.pop(),this.land++)}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){let r=this.fields[i];r.yield<r.maxYield&&(r.yield+=e)}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let i=0;for(let r=e;r>=0;r--)if(this.fields[r].daysToHarvest<=0){let o=this.fields[r].yield;this.fields.length+this.extraFields>300&&(o=Math.floor((this.fields.length+this.extraFields)/300)),i+=o,this.inventoryService.addItems(this.itemRepoService.items[this.fields[r].cropName],o),this.fields[r]=this.getCrop()}else this.fields[r].daysToHarvest--;this.averageYield=(364*this.averageYield+i)/365}buyLand(){this.characterService.characterState.money>=this.landPrice&&(this.characterService.characterState.money-=this.landPrice,this.land++,this.landPrice+=10)}autoBuy(){var e;let i=10*(this.home.costPerDay+1);if(this.autoBuyHomeUnlocked&&this.homeValue<this.autoBuyHomeLimit){if(!this.upgrading)for(;this.characterService.characterState.money>this.landPrice+i&&this.land<this.nextHome.landRequired;)this.buyLand();if(this.land>=this.nextHome.landRequired){if(!(this.characterService.characterState.money>this.nextHome.cost+i))return;this.upgradeToNextHome()}}if((!this.autoBuyHomeUnlocked||this.homeValue>=this.autoBuyHomeLimit||this.characterService.characterState.money>=this.nextHome.cost+this.landPrice+i)&&this.autoBuyLandUnlocked)for(;this.land+this.fields.length+this.extraFields<this.autoBuyLandLimit&&this.characterService.characterState.money>=this.landPrice+i&&!(this.autoBuyHomeUnlocked&&(this.upgrading||this.homeValue<this.autoBuyHomeLimit)&&this.characterService.characterState.money<this.nextHome.cost+this.landPrice+i);)this.buyLand();if(!this.autoBuyHomeUnlocked||this.homeValue>=this.autoBuyHomeLimit||this.upgrading&&this.land>this.nextHome.landRequired)for(;this.autoFieldUnlocked&&this.fields.length+this.extraFields<this.autoFieldLimit&&this.land>0&&!(this.autoBuyHomeUnlocked&&(this.upgrading||this.homeValue<this.autoBuyHomeLimit)&&this.land<=this.nextHome.landRequired);)this.addField();if(this.autoBuyFurnitureUnlocked)for(let r of this.furniturePositionsArray)if(this.home.furnitureSlots.includes(r)&&null==this.furniture[r]){let o=this.autoBuyFurniture[r];o&&(null===(e=this.furniture[r])||void 0===e?void 0:e.id)!==o.id&&this.characterService.characterState.money>o.value+i&&(this.characterService.characterState.money-=o.value,this.ownedFurniture.push(o.name),this.furniture[r]=this.itemRepoService.getFurnitureById(o.id))}}}return n.\u0275fac=function(e){return new(e||n)(S(je),S(ee),S(wn),S(Ei),S(Cn),S(zi),S(Un))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dn=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.logService=c,this.followerService=u,this.impossibleTaskService=h,this.activityLoop=[],this.savedActivityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.pauseOnDeath=!0,this.activities=this.getActivityList(),this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=P.Resting,o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{if(0!=this.activityLoop.length){if(!this.characterService.characterState.dead){if(this.exhaustionDays>0)return void this.exhaustionDays--;if(this.currentIndex<this.activityLoop.length){if(this.currentLoopEntry=this.activityLoop[this.currentIndex],0==this.currentLoopEntry.repeatTimes){let f=0;for(this.currentIndex<this.activityLoop.length-1&&(f=this.currentIndex+1);f!=this.currentIndex&&0==this.activityLoop[f].repeatTimes;)f++,f>=this.activityLoop.length&&(f=0);if(f==this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=f,this.currentLoopEntry=this.activityLoop[this.currentIndex],this.currentTickCount=0}let d=this.getActivityByType(this.currentLoopEntry.activity);d.consequence[d.level](),this.characterService.characterState.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100),this.characterService.characterState.status.mana.value<0&&(this.logService.addLogMessage("You overextend your mana and damage your mana channels. It takes you 10 days to recover.","INJURY","EVENT"),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes&&(this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0))}else this.currentIndex=0;if(this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){let d=this.getActivityByType(this.spiritActivity);d.consequence[d.level](),this.characterService.characterState.status.mana.value-=5}}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}getProperties(){let e=[];for(const i of this.activities)i.unlocked&&e.push(i.activityType);return{autoRestart:this.autoRestart,pauseOnDeath:this.pauseOnDeath,activityLoop:this.activityLoop,unlockedActivities:e,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];let i=e.unlockedActivities||[P.OddJobs,P.Resting];for(const r of this.activities)r.unlocked=i.includes(r.activityType);this.autoRestart=e.autoRestart,this.pauseOnDeath=e.pauseOnDeath,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity||null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship||P.Resting,this.savedActivityLoop=e.savedActivityLoop||[];for(let r=0;r<5;r++)this.upgradeActivities(!0)}meetsRequirements(e){return!!this.meetsRequirementsByLevel(e,e.level,!0)&&(e.unlocked=!0,!0)}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&e.activityType!=this.currentApprenticeship&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const s in o){const a=o[s];let l=0;if(null!=e.requirements[i][a]&&(l=e.requirements[i][a]),this.characterService.characterState.attributes[a].value<=l)return!1}return!0}checkRequirements(e){for(let i of this.activities)!i.unlocked&&this.meetsRequirements(i)&&(i.unlocked=!0,e||this.logService.addLogMessage("A new activity is available. Maybe you should try "+i.name[i.level]+".","STANDARD","EVENT"));for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity).unlocked||this.activityLoop.splice(i,1)}upgradeActivities(e){for(const i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1,!1)&&(!e&&i.unlocked&&this.logService.addLogMessage("Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1],"STANDARD","EVENT"),i.level++,i.unlocked&&i.skipApprenticeshipLevel==i.level&&(this.completedApprenticeships.includes(i.activityType)||this.completedApprenticeships.push(i.activityType)))}reset(){this.openApprenticeships=1,this.currentApprenticeship=P.Resting,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!=z.Swim&&(this.getActivityByType(P.Resting).unlocked=!0,this.getActivityByType(P.OddJobs).unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;throw Error("Could not find activity from type")}checkApprenticeship(e){if(0!=this.openApprenticeships){this.openApprenticeships--,this.currentApprenticeship=e;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity==i.activityType&&this.activityLoop.splice(r,1)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(let r of this.activities)r.activityType==this.activityLoop[e].activity&&(i=!0);i||this.activityLoop.splice(e,1)}this.spiritActivity=null;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(){this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop))}loadActivityLoop(){this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)),this.checkRequirements(!0)}getActivityList(){this.defineActivities();let e=[];return this.impossibleTaskService.activeTaskIndex==z.Swim?(e.push(this.Swim),e):(this.impossibleTaskService.activeTaskIndex==z.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex==z.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex==z.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex==z.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex==z.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex==z.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex==z.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.OddJobs),e.push(this.Resting),e.push(this.Begging),e.push(this.Farming),e.push(this.GatherHerbs),e.push(this.ChopWood),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.Woodworking),e.push(this.Leatherworking),e.push(this.Alchemy),e.push(this.Hunting),e.push(this.Fishing),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.CoreCultivation),e.push(this.InfuseBody),e.push(this.ExtendLife),e.push(this.Recruiting),e.push(this.TrainingFollowers),e.push(this.Burning),e)}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],activityType:P.Swim,description:["Swim down further into the depths."],consequenceDescription:["Reduce Stamina by 20. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[z.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.Swim].complete&&this.logService.addLogMessage("You have acheived the impossible and dived all the way to the bottom of the ocean.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],activityType:P.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Reduce Stamina by 100. If you have the right facilities and materials you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&e>=150?Math.random()>.01&&(this.logService.addLogMessage("Your anvil rings with power, a new chain is forged!","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],activityType:P.AttachChains,description:["Swim deep and attach one of your chains to the island."],consequenceDescription:["Reduce Stamina by 1000. Requires an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.inventoryService.consume("chain")>0?(this.logService.addLogMessage("You attach a chain to the island. and give your chains a tug.","STANDARD","EVENT"),this.impossibleTaskService.taskProgress[z.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull, the island comes loose. You haul it to the surface.","STANDARD","STORY")):(this.logService.addLogMessage("You fumble around in the depths without a chain until a shark comes by and takes a bite.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],activityType:P.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Reduce Stamina by 100. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=10;for(let r=0;r<200;r++)e=this.inventoryService.consume("ore");for(let r of this.followerService.followers)"builder"==r.job&&(i+=r.power);if(i=Math.floor(i/10),e>=10){for(let r=0;r<i;r++)this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick);this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingBrick.name,"STANDARD","CRAFTING")}else this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],activityType:P.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Reduce Stamina by 1000. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(let i=0;i<200;i++)e=this.inventoryService.consume("wood");e>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.addLogMessage("You made "+this.itemRepoService.items.scaffolding.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],activityType:P.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Reduce Stamina by 100. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=100;for(let r of this.followerService.followers)(r.job="builder")&&(i+=r.power);if(i=Math.floor(i/100),e=this.inventoryService.consume("ore"),this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&e>=10){for(let r=0;r<i;r++)this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar);this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingMortar.name,"STANDARD","CRAFTING")}else this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],activityType:P.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Reduce Stamina by 1000. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(let r of this.followerService.followers)"builder"==r.job&&e++;if(e<10)return this.logService.addLogMessage("You fumble without the proper help and hurt yourself.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max);let i=0;if(i=this.inventoryService.consume("scaffolding"),i<1)return this.logService.addLogMessage("You try building without a scaffolding, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<100;r++)i=this.inventoryService.consume("mortar");if(i<1)return this.logService.addLogMessage("You try building without enough mortar, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<1e3;r++)i=this.inventoryService.consume("brick");if(i<1)return this.logService.addLogMessage("You try building without enough bricks, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);this.impossibleTaskService.taskProgress[z.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.BuildTower].complete&&this.logService.addLogMessage("You have acheived the impossible and built a tower beyond the heavens.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],activityType:P.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Reduce Stamina and Mana by 100. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.addLogMessage("Research breakthrough! You produce a tome!.","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],activityType:P.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Reduce Stamina by 100. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0;e=this.inventoryService.consume("windTome"),e>0?(this.impossibleTaskService.taskProgress[z.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.TameWinds].complete&&this.logService.addLogMessage("You acheived the impossible and tamed a hurricane.","STANDARD","STORY")):(this.logService.addLogMessage("You try to tame the winds, but without the proper preparation you are blown off the top of the tower.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],activityType:P.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[z.LearnToFly].progress++,this.impossibleTaskService.taskProgress[z.LearnToFly].progress<2222?(this.logService.addLogMessage("Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[z.LearnToFly].progress<4444?(this.logService.addLogMessage("You feel like you might have flown a litte bit, somewhere near the time you hit the ground.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[z.LearnToFly].progress<6666?(this.logService.addLogMessage("You definitely did better that time. You did some great flying but sticking the landing is still tricky.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=100):(this.logService.addLogMessage("Almost there! Perfect landings are so hard.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.LearnToFly].complete&&this.logService.addLogMessage("You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],activityType:P.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let e=0;for(let i=0;i<1e3;i++)e=this.inventoryService.consume("food");if(e<1)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[z.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[z.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more food.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],activityType:P.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.characterService.characterState.money-=1e9,this.impossibleTaskService.taskProgress[z.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[z.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more money.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],activityType:P.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.addLogMessage("The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[z.BefriendDragon].progress<3500?this.logService.addLogMessage("The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.","STANDARD","EVENT"):(this.impossibleTaskService.taskProgress[z.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.BefriendDragon].complete&&this.logService.addLogMessage("You did the impossible and made friends with a dragon!","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],activityType:P.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Le.Capital){this.logService.addLogMessage("You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.","INJURY","EVENT");for(let i=0;i<3;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);return}let e=0;for(let i=0;i<1e4;i++)e=this.inventoryService.consume("food");return e<1?(this.logService.addLogMessage("You don't have enough food to feed your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):this.characterService.characterState.money<1e10?(this.logService.addLogMessage("You don't have enough money to pay your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):(this.characterService.characterState.money-=1e10,void this.inventoryService.addItem(this.itemRepoService.items.army))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],activityType:P.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let e=0;for(let i=0;i<this.impossibleTaskService.taskProgress[z.ConquerTheWorld].progress+1;i++)e=this.inventoryService.consume("army");if(e<1)for(let i=0;i<5;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);else this.impossibleTaskService.taskProgress[z.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.ConquerTheWorld].complete&&this.logService.addLogMessage("You did the impossible and conquered the world! Under your wise rule all human suffering ceases.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],activityType:P.MoveStars,description:["Extend your vast magical powers into the heavens and force the starts into alignment."],consequenceDescription:["Costs 1000 stamina and 1000 magic."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[z.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[z.RearrangeTheStars].complete&&this.logService.addLogMessage("You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches.","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],activityType:P.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 stamina. Increases a random attribute and provides a little money."],consequence:[()=>{const i=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];this.characterService.characterState.increaseAttribute(i,.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.getActivityByType(P.OddJobs).lastIncome=3,this.oddJobDays++}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity"],activityType:P.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities."],consequenceDescription:["Restores some stamina and a little health.","Restores more stamina and some health.","Restores lots of stamina, health, and mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.checkOverage()}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4}],unlocked:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:P.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 stamina. Increases charisma and provides a little money.","Uses 5 stamina. Increases charisma and provides some money.","Uses 5 stamina. Increases charisma and provides money.","Uses 5 stamina. Increases charisma, provides money, and makes you wonder what any of this means for your immortal progression."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;let e=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(P.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;let e=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(P.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;let e=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(P.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;let e=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(P.Begging).lastIncome=e,this.beggingDays++}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:P.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 stamina. Increases strength and toughness and provides a little money.","Uses 25 stamina. Increases strength, toughness, and money.","Uses 25 stamina. Build your physical power, master your craft, and create weapons.","Uses 50 stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Blacksmithing).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.increaseAttribute("metalLore",.1))},()=>{this.checkApprenticeship(P.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Blacksmithing).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.2),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Blacksmithing).lastIncome=e;let i=.05;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.3),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Blacksmithing).lastIncome=e;let i=.2;if(this.homeService.furniture.workbench&&"anvil"==this.homeService.furniture.workbench.id&&(i+=.2),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.5),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/5+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],activityType:P.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"==this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003)}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:P.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Alchemy).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.05),this.characterService.characterState.increaseAttribute("waterLore",.1))},()=>{this.checkApprenticeship(P.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Alchemy).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("waterLore",.2),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Alchemy).lastIncome=e;let i=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"==this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.15),this.characterService.characterState.increaseAttribute("waterLore",.3),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r+1,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Alchemy).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i+1,!0))}}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],activityType:P.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01)}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],activityType:P.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 stamina. Increases strength and intelligence and provides a little money.","Uses 20 stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Woodworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)},()=>{this.checkApprenticeship(P.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Woodworking).lastIncome=e,Math.random()<.02&&(this.characterService.characterState.increaseAttribute("woodLore",.25),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Woodworking).lastIncome=e,Math.random()<.05&&(this.characterService.characterState.increaseAttribute("woodLore",.4),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;let e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],activityType:P.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 stamina. Increases speed and toughness and provides a little money.","Uses 20 stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.money+=e,this.getActivityByType(P.Leatherworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("animalHandling",.1)},()=>{this.checkApprenticeship(P.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.2),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.3),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;let e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(P.Leatherworking).lastIncome=e,Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.5),this.inventoryService.openInventorySlots()>0)){let i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],activityType:P.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("earthLore",.1))}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],activityType:P.Mining,description:["Dig in the ground for useable minerals."],consequenceDescription:["Uses 20 stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),Math.random()<.5&&(this.characterService.characterState.increaseAttribute("earthLore",.1),this.inventoryService.addItem(this.inventoryService.getOre()))}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],activityType:P.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){let e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],activityType:P.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"==this.homeService.furniture.workbench.id&&(e+=.4),Math.random()<e&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],activityType:P.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.characterService.characterState.increaseAttribute("waterLore",.05),this.inventoryService.addItem(this.itemRepoService.items.carp))}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],activityType:P.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;let e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0)}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],activityType:P.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],activityType:P.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],activityType:P.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Uses 200 stamina. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked?Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at cultivating your core and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],activityType:P.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["A magical technique that uses 10 mana and 200 stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10?(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to infuse your body. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extend Life"],activityType:P.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["A magical technique that uses 20 mana and 400 stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20?(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to extend your life. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruit Followers"],activityType:P.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Costs 100 stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.money-=1e6,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at your attempt to recruit followers. An angry mob chases you down and gives you a beating for your arrogance.","INJURY","EVENT"))}],requirements:[{charisma:1e9}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],activityType:P.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Costs 1000 stamina. Gives you a small chance for each follower of increasing their power. You probably should not try this if you have no followers."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.followerService.followersUnlocked)for(let e of this.followerService.followers)Math.random()<.01&&(e.power++,e.cost+=100,this.logService.addLogMessage(e.name+" gains additional power as a "+e.job,"STANDARD","EVENT"))}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0}}}return n.\u0275fac=function(e){return new(e||n)(S(je),S(ee),S(ft),S(zi),S(Cn),S(Un),S(Ei),S(wn),S(wr),S(Bo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),je=(()=>{class n{constructor(e,i,r,o,s){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",this.characterState=new VN(r,s),i.tickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let a="";this.forceRebirth?a="You release your soul from your body at the age of "+this.formatAge()+".":this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal?a="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".":this.characterState.status.nourishment.value<=0&&!this.characterState.immortal?this.characterState.attributes.spirituality.value>0?(this.characterState.status.health.value-=20,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(a="You starve to death at the age of "+this.formatAge()+".")):a="You starve to death at the age of "+this.formatAge()+".":this.characterState.status.health.value<=0&&!this.characterState.immortal&&(a="You succumb to your wounds and die at the age of "+this.formatAge()+"."),""!=a&&(this.characterState.immortal||(this.logService.addLogMessage(a,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT")),this.characterState.dead=!0,this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.characterState.dead=!1,this.forceRebirth=!1,this.characterState.immortal?this.logService.addLogMessage("You are born anew, still an immortal but with the fresh vigor of youth.","STANDARD","EVENT"):(this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT")))}),i.longTickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.recalculateDerivedStats(),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.immortal)return void(this.lifespanTooltip="You are immortal.");if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":Math.floor(e/365)+" years"}condenseSoulCore(){if(this.characterState.aptitudeGainDivider<=10)return;this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain additional aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider-=10;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}soulCoreRank(){let e=0,i=this.characterState.condenseSoulCoreOriginalCost;for(;i<this.characterState.condenseSoulCoreCost;)i*=10,e++;return e}reinforceMeridians(){if(this.characterState.attributeScalingLimit>=10240)return;this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(Dn)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}meridianRank(){let e=0,i=this.characterState.reinforceMeridiansOriginalCost;for(;i<this.characterState.reinforceMeridiansCost;)i*=10,e++;return e}upgradeBloodline(){if(this.characterState.bloodlineRank>4)return;this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=1e3,this.characterState.bloodlineRank++;const e=Object.keys(this.characterState.attributes);for(const i in e){let r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1,r.value=parseInt(i)<5?1:0}this.forceRebirth=!0,this.mainLoopService.tick()}}return n.\u0275fac=function(e){return new(e||n)(S(Oe),S(Cn),S(wn),S(zi),S(_n))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ee=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellItems=[],this.autoUseUnlocked=!1,this.autoUseItems=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),r.longTickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.autoequipBestWeapon&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoequipArmor())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellItems:this.autoSellItems,autoUseUnlocked:this.autoUseUnlocked,autoUseItems:this.autoUseItems,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems}}setProperties(e){this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellItems=e.autoSellItems,this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseItems=e.autoUseItems,this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){let d=this.consume("spiritGem");d>0&&(e+=d/5)}let r=e%Lo.length,o=Math.floor(e/Lo.length),s=Lo[r],a="";if(o>0){let d=Math.floor(o/ia.length);d>0?(d>jf.length?(d=jf.length,o=ia.length-1):o%=ia.length,a=" of "+jf[d-1]+" "+ia[o]):a=" of "+ia[o-1]}let l=i,c="rightHand";"wood"===i&&(c="leftHand",l="wooden");let u=s+" "+l+" "+iw[Math.floor(Math.random()*iw.length)]+a;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+u+"!","STANDARD","CRAFTING");let h=10*e+Math.floor(Math.random()*e*5);return{id:"weapon",name:u,type:"equipment",slot:c,value:e,weaponStats:{baseDamage:e,material:i,durability:h},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+e+"<br/>Durability: "+h}}updateWeaponDescription(e){var i,r,o;e.description="A unique weapon made of "+(null===(i=e.weaponStats)||void 0===i?void 0:i.material)+".<br/>Base Damage: "+(null===(r=e.weaponStats)||void 0===r?void 0:r.baseDamage)+"<br/>Durability: "+(null===(o=e.weaponStats)||void 0===o?void 0:o.durability)}updateArmorDescription(e){var i,r,o;e.description="A unique piece of armor made of "+(null===(i=e.armorStats)||void 0===i?void 0:i.material)+"<br/>Defense: "+(null===(r=e.armorStats)||void 0===r?void 0:r.defense)+"<br/>Durability: "+(null===(o=e.armorStats)||void 0===o?void 0:o.durability)}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){let a=this.consume("spiritGem");if(a>0&&(e+=a/5),Math.random()<.1)return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];let s="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:s,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r=i+" Pill  +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+r+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:r,id:"pill",type:"pill",value:10*e,description:"A pill that increases "+i,useLabel:"Swallow",useDescription:"Use to increase your "+i+".",useConsumes:!0,effect:i,power:e})}generateHerb(){let r,o,e=0,i=this.characterService.characterState.attributes.woodLore.value;if(e=i<1e4?Math.floor(Math.sqrt(i)):100+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value-1e4)),e>=No.length*cc.length)r=No[No.length-1],o=cc[cc.length-1];else{let a=e%No.length,l=Math.floor(e/No.length);r=No[a],o=cc[l]}let s=e+1;if(this.addItem({id:"herb",name:o+" "+r,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbs)for(let a=0;a<this.itemStacks.length;a++){let l=this.itemStacks[a];l&&"herb"==l.item.id&&l.item.value<s&&this.sell(l,l.quantity)}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"monster gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r){let o=e%Lo.length,s=Math.floor(e/Lo.length),a=Lo[o],l="";if(s>0){let f=Math.floor(s/ra.length);f>0?(f>Uf.length?(f=Uf.length,s=ra.length-1):s%=ra.length,l=" of "+Uf[f-1]+" "+ra[s]):l=" of "+ra[s-1]}let u=FN;"legs"==r?u=LN:"head"==r?u=NN:"feet"==r&&(u=BN);let h=a+" "+i+" "+u[Math.floor(Math.random()*u.length)]+l;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+h+"!","STANDARD","CRAFTING");let d=5*e+Math.floor(Math.random()*e*5);return{id:"armor",name:h,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:d},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+e+"<br/>Durability: "+d}}randomArmorSlot(){let e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperOre;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];"ore"==o.type&&o.value>i.value&&o.value<=e&&(i=o)}if(this.autoSellOldOre)for(let r=0;r<this.itemStacks.length;r++){let o=this.itemStacks[r];o&&"ore"==o.item.type&&o.item.value<i.value&&this.sell(o,o.quantity)}return i}getBar(e){let i=10*e;for(let r in this.itemRepoService.items){let o=this.itemRepoService.items[r];if("metal"==o.type&&o.value==i)return o}return this.itemRepoService.items.copperBar}getWood(){let e;if(e=this.characterService.characterState.attributes.woodLore.value>5e8&&this.characterService.characterState.attributes.spirituality.value>5e7?this.itemRepoService.items.divinewoodLog:this.characterService.characterState.attributes.woodLore.value>1e7&&this.characterService.characterState.attributes.spirituality.value>1e6?this.itemRepoService.items.devilwoodLog:this.characterService.characterState.attributes.woodLore.value>2e5&&this.characterService.characterState.attributes.spirituality.value>2e4?this.itemRepoService.items.dragonwoodLog:this.characterService.characterState.attributes.woodLore.value>1e4&&this.characterService.characterState.attributes.spirituality.value>1e3?this.itemRepoService.items.titanwoodLog:this.characterService.characterState.attributes.woodLore.value>1e3&&this.characterService.characterState.attributes.spirituality.value>100?this.itemRepoService.items.diamondwoodLog:this.characterService.characterState.attributes.woodLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.woodLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.woodLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.woodLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.woodLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.woodLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.woodLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.woodLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog,this.autoSellOldWood)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];r&&"wood"==r.item.type&&r.item.value<e.value&&this.sell(r,r.quantity)}return e}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.itemStacks=[],this.maxItems=10;for(let e=0;e<this.maxItems;e++)this.itemStacks.push(null);this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),this.grandmotherGift&&this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!=r&&"food"==r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItems(e,i){for(let r=0;r<i;r++)this.addItem(e)}addItem(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return i.index<i.useNumber?this.useItem(e):this.characterService.characterState.money+=e.value,i.index++,i.index>=i.sellNumber+i.useNumber&&(i.index=0),-1;if(this.autoPotionUnlocked&&"potion"==e.type)return this.useItem(e),-1;if(this.autoPillUnlocked&&"pill"==e.type)return this.useItem(e),-1;if(this.autoUseItems.includes(e.name))return this.useItem(e),-1;if(this.autoSellItems.includes(e.name))return this.characterService.characterState.money+=e.value,-1;if("equipment"!=e.type)for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];if(null!=r&&r.item.name==e.name&&r.quantity<this.maxStackSize)return r.quantity++,i}for(let i=0;i<this.itemStacks.length;i++)if(null==this.itemStacks[i])return this.itemStacks[i]={item:e,quantity:1},i;return this.autoSellUnlocked?(this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you sold it.`,"STANDARD","EVENT"),this.characterService.characterState.money+=e.value):this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems++,-1}sell(e,i){this.lifetimeSoldItems+=i;let r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e==this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(let i of this.itemStacks)null!=i&&i.item.name==e.name&&this.sell(i,i.quantity)}autoSell(e){!this.autoSellUnlocked||(this.autoSellItems.includes(e.name)||this.autoSellItems.push(e.name),this.sellAll(e))}unAutoSell(e){let i=this.autoSellItems.indexOf(e);this.autoSellItems.splice(i,1)}useItemStack(e){if(this.useItem(e.item),e.item.useConsumes&&(e.quantity--,e.quantity<=0)){let i=this.itemStacks.indexOf(e);this.itemStacks[i]=null,e==this.selectedItem&&(this.selectedItem=null)}}useItem(e){this.lifetimeUsedItems++,"potion"==e.type&&function jN(n){return"attribute"in n}(e)?this.usePotion(e):"pill"==e.type&&function UN(n){return"effect"in n}(e)?this.usePill(e):e.use&&(e.use(),"food"==e.type&&(this.fed=!0))}autoUse(e){var i;if(this.autoUseUnlocked&&("potion"==e.type||"pill"==e.type||e.use)&&(this.autoUseItems.includes(e.name)||this.autoUseItems.push(e.name),e.useConsumes))for(let r=0;r<this.itemStacks.length;r++)if(null!=this.itemStacks[r]&&(null===(i=this.itemStacks[r])||void 0===i?void 0:i.item.name)==e.name&&e.useConsumes)for(;null!=this.itemStacks[r];){let o=this.itemStacks[r];null!=o&&this.useItemStack(o)}}unAutoUse(e){let i=this.autoUseItems.indexOf(e);this.autoUseItems.splice(i,1)}autoBalance(e){for(let i of this.autoBalanceItems)if(i.name==e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name==e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!Cr(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const s=this.characterService.characterState.equipment[o.slot];s&&this.addItem(s),this.characterService.characterState.equipment[o.slot]=o;let a=this.itemStacks.indexOf(e);this.itemStacks[a]=null}equipBest(e){var i,r,o,s,a,l,c,u;let h=0,d=!0;"leftHand"==e||"rightHand"==e?h=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(d=!1,h=(null===(s=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===s?void 0:s.defense)||0);for(let f=0;f<this.itemStacks.length;f++){let g=this.itemStacks[f];if(null!=g){let _=g.item;if(Cr(_)&&_.slot==e){let C=0;d&&_.weaponStats&&(null===(a=_.weaponStats)||void 0===a?void 0:a.durability)>0?C=null===(l=_.weaponStats)||void 0===l?void 0:l.baseDamage:!d&&_.armorStats&&(null===(c=_.armorStats)||void 0===c?void 0:c.durability)>0&&(C=null===(u=_.armorStats)||void 0===u?void 0:u.defense),C>h&&this.equip(g)}}}}consume(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&s.item.type==e&&i<s.item.value&&(i=s.item.value,r=o)}if(r>=0){let o=this.itemStacks[r];null!=o&&(o.quantity--,o.quantity<=0&&(this.itemStacks[r]=null))}return i}checkFor(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){let s=this.itemStacks[o];null!=s&&s.item.type==e&&i<s.item.value&&(i=s.item.value,r=o)}return i}usePotion(e){this.lifetimePotionsUsed++,this.characterService.characterState.attributes[e.attribute].value+=e.increase}usePill(e){this.lifetimePillsUsed++,"Longevity"==e.effect&&(this.characterService.characterState.alchemyLifespan+=e.power,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500))}openInventorySlots(){let e=0;for(const i of this.itemStacks)null==i&&e++;return e}mergeEquipment(e,i,r){var o,s;if(e.slot!=i.slot)return;let a=0;a=this.addItem("rightHand"==e.slot||"leftHand"==e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(e.value+i.value,(null===(s=e.armorStats)||void 0===s?void 0:s.material)+"",e.slot)),a!=r&&null==this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[a],this.itemStacks[a]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i,r,o,s;let a=-1,l=null,c=null,u=-1;for(let h=0;h<this.itemStacks.length;h++){let d=null===(i=this.itemStacks[h])||void 0===i?void 0:i.item;d&&Cr(d)&&d.slot==e&&(-1==a?(a=h,u=h,l=d):(c=d,l&&((this.selectedItem==this.itemStacks[a]||this.selectedItem==this.itemStacks[h])&&(this.selectedItem=null),this.itemStacks[a]=null,this.itemStacks[h]=null,this.mergeEquipment(l,c,a),d=null===(r=this.itemStacks[a])||void 0===r?void 0:r.item,d?Cr(d)&&d.slot==e&&(l=d):a=-1)))}if(null!=l&&this.autoequipBestWeapon&&this.autoequipBestArmor){if(c=this.characterService.characterState.equipment[e],null==c)return;l="rightHand"==e||"leftHand"==e?this.generateWeapon(c.value+l.value,(null===(o=c.weaponStats)||void 0===o?void 0:o.material)+""):this.generateArmor(c.value+l.value,(null===(s=c.weaponStats)||void 0===s?void 0:s.material)+"",e),this.characterService.characterState.equipment[e]=l,this.itemStacks[u]=null}}mergeSpiritGem(e){if(!(e.quantity<10)&&(e.quantity-=10,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0==e.quantity))for(let i=0;i<this.itemStacks.length;i++)if(this.itemStacks[i]==e)return void(this.itemStacks[i]=null)}mergeAnySpiritGem(){for(let e=0;e<this.itemStacks.length;e++){let i=this.itemStacks[e];if(null!=i&&"spiritGem"===i.item.type&&i.quantity>=10)return void this.mergeSpiritGem(i)}}}return n.\u0275fac=function(e){return new(e||n)(S(wn),S(je),S(Cn),S(zi),S(Un))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cr(n){return"slot"in n}function ow(n){return Array.isArray(n)?n:[n]}function at(n){return null==n?"":"string"==typeof n?n:`${n}px`}function uc(n){return n instanceof rt?n.nativeElement:n}const GN=["addListener","removeListener"],WN=["addEventListener","removeEventListener"],YN=["on","off"];function zf(n,t,e,i){if(ye(e)&&(i=e,e=void 0),i)return zf(n,t,e).pipe(vf(i));const[r,o]=function ZN(n){return ye(n.addEventListener)&&ye(n.removeEventListener)}(n)?WN.map(s=>a=>n[s](t,a,e)):function KN(n){return ye(n.addListener)&&ye(n.removeListener)}(n)?GN.map(sw(n,t)):function JN(n){return ye(n.on)&&ye(n.off)}(n)?YN.map(sw(n,t)):[];if(!r&&su(n))return lt(s=>zf(s,t,e))(Gt(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function sw(n,t){return e=>i=>n[e](t,i)}class XN extends yt{constructor(t,e){super()}schedule(t,e=0){return this}}const hc={setInterval(n,t,...e){const{delegate:i}=hc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=hc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Gf extends XN{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return hc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;hc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Sa(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const oa={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=oa;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new yt(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=oa;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=oa;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},aw={now:()=>(aw.delegate||Date).now(),delegate:void 0};class sa{constructor(t,e=sa.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}sa.now=aw.now;class Wf extends sa{constructor(t,e=sa.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class eB extends Wf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class QN extends Gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=oa.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(oa.cancelAnimationFrame(e),t._scheduled=void 0)}});let Yf,nB=1;const dc={};function lw(n){return n in dc&&(delete dc[n],!0)}const iB={setImmediate(n){const t=nB++;return dc[t]=!0,Yf||(Yf=Promise.resolve()),Yf.then(()=>lw(t)&&n()),t},clearImmediate(n){lw(n)}},{setImmediate:rB,clearImmediate:oB}=iB,fc={setImmediate(...n){const{delegate:t}=fc;return((null==t?void 0:t.setImmediate)||rB)(...n)},clearImmediate(n){const{delegate:t}=fc;return((null==t?void 0:t.clearImmediate)||oB)(n)},delegate:void 0},cw=(new class aB extends Wf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class sB extends Gf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=fc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(fc.clearImmediate(e),t._scheduled=void 0)}}),new Wf(Gf)),cB=cw;function uw(n,t=cw){return function uB(n){return tt((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ze(e,c=>{i=!0,r=c,o||Gt(n(c)).subscribe(o=ze(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function dB(n=0,t,e=cB){let i=-1;return null!=t&&(Im(t)?e=t:i=t),new Ue(r=>{let o=function hB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let Kf;try{Kf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Kf=!1}let aa,Dr,Zf,ki=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function AR(n){return n===A0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Kf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(S(Fd))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jf(n){return function fB(){if(null==aa&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>aa=!0}))}finally{aa=aa||!1}return aa}()?n:!!n.capture}function pB(){if(null==Dr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dr=!1,Dr;if("scrollBehavior"in document.documentElement.style)Dr=!0;else{const n=Element.prototype.scrollTo;Dr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Dr}function Xf(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Mr(n){return n.composedPath?n.composedPath()[0]:n.target}function Qf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const vB=new V("cdk-dir-doc",{providedIn:"root",factory:function yB(){return Ja(ue)}}),_B=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ep=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new xe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function SB(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?_B.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(S(vB,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),la=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})(),wB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Ee,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(uw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=uc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(S(De),S(ki),S(ue,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Ee,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(uw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(S(ki),S(De),S(ue,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})(),pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[la,fw],la,fw]}),n})();class tp{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class np extends tp{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class mw extends tp{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class DB extends tp{constructor(t){super(),this.element=t instanceof rt?t.nativeElement:t}}class ip{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof np?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof DB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class MB extends ip{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Oe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let gw=(()=>{class n extends ip{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new xe,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(ji),b(gn),b(ue))},n.\u0275dir=q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ge]}),n})(),vw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})();function yw(n){return tt((t,e)=>{Gt(n).subscribe(ze(e,()=>e.complete(),Qc)),!e.closed&&t.subscribe(e)})}const _w=pB();class EB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=at(-this._previousScrollPosition.left),t.style.top=at(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_w&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_w&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class kB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Sw{enable(){}disable(){}attach(){}}function rp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function bw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class TB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();rp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Sw,this.close=s=>new kB(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new EB(this._viewportRuler,this._document),this.reposition=s=>new TB(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(S(wB),S(dw),S(De),S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ww{constructor(t){if(this.scrollStrategy=new Sw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class AB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class IB{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ee,this._attachments=new Ee,this._detachments=new Ee,this._locationChanges=yt.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Ee,this._outsidePointerEvents=new Ee,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=at(this._config.width),t.height=at(this._config.height),t.minWidth=at(this._config.minWidth),t.minHeight=at(this._config.minHeight),t.maxWidth=at(this._config.maxWidth),t.maxHeight=at(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=ow(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(yw(Lm(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let op=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Qf()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Qf()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(S(ue),S(ki))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cw="cdk-overlay-connected-position-bounding-box",PB=/([A-Za-z%]+)$/;class OB{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ee,this._resizeSubscription=yt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Cw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Er(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Cw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Mw(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let d=0-a,f=a+o.height-i.height,g=this._subtractOverflows(o.width,0-s,s+o.width-i.width),_=this._subtractOverflows(o.height,d,f),C=g*_;return{visibleArea:C,isCompletelyWithinViewport:o.width*o.height===C,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:g==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Dw(this._overlayRef.getConfig().minHeight),a=Dw(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Mw(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,h=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new AB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,h,d;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-t.y+i.top,t.y),g=this._lastBoundingBoxSize.height;o=2*f,s=t.y-f,o>g&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-g/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)d=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,u=i.right-t.x;else{const f=Math.min(i.right-t.x+i.left,t.x),g=this._lastBoundingBoxSize.width;u=2*f,h=t.x-f,u>g&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-g/2)}return{top:s,left:h,bottom:a,right:d,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=at(i.height),r.top=at(i.top),r.bottom=at(i.bottom),r.width=at(i.width),r.left=at(i.left),r.right=at(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=at(o)),s&&(r.maxWidth=at(s))}this._lastBoundingBoxSize=i,Er(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Er(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Er(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Er(i,this._getExactOverlayY(e,t,u)),Er(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=at(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=at(s.maxWidth):o&&(i.maxWidth="")),Er(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=at(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=at(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bw(t,i),isOriginOutsideView:rp(t,i),isOverlayClipped:bw(e,i),isOverlayOutsideView:rp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ow(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof rt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Er(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Dw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(PB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Mw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ew="cdk-global-overlay-wrapper";class RB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ew),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Ew),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let FB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new RB}flexibleConnectedTo(e){return new OB(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(S(dw),S(ue),S(ki),S(op))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LB=(()=>{class n extends kw{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(S(ue),S(De,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NB=(()=>{class n extends kw{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Mr(o)},this._clickListener=o=>{const s=Mr(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(S(ue),S(ki),S(De,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BB=0,mc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=d}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new ww(e);return s.direction=s.direction||this._directionality.value,new IB(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+BB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Ns)),new MB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(S(xB),S(op),S(ji),S(FB),S(LB),S(Oe),S(De),S(ue),S(ep),S(Hs),S(NB))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const jB={provide:new V("cdk-connected-overlay-scroll-strategy"),deps:[mc],useFactory:function HB(n){return()=>n.scrollStrategies.reposition()}};let UB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({providers:[mc,jB],imports:[[la,vw,pw],pw]}),n})();function XB(n,t){return n===t}let Iw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function n2(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function t2(n){try{return n.frameElement}catch(t){return null}}(function h2(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Ow(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Ow(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function c2(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function u2(n){return!function o2(n){return function a2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function r2(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function s2(n){return function l2(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Pw(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(S(ki))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Ow(n){if(!Pw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class d2{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qn(1)).subscribe(t)}}let f2=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new d2(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(S(Iw),S(De),S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const g2=new V("cdk-input-modality-detector-options"),v2={ignoreKeys:[18,17,224,91,16]},Ho=Jf({passive:!0,capture:!0});let y2=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Sn(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Mr(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function p2(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(s)?"keyboard":"mouse"),this._mostRecentTarget=Mr(s))},this._onTouchstart=s=>{!function m2(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(s)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Mr(s)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},v2),o),this.modalityDetected=this._modality.pipe(function JB(n){return nn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function ZB(n,t=xi){return n=null!=n?n:XB,tt((e,i)=>{let r,o=!0;e.subscribe(ze(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Ho),r.addEventListener("mousedown",this._onMousedown,Ho),r.addEventListener("touchstart",this._onTouchstart,Ho)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ho),document.removeEventListener("mousedown",this._onMousedown,Ho),document.removeEventListener("touchstart",this._onTouchstart,Ho))}}return n.\u0275fac=function(e){return new(e||n)(S(ki),S(De),S(ue),S(g2,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const S2=new V("cdk-focus-monitor-default-options"),gc=Jf({passive:!0,capture:!0});let b2=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Ee,this._rootNodeFocusAndBlurListener=a=>{const l=Mr(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=uc(e);if(!this._platform.isBrowser||1!==r.nodeType)return G(null);const o=function gB(n){if(function mB(){if(null==Zf){const n="undefined"!=typeof document?document.head:null;Zf=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Zf}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Ee,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=uc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=uc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Mr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,gc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,gc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(yw(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,gc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,gc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(S(De),S(ki),S(y2),S(ue,8),S(S2,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fw="cdk-high-contrast-black-on-white",Lw="cdk-high-contrast-white-on-black",sp="cdk-high-contrast-active";let w2=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(sp),e.remove(Fw),e.remove(Lw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(sp),e.add(Fw)):2===i&&(e.add(sp),e.add(Lw))}}}return n.\u0275fac=function(e){return new(e||n)(S(ki),S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const D2=new V("mat-sanity-checks",{providedIn:"root",factory:function C2(){return!0}});let vc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Qf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(S(w2),S(D2,8),S(ue))},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[la],la]}),n})();function M2(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}class jw{}const Ti="*";function P2(n,t){return{type:7,name:n,definitions:t,options:{}}}function Uw(n,t=null){return{type:4,styles:t,timings:n}}function qw(n,t=null){return{type:3,steps:n,options:t}}function $w(n,t=null){return{type:2,steps:n,options:t}}function jo(n){return{type:6,styles:n,offset:null}}function zw(n,t,e){return{type:0,name:n,styles:t,options:e}}function Gw(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ww(n=null){return{type:9,options:n}}function Yw(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Kw(n){Promise.resolve(null).then(n)}class ua{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Kw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Jw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Kw(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const de=!1;function Zw(n){return new N(3e3,de)}function dV(){return"undefined"!=typeof window&&void 0!==window.document}function cp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gi(n){switch(n.length){case 0:return new ua;case 1:return n[0];default:return new Jw(n)}}function Xw(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,d=h==l,f=d&&c||{};Object.keys(u).forEach(g=>{let _=g,C=u[g];if("offset"!==g)switch(_=t.normalizePropertyName(_,s),C){case"!":C=r[g];break;case Ti:C=o[g];break;default:C=t.normalizeStyleValue(g,_,C,s)}f[_]=C}),d||a.push(f),c=f,l=h}),s.length)throw function tV(n){return new N(3502,de)}();return a}function up(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&hp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&hp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&hp(e,"destroy",n)))}}function hp(n,t,e){const i=e.totalTime,o=dp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function dp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function on(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Qw(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let fp=(n,t)=>!1,eC=(n,t,e)=>[],tC=null;function pp(n){const t=n.parentNode||n.host;return t===tC?null:t}(cp()||"undefined"!=typeof Element)&&(dV()?(tC=(()=>document.documentElement)(),fp=(n,t)=>{for(;t;){if(t===n)return!0;t=pp(t)}return!1}):fp=(n,t)=>n.contains(t),eC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let kr=null,nC=!1;function iC(n){kr||(kr=function pV(){return"undefined"!=typeof document?document.body:null}()||{},nC=!!kr.style&&"WebkitAppearance"in kr.style);let t=!0;return kr.style&&!function fV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in kr.style,!t&&nC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in kr.style)),t}const rC=fp,oC=eC;let sC=(()=>{class n{validateStyleProperty(e){return iC(e)}matchesElement(e,i){return!1}containsElement(e,i){return rC(e,i)}getParentElement(e){return pp(e)}query(e,i,r){return oC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new ua(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),mp=(()=>{class n{}return n.NOOP=new sC,n})();const gp="ng-enter",_c="ng-leave",Sc="ng-trigger",bc=".ng-trigger",lC="ng-animating",vp=".ng-animating";function Tr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yp(parseFloat(t[1]),t[2])}function yp(n,t){return"s"===t?1e3*n:n}function wc(n,t,e){return n.hasOwnProperty("duration")?n:function vV(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Zw()),{duration:0,delay:0,easing:""};r=yp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=yp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function O2(){return new N(3100,de)}()),a=!0),o<0&&(t.push(function R2(){return new N(3101,de)}()),a=!0),a&&t.splice(l,0,Zw())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Uo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Wi(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Uo(n,e);return e}function uC(n,t,e){return e?t+":"+e+";":""}function hC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=uC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=uC(0,SV(e),n.style[e]));n.setAttribute("style",t)}function si(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Sp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),cp()&&hC(n))}function xr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Sp(e);n.style[i]=""}),cp()&&hC(n))}function ha(n){return Array.isArray(n)?1==n.length?n[0]:$w(n):n}const _p=new RegExp("{{\\s*(.+?)\\s*}}","g");function dC(n){let t=[];if("string"==typeof n){let e;for(;e=_p.exec(n);)t.push(e[1]);_p.lastIndex=0}return t}function Cc(n,t,e){const i=n.toString(),r=i.replace(_p,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function L2(n){return new N(3003,de)}()),a=""),a.toString()});return r==i?n:r}function Dc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const _V=/-+([a-z0-9])/g;function Sp(n){return n.replace(_V,(...t)=>t[1].toUpperCase())}function SV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function sn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function N2(n){return new N(3004,de)}()}}function fC(n,t){return window.getComputedStyle(n)[t]}function EV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function kV(n,t,e){if(":"==n[0]){const l=function TV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Z2(n){return new N(3016,de)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function J2(n){return new N(3015,de)}()),t;const r=i[1],o=i[2],s=i[3];t.push(pC(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(pC(s,r))}(i,e,t)):e.push(n),e}const Tc=new Set(["true","1"]),xc=new Set(["false","0"]);function pC(n,t){const e=Tc.has(n)||xc.has(n),i=Tc.has(t)||xc.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Tc.has(n):xc.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Tc.has(t):xc.has(t)),s&&a}}const xV=new RegExp("s*:selfs*,?","g");function bp(n,t,e,i){return new AV(n).build(t,e,i)}class AV{constructor(t){this._driver=t}build(t,e,i){const r=new OV(e);this._resetContextStyleTimingState(r);const o=sn(this,ha(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function V2(){return new N(3006,de)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function H2(){return new N(3007,de)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Ac(a)){const l=a;Object.keys(l).forEach(c=>{dC(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Dc(o.values()),e.errors.push(function j2(n,t){return new N(3008,de)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=sn(this,ha(t.animation),e);return{type:1,matchers:EV(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ar(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>sn(this,i,e)),options:Ar(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=sn(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Ar(t.options)}}visitAnimate(t,e){const i=function FV(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wp(wc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=wc(e,t);return wp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:jo({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=jo(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Ti?i.push(s):e.errors.push(function U2(n){return new N(3002,de)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Ac(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function q2(n,t,e,i,r){return new N(3010,de)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function yV(n,t,e){const i=t.params||{},r=dC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function F2(n){return new N(3001,de)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function $2(){return new N(3011,de)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(M=>{const w=this._makeStyleAst(M,e);let I=null!=w.offset?w.offset:function RV(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Ac(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ac(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(w.styles),O=0;return null!=I&&(o++,O=w.offset=I),l=l||O<0||O>1,a=a||O<c,c=O,s.push(O),w});l&&e.errors.push(function z2(){return new N(3012,de)}()),a&&e.errors.push(function G2(){return new N(3200,de)}());const h=t.steps.length;let d=0;o>0&&o<h?e.errors.push(function W2(){return new N(3202,de)}()):0==o&&(d=1/(h-1));const f=h-1,g=e.currentTime,_=e.currentAnimateTimings,C=_.duration;return u.forEach((M,w)=>{const I=d>0?w==f?1:d*w:s[w],O=I*C;e.currentTime=g+_.delay+O,_.duration=O,this._validateStyleAst(M,e),M.offset=I,i.styles.push(M)}),i}visitReference(t,e){return{type:8,animation:sn(this,ha(t.animation),e),options:Ar(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ar(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ar(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function IV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(xV,"")),n=n.replace(/@\*/g,bc).replace(/@\w+/g,e=>bc+"-"+e.substr(1)).replace(/:animating/g,vp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,on(e.collectedStyles,e.currentQuerySelector,{});const a=sn(this,ha(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Ar(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Y2(){return new N(3013,de)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:wc(t.timings,e.errors,!0);return{type:12,animation:sn(this,ha(t.animation),e),timings:i,options:null}}}class OV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ac(n){return!Array.isArray(n)&&"object"==typeof n}function Ar(n){return n?(n=Uo(n)).params&&(n.params=function PV(n){return n?Uo(n):null}(n.params)):n={},n}function wp(n,t,e){return{duration:n,delay:t,easing:e}}function Cp(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Ic{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const BV=new RegExp(":enter","g"),HV=new RegExp(":leave","g");function Dp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new jV).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class jV{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Ic;const h=new Mp(t,e,c,r,o,u,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),sn(this,i,h);const d=h.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let g=d.length-1;g>=0;g--){const _=d[g];if(_.element===e){f=_;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,h.errors,l)}return d.length?d.map(f=>f.buildKeyframes()):[Cp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Tr(i.duration):null,a=null!=i.delay?Tr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),sn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Pc);const s=Tr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>sn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Tr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),sn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return wc(e.params?Cc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Tr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Pc);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),sn(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;sn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const Pc={};class Mp{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Pc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Oc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Tr(i.duration)),null!=i.delay&&(r.delay=Tr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Cc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Mp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Pc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new UV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(BV,"."+this._enterClassName)).replace(HV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function K2(n){return new N(3014,de)}()),a}}class Oc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Oc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ti,this._currentKeyframe[e]=Ti}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function qV(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Ti})):Wi(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Cc(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Ti),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Wi(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?t.add(u):h==Ti&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Dc(t.values()):[],s=e.size?Dc(e.values()):[];if(i){const a=r[0],l=Uo(a);a.offset=0,l.offset=1,r=[a,l]}return Cp(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class UV extends Oc{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Wi(t[0],!1);l.offset=0,o.push(l);const c=Wi(t[0],!1);c.offset=vC(a),o.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let d=Wi(t[h],!1);d.offset=vC((e+d.offset*i)/s),o.push(d)}i=s,e=0,r="",t=o}return Cp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function vC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ep{}class $V extends Ep{normalizePropertyName(t,e){return Sp(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(zV[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function B2(n,t){return new N(3005,de)}())}return s+o}}const zV=(()=>function GV(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function yC(n,t,e,i,r,o,s,a,l,c,u,h,d){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const kp={};class _C{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function WV(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const h=[],d=this.ast.options&&this.ast.options.params||kp,g=this.buildStyles(i,a&&a.params||kp,h),_=l&&l.params||kp,C=this.buildStyles(r,_,h),M=new Set,w=new Map,I=new Map,O="void"===r,j={params:Object.assign(Object.assign({},d),_)},_e=u?[]:Dp(t,e,this.ast.animation,o,s,g,C,j,c,h);let we=0;if(_e.forEach(Qe=>{we=Math.max(Qe.duration+Qe.delay,we)}),h.length)return yC(e,this._triggerName,i,r,O,g,C,[],[],w,I,we,h);_e.forEach(Qe=>{const et=Qe.element,zt=on(w,et,{});Qe.preStyleProps.forEach(pt=>zt[pt]=!0);const Dt=on(I,et,{});Qe.postStyleProps.forEach(pt=>Dt[pt]=!0),et!==e&&M.add(et)});const Xe=Dc(M.values());return yC(e,this._triggerName,i,r,O,g,C,_e,Xe,w,I,we)}}class YV{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Uo(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Cc(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class JV{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new YV(r.style,r.options&&r.options.params||{},i)}),SC(this.states,"true","1"),SC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new _C(t,r,this.states))}),this.fallbackTransition=function ZV(n,t,e){return new _C(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function SC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const XV=new Ic;class QV{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=bp(this._driver,e,i,[]);if(i.length)throw function nV(n){return new N(3503,de)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Xw(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Dp(this._driver,e,o,gp,_c,{},{},i,XV,r),s.forEach(u=>{const h=on(a,u.element,{});u.postStyleProps.forEach(d=>h[d]=null)})):(r.push(function iV(){return new N(3300,de)}()),s=[]),r.length)throw function rV(n){return new N(3504,de)}();a.forEach((u,h)=>{Object.keys(u).forEach(d=>{u[d]=this._driver.computeStyle(h,d,Ti)})});const c=Gi(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function oV(n){return new N(3301,de)}();return e}listen(t,e,i,r){const o=dp(e,"","","");return up(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const bC="ng-animate-queued",Tp="ng-animate-disabled",rH=[],wC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mn="__ng_removed";class xp{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function cH(n){return null!=n?n:null}(i?t.value:t),i){const o=Uo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const da="void",Ap=new xp(da);class sH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,En(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function sV(n,t){return new N(3302,de)}();if(null==i||0==i.length)throw function aV(n){return new N(3303,de)}();if(!function uH(n){return"start"==n||"done"==n}(i))throw function lV(n,t){return new N(3400,de)}();const o=on(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=on(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(En(t,Sc),En(t,Sc+"-"+e),a[e]=Ap),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function cV(n){return new N(3401,de)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new Ip(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(En(t,Sc),En(t,Sc+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new xp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=Ap),c.value!==da&&l.value===c.value){if(!function fH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const _=[],C=o.matchStyles(l.value,l.params,_),M=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{xr(t,C),si(t,M)})}return}const d=on(this._engine.playersByElement,t,[]);d.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let f=o.matchTransition(l.value,c.value,t,c.params),g=!1;if(!f){if(!r)return;f=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:g}),g||(En(t,bC),s.onStart(()=>{qo(t,bC)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const C=this._engine.playersByElement.get(t);if(C){let M=C.indexOf(s);M>=0&&C.splice(M,1)}}),this.players.push(s),d.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bc,!0);i.forEach(r=>{if(r[Mn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,da,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Gi(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||Ap,u=new xp(da),h=new Ip(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Mn];(!o||o===wC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){En(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=dp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,up(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class aH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new sH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Rc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rc(e))return;const o=e[Mn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),En(t,Tp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),qo(t,Tp))}removeNode(t,e,i,r){if(Rc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Mn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Rc(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,bc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,vp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Gi(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Mn];if(i&&i.setForRemoval){if(t[Mn]=wC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Tp))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)En(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Gi(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function uV(n){return new N(3402,de)}()}_flushAnimations(t,e){const i=new Ic,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(B=>{u.add(B);const U=this.driver.query(B,".ng-animate-queued",!0);for(let J=0;J<U.length;J++)u.add(U[J])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=MC(d,this.collectedEnterElements),g=new Map;let _=0;f.forEach((B,U)=>{const J=gp+_++;g.set(U,J),B.forEach(ve=>En(ve,J))});const C=[],M=new Set,w=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const U=this.collectedLeaveElements[B],J=U[Mn];J&&J.setForRemoval&&(C.push(U),M.add(U),J.hasAnimation?this.driver.query(U,".ng-star-inserted",!0).forEach(ve=>M.add(ve)):w.add(U))}const I=new Map,O=MC(d,Array.from(M));O.forEach((B,U)=>{const J=_c+_++;I.set(U,J),B.forEach(ve=>En(ve,J))}),t.push(()=>{f.forEach((B,U)=>{const J=g.get(U);B.forEach(ve=>qo(ve,J))}),O.forEach((B,U)=>{const J=I.get(U);B.forEach(ve=>qo(ve,J))}),C.forEach(B=>{this.processLeaveNode(B)})});const j=[],_e=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(e).forEach(J=>{const ve=J.player,vt=J.element;if(j.push(ve),this.collectedEnterElements.length){const Vt=vt[Mn];if(Vt&&Vt.setForMove){if(Vt.previousTriggersValues&&Vt.previousTriggersValues.has(J.triggerName)){const Rr=Vt.previousTriggersValues.get(J.triggerName),er=this.statesByElement.get(J.element);er&&er[J.triggerName]&&(er[J.triggerName].value=Rr)}return void ve.destroy()}}const ci=!h||!this.driver.containsElement(h,vt),ln=I.get(vt),Qi=g.get(vt),$e=this._buildInstruction(J,i,Qi,ln,ci);if($e.errors&&$e.errors.length)return void _e.push($e);if(ci)return ve.onStart(()=>xr(vt,$e.fromStyles)),ve.onDestroy(()=>si(vt,$e.toStyles)),void r.push(ve);if(J.isFallbackTransition)return ve.onStart(()=>xr(vt,$e.fromStyles)),ve.onDestroy(()=>si(vt,$e.toStyles)),void r.push(ve);const gM=[];$e.timelines.forEach(Vt=>{Vt.stretchStartingKeyframe=!0,this.disabledNodes.has(Vt.element)||gM.push(Vt)}),$e.timelines=gM,i.append(vt,$e.timelines),s.push({instruction:$e,player:ve,element:vt}),$e.queriedElements.forEach(Vt=>on(a,Vt,[]).push(ve)),$e.preStyleProps.forEach((Vt,Rr)=>{const er=Object.keys(Vt);if(er.length){let Fr=l.get(Rr);Fr||l.set(Rr,Fr=new Set),er.forEach(lm=>Fr.add(lm))}}),$e.postStyleProps.forEach((Vt,Rr)=>{const er=Object.keys(Vt);let Fr=c.get(Rr);Fr||c.set(Rr,Fr=new Set),er.forEach(lm=>Fr.add(lm))})});if(_e.length){const B=[];_e.forEach(U=>{B.push(function hV(n,t){return new N(3505,de)}())}),j.forEach(U=>U.destroy()),this.reportError(B)}const we=new Map,Xe=new Map;s.forEach(B=>{const U=B.element;i.has(U)&&(Xe.set(U,U),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,we))}),r.forEach(B=>{const U=B.element;this._getPreviousPlayers(U,!1,B.namespaceId,B.triggerName,null).forEach(ve=>{on(we,U,[]).push(ve),ve.destroy()})});const Qe=C.filter(B=>kC(B,l,c)),et=new Map;DC(et,this.driver,w,c,Ti).forEach(B=>{kC(B,l,c)&&Qe.push(B)});const Dt=new Map;f.forEach((B,U)=>{DC(Dt,this.driver,new Set(B),l,"!")}),Qe.forEach(B=>{const U=et.get(B),J=Dt.get(B);et.set(B,Object.assign(Object.assign({},U),J))});const pt=[],Wo=[],Yo={};s.forEach(B=>{const{element:U,player:J,instruction:ve}=B;if(i.has(U)){if(u.has(U))return J.onDestroy(()=>si(U,ve.toStyles)),J.disabled=!0,J.overrideTotalTime(ve.totalTime),void r.push(J);let vt=Yo;if(Xe.size>1){let ln=U;const Qi=[];for(;ln=ln.parentNode;){const $e=Xe.get(ln);if($e){vt=$e;break}Qi.push(ln)}Qi.forEach($e=>Xe.set($e,vt))}const ci=this._buildAnimation(J.namespaceId,ve,we,o,Dt,et);if(J.setRealPlayer(ci),vt===Yo)pt.push(J);else{const ln=this.playersByElement.get(vt);ln&&ln.length&&(J.parentPlayer=Gi(ln)),r.push(J)}}else xr(U,ve.fromStyles),J.onDestroy(()=>si(U,ve.toStyles)),Wo.push(J),u.has(U)&&r.push(J)}),Wo.forEach(B=>{const U=o.get(B.element);if(U&&U.length){const J=Gi(U);B.setRealPlayer(J)}}),r.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<C.length;B++){const U=C[B],J=U[Mn];if(qo(U,_c),J&&J.hasAnimation)continue;let ve=[];if(a.size){let ci=a.get(U);ci&&ci.length&&ve.push(...ci);let ln=this.driver.query(U,vp,!0);for(let Qi=0;Qi<ln.length;Qi++){let $e=a.get(ln[Qi]);$e&&$e.length&&ve.push(...$e)}}const vt=ve.filter(ci=>!ci.destroyed);vt.length?hH(this,U,vt):this.processLeaveNode(U)}return C.length=0,pt.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const U=this.players.indexOf(B);this.players.splice(U,1)}),B.play()}),pt}elementContainsData(t,e){let i=!1;const r=e[Mn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==da;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,h=on(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(f=>{const g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),h.push(f)})}xr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,d=e.timelines.map(g=>{const _=g.element;u.add(_);const C=_[Mn];if(C&&C.removedBeforeQueried)return new ua(g.duration,g.delay);const M=_!==l,w=function dH(n){const t=[];return EC(n,t),t}((i.get(_)||rH).map(we=>we.getRealPlayer())).filter(we=>!!we.element&&we.element===_),I=o.get(_),O=s.get(_),j=Xw(0,this._normalizer,0,g.keyframes,I,O),_e=this._buildPlayer(g,j,w);if(g.subTimeline&&r&&h.add(_),M){const we=new Ip(t,a,_);we.setRealPlayer(_e),c.push(we)}return _e});c.forEach(g=>{on(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>function lH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>En(g,lC));const f=Gi(d);return f.onDestroy(()=>{u.forEach(g=>qo(g,lC)),si(l,e.toStyles)}),h.forEach(g=>{on(r,g,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ua(t.duration,t.delay)}}class Ip{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ua,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>up(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){on(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rc(n){return n&&1===n.nodeType}function CC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function DC(n,t,e,i,r){const o=[];e.forEach(l=>o.push(CC(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const d=u[h]=t.computeStyle(c,h,r);(!d||0==d.length)&&(c[Mn]=oH,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>CC(l,o[a++])),s}function MC(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function En(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function qo(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function hH(n,t,e){Gi(e).onDone(()=>n.processLeaveNode(t))}function EC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Jw?EC(i.players,t):t.push(i)}}function kC(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Fc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new aH(t,e,i),this._timelineEngine=new QV(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=bp(this._driver,o,l,[]);if(l.length)throw function eV(n,t){return new N(3404,de)}();a=function KV(n,t,e){return new JV(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=Qw(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=Qw(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mH=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&si(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(si(this._element,this._initialStyles),this._endStyles&&(si(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(xr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xr(this._element,this._endStyles),this._endStyles=null),si(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Pp(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];gH(r)&&(t=t||{},t[r]=n[r])}return t}function gH(n){return"display"===n||"position"===n}class TC{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:fC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vH{validateStyleProperty(t){return iC(t)}matchesElement(t,e){return!1}containsElement(t,e){return rC(t,e)}getParentElement(t){return pp(t)}query(t,e,i){return oC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(d=>d instanceof TC);(function bV(n,t){return 0===n||0===t})(i,r)&&u.forEach(d=>{let f=d.currentSnapshot;Object.keys(f).forEach(g=>c[g]=f[g])}),e=function wV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=fC(n,l)})}}return t}(t,e=e.map(d=>Wi(d,!1)),c);const h=function pH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Pp(t[0]),t.length>1&&(i=Pp(t[t.length-1]))):t&&(e=Pp(t)),e||i?new mH(n,e,i):null}(t,e);return new TC(t,e,l,h)}}let yH=(()=>{class n extends jw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Tn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?$w(e):e;return xC(this._renderer,null,i,"register",[r]),new _H(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(S(Is),S(ue))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class _H extends class I2{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new SH(this._id,t,e||{},this._renderer)}}class SH{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return xC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function xC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const AC="@.disabled";let bH=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new IC("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new wH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(S(Is),S(Fc),S(De))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class IC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==AC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class wH extends IC{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==AC?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function CH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function DH(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let MH=(()=>{class n extends Fc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(S(ue),S(mp),S(Ep))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Op=new V("AnimationModuleType"),PC=[{provide:jw,useClass:yH},{provide:Ep,useFactory:function EH(){return new $V}},{provide:Fc,useClass:MH},{provide:Is,useFactory:function kH(n,t,e){return new bH(n,t,e)},deps:[Wl,Fc,De]}],OC=[{provide:mp,useFactory:()=>new vH},{provide:Op,useValue:"BrowserAnimations"},...PC],TH=[{provide:mp,useClass:sC},{provide:Op,useValue:"NoopAnimations"},...PC];let xH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?TH:OC}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({providers:OC,imports:[U0]}),n})();function AH(n,t){}class Rp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const IH={dialogContainer:P2("dialogContainer",[zw("void, exit",jo({opacity:0,transform:"scale(0.7)"})),zw("enter",jo({transform:"none"})),Gw("* => enter",qw([Uw("150ms cubic-bezier(0, 0, 0.2, 1)",jo({transform:"none",opacity:1})),Yw("@*",Ww(),{optional:!0})])),Gw("* => void, * => exit",qw([Uw("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",jo({opacity:0})),Yw("@*",Ww(),{optional:!0})]))])};let PH=(()=>{class n extends ip{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new xe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Xf())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Xf(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Xf();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(b(rt),b(f2),b(Bs),b(ue,8),b(Rp),b(Iw),b(De),b(b2))},n.\u0275dir=q({type:n,viewQuery:function(e,i){if(1&e&&_S(gw,7),2&e){let r;Dl(r=function Ml(){return function cP(n,t){return n[19].queries[t].queryList}(k(),og())}())&&(i._portalOutlet=r.first)}},features:[ge]}),n})(),OH=(()=>{class n extends PH{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275cmp=Ie({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&ed("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(sd("id",i._id),mn("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ad("@dialogContainer",i._state))},features:[ge],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&x(0,AH,0,0,"ng-template",0)},directives:[gw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[IH.dialogContainer]}}),n})(),RH=0;class FH{constructor(t,e,i="mat-dialog-"+RH++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ee,this._afterClosed=new Ee,this._beforeClosed=new Ee,this._state=0,e._id=i,e._animationStateChanged.pipe(nn(r=>"opened"===r.state),qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(nn(r=>"closed"===r.state),qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(nn(r=>27===r.keyCode&&!this.disableClose&&!function KB(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),RC(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():RC(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(nn(e=>"closing"===e.state),qn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function RC(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const LH=new V("MatDialogData"),NH=new V("mat-dialog-default-options"),FC=new V("mat-dialog-scroll-strategy"),VH={provide:FC,deps:[mc],useFactory:function BH(n){return()=>n.scrollStrategies.block()}};let HH=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ee,this._afterOpenedAtThisLevel=new Ee,this._ariaHiddenElements=new Map,this.afterAllClosed=_f(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(J0(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function jH(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Rp),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new ww({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Oe.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Rp,useValue:i}]}),s=new np(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof ti)i.attachTemplatePortal(new mw(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new np(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(ep,null,X.Optional))&&s.push({provide:ep,useValue:{value:e.direction,change:G()}}),Oe.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){pl()},n.\u0275dir=q({type:n}),n})(),Nc=(()=>{class n extends HH{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,FH,OH,LH,c)}}return n.\u0275fac=function(e){return new(e||n)(S(mc),S(Oe),S(Hs,8),S(NH,8),S(FC),S(n,12),S(op),S(Op,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),LC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({providers:[Nc,VH],imports:[[UB,vw,vc],vc]}),n})(),$o=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.dialog=a,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(let e in this.itemRepoService.furniture){let i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&(this.furniture.push(i),this.furniturePrices[i.name]=this.homeService.ownedFurniture.includes(i.name)?0:i.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"==this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}buyFurniture(){if(this.selectedItem){if(!function qN(n){return"slot"in n}(this.selectedItem))return;let e=this.selectedItem.slot;(this.selectedItem.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(this.selectedItem.name))&&(this.homeService.ownedFurniture.includes(this.selectedItem.name)||(this.characterService.characterState.money-=this.selectedItem.value,this.homeService.ownedFurniture.push(this.selectedItem.name),this.furniturePrices[this.selectedItem.name]=0),this.homeService.furniture[e]=this.selectedItem,this.homeService.autoBuyFurniture[e]=this.selectedItem)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0==this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Mansion]):1==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Palace]):2==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Castle]):3==this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Fortress]):4==this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Le.Mountain])}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=4?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(S(wn),S(je),S(ee),S(Un),S(ft),S(Nc))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NC=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,f){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=s,this.itemRepoService=a,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=h,this.followerService=d,this.impossibleTaskService=f,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persitent Reincarnator",description:"You lived 88 lives and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=88&&this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(P.Woodworking),effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0==this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Le.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!=this.homeService.furniture.bathtub&&null!=this.homeService.furniture.bed&&null!=this.homeService.furniture.kitchen&&null!=this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>{var g,_,C,M,w,I,O,j;return!!((null===(_=null===(g=this.characterService.characterState.equipment)||void 0===g?void 0:g.rightHand)||void 0===_?void 0:_.weaponStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.rightHand)||void 0===M?void 0:M.weaponStats.baseDamage)>=131&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.leftHand)||void 0===I?void 0:I.weaponStats)&&(null===(j=null===(O=this.characterService.characterState.equipment)||void 0===O?void 0:O.leftHand)||void 0===j?void 0:j.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>{var g,_,C,M,w,I,O,j,_e,we,Xe,Qe,et,zt,Dt,pt;return!!((null===(_=null===(g=this.characterService.characterState.equipment)||void 0===g?void 0:g.head)||void 0===_?void 0:_.armorStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.head)||void 0===M?void 0:M.armorStats.defense)>=131&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.body)||void 0===I?void 0:I.armorStats)&&(null===(j=null===(O=this.characterService.characterState.equipment)||void 0===O?void 0:O.body)||void 0===j?void 0:j.armorStats.defense)>=131&&(null===(we=null===(_e=this.characterService.characterState.equipment)||void 0===_e?void 0:_e.legs)||void 0===we?void 0:we.armorStats)&&(null===(Qe=null===(Xe=this.characterService.characterState.equipment)||void 0===Xe?void 0:Xe.legs)||void 0===Qe?void 0:Qe.armorStats.defense)>=131&&(null===(zt=null===(et=this.characterService.characterState.equipment)||void 0===et?void 0:et.feet)||void 0===zt?void 0:zt.armorStats)&&(null===(pt=null===(Dt=this.characterService.characterState.equipment)||void 0===Dt?void 0:Dt.feet)||void 0===pt?void 0:pt.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",description:"You achieved a deep understanding of metal ore and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>{var g,_,C,M,w,I,O,j;return!!((null===(_=null===(g=this.characterService.characterState.equipment)||void 0===g?void 0:g.rightHand)||void 0===_?void 0:_.weaponStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.rightHand)||void 0===M?void 0:M.weaponStats.baseDamage)>=8888&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.leftHand)||void 0===I?void 0:I.weaponStats)&&(null===(j=null===(O=this.characterService.characterState.equipment)||void 0===O?void 0:O.leftHand)||void 0===j?void 0:j.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>{var g,_,C,M,w,I,O,j,_e,we,Xe,Qe,et,zt,Dt,pt;return!!((null===(_=null===(g=this.characterService.characterState.equipment)||void 0===g?void 0:g.head)||void 0===_?void 0:_.armorStats)&&(null===(M=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.head)||void 0===M?void 0:M.armorStats.defense)>=8888&&(null===(I=null===(w=this.characterService.characterState.equipment)||void 0===w?void 0:w.body)||void 0===I?void 0:I.armorStats)&&(null===(j=null===(O=this.characterService.characterState.equipment)||void 0===O?void 0:O.body)||void 0===j?void 0:j.armorStats.defense)>=8888&&(null===(we=null===(_e=this.characterService.characterState.equipment)||void 0===_e?void 0:_e.legs)||void 0===we?void 0:we.armorStats)&&(null===(Qe=null===(Xe=this.characterService.characterState.equipment)||void 0===Xe?void 0:Xe.legs)||void 0===Qe?void 0:Qe.armorStats.defense)>=8888&&(null===(zt=null===(et=this.characterService.characterState.equipment)||void 0===et?void 0:et.feet)||void 0===zt?void 0:zt.armorStats)&&(null===(pt=null===(Dt=this.characterService.characterState.equipment)||void 0===Dt?void 0:Dt.feet)||void 0===pt?void 0:pt.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{let g=.9*this.characterService.characterState.attributes.metalLore.value,_=1.1*this.characterService.characterState.attributes.metalLore.value;return g>1e3&&this.characterService.characterState.attributes.fireLore.value>=g&&this.characterService.characterState.attributes.fireLore.value<=_&&this.characterService.characterState.attributes.earthLore.value>=g&&this.characterService.characterState.attributes.earthLore.value<=_&&this.characterService.characterState.attributes.woodLore.value>=g&&this.characterService.characterState.attributes.woodLore.value<=_&&this.characterService.characterState.attributes.waterLore.value>=g&&this.characterService.characterState.attributes.waterLore.value<=_},effect:()=>{this.characterService.characterState.manaUnlocked=!0},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can achieve this. It can't be done.",check:()=>this.characterService.soulCoreRank()>=4&&this.characterService.meridianRank()>=4&&this.characterService.characterState.bloodlineRank>=4,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let g=.9*this.characterService.characterState.attributes.strength.value,_=1.1*this.characterService.characterState.attributes.strength.value;return this.characterService.characterState.manaUnlocked&&g>1e6&&this.characterService.characterState.attributes.speed.value>=g&&this.characterService.characterState.attributes.speed.value<=_&&this.characterService.characterState.attributes.toughness.value>=g&&this.characterService.characterState.attributes.toughness.value<=_&&this.characterService.characterState.attributes.charisma.value>=g&&this.characterService.characterState.attributes.charisma.value<=_&&this.characterService.characterState.attributes.intelligence.value>=g&&this.characterService.characterState.attributes.intelligence.value<=_},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{let g=.9*this.characterService.characterState.attributes.strength.value,_=1.1*this.characterService.characterState.attributes.strength.value;return this.characterService.characterState.manaUnlocked&&g>1e6&&this.characterService.characterState.attributes.spirituality.value>=g&&this.characterService.characterState.attributes.spirituality.value<=_&&this.characterService.characterState.attributes.speed.value>=g&&this.characterService.characterState.attributes.speed.value<=_&&this.characterService.characterState.attributes.toughness.value>=g&&this.characterService.characterState.attributes.toughness.value<=_&&this.characterService.characterState.attributes.charisma.value>=g&&this.characterService.characterState.attributes.charisma.value<=_&&this.characterService.characterState.attributes.intelligence.value>=g&&this.characterService.characterState.attributes.intelligence.value<=_},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(let g of this.achievements)this.unlockedAchievements.includes(g.name)||g.check()&&this.unlockAchievement(g,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(ai)),this.gameStateService.savetoLocalStorage()),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(let i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(S(Cn),S(Oe),S(wn),S(je),S(ee),S(Un),S($o),S(Ei),S(ft),S(Dn),S(wr),S(Bo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fp="immortalityIdleGameState";let ai=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,d,f){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.mainLoopService=h,this.achievementService=d,this.impossibleTaskService=f,this.lastSaved=0,this.isDarkMode=!1,window.GameStateService=this,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){window.localStorage.setItem(Fp,this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(){const e=window.localStorage.getItem(Fp);!e||this.importGame(e)}importGame(e){let i;i="iig"==e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(i);this.achievementService.setProperties(r.achievements),this.impossibleTaskService.setProperties(r.impossibleTasks),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(null==o)continue;const s=this.itemRepoService.getItemById(o.item.id);s&&(o.item=s)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.mainLoopService.setProperties(r.mainLoop),this.isDarkMode=r.darkMode||!1}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode};let i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(Fp),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(let i in this.itemRepoService.items){let r=this.itemRepoService.items[i];"manual"==r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){let r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}}return n.\u0275fac=function(e){return new(e||n)(S(je),S(ft),S(ee),S(wn),S(zi),S(Dn),S(Un),S(Ei),S(wr),S(Cn),S(NC),S(Bo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UH=function(n,t){return{selectedItem:n,ownedItem:t}};function qH(n,t){if(1&n){const e=ie();m(0,"div")(1,"table",4),T("click",function(){const o=H(e).$implicit;return E().slotClicked(o)}),m(2,"tr")(3,"mat-icon"),v(4,"menu_book"),p()(),m(5,"tr"),v(6),Y(7,"titlecase"),p()(),m(8,"div",5)(9,"span"),v(10),Y(11,"bigNumber"),p()()()}if(2&n){const e=t.$implicit,i=E();y(1),Re("tooltip",e.description),D("ngClass",vd(8,UH,e===i.storeService.selectedItem,e.owned&&e.owned())),y(5),Ve(me(7,4,e.name)),y(4),Ve(me(11,6,e.value))}}let BC=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b($o),b(je),b(ft),b(ee),b(Un),b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"span"),v(2,"Manuals Shop"),p(),W(3,"hr"),m(4,"div",1),x(5,qH,12,11,"div",2),p(),m(6,"button",3),T("click",function(){return i.storeService.buyManual()}),v(7," Buy "),p()()),2&e&&(y(5),D("ngForOf",i.storeService.manuals),y(1),D("disabled",i.buyDisabled))},styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor)}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();let HC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(ei),b(rt))},n.\u0275dir=q({type:n}),n})(),Ir=(()=>{class n extends HC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=q({type:n,features:[ge]}),n})();const li=new V("NgValueAccessor");let TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({}),n})();const kj={provide:li,useExisting:Ae(()=>nm),multi:!0};function FD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let nm=(()=>{class n extends Ir{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=FD(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Tj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&T("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([kj]),ge]}),n})(),LD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(FD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(rt),b(ei),b(nm,9))},n.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const xj={provide:li,useExisting:Ae(()=>im),multi:!0};function ND(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let im=(()=>{class n extends Ir{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Aj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=St(n)))(i||n)}}(),n.\u0275dir=q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&T("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[He([xj]),ge]}),n})(),BD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ND(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ND(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(rt),b(ei),b(im,9))},n.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[TD]]}),n})(),jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[Hj]}),n})();function Uj(n,t){if(1&n){const e=ie();m(0,"div",2)(1,"span"),v(2," Automatically buy up to "),m(3,"input",3),T("change",function(r){return H(e),E().autoBuyLandLimitChanged(r)}),p(),v(4," land (including fields) "),p()()}if(2&n){const e=E();y(3),Re("value",e.homeService.autoBuyLandLimit)}}function qj(n,t){if(1&n){const e=ie();m(0,"div",2)(1,"span"),v(2," Automatically plow up to "),m(3,"input",3),T("change",function(r){return H(e),E().autoFieldLimitChanged(r)}),p(),v(4," fields "),p()()}if(2&n){const e=E();y(3),Re("value",e.homeService.autoFieldLimit)}}function $j(n,t){if(1&n&&(m(0,"option",6),v(1),p()),2&n){const e=t.$implicit,i=E(2);Re("value",e.type),D("selected",i.homeService.autoBuyHomeLimit===e.type),y(1),be(" ",e.name," ")}}function zj(n,t){if(1&n){const e=ie();m(0,"div",2)(1,"span"),v(2," Automatically upgrade your home up to a "),m(3,"select",4),T("change",function(r){return H(e),E().autoBuyHomeLimitChanged(r)}),x(4,$j,2,3,"option",5),p()()()}if(2&n){const e=E();y(4),D("ngForOf",e.homeService.homesList)}}function Gj(n,t){if(1&n){const e=ie();m(0,"div",2)(1,"span")(2,"input",7),T("change",function(r){return H(e),E().useSpiritGemWeaponsChange(r)}),p(),m(3,"label",8),v(4,"Use spirit gem when crafting weapons"),p()()()}if(2&n){const e=E();y(2),D("checked",e.inventoryService.useSpiritGemWeapons)}}function Wj(n,t){if(1&n){const e=ie();m(0,"div",2)(1,"span")(2,"input",9),T("change",function(r){return H(e),E().useSpiritGemPotionsChange(r)}),p(),m(3,"label",10),v(4,"Use spirit gem when crafting potions"),p()()()}if(2&n){const e=E();y(2),D("checked",e.inventoryService.useSpiritGemPotions)}}function Yj(n,t){if(1&n){const e=ie();m(0,"div")(1,"span"),v(2),Y(3,"titlecase"),m(4,"button",13),T("click",function(){const o=H(e).$implicit;return E(2).inventoryService.unAutoSell(o)}),v(5,"Stop Selling"),p()()()}if(2&n){const e=t.$implicit;y(2),be(" -",me(3,1,e)," ")}}function Kj(n,t){if(1&n&&(m(0,"div",2)(1,"span"),v(2," Automatically Sold Items: "),p(),m(3,"div",11),x(4,Yj,6,3,"div",12),p()()),2&n){const e=E();y(4),D("ngForOf",e.inventoryService.autoSellItems)}}function Jj(n,t){if(1&n){const e=ie();m(0,"div")(1,"span"),v(2),Y(3,"titlecase"),m(4,"button",13),T("click",function(){const o=H(e).$implicit;return E(2).inventoryService.unAutoUse(o)}),v(5,"Stop Using"),p()()()}if(2&n){const e=t.$implicit;y(2),be(" -",me(3,1,e)," ")}}function Zj(n,t){if(1&n&&(m(0,"div",2)(1,"span"),v(2,"Automatically Used Items:"),p(),m(3,"div",11),x(4,Jj,6,3,"div",12),p()()),2&n){const e=E();y(4),D("ngForOf",e.inventoryService.autoUseItems)}}function Xj(n,t){if(1&n){const e=ie();m(0,"div")(1,"span"),v(2),Y(3,"titlecase"),m(4,"input",3),T("change",function(r){const s=H(e).$implicit;return E(2).autoBalanceUseChanged(r,s)}),p(),v(5," then Sell "),m(6,"input",3),T("change",function(r){const s=H(e).$implicit;return E(2).autoBalanceSellChanged(r,s)}),p(),m(7,"button",13),T("click",function(){const o=H(e).$implicit;return E(2).inventoryService.unAutoBalance(o.name)}),v(8,"Stop Balancing"),p()()()}if(2&n){const e=t.$implicit;y(2),be(" -",me(3,3,e.name)," Use "),y(2),Re("value",e.useNumber),y(2),Re("value",e.sellNumber)}}function Qj(n,t){if(1&n&&(m(0,"div",2)(1,"span"),v(2,"Automatically Balanced Items:"),p(),m(3,"div",11),x(4,Xj,9,5,"div",12),p()()),2&n){const e=E();y(4),D("ngForOf",e.inventoryService.autoBalanceItems)}}function eU(n,t){if(1&n){const e=ie();m(0,"div")(1,"span"),v(2),Y(3,"titlecase"),m(4,"button",13),T("click",function(){const o=H(e).$implicit;return E(2).followerService.unAutoDismiss(o)}),v(5,"Stop Dismissing"),p()()()}if(2&n){const e=t.$implicit;y(2),be(" -",me(3,1,e)," ")}}function tU(n,t){if(1&n&&(m(0,"div",2)(1,"span"),v(2,"Automatically Dismissed Followers (by Job):"),p(),m(3,"div",11),x(4,eU,6,3,"div",12),p()()),2&n){const e=E();y(4),D("ngForOf",e.followerService.autoDismissJobs)}}let nU=(()=>{class n{constructor(e,i,r,o){this.homeService=e,this.inventoryService=i,this.gameStateService=r,this.followerService=o}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(ft),b(ee),b(ai),b(wr))},n.\u0275cmp=Ie({type:n,selectors:[["app-options-modal"]],decls:13,vars:9,consts:[[1,"darkMode"],["class","optionField",4,"ngIf"],[1,"optionField"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],[3,"click"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"span"),v(2,"Manuals Options"),p(),W(3,"hr"),x(4,Uj,5,1,"div",1),x(5,qj,5,1,"div",1),x(6,zj,5,1,"div",1),x(7,Gj,5,1,"div",1),x(8,Wj,5,1,"div",1),x(9,Kj,5,1,"div",1),x(10,Zj,5,1,"div",1),x(11,Qj,5,1,"div",1),x(12,tU,5,1,"div",1),p()),2&e&&(y(4),D("ngIf",i.homeService.autoBuyLandUnlocked),y(1),D("ngIf",i.homeService.autoFieldUnlocked),y(1),D("ngIf",i.homeService.autoBuyHomeUnlocked),y(1),D("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),D("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),D("ngIf",i.inventoryService.autoSellUnlocked),y(1),D("ngIf",i.inventoryService.autoUseUnlocked),y(1),D("ngIf",i.inventoryService.autoBalanceUnlocked),y(1),D("ngIf",i.followerService.autoDismissUnlocked))},directives:[qt,Ut,LD,BD],pipes:[_n],styles:[".inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}"]}),n})();function iU(n,t){if(1&n&&(m(0,"span"),v(1),Y(2,"number"),p()),2&n){const e=E();y(1),Bn(" Next rank requires ",me(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster gem. ")}}function rU(n,t){1&n&&(m(0,"span"),v(1," Max Rank "),p())}function oU(n,t){if(1&n&&(m(0,"span"),v(1),Y(2,"number"),p()),2&n){const e=E();y(1),Bn(" Next rank requires ",me(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster gem. ")}}function sU(n,t){1&n&&(m(0,"span"),v(1," Max Rank "),p())}function aU(n,t){if(1&n&&(m(0,"span"),v(1),Y(2,"number"),p()),2&n){const e=E();y(1),Bn(" Next rank requires ",me(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function lU(n,t){1&n&&(m(0,"span"),v(1," Max Rank "),p())}let cU=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a}}return n.\u0275fac=function(e){return new(e||n)(b($o),b(je),b(ft),b(ee),b(Un),b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-ascension-store-modal"]],decls:38,vars:14,consts:[[1,"darkMode"],[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"span"),v(2,"Ascension Techniques"),p(),W(3,"hr"),m(4,"table")(5,"tr")(6,"td")(7,"button",1),T("click",function(){return i.storeService.condenseSoulCore()}),v(8,"Condense Soul Core"),p()(),m(9,"td"),v(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each reincarnation. "),W(11,"br"),v(12),W(13,"br"),x(14,iU,3,4,"span",2),x(15,rU,2,0,"span",2),p()(),m(16,"tr")(17,"td")(18,"button",1),T("click",function(){return i.storeService.reinforceMeridians()}),v(19,"Reinforce Meridians"),p()(),m(20,"td"),v(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),W(22,"br"),v(23),W(24,"br"),x(25,oU,3,4,"span",2),x(26,sU,2,0,"span",2),p()(),m(27,"tr")(28,"td")(29,"button",1),T("click",function(){return i.storeService.upgradeBloodline()}),v(30),p()(),m(31,"td"),v(32),W(33,"br"),v(34),W(35,"br"),x(36,aU,3,4,"span",2),x(37,lU,2,0,"span",2),p()()()()),2&e&&(y(7),D("disabled",i.storeService.soulCoreRank>8),y(5),be(" Current Rank: ",i.storeService.soulCoreRank," "),y(2),D("ngIf",i.storeService.soulCoreRank<9),y(1),D("ngIf",i.storeService.soulCoreRank>=9),y(3),D("disabled",i.storeService.meridianRank>8),y(5),be(" Current Rank: ",i.storeService.meridianRank," "),y(2),D("ngIf",i.storeService.meridianRank<9),y(1),D("ngIf",i.storeService.meridianRank>=9),y(3),D("disabled",i.characterService.characterState.bloodlineRank>=4),y(1),Ve(i.storeService.bloodlineLabel),y(2),be(" ",i.storeService.bloodlineDescription," "),y(2),be(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),y(2),D("ngIf",i.characterService.characterState.bloodlineRank<4),y(1),D("ngIf",i.characterService.characterState.bloodlineRank>=4))},directives:[qt],pipes:[wi],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function uU(n,t){1&n&&W(0,"div",3)}function hU(n,t){1&n&&Xh(0)}function dU(n,t){if(1&n&&(m(0,"div"),x(1,hU,1,0,"ng-container",4),p()),2&n){const e=E();y(1),D("ngTemplateOutlet",e.value)}}function fU(n,t){1&n&&W(0,"div",5),2&n&&D("innerHTML",E().value,Yg)}let pU=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new xe}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,h=window.pageYOffset;let d,f;if(s&&(a=0,l=0),"top"===e&&(d=this.elementPosition.top+h-(c+this.tooltipOffset)),"bottom"===e&&(d=this.elementPosition.top+h+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(f=this.elementPosition.left+l/2-u/2),"left"===e&&(f=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(f=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(d=this.elementPosition.top+h+a/2-o.clientHeight/2),this.autoPlacement&&!i){const _=d+c,C=f,M=f+u,w=window.innerHeight+h,I=document.body.clientWidth;if(d<0||_>w||C<0||M>I)return!1}return this.hostStyleTop=d+"px",this.hostStyleLeft=f+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(b(rt),b(ei))},n.\u0275cmp=Ie({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&T("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(rd("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),Co("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(x(0,uU,1,0,"div",0),x(1,dU,2,1,"div",1),x(2,fU,1,1,"ng-template",null,2,CS)),2&e){const r=Gh(3);D("ngIf",i.isThemeLight),y(1),D("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[qt,E0],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const YD=new V("TooltipOptions"),KD={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},JD={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let $t=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new xe}set options(e){e&&KD&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(KD,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)JD[i]&&(e[JD[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(pU)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(b(YD,8),b(rt),b(ji),b(Ns),b(Oe))},n.\u0275dir=q({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&T("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[Jt]}),n})(),mU=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:YD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[cf]]}),n})();function gU(n,t){if(1&n&&(m(0,"div",4),v(1),p()),2&n){const e=E().$implicit;Re("tooltip",e.description),y(1),be(" ",e.name," ")}}function vU(n,t){1&n&&(m(0,"div",4),v(1," ? "),p()),2&n&&Re("tooltip",E().$implicit.hint)}function yU(n,t){if(1&n&&(m(0,"div"),x(1,gU,2,2,"div",3),x(2,vU,2,1,"div",3),p()),2&n){const e=t.$implicit;y(1),D("ngIf",e.unlocked),y(1),D("ngIf",!e.unlocked)}}let _U=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(b(NC))},n.\u0275cmp=Ie({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"darkMode"],[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3"),v(2,"Achievements"),p(),W(3,"hr"),m(4,"div",1),x(5,yU,3,2,"div",2),p()()),2&e&&(y(5),D("ngForOf",i.achievementService.achievements))},directives:[Ut,qt,$t],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class SU{}class Zi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bU{encodeKey(t){return ZD(t)}encodeValue(t){return ZD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const CU=/%(\d[a-f0-9])/gi,DU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ZD(n){return encodeURIComponent(n).replace(CU,(t,e)=>{var i;return null!==(i=DU[e])&&void 0!==i?i:t})}function XD(n){return`${n}`}class Xi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bU,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wU(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(XD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(XD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class MU{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function QD(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function eM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function tM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class va{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function EU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Zi),this.context||(this.context=new MU),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Xi,this.urlWithParams=e}serializeBody(){return null===this.body?null:QD(this.body)||eM(this.body)||tM(this.body)||function kU(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tM(this.body)?null:eM(this.body)?this.body.type||null:QD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((d,f)=>d.set(f,t.setHeaders[f]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((d,f)=>d.set(f,t.setParams[f]),u)),new va(i,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var Ct=(()=>((Ct=Ct||{})[Ct.Sent=0]="Sent",Ct[Ct.UploadProgress=1]="UploadProgress",Ct[Ct.ResponseHeader=2]="ResponseHeader",Ct[Ct.DownloadProgress=3]="DownloadProgress",Ct[Ct.Response=4]="Response",Ct[Ct.User=5]="User",Ct))();class om extends class TU{constructor(t,e=200,i="OK"){this.headers=t.headers||new Zi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Ct.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new om({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function sm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let iM=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof va)o=e;else{let l,c;l=r.headers instanceof Zi?r.headers:new Zi(r.headers),r.params&&(c=r.params instanceof Xi?r.params:new Xi({fromObject:r.params})),o=new va(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=G(o).pipe(Ao(l=>this.handler.handle(l)));if(e instanceof va||"events"===r.observe)return s;const a=s.pipe(nn(l=>l instanceof om));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Xi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,sm(r,i))}post(e,i,r={}){return this.request("POST",e,sm(r,i))}put(e,i,r={}){return this.request("PUT",e,sm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(S(SU))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const AU=["*"];let Wc;function ya(n){var t;return(null===(t=function IU(){if(void 0===Wc&&(Wc=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Wc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Wc}())||void 0===t?void 0:t.createHTML(n))||n}function rM(n){return Error(`Unable to find icon with the name "${n}"`)}function oM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function sM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Or{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Yc=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Or(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(Se.HTML,r);if(!s)throw sM(r);const a=ya(s);return this._addSvgIconConfig(e,i,new Or("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Or(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Se.HTML,i);if(!o)throw sM(i);const s=ya(o);return this._addSvgIconSetConfig(e,new Or("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Se.RESOURCE_URL,e);if(!i)throw oM(e);const r=this._cachedIconsByUrl.get(i);return r?G(Kc(r)):this._loadSvgIconFromConfig(new Or(e,null)).pipe(xt(o=>this._cachedIconsByUrl.set(i,o)),fe(o=>Kc(o)))}getNamedSvgIcon(e,i=""){const r=aM(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):zs(rM(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?G(Kc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(fe(i=>Kc(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?G(r):function VC(...n){const t=Pm(n),{args:e,keys:i}=G0(n),r=new Ue(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;Gt(e[u]).subscribe(ze(o,d=>{h||(h=!0,c--),a[u]=d},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?W0(i,a):a),o.complete())}))}});return t?r.pipe(vf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ci(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Se.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),G(null)})))).pipe(fe(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw rM(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(xt(i=>e.svgText=i),fe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?G(null):this._fetchIcon(e).pipe(xt(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(ya("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ya("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function PU(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(Se.RESOURCE_URL,r);if(!a)throw oM(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(fe(u=>ya(u)),eb(()=>this._inProgressUrlFetches.delete(a)),Nm());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(aM(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return RU(o)?new Or(o.url,null,o.options):new Or(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(S(iM,8),S(gf),S(ue,8),S(Li))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kc(n){return n.cloneNode(!0)}function aM(n,t){return n+":"+t}function RU(n){return!(!n.url||!n.options)}const FU=M2(class{constructor(n){this._elementRef=n}}),LU=new V("mat-icon-location",{providedIn:"root",factory:function NU(){const n=Ja(ue),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),lM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],BU=lM.map(n=>`[${n}]`).join(", "),VU=/^url\(['"]?#(.*?)['"]?\)$/;let an=(()=>{class n extends FU{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=yt.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function $N(n){return null!=n&&"false"!=`${n}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(BU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)lM.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(VU):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(rt),b(Yc),Gr("aria-hidden"),b(LU),b(Li))},n.\u0275cmp=Ie({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(mn("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Co("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ge],ngContentSelectors:AU,decls:1,vars:0,template:function(e,i){1&e&&(function Gy(n){const t=k()[16][6];if(!t.projection){const i=t.projection=cs(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?Vx(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),function Wy(n,t=0,e){const i=k(),r=pe(),o=io(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Au(),64!=(64&o.flags)&&function H1(n,t,e){bv(t[11],0,t,e,hv(n,e,t),mv(e.parent||t[6],e,t))}(r,i,o)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),cM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n}),n.\u0275inj=Ke({imports:[[vc],vc]}),n})();function HU(n,t){if(1&n&&(m(0,"span")(1,"mat-icon",4),v(2," help "),p(),v(3),p()),2&n){const e=E().$implicit;y(1),Re("tooltip",e.description),y(2),be(" ",e.name," ")}}function jU(n,t){1&n&&(m(0,"span"),v(1," ???????????? "),p())}function UU(n,t){1&n&&(m(0,"span")(1,"mat-icon"),v(2," done "),p()())}function qU(n,t){if(1&n){const e=ie();m(0,"span")(1,"button",5),T("click",function(){return H(e),E(2).impossibleTaskService.stopTask()}),v(2,"Stop"),p()()}}function $U(n,t){if(1&n){const e=ie();m(0,"span")(1,"button",5),T("click",function(){return H(e),E(2).impossibleTaskService.startTask()}),v(2,"Start"),p()()}}function zU(n,t){if(1&n&&(m(0,"tr")(1,"td"),x(2,HU,4,2,"span",2),x(3,jU,2,0,"span",2),p(),m(4,"td")(5,"progress",3),W(6,"div"),p()(),m(7,"td"),x(8,UU,3,0,"span",2),x(9,qU,3,0,"span",2),x(10,$U,3,0,"span",2),p()()),2&n){const e=t.$implicit,i=E();y(2),D("ngIf",i.impossibleTaskService.nextTask>=e.taskType),y(1),D("ngIf",i.impossibleTaskService.nextTask<e.taskType),y(2),D("value",i.impossibleTaskService.taskProgress[e.taskType].progress)("max",e.progressRequired),y(3),D("ngIf",i.impossibleTaskService.taskProgress[e.taskType].complete),y(1),D("ngIf",i.impossibleTaskService.activeTaskIndex===e.taskType),y(1),D("ngIf",-1===i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask===e.taskType)}}let GU=(()=>{class n{constructor(e,i){this.impossibleTaskService=e,this.gameStateService=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(b(Bo),b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-impossible-task-panel"]],decls:7,vars:1,consts:[[1,"darkMode"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"status-progress",3,"value","max"],[3,"tooltip"],[3,"click"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3"),v(2,"Impossible Tasks"),p(),W(3,"hr"),m(4,"div")(5,"table"),x(6,zU,11,7,"tr",1),p()()()),2&e&&(y(6),D("ngForOf",i.impossibleTaskService.tasks))},directives:[Ut,qt,an,$t],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const uM={appVersion:um(147).i8,production:!0};let WU=(()=>{class n{constructor(e){this.gameStateService=e}importClick(e){this.gameStateService.importGame(e)}exportClick(){document.getElementById("saveFileTextArea").value=this.gameStateService.getGameExport()}}return n.\u0275fac=function(e){return new(e||n)(b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-export-panel"]],decls:12,vars:0,consts:[[1,"darkMode"],["id","saveFileTextArea"],["saveFileTextArea",""],[3,"click"]],template:function(e,i){if(1&e){const r=ie();m(0,"div",0)(1,"h3"),v(2,"Import/Export Save File"),p(),W(3,"hr"),m(4,"div")(5,"textarea",1,2),v(7,"To export a game, press the Export button then copy and paste the contents of this box to wherever you want to store the save data. To import a game, paste save data into this box and press the Import button. Make sure that the only thing in the box is your save data or the save may be corrupted. The best way to do this is have the game data in your clipboard, then click on this box and press Ctrl-a then Ctrl-v."),p()(),m(8,"button",3),T("click",function(){H(r);const s=Gh(6);return i.importClick(s.value)}),v(9,"Import"),p(),m(10,"button",3),T("click",function(){return i.exportClick()}),v(11,"Export"),p()()}},styles:["textarea[_ngcontent-%COMP%]{width:450px;height:450px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),YU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-tutorial-panel"]],decls:28,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3"),v(2,"Tutorial"),p(),W(3,"hr"),m(4,"div",1)(5,"span"),v(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),p(),W(7,"hr"),m(8,"span"),v(9," The game is intended to be played on a laptop or desktop computer using the Chrome browser. "),p(),W(10,"hr"),m(11,"span"),v(12," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),p(),W(13,"hr"),m(14,"span"),v(15," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),p(),W(16,"hr"),m(17,"span"),v(18," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),p(),W(19,"hr"),m(20,"span"),v(21," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),p(),W(22,"hr"),m(23,"span"),v(24," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),p(),W(25,"hr"),m(26,"span"),v(27," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. Now, it's time to develop your potential for immortality. Get to it! "),p()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:500px}"]}),n})(),KU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Ie({type:n,selectors:[["app-changelog-panel"]],decls:95,vars:0,consts:[[1,"darkMode"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3"),v(2,"Change Log"),p(),W(3,"hr"),m(4,"table")(5,"tr")(6,"td"),v(7,"v1.0.32"),p(),m(8,"td"),v(9,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),p()(),m(10,"tr")(11,"td"),v(12,"v1.0.31"),p(),m(13,"td"),v(14,"Some balance changes."),p()(),m(15,"tr")(16,"td"),v(17,"v1.0.30"),p(),m(18,"td"),v(19,"A certain impossible task is now slightly less impossible."),p()(),m(20,"tr")(21,"td"),v(22,"v1.0.29"),p(),m(23,"td"),v(24,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),p()(),m(25,"tr")(26,"td"),v(27,"v1.0.28"),p(),m(28,"td"),v(29,"Improvements to automatic home purchasing."),p()(),m(30,"tr")(31,"td"),v(32,"v1.0.27"),p(),m(33,"td"),v(34,"You can now save and load an activity schedule."),p()(),m(35,"tr")(36,"td"),v(37,"v1.0.26"),p(),m(38,"td"),v(39,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),p()(),m(40,"tr")(41,"td"),v(42,"v1.0.25"),p(),m(43,"td"),v(44,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),p()(),m(45,"tr")(46,"td"),v(47,"v1.0.24"),p(),m(48,"td"),v(49,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),p()(),m(50,"tr")(51,"td"),v(52,"v1.0.23"),p(),m(53,"td"),v(54,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),p()(),m(55,"tr")(56,"td"),v(57,"v1.0.22"),p(),m(58,"td"),v(59,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),p()(),m(60,"tr")(61,"td"),v(62,"v1.0.21"),p(),m(63,"td"),v(64,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),p()(),m(65,"tr")(66,"td"),v(67,"v1.0.20"),p(),m(68,"td"),v(69,"Added Discord link."),p()(),m(70,"tr")(71,"td"),v(72,"v1.0.19"),p(),m(73,"td"),v(74,"Added changelog."),p()(),m(75,"tr")(76,"td"),v(77,"v1.0.18"),p(),m(78,"td"),v(79,"New follower types are now available."),p()(),m(80,"tr")(81,"td"),v(82,"v1.0.17"),p(),m(83,"td"),v(84,"Crafting log entries can now be filtered out."),p()(),m(85,"tr")(86,"td"),v(87,"v1.0.16"),p(),m(88,"td"),v(89,"Added tutorial help button."),p()(),m(90,"tr")(91,"td"),v(92,"v0.0.0 - v1.0.15"),p(),m(93,"td"),v(94,"Created and launched the game."),p()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}"]}),n})();const _a=function(n){return{iconActive:n}};function JU(n,t){if(1&n){const e=ie();m(0,"mat-icon",15),T("click",function(){return H(e),E().fastClick()}),v(1," fast_forward "),p()}if(2&n){const e=E();D("ngClass",bt(1,_a,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function ZU(n,t){if(1&n){const e=ie();m(0,"mat-icon",16),T("click",function(){return H(e),E().fasterClick()}),v(1," skip_next "),p()}if(2&n){const e=E();D("ngClass",bt(1,_a,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function XU(n,t){if(1&n){const e=ie();m(0,"mat-icon",17),T("click",function(){return H(e),E().fastestClick()}),v(1," bolt "),p()}if(2&n){const e=E();D("ngClass",bt(1,_a,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function QU(n,t){if(1&n){const e=ie();m(0,"input",18),T("change",function(r){return H(e),E().pauseOnDeath(r)}),p()}2&n&&D("checked",E().activityService.pauseOnDeath)}function e3(n,t){1&n&&(m(0,"label",19),v(1,"Pause on Death"),p())}function t3(n,t){if(1&n){const e=ie();m(0,"h6")(1,"input",20),T("change",function(r){return H(e),E().useSavedTicks(r)}),p(),m(2,"label",21),v(3),Y(4,"number"),p()()}if(2&n){const e=E();y(1),D("checked",e.mainLoopService.useSavedTicks),y(2),be("Use banked time to accelerate reality. ",Lt(4,2,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}const am=function(n){return{currentRow:n}};function n3(n,t){if(1&n){const e=ie();m(0,"tr",22),T("dragover",function(r){return H(e),E().allowDrop(r)})("drop",function(r){const s=H(e).index;return E().drop(s,r)})("dragstart",function(r){const s=H(e).index;return E().drag(s,r)}),m(1,"td",23),v(2),p(),m(3,"td",23),W(4,"progress",24),p(),m(5,"td",23)(6,"mat-icon",25),T("click",function(r){const s=H(e).$implicit;return E().onPlusClick(s,r)}),v(7,"add"),p(),m(8,"mat-icon",26),T("click",function(r){const s=H(e).$implicit;return E().onMinusClick(s,r)}),v(9,"remove"),p(),m(10,"mat-icon",27),T("click",function(){const o=H(e).$implicit;return E().onRemoveClick(o)}),v(11,"clear"),p()()()}if(2&n){const e=t.$implicit,i=t.index,r=E();y(1),D("ngClass",bt(8,am,i===r.activityService.currentIndex)),y(1),gl("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),y(1),D("ngClass",bt(10,am,i===r.activityService.currentIndex)),y(1),D("value",i!==r.activityService.currentIndex?e.repeatTimes:r.activityService.currentTickCount)("max",e.repeatTimes),y(1),D("ngClass",bt(12,am,i===r.activityService.currentIndex))}}function r3(n,t){if(1&n){const e=ie();m(0,"tr")(1,"td"),v(2),p(),m(3,"td"),W(4,"progress",30),p(),m(5,"td")(6,"mat-icon",27),T("click",function(){return H(e),E(2).removeSpiritActivity()}),v(7,"clear"),p()()()}if(2&n){const e=E(2);y(2),Ve(e.activityService.getActivityByType(e.activityService.spiritActivity).name[e.activityService.getActivityByType(e.activityService.spiritActivity).level])}}function o3(n,t){if(1&n){const e=ie();m(0,"table",28),T("drop",function(r){return H(e),E().spiritActivityDrop(r)})("dragover",function(r){return H(e),E().allowDrop(r)}),m(1,"tr")(2,"td",29),v(3," Spiritual Projection "),p()(),x(4,r3,8,1,"tr",10),p()}if(2&n){const e=E();y(4),D("ngIf",e.activityService.spiritActivity)}}let s3=(()=>{class n{constructor(e,i,r){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1}ngOnInit(){}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}onPlusClick(e,i){i.preventDefault(),i.stopPropagation(),i.shiftKey?e.repeatTimes+=10:e.repeatTimes++}onMinusClick(e,i){i.preventDefault(),i.stopPropagation(),i.shiftKey?e.repeatTimes-=10:e.repeatTimes--,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){let i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}removeSpiritActivity(){this.activityService.spiritActivity=null}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useSavedTicks=e.target.checked)}allowDrop(e){var i,r;("activityloop"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let s=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""==s){if(s=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""==s)return;let l={activity:parseInt(s),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{let a=parseInt(s);if(a>=0&&a<this.activityService.activityLoop.length){let l=this.activityService.activityLoop.splice(a,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault(),e.stopPropagation();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""==o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""==o)return;let s=parseInt(o);this.activityService.spiritActivity=s}else{let s=parseInt(o);s>=0&&s<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[s].activity)}}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(Dn),b(je))},n.\u0275cmp=Ie({type:n,selectors:[["app-time-panel"]],decls:25,vars:14,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar). Clicking this again while paused will step time forward a single day.",1,"iconButton",3,"ngClass","click"],["tooltip","Standard Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fast Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Faster Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Fastest Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Save your current schedule of actviities.",1,"iconButton",3,"click"],["tooltip","Load your saved schedule of actviities. Note that activities that you cannot do right now will not be loaded.",1,"iconButton",3,"click"],["tooltip","Fast Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Faster Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fastest Game Speed",1,"iconButton",3,"ngClass","click"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["type","checkbox","id","useSavedTicks",3,"checked","change"],["for","useSavedTicks"],["draggable","true",3,"dragover","drop","dragstart"],[3,"ngClass"],[1,"activity-progress",3,"value","max"],["tooltip","Spend more days on this. Shift-click to add 10 days.",1,"iconButton",3,"click"],["tooltip","Spend fewer days on this. Shift-click to remove 10 days.",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"spiritual-activity-progress","activity-progress"]],template:function(e,i){1&e&&(m(0,"div",0),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),m(1,"h3",1)(2,"span",2)(3,"mat-icon"),v(4," calendar_month "),p(),v(5," How will you spend your days? "),p(),m(6,"mat-icon",3),T("click",function(){return i.pauseClick()}),v(7," pause "),p(),m(8,"mat-icon",4),T("click",function(){return i.standardClick()}),v(9," play_arrow "),p(),x(10,JU,2,3,"mat-icon",5),x(11,ZU,2,3,"mat-icon",6),x(12,XU,2,3,"mat-icon",7),x(13,QU,1,1,"input",8),x(14,e3,2,0,"label",9),x(15,t3,5,5,"h6",10),p(),m(16,"table"),x(17,n3,12,14,"tr",11),p(),x(18,o3,5,1,"table",12),m(19,"div")(20,"span")(21,"mat-icon",13),T("click",function(){return i.activityService.saveActivityLoop()}),v(22," content_paste "),p(),m(23,"mat-icon",14),T("click",function(){return i.activityService.loadActivityLoop()}),v(24," content_paste_go "),p()()()()),2&e&&(y(6),D("ngClass",bt(10,_a,i.mainLoopService.pause)),y(2),D("ngClass",bt(12,_a,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),y(2),D("ngIf",i.mainLoopService.unlockFastSpeed),y(1),D("ngIf",i.mainLoopService.unlockFasterSpeed),y(1),D("ngIf",i.mainLoopService.unlockFastestSpeed),y(1),D("ngIf",i.activityService.autoRestart),y(1),D("ngIf",i.activityService.autoRestart),y(1),D("ngIf",i.mainLoopService.bankedTicks>0),y(2),D("ngForOf",i.activityService.activityLoop),y(1),D("ngIf",i.characterService.characterState.manaUnlocked))},directives:[$t,an,Ui,qt,Ut],pipes:[wi],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.activity-progress[_ngcontent-%COMP%]{width:60px}.spriritual-activity-progress[_ngcontent-%COMP%]:indeterminate{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{background-color:var(--activeButtonColor)}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}input[_ngcontent-%COMP%]{vertical-align:middle}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function a3(n,t){if(1&n&&(m(0,"span",6),Y(1,"number"),Y(2,"number"),m(3,"mat-icon"),v(4),p(),v(5),Y(6,"camelToTitle"),Y(7,"number"),Y(8,"number"),p()),2&n){const e=E().$implicit,i=E();nd("tooltip","",e.value.description," Your aptitude of ",Lt(1,6,e.value.aptitude,"1.0-2")," multiplies your gains by ",Lt(2,9,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),y(4),Ve(e.value.icon),y(1),Bn(" ",me(6,12,e.key),": ",e.value.value>1e3?Lt(7,14,e.value.value,"1.0-0"):Lt(8,17,e.value.value,"1.0-1")," ")}}function l3(n,t){if(1&n&&(m(0,"div"),x(1,a3,9,20,"span",5),p()),2&n){const e=t.$implicit;y(1),D("ngIf",0!==e.value.value)}}function c3(n,t){if(1&n){const e=ie();m(0,"div")(1,"span",8),Y(2,"titlecase"),Y(3,"number"),Y(4,"number"),v(5),Y(6,"titlecase"),Y(7,"titlecase"),p(),m(8,"mat-icon",9),T("click",function(r){const s=H(e).$implicit;return E(2).dismissFollower(r,s)}),v(9," cancel "),p()()}if(2&n){const e=t.$implicit,i=E(2);y(1),id("tooltip","",e.name," is a level ",e.power," ",me(2,9,e.job),". ",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",Lt(3,11,e.age/365,"1.0-1")," years and will serve for another ",Lt(4,14,(e.lifespan-e.age)/365,"1.0-1")," more years."),y(4),Bn(" ",me(6,17,e.name)," the ",me(7,19,e.job)," ")}}function u3(n,t){if(1&n&&(m(0,"div",7),x(1,c3,10,21,"div",2),p()),2&n){const e=E();y(1),D("ngForOf",e.followerService.followers)}}let hM=(()=>{class n{constructor(e,i){this.characterService=e,this.followerService=i,this.originalOrder=()=>0,this.character=e.characterState}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissFollowerJob(i.job):this.followerService.dismissFollower(i)}}return n.\u0275fac=function(e){return new(e||n)(b(je),b(wr))},n.\u0275cmp=Ie({type:n,selectors:[["app-attributes-panel"]],decls:15,vars:5,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],["class","followerPanel",4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],[1,"followerPanel"],[3,"tooltip"],["tooltip","Dismiss this follower. If you have the right knowledge, you can shift-click to automatically dismiss all followers with this job.",1,"smallerIcon",3,"click"]],template:function(e,i){1&e&&(m(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),v(5," bar_chart "),p(),v(6," Attributes "),p(),x(7,l3,2,1,"div",2),Y(8,"keyvalue"),p(),m(9,"td")(10,"h3",0)(11,"mat-icon",3),v(12," person "),p(),v(13," Followers "),p(),x(14,u3,2,1,"div",4),p()()()),2&e&&(y(7),D("ngForOf",Lt(8,2,i.character.attributes,i.originalOrder)),y(7),D("ngIf",i.followerService.followersUnlocked))},styles:["mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function h3(n,t){1&n&&(m(0,"td",1),v(1," You expect to live forever. "),p())}function d3(n,t){if(1&n&&(m(0,"td",1),v(1),Y(2,"number"),p()),2&n){const e=E();y(1),be(" You expect to live ",Lt(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}let dM=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(b(je))},n.\u0275cmp=Ie({type:n,selectors:[["app-health-panel"]],decls:35,vars:22,consts:[[1,"panelHeader"],[1,"headerCell"],["class","headerCell",4,"ngIf"],[3,"tooltip"],["placement","right",3,"tooltip"],[1,"health"],[1,"status-progress",3,"value","max"],[1,"stamina"],[1,"nourishment"],[1,"mana"]],template:function(e,i){1&e&&(m(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),v(4),Y(5,"floor"),Y(6,"number"),p(),x(7,h3,2,0,"td",2),x(8,d3,3,4,"td",2),m(9,"td")(10,"mat-icon",3),v(11,"timer"),p()()()()(),m(12,"table")(13,"tr")(14,"td",4),v(15,"Health"),p(),m(16,"td",5)(17,"progress",6),W(18,"div"),p()(),m(19,"td",4),v(20,"Stamina"),p(),m(21,"td",7)(22,"progress",6),W(23,"div"),p()()(),m(24,"tr")(25,"td",4),v(26,"Nutrition"),p(),m(27,"td",8)(28,"progress",6),W(29,"div"),p()(),m(30,"td",4),v(31,"Mana"),p(),m(32,"td",9)(33,"progress",6),W(34,"div"),p()()()()),2&e&&(y(4),Bn(" You are ",me(5,17,i.characterService.characterState.age/365)," years, ",Lt(6,19,i.characterService.characterState.age%365,"1.0-0")," days old. "),y(3),D("ngIf",i.characterService.characterState.immortal),y(1),D("ngIf",!i.characterService.characterState.immortal),y(2),Re("tooltip",i.characterService.lifespanTooltip),y(4),Re("tooltip",i.characterService.characterState.status.health.description),y(3),D("value",i.Math.floor(i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),y(2),Re("tooltip",i.characterService.characterState.status.stamina.description),y(3),D("value",i.characterService.characterState.status.stamina.value)("max",i.characterService.characterState.status.stamina.max),y(3),Re("tooltip",i.characterService.characterState.status.nourishment.description),y(3),D("value",i.characterService.characterState.status.nourishment.value)("max",i.characterService.characterState.status.nourishment.max),y(2),Re("tooltip",i.characterService.characterState.status.mana.description),y(3),D("value",i.characterService.characterState.status.mana.value)("max",i.characterService.characterState.status.mana.max))},styles:["progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:var(--manaColor)}.status-progress[_ngcontent-%COMP%]{height:30px}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function f3(n,t){1&n&&(m(0,"mat-icon",10),v(1," model_training "),p())}function p3(n,t){if(1&n&&(m(0,"span")(1,"mat-icon",11),Y(2,"number"),v(3," attach_money "),p()()),2&n){const e=E(2).$implicit;y(1),Vi("tooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",Lt(2,1,e.lastIncome,"1.0-1")," taels.")}}function m3(n,t){if(1&n){const e=ie();m(0,"tr",5),T("dragstart",function(r){H(e);const o=E().$implicit;return E().drag(o,r)}),m(1,"td")(2,"span",6)(3,"button",7),T("click",function(){H(e);const r=E().$implicit;return E().onClick(r)}),v(4),p(),x(5,f3,2,0,"mat-icon",8),p()(),m(6,"td"),v(7),W(8,"br"),v(9),x(10,p3,4,4,"span",9),p()()}if(2&n){const e=E().$implicit;y(4),Ve(e.name[e.level]),y(1),D("ngIf",e.skipApprenticeshipLevel>0),y(2),be(" ",e.description[e.level]," "),y(2),be(" ",e.consequenceDescription[e.level]," "),y(1),D("ngIf",e.lastIncome&&e.lastIncome>0)}}function g3(n,t){if(1&n&&(So(0),x(1,m3,11,5,"tr",4),bo()),2&n){const e=t.$implicit;y(1),D("ngIf",e.unlocked)}}let v3=(()=>{class n{constructor(e,i,r){this.gameStateService=e,this.activityService=i,this.character=r.characterState}onClick(e){this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:1})}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}}return n.\u0275fac=function(e){return new(e||n)(b(ai),b(Dn),b(je))},n.\u0275cmp=Ie({type:n,selectors:[["app-activity-panel"]],decls:7,vars:1,consts:[[1,"panelHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],["draggable","true",3,"dragstart",4,"ngIf"],["draggable","true",3,"dragstart"],[1,"noWrap"],[3,"click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],[4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."],[3,"tooltip"]],template:function(e,i){1&e&&(m(0,"h3",0)(1,"mat-icon",1),v(2," help "),p(),v(3," Activities\n"),p(),m(4,"div",2)(5,"table"),x(6,g3,2,1,"ng-container",3),p()()),2&e&&(y(6),D("ngForOf",i.activityService.activities))},directives:[an,$t,Ut,qt],pipes:[wi],styles:["td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function y3(n,t){if(1&n){const e=ie();m(0,"span",11)(1,"input",12),T("change",function(r){return H(e),E(2).manaShieldToggle(r)}),p(),m(2,"label",13),v(3,"Activate Mana Shield"),p()()}if(2&n){const e=E(2);y(1),D("checked",e.battleService.enableManaShield)}}function _3(n,t){if(1&n){const e=ie();m(0,"span",14)(1,"input",12),T("change",function(r){return H(e),E(2).manaAttackToggle(r)}),p(),m(2,"label",13),v(3,"Activate Mana Strike"),p()()}if(2&n){const e=E(2);y(1),D("checked",e.battleService.enableManaAttack)}}function S3(n,t){if(1&n&&(m(0,"span"),x(1,y3,4,1,"span",9),x(2,_3,4,1,"span",10),p()),2&n){const e=E();y(1),D("ngIf",e.battleService.manaShieldUnlocked),y(1),D("ngIf",e.battleService.manaAttackUnlocked)}}function b3(n,t){if(1&n){const e=ie();m(0,"button",15),T("click",function(){return H(e),E().battleService.trouble()}),v(1,"Look for Trouble"),p()}}function w3(n,t){if(1&n){const e=ie();m(0,"input",16),T("change",function(r){return H(e),E().autoTroubleChange(r)}),p()}2&n&&D("checked",E().battleService.autoTroubleEnabled)}function C3(n,t){1&n&&(m(0,"label",17),v(1,"Look for Trouble"),p())}function D3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_forward"),p())}function M3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_forward"),p())}function E3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_forward"),p())}function k3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_forward"),p())}function T3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_forward"),p())}function x3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"crisis_alert"),p())}function A3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_backward"),p())}function I3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_backward"),p())}function P3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_backward"),p())}function O3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_backward"),p())}function R3(n,t){1&n&&(m(0,"mat-icon",21),v(1,"arrow_backward"),p())}function F3(n,t){if(1&n&&(m(0,"table",18)(1,"tr")(2,"td",19),x(3,D3,2,0,"mat-icon",20),p(),m(4,"td",19),x(5,M3,2,0,"mat-icon",20),p(),m(6,"td",19),x(7,E3,2,0,"mat-icon",20),p(),m(8,"td",19),x(9,k3,2,0,"mat-icon",20),p(),m(10,"td",19),x(11,T3,2,0,"mat-icon",20),p(),m(12,"td",19),x(13,x3,2,0,"mat-icon",20),p(),m(14,"td",19),x(15,A3,2,0,"mat-icon",20),p(),m(16,"td",19),x(17,I3,2,0,"mat-icon",20),p(),m(18,"td",19),x(19,P3,2,0,"mat-icon",20),p(),m(20,"td",19),x(21,O3,2,0,"mat-icon",20),p(),m(22,"td",19),x(23,R3,2,0,"mat-icon",20),p()()()),2&n){const e=E();y(3),D("ngIf",4==e.battleService.tickCounter||5==e.battleService.tickCounter),y(2),D("ngIf",3==e.battleService.tickCounter||6==e.battleService.tickCounter),y(2),D("ngIf",2==e.battleService.tickCounter||7==e.battleService.tickCounter),y(2),D("ngIf",1==e.battleService.tickCounter||8==e.battleService.tickCounter),y(2),D("ngIf",0==e.battleService.tickCounter||9==e.battleService.tickCounter),y(2),D("ngIf",10==e.battleService.tickCounter),y(2),D("ngIf",0==e.battleService.tickCounter||9==e.battleService.tickCounter),y(2),D("ngIf",1==e.battleService.tickCounter||8==e.battleService.tickCounter),y(2),D("ngIf",2==e.battleService.tickCounter||7==e.battleService.tickCounter),y(2),D("ngIf",3==e.battleService.tickCounter||6==e.battleService.tickCounter),y(2),D("ngIf",4==e.battleService.tickCounter||5==e.battleService.tickCounter)}}function L3(n,t){if(1&n){const e=ie();m(0,"button",15),T("click",function(){H(e);const r=E().$implicit;return E().battleService.fight(r)}),v(1,"Fight"),p()}}function N3(n,t){1&n&&(m(0,"span"),v(1,"Fighting"),p())}function B3(n,t){if(1&n&&(So(0),m(1,"tr")(2,"td"),x(3,L3,2,0,"button",3),x(4,N3,2,0,"span",1),p(),m(5,"td"),v(6),Y(7,"titlecase"),p(),m(8,"td",22)(9,"progress",23),W(10,"div"),p()(),m(11,"td",24)(12,"mat-icon"),v(13,"manage_accounts"),p(),v(14),Y(15,"percent"),p(),m(16,"td",25)(17,"mat-icon"),v(18,"flare"),p(),v(19),Y(20,"bigNumber"),p(),m(21,"td",26)(22,"mat-icon"),v(23,"shield"),p(),v(24),Y(25,"bigNumber"),p()(),bo()),2&n){const e=t.$implicit,i=E();y(3),D("ngIf",i.battleService.currentEnemy!==e),y(1),D("ngIf",i.battleService.currentEnemy===e),y(2),Bn("",me(7,9,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),y(3),D("value",e.enemy.health)("max",e.enemy.maxHealth),y(5),Ve(me(15,11,e.enemy.accuracy)),y(5),Ve(me(20,13,e.enemy.attack)),y(5),Ve(me(25,15,e.enemy.defense))}}let fM=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}manaShieldToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaShield=e.target.checked)}manaAttackToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaAttack=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Ei),b(je))},n.\u0275cmp=Ie({type:n,selectors:[["app-battle-panel"]],decls:13,vars:6,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],["tooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],["class","clashTable",4,"ngIf"],[4,"ngFor","ngForOf"],["class","battleOption","tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["class","battleOption","tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",1,"battleOption"],["type","checkbox","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",1,"battleOption"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"clashTable"],[1,"fixedCell"],["class","clashIcon",4,"ngIf"],[1,"clashIcon"],[1,"health"],[1,"status-progress",3,"value","max"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(m(0,"h3")(1,"mat-icon",0),v(2,"fort"),p(),v(3," Battles "),x(4,S3,3,2,"span",1),m(5,"span",2),x(6,b3,2,0,"button",3),x(7,w3,1,1,"input",4),x(8,C3,2,0,"label",5),p()(),m(9,"div",6),x(10,F3,24,11,"table",7),m(11,"table"),x(12,B3,26,17,"ng-container",8),p()()),2&e&&(y(4),D("ngIf",i.characterService.characterState.manaUnlocked),y(2),D("ngIf",!i.battleService.autoTroubleUnlocked),y(1),D("ngIf",i.battleService.autoTroubleUnlocked),y(1),D("ngIf",i.battleService.autoTroubleUnlocked),y(2),D("ngIf",i.battleService.enemies.length>0),y(2),D("ngForOf",i.battleService.enemies))},styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}progress[_ngcontent-%COMP%]{text-align:center;height:-moz-fit-content;height:fit-content;width:130px}progress[_ngcontent-%COMP%]:after{content:attr(value);line-height:30px}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.health[_ngcontent-%COMP%] > progress[_ngcontent-%COMP%]{accent-color:var(--healthColor)}.status-progress[_ngcontent-%COMP%]{height:30px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.battleOption[_ngcontent-%COMP%]{margin-left:10px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Go=function(n){return{highlightSlot:n}};let pM=(()=>{class n{constructor(e,i){this.characterService=e,this.inventoryService=i,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();let r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Cr(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();let o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){let a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(je),b(ee))},n.\u0275cmp=Ie({type:n,selectors:[["app-equipment-panel"]],decls:47,vars:51,consts:[[1,"panelHeader"],["draggable","true","placement","left",1,"itemSlot",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["rowspan","2"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons."],["tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor."]],template:function(e,i){1&e&&(m(0,"h3",0),v(1,"Equipment"),p(),m(2,"table")(3,"tr"),W(4,"td"),m(5,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)})("dblclick",function(o){return i.slotDoubleClicked("head",o)}),v(6),Y(7,"titlecase"),p(),W(8,"td"),p(),m(9,"tr")(10,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)})("dblclick",function(o){return i.slotDoubleClicked("rightHand",o)}),v(11),Y(12,"titlecase"),p(),m(13,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)})("dblclick",function(o){return i.slotDoubleClicked("body",o)}),v(14),Y(15,"titlecase"),p(),m(16,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)})("dblclick",function(o){return i.slotDoubleClicked("leftHand",o)}),v(17),Y(18,"titlecase"),p()(),m(19,"tr")(20,"td",2)(21,"span",3)(22,"mat-icon"),v(23,"manage_accounts"),p(),v(24),Y(25,"percent"),p(),W(26,"br"),m(27,"span",4)(28,"mat-icon"),v(29,"flare"),p(),v(30),Y(31,"bigNumber"),p(),W(32,"br"),m(33,"span",5)(34,"mat-icon"),v(35,"shield"),p(),v(36),Y(37,"bigNumber"),p()(),m(38,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)})("dblclick",function(o){return i.slotDoubleClicked("legs",o)}),v(39),Y(40,"titlecase"),p(),W(41,"td"),p(),m(42,"tr")(43,"td",1),T("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)})("dblclick",function(o){return i.slotDoubleClicked("feet",o)}),v(44),Y(45,"titlecase"),p(),W(46,"td"),p()()),2&e&&(y(5),Re("tooltip",null==i.character.equipment.head?null:i.character.equipment.head.description),D("ngClass",bt(39,Go,"head"===i.getSelectedItemSlot())),y(1),be(" ",me(7,21,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),y(4),Re("tooltip",null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description),D("ngClass",bt(41,Go,"rightHand"===i.getSelectedItemSlot())),y(1),be(" ",me(12,23,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),y(2),Re("tooltip",null==i.character.equipment.body?null:i.character.equipment.body.description),D("ngClass",bt(43,Go,"body"===i.getSelectedItemSlot())),y(1),be(" ",me(15,25,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),y(2),Re("tooltip",null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description),D("ngClass",bt(45,Go,"leftHand"===i.getSelectedItemSlot())),y(1),be(" ",me(18,27,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),y(7),Ve(me(25,29,i.character.accuracy)),y(6),Ve(me(31,31,i.character.attackPower)),y(6),Ve(me(37,33,i.character.defense)),y(2),Re("tooltip",null==i.character.equipment.legs?null:i.character.equipment.legs.description),D("ngClass",bt(47,Go,"legs"===i.getSelectedItemSlot())),y(1),be(" ",me(40,35,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),y(4),Re("tooltip",null==i.character.equipment.feet?null:i.character.equipment.feet.description),D("ngClass",bt(49,Go,"feet"===i.getSelectedItemSlot())),y(1),be(" ",me(45,37,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},styles:[".itemSlot[_ngcontent-%COMP%]{width:80px;height:32px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}table[_ngcontent-%COMP%]{margin:auto}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const V3=function(n,t){return{selectedItem:n,ownedItem:t}};function H3(n,t){if(1&n){const e=ie();m(0,"div")(1,"table",4),T("click",function(){const o=H(e).$implicit;return E().slotClicked(o)}),m(2,"tr")(3,"mat-icon"),v(4),p()(),m(5,"tr"),v(6),Y(7,"titlecase"),p()(),m(8,"div",5)(9,"span"),v(10),Y(11,"number"),p()()()}if(2&n){const e=t.$implicit,i=E();y(1),Re("tooltip",e.description),D("ngClass",vd(10,V3,e===i.storeService.selectedItem,i.homeService.furniture[e.slot]===e)),y(3),Ve(e.slot),y(2),Ve(me(7,5,e.name)),y(4),Ve(Lt(11,7,i.storeService.furniturePrices[e.name],"1.0-0"))}}let j3=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem==e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b($o),b(je),b(ft),b(ee),b(Un),b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-furniture-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[1,"priceLabel"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"span"),v(2,"Furniture Shop"),p(),W(3,"hr"),m(4,"div",1),x(5,H3,12,13,"div",2),p(),m(6,"button",3),T("click",function(){return i.storeService.buyFurniture()}),v(7," Buy "),p()()),2&e&&(y(5),D("ngForOf",i.storeService.furniture),y(1),D("disabled",i.buyDisabled))},directives:[Ut,Ui,$t,an],pipes:[_n,wi],styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor)}.priceLabel[_ngcontent-%COMP%]{width:60px;text-align:center}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}table[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function U3(n,t){if(1&n&&(m(0,"div")(1,"table",7)(2,"tr"),v(3),Y(4,"titlecase"),p(),m(5,"tr"),v(6),p(),m(7,"tr"),v(8),Y(9,"percent"),p()()()),2&n){const e=t.$implicit;y(1),Hi("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),y(2),Ve(me(4,5,e.cropName)),y(3),Ve(e.yield),y(2),Ve(me(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let q3=(()=>{class n{constructor(e,i,r){this.homeService=e,this.characterService=i,this.gameStateService=r}clearClicked(e){if(e.preventDefault(),e.stopPropagation(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.clearField();else if(e.ctrlKey)for(;this.homeService.fields.length>0;)this.homeService.clearField();else this.homeService.clearField()}buyClicked(e){if(e.preventDefault(),e.stopPropagation(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.buyLand();else if(e.ctrlKey){let i=0;for(;this.characterService.characterState.money>this.homeService.landPrice&&i<1e4;)this.homeService.buyLand(),i++}else this.homeService.buyLand()}plowClicked(e){if(e.preventDefault(),e.stopPropagation(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.addField();else if(e.ctrlKey)for(;this.homeService.land>0;)this.homeService.addField();else this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(ft),b(je),b(ai))},n.\u0275cmp=Ie({type:n,selectors:[["app-farm-panel"]],decls:17,vars:11,consts:[[1,"darkMode"],[1,"yieldText"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3"),v(2,"Your Farm"),p(),W(3,"hr"),m(4,"div",1)(5,"span"),v(6),Y(7,"number"),p(),m(8,"mat-icon",2),T("click",function(o){return i.buyClicked(o)}),v(9," add "),p(),m(10,"mat-icon",3),T("click",function(o){return i.plowClicked(o)}),v(11," waves "),p(),m(12,"mat-icon",4),T("click",function(o){return i.clearClicked(o)}),v(13," delete_sweep "),p()(),m(14,"div",5),x(15,U3,10,9,"div",6),Y(16,"slice"),p()()),2&e&&(y(6),Bn("Your ",i.homeService.fields.length+i.homeService.extraFields," fields produced an average of ",Lt(7,4,i.homeService.averageYield,"1.0-2")," food per day over the last year."),y(2),Vi("tooltip","Buy a plot of land for ",i.homeService.landPrice," taels. Shift-click to buy 10 plots, Ctrl-click to buy all the land you can afford."),y(7),D("ngForOf",fS(16,7,i.homeService.fields,0,300)))},directives:[an,$t,Ut],pipes:[wi,x0,_n,Ul],styles:[".itemSlot[_ngcontent-%COMP%]{width:10px;height:10px}.farmGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function $3(n,t){1&n&&W(0,"div",16),2&n&&Vi("tooltip","You don't own a ",E().$implicit,", but your home could hold one.")}function z3(n,t){if(1&n&&(m(0,"div",16),v(1),Y(2,"titlecase"),p()),2&n){const e=E().$implicit,i=E(2);Re("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),y(1),Ve(me(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function G3(n,t){if(1&n&&(m(0,"div"),x(1,$3,1,1,"div",15),x(2,z3,3,4,"div",15),p()),2&n){const e=t.$implicit,i=E(2);y(1),D("ngIf",!i.homeService.furniture[e]),y(1),D("ngIf",i.homeService.furniture[e])}}function W3(n,t){if(1&n&&(m(0,"div",13),x(1,G3,3,2,"div",14),p()),2&n){const e=E();y(1),D("ngForOf",e.homeService.home.furnitureSlots)}}function Y3(n,t){1&n&&(m(0,"div",13)(1,"span",17),v(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),p()())}function K3(n,t){if(1&n){const e=ie();m(0,"mat-icon",7),T("click",function(){return H(e),E().homeService.upgradeToNextHome()}),Y(1,"number"),v(2," add_business "),p()}if(2&n){const e=E();Hi("tooltip","Get a better house. A better home will cost ",Lt(1,2,e.homeService.nextHomeCost,"1.0-0")," taels and take up ",e.homeService.nextHome.landRequired," land.")}}function J3(n,t){if(1&n){const e=ie();m(0,"mat-icon",18),T("click",function(){return H(e),E().storeClicked()}),v(1," shopping_cart "),p()}}function Z3(n,t){1&n&&(m(0,"progress",19),W(1,"div"),p()),2&n&&D("value",E().homeService.houseBuildingProgress)("max",1)}let X3=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(j3,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(q3,{width:"800px",data:{someField:"foo"}})}buyClicked(e){if(e.preventDefault(),e.stopPropagation(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.buyLand();else if(e.ctrlKey){let i=0;for(;this.character.money>this.homeService.landPrice&&i<1e4;)this.homeService.buyLand(),i++}else this.homeService.buyLand()}plowClicked(e){if(e.preventDefault(),e.stopPropagation(),e.shiftKey)for(let i=0;i<10;i++)this.homeService.addField();else if(e.ctrlKey)for(;this.homeService.land>0;)this.homeService.addField();else this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(je),b(ft),b(Nc),b($o))},n.\u0275cmp=Ie({type:n,selectors:[["app-home-panel"]],decls:24,vars:13,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"homeInfo"],["class","furnitureSlots",4,"ngIf"],[1,"buttonSpan"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","status-progress","tooltip","Upgrading your home.",3,"value","max",4,"ngIf"],["tooltip","View your farm.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"mouseWarning"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"status-progress",3,"value","max"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3",1)(2,"mat-icon",2),v(3,"home"),p(),m(4,"span",3),v(5),p()(),m(6,"div",4)(7,"span"),v(8),p()(),m(9,"div",4)(10,"span"),v(11),p()(),x(12,W3,2,1,"div",5),x(13,Y3,3,0,"div",5),m(14,"span",6)(15,"mat-icon",7),T("click",function(o){return i.buyClicked(o)}),v(16," add "),p(),x(17,K3,3,5,"mat-icon",8),x(18,J3,2,0,"mat-icon",9),x(19,Z3,2,2,"progress",10),m(20,"mat-icon",11),T("click",function(){return i.farmClicked()}),v(21,"grass"),p(),m(22,"mat-icon",12),T("click",function(o){return i.plowClicked(o)}),v(23," waves "),p()()()),2&e&&(y(4),Re("tooltip",i.homeService.home.description),y(1),be(" You live in a ",i.homeService.home.name," "),y(3),Bn("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),y(3),gl("You own ",i.homeService.land," open ",1===i.homeService.land?"plot":"plots"," of land and ",i.homeService.fields.length+i.homeService.extraFields," fields"),y(1),D("ngIf",i.homeService.home.furnitureSlots.length>0),y(1),D("ngIf",0===i.homeService.home.furnitureSlots.length),y(2),Vi("tooltip","Buy a plot of land for ",i.homeService.landPrice," taels. Shift-click to buy 10 plots, Ctrl-click to buy all the land you can afford (or 10,000, whichever comes first)."),y(2),D("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),y(1),D("ngIf",i.homeService.home.furnitureSlots.length),y(1),D("ngIf",i.homeService.upgrading))},directives:[an,$t,qt,Ut],pipes:[_n,wi],styles:[".homeContainer[_ngcontent-%COMP%]{position:relative;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin:6px}.buttonSpan[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px;width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.itemSlot[_ngcontent-%COMP%]{width:50px;height:36px}.rightFloat[_ngcontent-%COMP%]{float:right;margin-right:4px}.status-progress[_ngcontent-%COMP%]{width:100px;margin-left:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function Q3(n,t){1&n&&(m(0,"mat-icon",9),v(1," soup_kitchen "),p())}function eq(n,t){if(1&n&&(m(0,"tr"),v(1),p()),2&n){const e=E().$implicit;y(1),Ve(null==e?null:e.quantity)}}const tq=function(n){return{selectedItem:n}};function nq(n,t){if(1&n){const e=ie();m(0,"div")(1,"table",10),T("click",function(r){const s=H(e).$implicit;return E().slotClicked(s,r)})("dblclick",function(r){const s=H(e).$implicit;return E().slotDoubleClicked(s,r)})("contextmenu",function(r){const s=H(e).$implicit;return E().slotRightClicked(s,r)})("dragover",function(r){return H(e),E().allowDrop(r)})("drop",function(r){const s=H(e).index;return E().drop(s,r)})("dragstart",function(r){const s=H(e).index;return E().drag(s,r)}),m(2,"tr"),v(3),Y(4,"titlecase"),p(),x(5,eq,2,1,"tr",11),p()()}if(2&n){const e=t.$implicit,i=E();y(1),Re("tooltip",null==e||null==e.item?null:e.item.description),D("ngClass",bt(6,tq,null!==e&&e===i.inventoryService.selectedItem)),y(2),Ve(me(4,4,null==e||null==e.item?null:e.item.name)),y(2),D("ngIf",((null==e?null:e.quantity)||0)>1)}}function iq(n,t){if(1&n){const e=ie();m(0,"mat-icon",20),T("click",function(){return H(e),E(2).autoSell()}),v(1," currency_exchange "),p()}}function rq(n,t){if(1&n){const e=ie();m(0,"mat-icon",13),T("click",function(){return H(e),E(2).use()}),v(1," auto_awesome "),p()}if(2&n){const e=E(2);Hi("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function oq(n,t){if(1&n){const e=ie();m(0,"mat-icon",13),T("click",function(){return H(e),E(2).autoUse()}),v(1," auto_mode "),p()}if(2&n){const e=E(2);Hi("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function sq(n,t){if(1&n){const e=ie();m(0,"mat-icon",21),T("click",function(){return H(e),E(2).autoBalance()}),v(1," balance "),p()}}function aq(n,t){if(1&n){const e=ie();m(0,"mat-icon",22),T("click",function(){return H(e),E(2).equip()}),v(1," shield "),p()}}function lq(n,t){if(1&n){const e=ie();m(0,"mat-icon",23),T("click",function(){return H(e),E(2).mergeSpiritGem()}),v(1," diamond "),p()}}function cq(n,t){if(1&n){const e=ie();m(0,"div",12)(1,"mat-icon",13),T("click",function(){return H(e),E().sell(1)}),v(2," attach_money "),p(),m(3,"mat-icon",13),T("click",function(){return H(e),E().sellStack()}),v(4," paid "),p(),m(5,"mat-icon",13),T("click",function(){return H(e),E().sellAll()}),v(6," shopping_basket "),p(),x(7,iq,2,0,"mat-icon",14),x(8,rq,2,2,"mat-icon",15),x(9,oq,2,2,"mat-icon",16),x(10,sq,2,0,"mat-icon",17),x(11,aq,2,0,"mat-icon",18),x(12,lq,2,0,"mat-icon",19),p()}if(2&n){const e=E();y(1),Hi("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell."),y(2),Hi("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack."),y(2),Vi("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in the whole inventory."),y(2),D("ngIf",e.inventoryService.autoSellUnlocked),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),y(1),D("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked),y(1),D("ngIf","equipment"===e.inventoryService.selectedItem.item.type),y(1),D("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}let mM=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}slotClicked(e,i){if(i.preventDefault(),i.stopPropagation(),i.shiftKey){let r=null;r!=e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem==e?null:e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0==this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"==(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"==(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"==(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){let l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c==e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){let u=this.inventoryService.itemStacks[c],h=this.inventoryService.itemStacks[e],d=null==u?void 0:u.item,f=null==h?void 0:h.item;if(d&&f&&Cr(d)&&Cr(f)&&d.slot==f.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(d,f,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=h}}else if("equipment"==(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){let l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(ee),b(je))},n.\u0275cmp=Ie({type:n,selectors:[["app-inventory-panel"]],decls:16,vars:6,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",1,"noFood"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","click","dblclick","contextmenu","dragover","drop","dragstart"],[4,"ngIf"],[1,"inventoryButtons"],["placement","left",1,"iconButton",3,"tooltip","click"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3",1)(2,"table")(3,"tr")(4,"td",2),v(5,"Inventory"),p(),m(6,"td",3),v(7,"Money: "),p(),m(8,"td",4),v(9),Y(10,"bigNumber"),p(),m(11,"td"),x(12,Q3,2,0,"mat-icon",5),p()()()(),m(13,"div",6),x(14,nq,6,8,"div",7),p(),x(15,cq,13,11,"div",8),p()),2&e&&(y(9),be("",me(10,4,i.characterService.characterState.money)," Taels"),y(3),D("ngIf",i.inventoryService.noFood),y(2),D("ngForOf",i.inventoryService.itemStacks),y(1),D("ngIf",i.inventoryService.selectedItem))},styles:[".inventoryContainer[_ngcontent-%COMP%]{position:relative;height:100%}.itemSlot[_ngcontent-%COMP%]{width:52px;height:52px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;height:calc(100% - 64px);overflow:auto;margin-top:2px;margin-left:2px;border-bottom:1px solid var(--panelBorder)}.inventoryButtons[_ngcontent-%COMP%]{position:absolute;bottom:1px;left:1px}table[_ngcontent-%COMP%]{width:100%}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function uq(n,t){if(1&n&&(So(0),m(1,"div",15),v(2),p(),bo()),2&n){const e=t.$implicit;y(1),D("ngClass",e.type),y(1),be(" ",e.message," ")}}let hq=(()=>{class n{constructor(e){this.logService=e}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(wn))},n.\u0275cmp=Ie({type:n,selectors:[["app-log-panel"]],decls:23,vars:9,consts:[[1,"log"],[1,"panelHeader"],[1,"headerNote"],[1,"filters"],["type","checkbox","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCrafting",3,"checked","change"],["for","filterCrafting"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],[1,"logBox"],[4,"ngFor","ngForOf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"h3",1)(2,"span"),v(3,"Log"),p(),m(4,"span",2),v(5,"Newest messages appear at the top, so read from the bottom up."),p(),m(6,"span",3)(7,"input",4),T("change",function(o){return i.topicFilter(o,"STORY")}),p(),m(8,"label",5),v(9,"Show Story Messages "),m(10,"span",6),v(11),p()(),m(12,"input",7),T("change",function(o){return i.topicFilter(o,"EVENT")}),p(),m(13,"label",8),v(14),p(),m(15,"input",9),T("change",function(o){return i.topicFilter(o,"CRAFTING")}),p(),m(16,"label",10),v(17),p(),m(18,"input",11),T("change",function(o){return i.topicFilter(o,"COMBAT")}),p(),m(19,"label",12),v(20),p()()(),m(21,"div",13),x(22,uq,3,2,"ng-container",14),p()()),2&e&&(y(7),D("checked",i.logService.logTopics.includes("STORY")),y(4),Ve(i.logService.newStory),y(1),D("checked",i.logService.logTopics.includes("EVENT")),y(2),be("Show Event Messages ",i.logService.newEvents,""),y(1),D("checked",i.logService.logTopics.includes("CRAFTING")),y(2),be("Show Crafting Messages ",i.logService.newCrafting,""),y(1),D("checked",i.logService.logTopics.includes("COMBAT")),y(2),be("Show Combat Messages ",i.logService.newCombat,""),y(2),D("ngForOf",i.logService.currentLog))},directives:[Ut,Ui],styles:[".log[_ngcontent-%COMP%]{flex-direction:column;max-height:180px;width:100%}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBox[_ngcontent-%COMP%]{overflow:auto;flex:1 1 auto;width:100%;height:150px}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap;flex:0 1 auto}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function dq(n,t){if(1&n){const e=ie();m(0,"mat-icon",33),T("click",function(){return H(e),E().impossibleTasksClicked()}),v(1," priority_high "),p()}}function fq(n,t){if(1&n){const e=ie();m(0,"span")(1,"mat-icon",34),T("click",function(){return H(e),E().ascensionStoreClicked()}),v(2," keyboard_double_arrow_up "),p()()}}const pq=function(n){return{darkMode:n}};let mq=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"floor",type:n,pure:!0}),n})(),gq=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"camelToTitle",type:n,pure:!0}),n})(),Jc=(()=>{class n{transform(e){return e<1e4?ii(e,"en-US","1.0-0"):e<1e6?ii(e/1e3,"en-US","1.0-2")+"K":e<1e9?ii(e/1e6,"en-US","1.0-2")+"M":e<1e12?ii(e/1e9,"en-US","1.0-2")+"B":e<1e15?ii(e/1e12,"en-US","1.0-2")+"T":e<1e18?ii(e/1e15,"en-US","1.0-2")+"q":ii(e/1e18,"en-US","1.0-2")+"Q"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=_t({name:"bigNumber",type:n,pure:!0}),n})(),vq=(()=>{class n{constructor(e,i,r,o,s,a){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=s,this.dialog=a,this.title="immortalityidle",this.applicationVersion=uM.appVersion}handleKeyboardEvent(e){"Space"==e.code&&(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}exportClicked(){this.dialog.open(WU,{width:"510px",data:{someField:"foo"}})}storeClicked(){this.dialog.open(BC,{width:"510px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(nU,{width:"500px",data:{someField:"foo"}})}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(cU,{width:"500px",data:{someField:"foo"}})}tutorialClicked(){this.dialog.open(YU,{width:"700px",data:{someField:"foo"}})}changelogClicked(){this.dialog.open(KU,{width:"700px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(_U,{width:"500px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(GU,{width:"500px",data:{someField:"foo"}})}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}}return n.\u0275fac=function(e){return new(e||n)(b(Cn),b(ai),b($o),b(je),b(Bo),b(Nc))},n.\u0275cmp=Ie({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&T("keydown",function(o){return i.handleKeyboardEvent(o)},!1,nv)},decls:48,vars:7,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused? Click here.",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",1,"iconButton",3,"click"],["type","checkbox","id","darkMode",3,"checked","change"],["for","darkMode"],["tooltip","Import or export your save game file. Sometimes immortals need a different browser.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],["href","https://discord.gg/Tyn9F9nhxg","target","_blank","rel","noopener noreferrer","tooltip","Have questions? Try the Immortality Idle Discord."],[1,"bodyContainer"],[1,"panelContainer"],[1,"leftPanel"],[1,"timePanel","panel"],[1,"attributesPanel","panel"],[1,"healthPanel","panel"],[1,"centerPanel"],[1,"activityPanel","panel"],[1,"battlePanel","panel"],[1,"rightPanel"],[1,"equipmentPanel","panel"],[1,"homePanel","panel"],[1,"inventoryPanel","panel"],[1,"logContainer"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),v(4," Immortality Idle - Can you become an immortal? "),m(5,"span",4),T("click",function(){return i.changelogClicked()}),v(6),p()(),m(7,"mat-icon",5),T("click",function(){return i.tutorialClicked()}),v(8," help "),p(),m(9,"span")(10,"mat-icon",6),T("click",function(){return i.storeClicked()}),v(11," local_library "),p(),m(12,"mat-icon",7),T("click",function(){return i.storeOptionsClicked()}),v(13," settings "),p()(),m(14,"mat-icon",8),T("click",function(){return i.achievementsClicked()}),v(15," military_tech "),p(),x(16,dq,2,0,"mat-icon",9),x(17,fq,3,0,"span",10),m(18,"span")(19,"a",11),T("click",function(o){return i.rebirthClicked(o)}),v(20,"Reincarnate"),p()(),m(21,"mat-icon",12),T("click",function(o){return i.saveClicked(o)}),v(22," save "),p(),m(23,"span")(24,"input",13),T("change",function(){return i.darkModeToggle()}),p(),m(25,"label",14),v(26,"Dark Mode"),p()(),m(27,"mat-icon",15),T("click",function(){return i.exportClicked()}),v(28," upload "),p(),m(29,"a",16),T("click",function(o){return i.hardResetClicked(o)}),v(30,"Hard Reset"),p(),m(31,"a",17),v(32,"Discord"),p()(),m(33,"div",18)(34,"div",19)(35,"div",20),W(36,"app-time-panel",21)(37,"app-attributes-panel",22)(38,"app-health-panel",23),p(),m(39,"div",24),W(40,"app-activity-panel",25)(41,"app-battle-panel",26),p(),m(42,"div",27),W(43,"app-equipment-panel",28)(44,"app-home-panel",29)(45,"app-inventory-panel",30),p()(),m(46,"div",31),W(47,"app-log-panel",32),p()()()()),2&e&&(D("ngClass",bt(5,pq,i.gameStateService.isDarkMode)),y(6),be("v",i.applicationVersion,""),y(10),D("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),y(1),D("ngIf",i.characterService.characterState.attributes.spirituality.value>10),y(7),D("checked",i.gameStateService.isDarkMode))},directives:[Ui,an,$t,qt,s3,hM,dM,v3,fM,pM,X3,mM,hq],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;overflow:auto}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex-grow:2;overflow:auto;min-height:500px}.logContainer[_ngcontent-%COMP%]{min-height:0;width:100%;flex-grow:1}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:435px;min-height:480px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;min-height:480px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;min-height:480px}.timePanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:200px}.attributesPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto;min-height:100px}.healthPanel[_ngcontent-%COMP%]{min-height:100px}.activityPanel[_ngcontent-%COMP%]{flex-grow:1;overflow:auto}.battlePanel[_ngcontent-%COMP%]{flex-grow:1;height:150px;min-height:150px;max-height:150px}.homePanel[_ngcontent-%COMP%]{min-height:150px}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;min-height:100px}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;min-height:100px;overflow:auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const yq=[LC,cM];let _q=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=nt({type:n,bootstrap:[vq]}),n.\u0275inj=Ke({providers:[_n],imports:[[U0,RN,xH,jj,cf,mU.forRoot({"show-delay":500,hideDelay:50}),...yq],LC,cM]}),n})();rr(hM,[an,$t,Ut,qt],[k0,wi,gq,_n]),rr(dM,[qt,an,$t],[mq,wi]),rr(mM,[qt,an,$t,Ut,Ui],[Jc,_n]),rr(pM,[Ui,$t,an],[_n,Ul,Jc]),rr(BC,[Ut,Ui,$t,an],[_n,Jc]),rr(fM,[an,$t,qt,Ut],[_n,Ul,Jc]),uM.production&&function KP(){XS=!1}(),iF().bootstrapModule(_q).catch(n=>console.error(n))},147:Ko=>{Ko.exports={i8:"1.0.32"}}},Ko=>{Ko(Ko.s=727)}]);