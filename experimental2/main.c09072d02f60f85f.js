"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{933:(ps,Rm,Fm)=>{function Me(n){return"function"==typeof n}function ku(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const xu=ku(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ja(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class ze{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Me(i))try{i()}catch(o){t=o instanceof xu?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Bm(o)}catch(s){t=null!=t?t:[],s instanceof xu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new xu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Bm(t);else{if(t instanceof ze){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ja(e,t)}remove(t){const{_finalizers:e}=this;e&&ja(e,t),t instanceof ze&&t._removeParent(this)}}ze.EMPTY=(()=>{const n=new ze;return n.closed=!0,n})();const Lm=ze.EMPTY;function Nm(n){return n instanceof ze||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function Bm(n){Me(n)?n():n.unsubscribe()}const gr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},qa={setTimeout(n,t,...e){const{delegate:i}=qa;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=qa;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Vm(n){qa.setTimeout(()=>{const{onUnhandledError:t}=gr;if(!t)throw n;t(n)})}function Tu(){}const ZM=Eu("C",void 0,void 0);function Eu(n,t,e){return{kind:n,value:t,error:e}}let vr=null;function $a(n){if(gr.useDeprecatedSynchronousErrorHandling){const t=!vr;if(t&&(vr={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=vr;if(vr=null,e)throw i}}else n()}class Au extends ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Nm(t)&&t.add(this)):this.destination=oD}static create(t,e,i){return new za(t,e,i)}next(t){this.isStopped?Iu(function eD(n){return Eu("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Iu(function XM(n){return Eu("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Iu(ZM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const nD=Function.prototype.bind;function Pu(n,t){return nD.call(n,t)}class iD{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){Ga(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){Ga(i)}else Ga(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){Ga(e)}}}class za extends Au{constructor(t,e,i){let r;if(super(),Me(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&gr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Pu(t.next,o),error:t.error&&Pu(t.error,o),complete:t.complete&&Pu(t.complete,o)}):r=t}this.destination=new iD(r)}}function Ga(n){gr.useDeprecatedSynchronousErrorHandling?function tD(n){gr.useDeprecatedSynchronousErrorHandling&&vr&&(vr.errorThrown=!0,vr.error=n)}(n):Vm(n)}function Iu(n,t){const{onStoppedNotification:e}=gr;e&&qa.setTimeout(()=>e(n,t))}const oD={closed:!0,next:Tu,error:function rD(n){throw n},complete:Tu},Ou="function"==typeof Symbol&&Symbol.observable||"@@observable";function $i(n){return n}let je=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function aD(n){return n&&n instanceof Au||function sD(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}(n)&&Nm(n)}(e)?e:new za(e,i,r);return $a(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Um(i))((r,o)=>{const s=new za({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[Ou](){return this}pipe(...e){return function Hm(n){return 0===n.length?$i:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Um(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Um(n){var t;return null!==(t=null!=n?n:gr.Promise)&&void 0!==t?t:Promise}const lD=ku(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ye=(()=>{class n extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new jm(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new lD}next(e){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){$a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Lm:(this.currentObservers=null,o.push(e),new ze(()=>{this.currentObservers=null,ja(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new je;return e.source=this,e}}return n.create=(t,e)=>new jm(t,e),n})();class jm extends ye{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Lm}}function qm(n){return Me(null==n?void 0:n.lift)}function Ze(n){return t=>{if(qm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ge(n,t,e,i,r){return new cD(n,t,e,i,r)}class cD extends Au{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function fe(n,t){return Ze((e,i)=>{let r=0;e.subscribe(Ge(i,o=>{i.next(n.call(t,o,r++))}))})}function yr(n){return this instanceof yr?(this.v=n,this):new yr(n)}function dD(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(m){i[m]&&(r[m]=function(g){return new Promise(function(y,b){o.push([m,g,y,b])>1||a(m,g)})})}function a(m,g){try{!function l(m){m.value instanceof yr?Promise.resolve(m.value.v).then(c,u):h(o[0][2],m)}(i[m](g))}catch(y){h(o[0][3],y)}}function c(m){a("next",m)}function u(m){a("throw",m)}function h(m,g){m(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function fD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Gm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Fu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Wm(n){return Me(null==n?void 0:n.then)}function Ym(n){return Me(n[Ou])}function Km(n){return Symbol.asyncIterator&&Me(null==n?void 0:n[Symbol.asyncIterator])}function Jm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Qm=function mD(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zm(n){return Me(null==n?void 0:n[Qm])}function Xm(n){return dD(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield yr(e.read());if(r)return yield yr(void 0);yield yield yr(i)}}finally{e.releaseLock()}})}function eg(n){return Me(null==n?void 0:n.getReader)}function sn(n){if(n instanceof je)return n;if(null!=n){if(Ym(n))return function gD(n){return new je(t=>{const e=n[Ou]();if(Me(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Fu(n))return function vD(n){return new je(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Wm(n))return function yD(n){return new je(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Vm)})}(n);if(Km(n))return tg(n);if(Zm(n))return function _D(n){return new je(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(eg(n))return function bD(n){return tg(Xm(n))}(n)}throw Jm(n)}function tg(n){return new je(t=>{(function SD(n,t){var e,i,r,o;return function uD(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=fD(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Mi(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ft(n,t,e=1/0){return Me(t)?ft((i,r)=>fe((o,s)=>t(i,o,r,s))(sn(n(i,r))),e):("number"==typeof t&&(e=t),Ze((i,r)=>function wD(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,h=!1;const m=()=>{h&&!l.length&&!c&&t.complete()},g=b=>c<i?y(b):l.push(b),y=b=>{o&&t.next(b),c++;let D=!1;sn(e(b,u++)).subscribe(Ge(t,T=>{null==r||r(T),o?g(T):t.next(T)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const T=l.shift();s?Mi(t,s,()=>y(T)):y(T)}m()}catch(T){t.error(T)}}))};return n.subscribe(Ge(t,g,()=>{h=!0,m()})),()=>{null==a||a()}}(i,r,n,e)))}function ms(n=1/0){return ft($i,n)}const Di=new je(n=>n.complete());function ng(n){return n&&Me(n.schedule)}function Lu(n){return n[n.length-1]}function ig(n){return Me(Lu(n))?n.pop():void 0}function gs(n){return ng(Lu(n))?n.pop():void 0}function rg(n,t=0){return Ze((e,i)=>{e.subscribe(Ge(i,r=>Mi(i,n,()=>i.next(r),t),()=>Mi(i,n,()=>i.complete(),t),r=>Mi(i,n,()=>i.error(r),t)))})}function og(n,t=0){return Ze((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function sg(n,t){if(!n)throw new Error("Iterable cannot be null");return new je(e=>{Mi(e,t,()=>{const i=n[Symbol.asyncIterator]();Mi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function _t(n,t){return t?function AD(n,t){if(null!=n){if(Ym(n))return function DD(n,t){return sn(n).pipe(og(t),rg(t))}(n,t);if(Fu(n))return function xD(n,t){return new je(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Wm(n))return function kD(n,t){return sn(n).pipe(og(t),rg(t))}(n,t);if(Km(n))return sg(n,t);if(Zm(n))return function TD(n,t){return new je(e=>{let i;return Mi(e,t,()=>{i=n[Qm](),Mi(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Me(null==i?void 0:i.return)&&i.return()})}(n,t);if(eg(n))return function ED(n,t){return sg(Xm(n),t)}(n,t)}throw Jm(n)}(n,t):sn(n)}function vs(...n){const t=gs(n),e=function MD(n,t){return"number"==typeof Lu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?sn(i[0]):ms(e)(_t(i,t)):Di}function Sn(n){return n<=0?()=>Di:Ze((t,e)=>{let i=0;t.subscribe(Ge(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function ag(n={}){const{connector:t=(()=>new ye),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,h=!1;const m=()=>{null==a||a.unsubscribe(),a=null},g=()=>{m(),s=l=null,u=h=!1},y=()=>{const b=s;g(),null==b||b.unsubscribe()};return Ze((b,D)=>{c++,!h&&!u&&m();const T=l=null!=l?l:t();D.add(()=>{c--,0===c&&!h&&!u&&(a=Nu(y,r))}),T.subscribe(D),s||(s=new za({next:M=>T.next(M),error:M=>{h=!0,m(),a=Nu(g,e,M),T.error(M)},complete:()=>{u=!0,m(),a=Nu(g,i),T.complete()}}),_t(b).subscribe(s))})(o)}}function Nu(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(Sn(1)).subscribe(()=>n())}function Ie(n){for(let t in n)if(n[t]===Ie)return t;throw Error("Could not find renamed property on target object.")}function Bu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Te(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Te).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Vu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const PD=Ie({__forward_ref__:Ie});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return Te(this())},n}function oe(n){return lg(n)?n():n}function lg(n){return"function"==typeof n&&n.hasOwnProperty(PD)&&n.__forward_ref__===Oe}class H extends Error{constructor(t,e){super(function Hu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function ne(n){return"string"==typeof n?n:null==n?"":String(n)}function Ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ne(n)}function Wa(n,t){const e=t?` in ${t}`:"";throw new H(-201,`No provider for ${Ut(n)} found${e}`)}function ln(n,t){null==n&&function He(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ue(n){return{providers:n.providers||[],imports:n.imports||[]}}function Uu(n){return cg(n,Ya)||cg(n,hg)}function cg(n,t){return n.hasOwnProperty(t)?n[t]:null}function ug(n){return n&&(n.hasOwnProperty(ju)||n.hasOwnProperty(BD))?n[ju]:null}const Ya=Ie({\u0275prov:Ie}),ju=Ie({\u0275inj:Ie}),hg=Ie({ngInjectableDef:Ie}),BD=Ie({ngInjectorDef:Ie});var ee=(()=>((ee=ee||{})[ee.Default=0]="Default",ee[ee.Host=1]="Host",ee[ee.Self=2]="Self",ee[ee.SkipSelf=4]="SkipSelf",ee[ee.Optional=8]="Optional",ee))();let qu;function zi(n){const t=qu;return qu=n,t}function dg(n,t,e){const i=Uu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ee.Optional?null:void 0!==t?t:void Wa(Te(n),"Injector")}function Gi(n){return{toString:n}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),Bn=(()=>{return(n=Bn||(Bn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Bn;var n})();const HD="undefined"!=typeof globalThis&&globalThis,UD="undefined"!=typeof window&&window,jD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae=HD||"undefined"!=typeof global&&global||UD||jD,eo={},Re=[],Ka=Ie({\u0275cmp:Ie}),$u=Ie({\u0275dir:Ie}),zu=Ie({\u0275pipe:Ie}),fg=Ie({\u0275mod:Ie}),xi=Ie({\u0275fac:Ie}),ys=Ie({__NG_ELEMENT_ID__:Ie});let qD=0;function pe(n){return Gi(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Re,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Bn.Emulated,id:"c",styles:n.styles||Re,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=qD++,i.inputs=vg(n.inputs,e),i.outputs=vg(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(pg):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(mg):null,i})}function Vn(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(pg),i.pipeDefs=()=>e.map(mg)}function pg(n){return Ot(n)||function Wi(n){return n[$u]||null}(n)}function mg(n){return function _r(n){return n[zu]||null}(n)}const gg={};function qe(n){return Gi(()=>{const t={type:n.type,bootstrap:n.bootstrap||Re,declarations:n.declarations||Re,imports:n.imports||Re,exports:n.exports||Re,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gg[n.id]=n.type),t})}function vg(n,t){if(null==n)return eo;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const q=pe;function Dt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ot(n){return n[Ka]||null}function wn(n,t){const e=n[fg]||null;if(!e&&!0===t)throw new Error(`Type ${Te(n)} does not have '\u0275mod' property.`);return e}function ii(n){return Array.isArray(n)&&"object"==typeof n[1]}function Un(n){return Array.isArray(n)&&!0===n[1]}function Yu(n){return 0!=(8&n.flags)}function Xa(n){return 2==(2&n.flags)}function el(n){return 1==(1&n.flags)}function jn(n){return null!==n.template}function YD(n){return 0!=(512&n[2])}function Cr(n,t){return n.hasOwnProperty(xi)?n[xi]:null}class QD{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Zt(){return _g}function _g(n){return n.type.prototype.ngOnChanges&&(n.setInput=XD),ZD}function ZD(){const n=Sg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===eo)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function XD(n,t,e,i){const r=Sg(n)||function ek(n,t){return n[bg]=t}(n,{previous:eo,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new QD(l&&l.currentValue,t,s===eo),n[i]=t}Zt.ngInherit=!0;const bg="__ngSimpleChanges__";function Sg(n){return n[bg]||null}let Xu;function eh(){return void 0!==Xu?Xu:"undefined"!=typeof document?document:void 0}function Ke(n){return!!n.listen}const wg={createRenderer:(n,t)=>eh()};function lt(n){for(;Array.isArray(n);)n=n[0];return n}function tl(n,t){return lt(t[n])}function Dn(n,t){return lt(t[n.index])}function th(n,t){return n.data[t]}function oo(n,t){return n[t]}function un(n,t){const e=t[n];return ii(e)?e:e[0]}function Cg(n){return 4==(4&n[2])}function nh(n){return 128==(128&n[2])}function Yi(n,t){return null==t?null:n[t]}function Mg(n){n[18]=0}function ih(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const te={lFrame:Ig(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Dg(){return te.bindingsEnabled}function E(){return te.lFrame.lView}function be(){return te.lFrame.tView}function F(n){return te.lFrame.contextLView=n,n[8]}function pt(){let n=kg();for(;null!==n&&64===n.type;)n=n.parent;return n}function kg(){return te.lFrame.currentTNode}function ri(n,t){const e=te.lFrame;e.currentTNode=n,e.isParent=t}function rh(){return te.lFrame.isParent}function oh(){te.lFrame.isParent=!1}function nl(){return te.isInCheckNoChangesMode}function il(n){te.isInCheckNoChangesMode=n}function jt(){const n=te.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ti(){return te.lFrame.bindingIndex}function so(){return te.lFrame.bindingIndex++}function Ei(n){const t=te.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function vk(n,t){const e=te.lFrame;e.bindingIndex=e.bindingRootIndex=n,sh(t)}function sh(n){te.lFrame.currentDirectiveIndex=n}function ah(n){const t=te.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function Eg(){return te.lFrame.currentQueryIndex}function lh(n){te.lFrame.currentQueryIndex=n}function _k(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Ag(n,t,e){if(e&ee.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&ee.Host||(r=_k(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=te.lFrame=Pg();return i.currentTNode=t,i.lView=n,!0}function rl(n){const t=Pg(),e=n[1];te.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Pg(){const n=te.lFrame,t=null===n?null:n.child;return null===t?Ig(n):t}function Ig(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Og(){const n=te.lFrame;return te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Rg=Og;function ol(){const n=Og();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function qt(){return te.lFrame.selectedIndex}function Ki(n){te.lFrame.selectedIndex=n}function Je(){const n=te.lFrame;return th(n.tView,n.selectedIndex)}function sl(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function al(n,t,e){Fg(n,t,3,e)}function ll(n,t,e,i){(3&n[2])===e&&Fg(n,t,e,i)}function ch(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Fg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(Tk(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function Tk(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Cs{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function cl(n,t,e){const i=Ke(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];hh(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function Lg(n){return 3===n||4===n||6===n}function hh(n){return 64===n.charCodeAt(0)}function ul(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Ng(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Ng(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Bg(n){return-1!==n}function ao(n){return 32767&n}function lo(n,t){let e=function Ok(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let dh=!0;function hl(n){const t=dh;return dh=n,t}let Rk=0;function Ds(n,t){const e=ph(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,fh(i.data,n),fh(t,null),fh(i.blueprint,null));const r=dl(n,t),o=n.injectorIndex;if(Bg(r)){const s=ao(r),a=lo(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function fh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ph(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function dl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function fl(n,t,e){!function Fk(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ys)&&(i=e[ys]),null==i&&(i=e[ys]=Rk++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function Ug(n,t,e){if(e&ee.Optional)return n;Wa(t,"NodeInjector")}function jg(n,t,e,i){if(e&ee.Optional&&void 0===i&&(i=null),0==(e&(ee.Self|ee.Host))){const r=n[9],o=zi(void 0);try{return r?r.get(t,i,e&ee.Optional):dg(t,i,e&ee.Optional)}finally{zi(o)}}return Ug(i,t,e)}function qg(n,t,e,i=ee.Default,r){if(null!==n){const o=function Vk(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ys)?n[ys]:void 0;return"number"==typeof t?t>=0?255&t:Nk:t}(e);if("function"==typeof o){if(!Ag(t,n,i))return i&ee.Host?Ug(r,e,i):jg(t,e,i,r);try{const s=o(i);if(null!=s||i&ee.Optional)return s;Wa(e)}finally{Rg()}}else if("number"==typeof o){let s=null,a=ph(n,t),l=-1,c=i&ee.Host?t[16][6]:null;for((-1===a||i&ee.SkipSelf)&&(l=-1===a?dl(n,t):t[a+8],-1!==l&&Gg(i,!1)?(s=t[1],a=ao(l),t=lo(l,t)):a=-1);-1!==a;){const u=t[1];if(zg(o,a,u.data)){const h=Bk(a,t,e,s,i,c);if(h!==$g)return h}l=t[a+8],-1!==l&&Gg(i,t[1].data[a+8]===c)&&zg(o,a,t)?(s=u,a=ao(l),t=lo(l,t)):a=-1}}}return jg(t,e,i,r)}const $g={};function Nk(){return new co(pt(),E())}function Bk(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=pl(a,s,e,null==i?Xa(a)&&dh:i!=s&&0!=(3&a.type),r&ee.Host&&o===a);return null!==u?ks(t,s,u,a):$g}function pl(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,m=r?a+u:n.directiveEnd;for(let g=i?a:a+u;g<m;g++){const y=s[g];if(g<l&&e===y||g>=l&&y.type===e)return g}if(r){const g=s[l];if(g&&jn(g)&&g.type===e)return l}return null}function ks(n,t,e,i){let r=n[e];const o=t.data;if(function Ek(n){return n instanceof Cs}(r)){const s=r;s.resolving&&function ID(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new H(-200,`Circular dependency in DI detected for ${n}${e}`)}(Ut(o[e]));const a=hl(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?zi(s.injectImpl):null;Ag(n,i,ee.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function xk(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=_g(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&zi(l),hl(a),s.resolving=!1,Rg()}}return r}function zg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Gg(n,t){return!(n&ee.Self||n&ee.Host&&t)}class co{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return qg(this._tNode,this._lView,t,i,e)}}function kt(n){return Gi(()=>{const t=n.prototype.constructor,e=t[xi]||mh(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[xi]||mh(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function mh(n){return lg(n)?()=>{const t=mh(oe(n));return t&&t()}:Cr(n)}function uo(n){return function Lk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Lg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(pt(),n)}const fo="__parameters__";function mo(n,t,e){return Gi(()=>{const i=function gh(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty(fo)?l[fo]:Object.defineProperty(l,fo,{value:[]})[fo];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class U{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Uk=new U("AnalyzeForEntryComponents");function kn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),kn(i,t)):t!==n&&t.push(i)}return t}function oi(n,t){n.forEach(e=>Array.isArray(e)?oi(e,t):t(e))}function Yg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function ml(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Es(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function hn(n,t,e){let i=go(n,t);return i>=0?n[1|i]=e:(i=~i,function $k(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function yh(n,t){const e=go(n,t);if(e>=0)return n[1|e]}function go(n,t){return function Qg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const As={},bh="__NG_DI_FLAG__",vl="ngTempTokenPath",Qk=/\n/gm,Xg="__source",Xk=Ie({provide:String,useValue:Ie});let Ps;function ev(n){const t=Ps;return Ps=n,t}function ex(n,t=ee.Default){if(void 0===Ps)throw new H(203,"");return null===Ps?dg(n,void 0,t):Ps.get(n,t&ee.Optional?null:void 0,t)}function S(n,t=ee.Default){return(function VD(){return qu}()||ex)(oe(n),t)}const yl=S;function Sh(n){const t=[];for(let e=0;e<n.length;e++){const i=oe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new H(900,"");let r,o=ee.Default;for(let s=0;s<i.length;s++){const a=i[s],l=tx(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(S(r,o))}else t.push(S(i))}return t}function Is(n,t){return n[bh]=t,n.prototype[bh]=t,n}function tx(n){return n[bh]}const _l=Is(mo("Inject",n=>({token:n})),-1),qn=Is(mo("Optional"),8),vo=Is(mo("SkipSelf"),4);let Sl,wl;function _o(n){var t;return(null===(t=function Ch(){if(void 0===Sl&&(Sl=null,Ae.trustedTypes))try{Sl=Ae.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Sl}())||void 0===t?void 0:t.createHTML(n))||n}function sv(n){var t;return(null===(t=function Mh(){if(void 0===wl&&(wl=null,Ae.trustedTypes))try{wl=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return wl}())||void 0===t?void 0:t.createHTML(n))||n}class Mr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class px extends Mr{getTypeName(){return"HTML"}}class mx extends Mr{getTypeName(){return"Style"}}class gx extends Mr{getTypeName(){return"Script"}}class vx extends Mr{getTypeName(){return"URL"}}class yx extends Mr{getTypeName(){return"ResourceURL"}}function dn(n){return n instanceof Mr?n.changingThisBreaksApplicationSecurity:n}function si(n,t){const e=cv(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function cv(n){return n instanceof Mr&&n.getTypeName()||null}class Mx{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_o(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Dx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=_o(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=_o(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const xx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Tx=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Rs(n){return(n=String(n)).match(xx)||n.match(Tx)?n:"unsafe:"+n}function ai(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Fs(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const dv=ai("area,br,col,hr,img,wbr"),fv=ai("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pv=ai("rp,rt"),Dh=Fs(dv,Fs(fv,ai("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fs(pv,ai("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fs(pv,fv)),kh=ai("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xh=ai("srcset"),mv=Fs(kh,xh,ai("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ai("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ex=ai("script,style,template");class Ax{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Dh.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ex.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!mv.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;kh[a]&&(l=Rs(l)),xh[a]&&(n=l,l=(n=String(n)).split(",").map(t=>Rs(t.trim())).join(", ")),this.buf.push(" ",s,'="',gv(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Dh.hasOwnProperty(e)&&!dv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Px=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ix=/([^\#-~ |!])/g;function gv(n){return n.replace(/&/g,"&amp;").replace(Px,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ix,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Cl;function vv(n,t){let e=null;try{Cl=Cl||function uv(n){const t=new Dx(n);return function kx(){try{return!!(new window.DOMParser).parseFromString(_o(""),"text/html")}catch(n){return!1}}()?new Mx(t):t}(n);let i=t?String(t):"";e=Cl.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Cl.getInertBodyElement(i)}while(i!==o);return _o((new Ax).sanitizeChildren(Th(e)||e))}finally{if(e){const i=Th(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Th(n){return"content"in n&&function Ox(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var ke=(()=>((ke=ke||{})[ke.NONE=0]="NONE",ke[ke.HTML=1]="HTML",ke[ke.STYLE=2]="STYLE",ke[ke.SCRIPT=3]="SCRIPT",ke[ke.URL=4]="URL",ke[ke.RESOURCE_URL=5]="RESOURCE_URL",ke))();function yv(n){const t=function Ls(){const n=E();return n&&n[12]}();return t?sv(t.sanitize(ke.HTML,n)||""):si(n,"HTML")?sv(dn(n)):vv(eh(),ne(n))}const Sv="__ngContext__";function Ft(n,t){n[Sv]=t}function Ph(n){const t=function Ns(n){return n[Sv]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Oh(n){return n.ngOriginalError}function Kx(n,...t){n.error(...t)}class Qi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function Yx(n){return n&&n.ngErrorLogger||Kx}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Oh(t);for(;e&&Oh(e);)e=Oh(e);return e||null}}const oT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ae))();function kv(n){return n.ownerDocument}function li(n){return n instanceof Function?n():n}var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();function Fh(n,t){return undefined(n,t)}function Bs(n){const t=n[3];return Un(t)?t[3]:t}function Lh(n){return Pv(n[13])}function Nh(n){return Pv(n[4])}function Pv(n){for(;null!==n&&!Un(n);)n=n[4];return n}function So(n,t,e,i,r){if(null!=i){let o,s=!1;Un(i)?o=i:ii(i)&&(s=!0,i=i[0]);const a=lt(i);0===n&&null!==e?null==r?Nv(t,e,a):Dr(t,e,a,r||null,!0):1===n&&null!==e?Dr(t,e,a,r||null,!0):2===n?function $v(n,t,e){const i=Ml(n,t);i&&function yT(n,t,e,i){Ke(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function ST(n,t,e,i,r){const o=e[7];o!==lt(e)&&So(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];Vs(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function Vh(n,t,e){if(Ke(n))return n.createElement(t,e);{const i=null!==e?function rk(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Ov(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,ih(r,-1)),e.splice(i,1)}function Hh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Ov(r,i),t>0&&(n[e-1][4]=i[4]);const o=ml(n,10+t);!function uT(n,t){Vs(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Rv(n,t){if(!(256&t[2])){const e=t[11];Ke(e)&&e.destroyNode&&Vs(n,t,e,3,null,null),function fT(n){let t=n[13];if(!t)return Uh(n[1],n);for(;t;){let e=null;if(ii(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ii(t)&&Uh(t[1],t),t=t[3];null===t&&(t=n),ii(t)&&Uh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Uh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function vT(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Cs)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function gT(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):lt(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Ke(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Un(t[3])){e!==t[3]&&Ov(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Fv(n,t,e){return function Lv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Bn.None||r===Bn.Emulated)return null}return Dn(i,e)}(n,t.parent,e)}function Dr(n,t,e,i,r){Ke(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function Nv(n,t,e){Ke(n)?n.appendChild(t,e):t.appendChild(e)}function Bv(n,t,e,i,r){null!==i?Dr(n,t,e,i,r):Nv(n,t,e)}function Ml(n,t){return Ke(n)?n.parentNode(t):t.parentNode}function Vv(n,t,e){return Uv(n,t,e)}let Uv=function Hv(n,t,e){return 40&n.type?Dn(n,e):null};function Dl(n,t,e,i){const r=Fv(n,i,t),o=t[11],a=Vv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Bv(o,r,e[l],a,!1);else Bv(o,r,e,a,!1)}function kl(n,t){if(null!==t){const e=t.type;if(3&e)return Dn(t,n);if(4&e)return qh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return kl(n,i);{const r=n[t.index];return Un(r)?qh(-1,r):lt(r)}}if(32&e)return Fh(t,n)()||lt(n[t.index]);{const i=qv(n,t);return null!==i?Array.isArray(i)?i[0]:kl(Bs(n[16]),i):kl(n,t.next)}}return null}function qv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function qh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return kl(i,r)}return t[7]}function $h(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&Ft(lt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)$h(n,t,e.child,i,r,o,!1),So(t,n,r,a,o);else if(32&l){const c=Fh(e,i);let u;for(;u=c();)So(t,n,r,u,o);So(t,n,r,a,o)}else 16&l?zv(n,t,i,e,r,o):So(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Vs(n,t,e,i,r,o){$h(e,i,n.firstChild,t,r,o,!1)}function zv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)So(t,n,r,l[c],o);else $h(n,t,l,s[3],r,o,!0)}function Gv(n,t,e){Ke(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function zh(n,t,e){Ke(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Wv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Yv="ng-template";function CT(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Wv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Kv(n){return 4===n.type&&n.value!==Yv}function MT(n,t,e){return t===(4!==n.type||e?n.value:Yv)}function DT(n,t,e){let i=4;const r=n.attrs||[],o=function TT(n){for(let t=0;t<n.length;t++)if(Lg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!MT(n,l,e)||""===l&&1===t.length){if($n(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!CT(n.attrs,c,e)){if($n(i))return!1;s=!0}continue}const h=kT(8&i?"class":l,r,Kv(n),e);if(-1===h){if($n(i))return!1;s=!0;continue}if(""!==c){let m;m=h>o?"":r[h+1].toLowerCase();const g=8&i?m:null;if(g&&-1!==Wv(g,c,0)||2&i&&c!==m){if($n(i))return!1;s=!0}}}}else{if(!s&&!$n(i)&&!$n(l))return!1;if(s&&$n(l))continue;s=!1,i=l|1&i}}return $n(i)||s}function $n(n){return 0==(1&n)}function kT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function ET(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Jv(n,t,e=!1){for(let i=0;i<t.length;i++)if(DT(n,t[i],e))return!0;return!1}function AT(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Qv(n,t){return n?":not("+t.trim()+")":t}function PT(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!$n(s)&&(t+=Qv(o,r),r=""),i=s,o=o||!$n(i);e++}return""!==r&&(t+=Qv(o,r)),t}const ie={};function v(n){Zv(be(),E(),qt()+n,nl())}function Zv(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&al(t,o,e)}else{const o=n.preOrderHooks;null!==o&&ll(t,o,0,e)}Ki(e)}function xl(n,t){return n<<17|t<<2}function zn(n){return n>>17&32767}function Gh(n){return 2|n}function Ai(n){return(131068&n)>>2}function Wh(n,t){return-131069&n|t<<2}function Yh(n){return 1|n}function cy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];lh(r),s.contentQueries(2,t[o],o)}}}function Hs(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Mg(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function wo(n,t,e,i,r){let o=n.data[t];if(null===o)o=function id(n,t,e,i,r){const o=kg(),s=rh(),l=n.data[t]=function KT(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function gk(){return te.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function ws(){const n=te.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return ri(o,!0),o}function Co(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Us(n,t,e){rl(t);try{const i=n.viewQuery;null!==i&&dd(1,i,e);const r=n.template;null!==r&&uy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cy(n,t),n.staticViewQueries&&dd(2,n.viewQuery,e);const o=n.components;null!==o&&function GT(n,t){for(let e=0;e<t.length;e++)fE(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ol()}}function Mo(n,t,e,i){const r=t[2];if(256==(256&r))return;rl(t);const o=nl();try{Mg(t),function xg(n){return te.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&uy(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&al(t,c,null)}else{const c=n.preOrderHooks;null!==c&&ll(t,c,0,null),ch(t,0)}if(function hE(n){for(let t=Lh(n);null!==t;t=Nh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&ih(o,1),r[2]|=1024}}}(t),function uE(n){for(let t=Lh(n);null!==t;t=Nh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];nh(i)&&Mo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&cy(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&al(t,c)}else{const c=n.contentHooks;null!==c&&ll(t,c,1),ch(t,1)}!function $T(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ki(~r);else{const o=r,s=e[++i],a=e[++i];vk(s,o),a(2,t[o])}}}finally{Ki(-1)}}(n,t);const a=n.components;null!==a&&function zT(n,t){for(let e=0;e<t.length;e++)dE(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&dd(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&al(t,c)}else{const c=n.viewHooks;null!==c&&ll(t,c,2),ch(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,ih(t[3],-1))}finally{ol()}}function WT(n,t,e,i){const r=t[10],o=!nl(),s=Cg(t);try{o&&!s&&r.begin&&r.begin(),s&&Us(n,t,i),Mo(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function uy(n,t,e,i,r){const o=qt(),s=2&i;try{Ki(-1),s&&t.length>20&&Zv(n,t,20,nl()),e(i,r)}finally{Ki(o)}}function hy(n,t,e){if(Yu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function rd(n,t,e){!Dg()||(function nE(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Ds(e,t),Ft(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=jn(l);c&&aE(t,e,l);const u=ks(t,n,a,e);Ft(u,t),null!==s&&lE(0,a-r,u,l,0,s),c&&(un(e.index,t)[8]=u)}}(n,t,e,Dn(e,t)),128==(128&e.flags)&&function iE(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function yk(){return te.lFrame.currentDirectiveIndex}();try{Ki(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];sh(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&_y(c,u)}}finally{Ki(-1),sh(a)}}(n,t,e))}function od(n,t,e=Dn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function dy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Al(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Al(n,t,e,i,r,o,s,a,l,c){const u=20+i,h=u+r,m=function YT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ie);return e}(u,h),g="function"==typeof c?c():c;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1}}function my(n,t,e,i){const r=Dy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&ky(n).push(i,r.length-1))}function gy(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function pn(n,t,e,i,r,o,s,a){const l=Dn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(Ey(n,e,u,i,r),Xa(t)&&function ZT(n,t){const e=un(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function QT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Ke(o)?o.setProperty(l,i,r):hh(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function sd(n,t,e,i){let r=!1;if(Dg()){const o=function rE(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Jv(e,s.selectors,!1)&&(r||(r=[]),fl(Ds(e,t),n,s.type),jn(s)?(by(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,Sy(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=Co(n,t,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];e.mergedAttrs=ul(e.mergedAttrs,h.hostAttrs),wy(n,e,t,c,h),sE(c,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const m=h.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function JT(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],h=u.inputs,m=null===o||Kv(t)?null:cE(h,o);s.push(m),a=gy(h,c,a),l=gy(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function oE(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new H(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=ul(e.mergedAttrs,e.attrs),r}function yy(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function tE(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function _y(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function by(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function sE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;jn(t)&&(e[""]=n)}}function Sy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function wy(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Cr(r.type)),s=new Cs(o,jn(r),null);n.blueprint[i]=s,e[i]=s,yy(n,t,0,i,Co(n,e,r.hostVars,ie),r)}function aE(n,t,e){const i=Dn(t,n),r=dy(e),o=n[10],s=Pl(n,Hs(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function ci(n,t,e,i,r,o){const s=Dn(n,t);!function ad(n,t,e,i,r,o,s){if(null==o)Ke(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?ne(o):s(o,i||"",r);Ke(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function lE(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function cE(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Cy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function dE(n,t){const e=un(t,n);if(nh(e)){const i=e[1];80&e[2]?Mo(i,e,i.template,e[8]):e[5]>0&&ld(e)}}function ld(n){for(let i=Lh(n);null!==i;i=Nh(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];Mo(s,o,s.template,o[8])}else o[5]>0&&ld(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=un(e[i],n);nh(r)&&r[5]>0&&ld(r)}}function fE(n,t){const e=un(t,n),i=e[1];(function pE(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Us(i,e,e[8])}function Pl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function cd(n){for(;n;){n[2]|=64;const t=Bs(n);if(YD(n)&&!t)return n;n=t}return null}function hd(n,t,e){const i=t[10];i.begin&&i.begin();try{Mo(n,t,n.template,e)}catch(r){throw Ty(t,r),r}finally{i.end&&i.end()}}function My(n){!function ud(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Ph(e),r=i[1];WT(r,i,r.template,e)}}(n[8])}function dd(n,t,e){lh(0),t(n,e)}const yE=(()=>Promise.resolve(null))();function Dy(n){return n[7]||(n[7]=[])}function ky(n){return n.cleanup||(n.cleanup=[])}function xy(n,t,e){return(null===n||jn(n))&&(e=function ak(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function Ty(n,t){const e=n[9],i=e?e.get(Qi,null):null;i&&i.handleError(t)}function Ey(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Pi(n,t,e){const i=tl(t,n);!function Iv(n,t,e){Ke(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Il(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Vu(r,a):2==o&&(i=Vu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const fd=new U("INJECTOR",-1);class Ay{get(t,e=As){if(e===As){const i=new Error(`NullInjectorError: No provider for ${Te(t)}!`);throw i.name="NullInjectorError",i}return e}}const pd=new U("Set Injector scope."),js={},SE={};let md;function Py(){return void 0===md&&(md=new Ay),md}function Iy(n,t=null,e=null,i){const r=Oy(n,t,e,i);return r._resolveInjectorDefTypes(),r}function Oy(n,t=null,e=null,i){return new wE(n,e,t||Py(),i)}class wE{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&oi(e,a=>this.processProvider(a,t,e)),oi([t],a=>this.processInjectorType(a,[],o)),this.records.set(fd,Do(void 0,this));const s=this.records.get(pd);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Te(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=As,i=ee.Default){this.assertNotDestroyed();const r=ev(this),o=zi(void 0);try{if(!(i&ee.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function AE(n){return"function"==typeof n||"object"==typeof n&&n instanceof U}(t)&&Uu(t);a=l&&this.injectableDefInScope(l)?Do(gd(t),js):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ee.Self?Py():this.parent).get(t,e=i&ee.Optional&&e===As?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[vl]=s[vl]||[]).unshift(Te(t)),r)throw s;return function nx(n,t,e,i){const r=n[vl];throw t[Xg]&&r.unshift(t[Xg]),n.message=function ix(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Te(t);if(Array.isArray(t))r=t.map(Te).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Te(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(Qk,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[vl]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{zi(o),ev(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Te(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processInjectorType(t,e,i){if(!(t=oe(t)))return!1;let r=ug(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=ug(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{oi(r.imports,h=>{this.processInjectorType(h,e,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:m,providers:g}=u[h];oi(g,y=>this.processProvider(y,m,g||Re))}}this.injectorDefTypes.add(s);const l=Cr(s)||(()=>new s);this.records.set(s,Do(l,js));const c=r.providers;if(null!=c&&!a){const u=t;oi(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=ko(t=oe(t))?t:oe(t&&t.provide);const o=function ME(n,t,e){return Fy(n)?Do(void 0,n.useValue):Do(Ry(n),js)}(t);if(ko(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Do(void 0,js,!0),s.factory=()=>Sh(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===js&&(e.value=SE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function EE(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=oe(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function gd(n){const t=Uu(n),e=null!==t?t.factory:Cr(n);if(null!==e)return e;if(n instanceof U)throw new H(204,!1);if(n instanceof Function)return function CE(n){const t=n.length;if(t>0)throw Es(t,"?"),new H(204,!1);const e=function LD(n){const t=n&&(n[Ya]||n[hg]);if(t){const e=function ND(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new H(204,!1)}function Ry(n,t,e){let i;if(ko(n)){const r=oe(n);return Cr(r)||gd(r)}if(Fy(n))i=()=>oe(n.useValue);else if(function kE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Sh(n.deps||[]));else if(function DE(n){return!(!n||!n.useExisting)}(n))i=()=>S(oe(n.useExisting));else{const r=oe(n&&(n.useClass||n.provide));if(!function TE(n){return!!n.deps}(n))return Cr(r)||gd(r);i=()=>new r(...Sh(n.deps))}return i}function Do(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Fy(n){return null!==n&&"object"==typeof n&&Xk in n}function ko(n){return"function"==typeof n}let Fe=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return Iy({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return Iy({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=As,n.NULL=new Ay,n.\u0275prov=L({token:n,providedIn:"any",factory:()=>S(fd)}),n.__NG_ELEMENT_ID__=-1,n})();function BE(n,t){sl(Ph(n)[1],pt())}function re(n){let t=function Wy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(jn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new H(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=_d(n.inputs),s.declaredInputs=_d(n.declaredInputs),s.outputs=_d(n.outputs);const a=r.hostBindings;a&&jE(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&HE(n,l),c&&UE(n,c),Bu(n.inputs,r.inputs),Bu(n.declaredInputs,r.declaredInputs),Bu(n.outputs,r.outputs),jn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===re&&(e=!1)}}t=Object.getPrototypeOf(t)}!function VE(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ul(r.hostAttrs,e=ul(e,r.hostAttrs))}}(i)}function _d(n){return n===eo?{}:n===Re?[]:n}function HE(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function UE(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function jE(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Ol=null;function xo(){if(!Ol){const n=Ae.Symbol;if(n&&n.iterator)Ol=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ol=i)}}}return Ol}function qs(n){return!!bd(n)&&(Array.isArray(n)||!(n instanceof Map)&&xo()in n)}function bd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ui(n,t,e){return n[t]=e}function Lt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function kr(n,t,e,i){const r=Lt(n,t,e);return Lt(n,t+1,i)||r}function xn(n,t,e,i,r,o){const s=kr(n,t,e,i);return kr(n,t+2,r,o)||s}function et(n,t,e,i){const r=E();return Lt(r,so(),t)&&(be(),ci(Je(),r,n,t,e,i)),et}function Eo(n,t,e,i){return Lt(n,so(),e)?t+ne(e)+i:ie}function Ao(n,t,e,i,r,o){const a=kr(n,Ti(),e,r);return Ei(2),a?t+ne(e)+i+ne(r)+o:ie}function Po(n,t,e,i,r,o,s,a){const c=function Rl(n,t,e,i,r){const o=kr(n,t,e,i);return Lt(n,t+2,r)||o}(n,Ti(),e,r,s);return Ei(3),c?t+ne(e)+i+ne(r)+o+ne(s)+a:ie}function k(n,t,e,i,r,o,s,a){const l=E(),c=be(),u=n+20,h=c.firstCreatePass?function KE(n,t,e,i,r,o,s,a,l){const c=t.consts,u=wo(t,n,4,s||null,Yi(c,a));sd(t,e,u,Yi(c,l)),sl(t,u);const h=u.tViews=Al(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];ri(h,!1);const m=l[11].createComment("");Dl(c,l,m,h),Ft(m,l),Pl(l,l[u]=Cy(m,l,m,h)),el(h)&&rd(c,l,h),null!=s&&od(l,h,a)}function xt(n){return oo(function mk(){return te.lFrame.contextLView}(),20+n)}function _(n,t=ee.Default){const e=E();return null===e?S(n,t):qg(pt(),e,oe(n),t)}function Ll(){throw new Error("invalid")}function w(n,t,e){const i=E();return Lt(i,so(),t)&&pn(be(),Je(),i,n,t,i[11],e,!1),w}function Dd(n,t,e,i,r){const s=r?"class":"style";Ey(n,e,t.inputs[s],s,i)}function f(n,t,e,i){const r=E(),o=be(),s=20+n,a=r[11],l=r[s]=Vh(a,t,function kk(){return te.lFrame.currentNamespace}()),c=o.firstCreatePass?function gA(n,t,e,i,r,o,s){const a=t.consts,c=wo(t,n,2,r,Yi(a,o));return sd(t,e,c,Yi(a,s)),null!==c.attrs&&Il(c,c.attrs,!1),null!==c.mergedAttrs&&Il(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];ri(c,!0);const u=c.mergedAttrs;null!==u&&cl(a,l,u);const h=c.classes;null!==h&&zh(a,l,h);const m=c.styles;return null!==m&&Gv(a,l,m),64!=(64&c.flags)&&Dl(o,r,l,c),0===function uk(){return te.lFrame.elementDepthCount}()&&Ft(l,r),function hk(){te.lFrame.elementDepthCount++}(),el(c)&&(rd(o,r,c),hy(o,c,r)),null!==i&&od(r,c),f}function d(){let n=pt();rh()?oh():(n=n.parent,ri(n,!1));const t=n;!function dk(){te.lFrame.elementDepthCount--}();const e=be();return e.firstCreatePass&&(sl(e,n),Yu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Pk(n){return 0!=(16&n.flags)}(t)&&Dd(e,t,E(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Ik(n){return 0!=(32&n.flags)}(t)&&Dd(e,t,E(),t.stylesWithoutHost,!1),d}function V(n,t,e,i){return f(n,t,e,i),d(),V}function Bo(n,t,e){const i=E(),r=be(),o=n+20,s=r.firstCreatePass?function vA(n,t,e,i,r){const o=t.consts,s=Yi(o,i),a=wo(t,n,8,"ng-container",s);return null!==s&&Il(a,s,!0),sd(t,e,a,Yi(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];ri(s,!0);const a=i[o]=i[11].createComment("");return Dl(r,i,a,s),Ft(a,i),el(s)&&(rd(r,i,s),hy(r,s,i)),null!=e&&od(i,s),Bo}function Vo(){let n=pt();const t=be();return rh()?oh():(n=n.parent,ri(n,!1)),t.firstCreatePass&&(sl(t,n),Yu(n)&&t.queries.elementEnd(n)),Vo}function kd(n,t,e){return Bo(n,t,e),Vo(),kd}function G(){return E()}function zs(n){return!!n&&"function"==typeof n.then}const xd=function f_(n){return!!n&&"function"==typeof n.subscribe};function x(n,t,e,i){const r=E(),o=be(),s=pt();return p_(o,r,r[11],s,n,t,!!e,i),x}function Td(n,t){const e=pt(),i=E(),r=be();return p_(r,i,xy(ah(r.data),e,i),e,n,t,!1),Td}function p_(n,t,e,i,r,o,s,a){const l=el(i),u=n.firstCreatePass&&ky(n),h=t[8],m=Dy(t);let g=!0;if(3&i.type||a){const D=Dn(i,t),T=a?a(D):D,M=m.length,A=a?R=>a(lt(R[i.index])):i.index;if(Ke(e)){let R=null;if(!a&&l&&(R=function yA(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,g=!1;else{o=Ed(i,t,h,o,!1);const z=e.listen(T,r,o);m.push(o,z),u&&u.push(r,A,M,M+1)}}else o=Ed(i,t,h,o,!0),T.addEventListener(r,o,s),m.push(o),u&&u.push(r,A,M,s)}else o=Ed(i,t,h,o,!1);const y=i.outputs;let b;if(g&&null!==y&&(b=y[r])){const D=b.length;if(D)for(let T=0;T<D;T+=2){const De=t[b[T]][b[T+1]].subscribe(o),xe=m.length;m.push(o,De),u&&u.push(r,i.index,xe,-(xe+1))}}}function m_(n,t,e,i){try{return!1!==e(i)}catch(r){return Ty(n,r),!1}}function Ed(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?un(n.index,t):t;0==(32&t[2])&&cd(a);let l=m_(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=m_(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function C(n=1){return function bk(n){return(te.lFrame.contextLView=function Sk(n,t){for(;n>0;)t=t[15],n--;return t}(n,te.lFrame.contextLView))[8]}(n)}function _A(n,t){let e=null;const i=function xT(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Jv(n,o,!0):AT(i,o))return r}else e=r}return e}function Nl(n){const t=E()[16][6];if(!t.projection){const i=t.projection=Es(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?_A(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function Bl(n,t=0,e){const i=E(),r=be(),o=wo(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),oh(),64!=(64&o.flags)&&function bT(n,t,e){zv(t[11],0,t,e,Fv(n,e,t),Vv(e.parent||t[6],e,t))}(r,i,o)}function me(n,t,e){return Tn(n,"",t,"",e),me}function Tn(n,t,e,i,r){const o=E(),s=Eo(o,t,e,i);return s!==ie&&pn(be(),Je(),o,n,s,o[11],r,!1),Tn}function xr(n,t,e,i,r,o,s){const a=E(),l=Ao(a,t,e,i,r,o);return l!==ie&&pn(be(),Je(),a,n,l,a[11],s,!1),xr}function Ad(n,t,e,i,r,o,s,a,l){const c=E(),u=Po(c,t,e,i,r,o,s,a);return u!==ie&&pn(be(),Je(),c,n,u,c[11],l,!1),Ad}function Pd(n,t,e,i,r,o,s,a,l,c,u,h,m,g,y,b,D,T,M){const A=E(),R=function Lo(n,t,e,i,r,o,s,a,l,c,u,h,m,g,y,b,D,T){const M=Ti();let A=xn(n,M,e,r,s,l);return A=xn(n,M+4,u,m,y,D)||A,Ei(8),A?t+ne(e)+i+ne(r)+o+ne(s)+a+ne(l)+c+ne(u)+h+ne(m)+g+ne(y)+b+ne(D)+T:ie}(A,t,e,i,r,o,s,a,l,c,u,h,m,g,y,b,D,T);return R!==ie&&pn(be(),Je(),A,n,R,A[11],M,!1),Pd}function S_(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?zn(o):Ai(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];wA(n[a],t)&&(l=!0,n[a+1]=i?Yh(u):Gh(u)),a=i?zn(u):Ai(u)}l&&(n[e+1]=i?Gh(o):Yh(o))}function wA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&go(n,t)>=0}function Wn(n,t,e){return Yn(n,t,e,!1),Wn}function Tt(n,t){return Yn(n,t,null,!0),Tt}function Yn(n,t,e,i){const r=E(),o=be(),s=Ei(2);o.firstUpdatePass&&function E_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[qt()],s=function T_(n,t){return t>=n.expandoStartIndex}(n,e);(function O_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function PA(n,t,e,i){const r=ah(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Gs(e=Id(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=Id(r,n,t,e,i),null===o){let l=function IA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Ai(i))return n[zn(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Id(null,n,t,l[1],i),l=Gs(l,t.attrs,i),function OA(n,t,e,i){n[zn(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function RA(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Gs(i,n[o].hostAttrs,e);return Gs(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function bA(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=zn(s),l=Ai(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||go(h,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const m=zn(n[a+1]);n[i+1]=xl(m,a),0!==m&&(n[m+1]=Wh(n[m+1],i)),n[a+1]=function RT(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=xl(a,0),0!==a&&(n[a+1]=Wh(n[a+1],i)),a=i;else n[i+1]=xl(l,0),0===a?a=i:n[l+1]=Wh(n[l+1],i),l=i;c&&(n[i+1]=Gh(n[i+1])),S_(n,u,i,!0),S_(n,u,i,!1),function SA(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&go(o,t)>=0&&(e[i+1]=Yh(e[i+1]))}(t,u,n,i,o),s=xl(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==ie&&Lt(r,s,t)&&function P_(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Vl(function ty(n){return 1==(1&n)}(c)?I_(l,t,e,r,Ai(c),s):void 0)||(Vl(o)||function ey(n){return 2==(2&n)}(c)&&(o=I_(l,null,e,r,a,s)),function wT(n,t,e,i,r){const o=Ke(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:fn.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=fn.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,tl(qt(),e),r,o))}(o,o.data[qt()],r,r[11],n,r[s+1]=function NA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Te(dn(n)))),n}(t,e),i,s)}function Id(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Gs(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Gs(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),hn(n,s,!!e||t[++o]))}return void 0===n?null:n}function I_(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let m=e[r+1];m===ie&&(m=h?Re:void 0);let g=h?yh(m,i):u===i?m:void 0;if(c&&!Vl(g)&&(g=yh(l,i)),Vl(g)&&(a=g,s))return a;const y=n[r+1];r=s?zn(y):Ai(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=yh(l,i))}return a}function Vl(n){return void 0!==n}function p(n,t=""){const e=E(),i=be(),r=n+20,o=i.firstCreatePass?wo(i,r,1,t,null):i.data[r],s=e[r]=function Bh(n,t){return Ke(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Dl(i,e,s,o),ri(o,!1)}function Se(n){return O("",n,""),Se}function O(n,t,e){const i=E(),r=Eo(i,n,t,e);return r!==ie&&Pi(i,qt(),r),O}function Xt(n,t,e,i,r){const o=E(),s=Ao(o,n,t,e,i,r);return s!==ie&&Pi(o,qt(),s),Xt}function Hl(n,t,e,i,r,o,s){const a=E(),l=Po(a,n,t,e,i,r,o,s);return l!==ie&&Pi(a,qt(),l),Hl}function Od(n,t,e){const i=E();return Lt(i,so(),t)&&pn(be(),Je(),i,n,t,i[11],e,!0),Od}function Rd(n,t,e){const i=E();if(Lt(i,so(),t)){const o=be(),s=Je();pn(o,s,i,n,t,xy(ah(o.data),s,i),e,!0)}return Rd}const Tr=void 0;var iP=["en",[["a","p"],["AM","PM"],Tr],[["AM","PM"],Tr,Tr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tr,"{1} 'at' {0}",Tr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nP(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Uo={};function zt(n){const t=function rP(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=J_(t);if(e)return e;const i=t.split("-")[0];if(e=J_(i),e)return e;if("en"===i)return iP;throw new Error(`Missing locale data for the locale "${n}".`)}function J_(n){return n in Uo||(Uo[n]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[n]),Uo[n]}var B=(()=>((B=B||{})[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B))();const Ul="en-US";let Q_=Ul;function Nd(n,t,e,i,r){if(n=oe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Nd(n[o],t,e,i,r);else{const o=be(),s=E();let a=ko(n)?n:oe(n.provide),l=Ry(n);const c=pt(),u=1048575&c.providerIndexes,h=c.directiveStart,m=c.providerIndexes>>20;if(ko(n)||!n.multi){const g=new Cs(l,r,_),y=Vd(a,t,r?u:u+m,h);-1===y?(fl(Ds(c,s),o,a),Bd(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(g),s.push(g)):(e[y]=g,s[y]=g)}else{const g=Vd(a,t,u+m,h),y=Vd(a,t,u,u+m),b=g>=0&&e[g],D=y>=0&&e[y];if(r&&!D||!r&&!b){fl(Ds(c,s),o,a);const T=function nI(n,t,e,i,r){const o=new Cs(n,e,_);return o.multi=[],o.index=t,o.componentProviders=0,Sb(o,r,i&&!e),o}(r?tI:eI,e.length,r,i,l);!r&&D&&(e[y].providerFactory=T),Bd(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(T),s.push(T)}else Bd(o,n,g>-1?g:y,Sb(e[r?y:g],l,!r&&i));!r&&i&&D&&e[y].componentProviders++}}}function Bd(n,t,e,i){const r=ko(t),o=function xE(n){return!!n.useClass}(t);if(r||o){const l=(o?oe(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Sb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Vd(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function eI(n,t,e,i){return Hd(this.multi,[])}function tI(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ks(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),Hd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Hd(r,o);return o}function Hd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Le(n,t=[]){return e=>{e.providersResolver=(i,r)=>function XP(n,t,e){const i=be();if(i.firstCreatePass){const r=jn(n);Nd(e,i.data,i.blueprint,r,!0),Nd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class wb{}class oI{resolveComponentFactory(t){throw function rI(n){const t=Error(`No component factory found for ${Te(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ii=(()=>{class n{}return n.NULL=new oI,n})();function sI(){return qo(pt(),E())}function qo(n,t){return new we(Dn(n,t))}let we=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=sI,n})();function aI(n){return n instanceof we?n.nativeElement:n}class Qs{}let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function cI(){const n=E(),e=un(pt().index,n);return function lI(n){return n[11]}(ii(e)?e:n)}(),n})(),uI=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>null}),n})();class Er{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const hI=new Er("13.3.3"),Ud={};function Gl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(lt(o)),Un(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&Gl(l[1],l,c,i)}const s=e.type;if(8&s)Gl(n,t,e.child,i);else if(32&s){const a=Fh(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=qv(t,e);if(Array.isArray(a))i.push(...a);else{const l=Bs(t[16]);Gl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Zs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Gl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Un(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Hh(t,i),ml(e,i))}this._attachedToViewContainer=!1}Rv(this._lView[1],this._lView)}onDestroy(t){my(this._lView[1],this._lView,null,t)}markForCheck(){cd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){hd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function gE(n,t,e){il(!0);try{hd(n,t,e)}finally{il(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new H(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dT(n,t){Vs(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new H(902,"");this._appRef=t}}class dI extends Zs{constructor(t){super(t),this._view=t}detectChanges(){My(this._view)}checkNoChanges(){!function vE(n){il(!0);try{My(n)}finally{il(!1)}}(this._view)}get context(){return null}}class Mb extends Ii{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ot(t);return new jd(e,this.ngModule)}}function Db(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class jd extends wb{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function IT(n){return n.map(PT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Db(this.componentDef.inputs)}get outputs(){return Db(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function pI(n,t){return{get:(e,i,r)=>{const o=n.get(e,Ud,r);return o!==Ud||i===Ud?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Qs,wg),a=o.get(uI,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function py(n,t,e){if(Ke(n))return n.selectRootElement(t,e===Bn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Vh(s.createRenderer(null,this.componentDef),c,function fI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?576:528,m=function Gy(n,t){return{components:[],scheduler:n||oT,clean:yE,playerHandler:t||null,flags:0}}(),g=Al(0,null,null,1,0,null,null,null,null,null),y=Hs(null,g,m,h,null,null,s,l,a,o);let b,D;rl(y);try{const T=function $y(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=wo(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(Il(l,c,!0),null!==n&&(cl(r,n,c),null!==l.classes&&zh(r,n,l.classes),null!==l.styles&&Gv(r,n,l.styles)));const u=i.createRenderer(n,t),h=Hs(e,dy(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(fl(Ds(l,e),s,t.type),by(s,l),Sy(l,e.length,1)),Pl(e,h),e[20]=h}(u,this.componentDef,y,s,l);if(u)if(i)cl(l,u,["ng-version",hI.full]);else{const{attrs:M,classes:A}=function OT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!$n(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);M&&cl(l,u,M),A&&A.length>0&&zh(l,u,A.join(" "))}if(D=th(g,20),void 0!==e){const M=D.projection=[];for(let A=0;A<this.ngContentSelectors.length;A++){const R=e[A];M.push(null!=R?Array.from(R):null)}}b=function zy(n,t,e,i,r){const o=e[1],s=function eE(n,t,e){const i=pt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),wy(n,i,t,Co(n,t,1,null),e));const r=ks(t,n,i.directiveStart,i);Ft(r,t);const o=Dn(i,t);return o&&Ft(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=pt();t.contentQueries(1,s,l.directiveStart)}const a=pt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ki(a.index),yy(e[1],a,0,a.directiveStart,a.directiveEnd,t),_y(t,s)),s}(T,this.componentDef,y,m,[BE]),Us(g,y,null)}finally{ol()}return new gI(this.componentType,b,qo(D,y),y,D)}}class gI extends class iI{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new dI(r),this.componentType=t}get injector(){return new co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Oi{}class kb{}const $o=new Map;class Eb extends Oi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mb(this);const i=wn(t);this._bootstrapComponents=li(i.bootstrap),this._r3Injector=Oy(t,e,[{provide:Oi,useValue:this},{provide:Ii,useValue:this.componentFactoryResolver}],Te(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fe.THROW_IF_NOT_FOUND,i=ee.Default){return t===Fe||t===Oi||t===fd?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class qd extends kb{constructor(t){super(),this.moduleType=t,null!==wn(t)&&function yI(n){const t=new Set;!function e(i){const r=wn(i,!0),o=r.id;null!==o&&(function xb(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Te(t)} vs ${Te(t.name)}`)}(o,$o.get(o),i),$o.set(o,i));const s=li(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Eb(this.moduleType,t)}}function tt(n,t,e,i){return Ab(E(),jt(),n,t,e,i)}function Wl(n,t,e,i,r){return Pb(E(),jt(),n,t,e,i,r)}function Xs(n,t){const e=n[t];return e===ie?void 0:e}function Ab(n,t,e,i,r,o){const s=t+e;return Lt(n,s,r)?ui(n,s+1,o?i.call(o,r):i(r)):Xs(n,s+1)}function Pb(n,t,e,i,r,o,s){const a=t+e;return kr(n,a,r,o)?ui(n,a+2,s?i.call(s,r,o):i(r,o)):Xs(n,a+2)}function P(n,t){const e=be();let i;const r=n+20;e.firstCreatePass?(i=function xI(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Cr(i.type)),s=zi(_);try{const a=hl(!1),l=o();return hl(a),function JE(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,E(),r,l),l}finally{zi(s)}}function $(n,t,e){const i=n+20,r=E(),o=oo(r,i);return ea(r,i)?Ab(r,jt(),t,o.transform,e,o):o.transform(e)}function Be(n,t,e,i){const r=n+20,o=E(),s=oo(o,r);return ea(o,r)?Pb(o,jt(),t,s.transform,e,i,s):s.transform(e,i)}function ea(n,t){return n[1].data[t].pure}function $d(n){return t=>{setTimeout(n,void 0,t)}}const le=class PI extends ye{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(l=$d(l),a&&(a=$d(a)),c&&(c=$d(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof ze&&t.add(u),u}};function II(){return this._results[xo()]()}class zo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=xo(),i=zo.prototype;i[e]||(i[e]=II)}get changes(){return this._changes||(this._changes=new le)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=kn(t);(this._changesDetected=!function jk(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let en=(()=>{class n{}return n.__NG_ELEMENT_ID__=FI,n})();const OI=en,RI=class extends OI{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Hs(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Us(e,i,t),new Zs(i)}};function FI(){return Yl(pt(),E())}function Yl(n,t){return 4&n.type?new RI(t,n,qo(n,t)):null}let Nt=(()=>{class n{}return n.__NG_ELEMENT_ID__=LI,n})();function LI(){return Nb(pt(),E())}const NI=Nt,Fb=class extends NI{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return qo(this._hostTNode,this._hostLView)}get injector(){return new co(this._hostTNode,this._hostLView)}get parentInjector(){const t=dl(this._hostTNode,this._hostLView);if(Bg(t)){const e=lo(t,this._hostLView),i=ao(t);return new co(e[1].data[i+8],e)}return new co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Lb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function Ts(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const h=e||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.ngModuleRef}const l=s?t:new jd(Ot(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const m=(s?c:this.parentInjector).get(Oi,null);m&&(o=m)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function ck(n){return Un(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],m=new Fb(h,h[6],h[3]);m.detach(m.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function pT(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],Yg(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function mT(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=qh(o,s),l=i[11],c=Ml(l,s[7]);return null!==c&&function hT(n,t,e,i,r,o){i[0]=r,i[6]=t,Vs(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),Yg(zd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Lb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Hh(this._lContainer,e);i&&(ml(zd(this._lContainer),e),Rv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Hh(this._lContainer,e);return i&&null!=ml(zd(this._lContainer),e)?new Zs(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Lb(n){return n[8]}function zd(n){return n[8]||(n[8]=[])}function Nb(n,t){let e;const i=t[n.index];if(Un(i))e=i;else{let r;if(8&n.type)r=lt(i);else{const o=t[11];r=o.createComment("");const s=Dn(n,t);Dr(o,Ml(o,s),r,function _T(n,t){return Ke(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=Cy(i,t,r,n),Pl(t,e)}return new Fb(e,n,t)}class Gd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Gd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new Wd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==jb(t,e).matches&&this.queries[e].setDirty()}}class Bb{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Yd{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Yd(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Kd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Kd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,HI(e,o)),this.matchTNodeWithReadOption(t,e,pl(e,t,o,!1,!1))}else i===en?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,pl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===we||r===Nt||r===en&&4&e.type)this.addMatch(e.index,-2);else{const o=pl(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function HI(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function jI(n,t,e,i){return-1===e?function UI(n,t){return 11&n.type?qo(n,t):4&n.type?Yl(n,t):null}(t,n):-2===e?function qI(n,t,e){return e===we?qo(t,n):e===en?Yl(t,n):e===Nt?Nb(t,n):void 0}(n,t,i):ks(n,n[1],e,t)}function Vb(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:jI(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Jd(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=Vb(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let h=10;h<u.length;h++){const m=u[h];m[17]===m[3]&&Jd(m[1],m,c,i)}if(null!==u[9]){const h=u[9];for(let m=0;m<h.length;m++){const g=h[m];Jd(g[1],g,c,i)}}}}}return i}function St(n){const t=E(),e=be(),i=Eg();lh(i+1);const r=jb(e,i);if(n.dirty&&Cg(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Jd(e,t,i,[]):Vb(e,t,r,i);n.reset(o,aI),n.notifyOnChanges()}return!0}return!1}function En(n,t,e){const i=be();i.firstCreatePass&&(Ub(i,new Bb(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Hb(i,E(),t)}function Ar(n,t,e,i){const r=be();if(r.firstCreatePass){const o=pt();Ub(r,new Bb(t,e,i),o.index),function zI(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}Hb(r,E(),e)}function wt(){return function $I(n,t){return n[19].queries[t].queryList}(E(),Eg())}function Hb(n,t,e){const i=new zo(4==(4&e));my(n,t,i,i.destroy),null===t[19]&&(t[19]=new Wd),t[19].queries.push(new Gd(i))}function Ub(n,t,e){null===n.queries&&(n.queries=new Yd),n.queries.track(new Kd(t,e))}function jb(n,t){return n.queries.getByIndex(t)}function Qd(n,t){return Yl(n,t)}function Ql(...n){}const rf=new U("Application Initializer");let sf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Ql,this.reject=Ql,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(zs(o))e.push(o);else if(xd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(S(rf,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const na=new U("AppId",{providedIn:"root",factory:function oS(){return`${af()}${af()}${af()}`}});function af(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sS=new U("Platform Initializer"),lf=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aS=new U("appBootstrapListener");let lO=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ri=new U("LocaleId",{providedIn:"root",factory:()=>yl(Ri,ee.Optional|ee.SkipSelf)||function cO(){return"undefined"!=typeof $localize&&$localize.locale||Ul}()});class hO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let lS=(()=>{class n{compileModuleSync(e){return new qd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=li(wn(e).declarations).reduce((s,a)=>{const l=Ot(a);return l&&s.push(new jd(l)),s},[]);return new hO(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fO=(()=>Promise.resolve(0))();function cf(n){"undefined"==typeof Zone?fO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class _e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new le(!1),this.onMicrotaskEmpty=new le(!1),this.onStable=new le(!1),this.onError=new le(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function pO(){let n=Ae.requestAnimationFrame,t=Ae.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vO(n){const t=()=>{!function gO(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ae,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,hf(n),n.isCheckStableRunning=!0,uf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),hf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return cS(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),uS(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return cS(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),uS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,hf(n),uf(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,mO,Ql,Ql);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const mO={};function uf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function hf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function uS(n){n._nesting--,uf(n)}class yO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new le,this.onMicrotaskEmpty=new le,this.onStable=new le,this.onError=new le}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let df=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),cf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cf(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(S(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),_O=(()=>{class n{constructor(){this._applications=new Map,ff.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return ff.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class bO{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Jn,ff=new bO;const hS=new U("AllowMultipleToken");class dS{constructor(t,e){this.name=t,this.token=e}}function fS(n,t,e=[]){const i=`Platform: ${t}`,r=new U(i);return(o=[])=>{let s=pS();if(!s||s.injector.get(hS,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:pd,useValue:"platform"});!function MO(n){if(Jn&&!Jn.destroyed&&!Jn.injector.get(hS,!1))throw new H(400,"");Jn=n.get(kO);const t=n.get(sS,null);t&&t.forEach(e=>e())}(Fe.create({providers:a,name:i}))}return function DO(n){const t=pS();if(!t)throw new H(401,"");return t}()}}function pS(){return Jn&&!Jn.destroyed?Jn:null}let kO=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function xO(n,t){let e;return e="noop"===n?new yO:("zone.js"===n?void 0:n)||new _e({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:_e,useValue:a}];return a.run(()=>{const c=Fe.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),h=u.injector.get(Qi,null);if(!h)throw new H(402,"");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:g=>{h.handleError(g)}});u.onDestroy(()=>{pf(this._modules,u),m.unsubscribe()})}),function TO(n,t,e){try{const i=e();return zs(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const m=u.injector.get(sf);return m.runInitializers(),m.donePromise.then(()=>(function lP(n){ln(n,"Expected localeId to be defined"),"string"==typeof n&&(Q_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ri,Ul)||Ul),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=mS({},i);return function wO(n,t,e){const i=new qd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ia);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new H(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function mS(n,t){return Array.isArray(t)?t.reduce(mS,n):Object.assign(Object.assign({},n),t)}let ia=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new je(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new je(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{_e.assertNotInAngularZone(),cf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{_e.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=vs(s,a.pipe(ag()))}bootstrap(e,i){if(!this._initStatus.done)throw new H(405,"");let r;r=e instanceof wb?e:this._injector.get(Ii).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function CO(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Oi),a=r.create(Fe.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(df,null),u=c&&a.injector.get(_O);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),pf(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new H(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;pf(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(aS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(Fe),S(Qi),S(sf))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let vS=!0,An=(()=>{class n{}return n.__NG_ELEMENT_ID__=PO,n})();function PO(n){return function IO(n,t,e){if(Xa(n)&&!e){const i=un(n.index,t);return new Zs(i,i)}return 47&n.type?new Zs(t[16],t):null}(pt(),E(),16==(16&n))}class wS{constructor(){}supports(t){return qs(t)}create(t){return new BO(t)}}const NO=(n,t)=>t;class BO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||NO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<MS(i,r,o)?e:i,a=MS(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){const g=m<o.length?o[m]:o[m]=0,y=g+m;u<=y&&y<c&&(o[m]=g+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!qs(t))throw new H(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function YE(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[xo()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new VO(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new CS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class VO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class CS{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new HO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MS(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class DS{constructor(){}supports(t){return t instanceof Map||bd(t)}create(){return new UO}}class UO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||bd(t)))throw new H(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new jO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class jO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kS(){return new ec([new wS])}let ec=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||kS()),deps:[[n,new vo,new qn]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new H(901,"")}}return n.\u0275prov=L({token:n,providedIn:"root",factory:kS}),n})();function xS(){return new ra([new DS])}let ra=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||xS()),deps:[[n,new vo,new qn]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new H(901,"")}}return n.\u0275prov=L({token:n,providedIn:"root",factory:xS}),n})();const zO=fS(null,"core",[]);let GO=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(S(ia))},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})(),tc=null;function pi(){return tc}const he=new U("DocumentToken");let Ir=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:function(){return function JO(){return S(TS)}()},providedIn:"platform"}),n})();const QO=new U("Location Initialized");let TS=(()=>{class n extends Ir{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return pi().getBaseHref(this._doc)}onPopState(e){const i=pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=pi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ES()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ES()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:function(){return function ZO(){return new TS(S(he))}()},providedIn:"platform"}),n})();function ES(){return!!window.history.pushState}function _f(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function AS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Fi(n){return n&&"?"!==n[0]?"?"+n:n}let Wo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:function(){return function XO(n){const t=S(he).location;return new PS(S(Ir),t&&t.origin||"")}()},providedIn:"root"}),n})();const bf=new U("appBaseHref");let PS=(()=>{class n extends Wo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return _f(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Fi(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Fi(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Fi(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ir),S(bf,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),eR=(()=>{class n extends Wo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=_f(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Fi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Fi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(Ir),S(bf,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),oa=(()=>{class n{constructor(e,i){this._subject=new le,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=AS(IS(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Fi(i))}normalize(e){return n.stripTrailingSlash(function nR(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,IS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fi(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Fi(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Fi,n.joinWithSlash=_f,n.stripTrailingSlash=AS,n.\u0275fac=function(e){return new(e||n)(S(Wo),S(Ir))},n.\u0275prov=L({token:n,factory:function(){return function tR(){return new oa(S(Wo),S(Ir))}()},providedIn:"root"}),n})();function IS(n){return n.replace(/\/index.html$/,"")}var tn=(()=>((tn=tn||{})[tn.Decimal=0]="Decimal",tn[tn.Percent=1]="Percent",tn[tn.Currency=2]="Currency",tn[tn.Scientific=3]="Scientific",tn))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function Pn(n,t){const e=zt(n),i=e[B.NumberSymbols][t];if(void 0===i){if(t===K.CurrencyDecimal)return e[B.NumberSymbols][K.Decimal];if(t===K.CurrencyGroup)return e[B.NumberSymbols][K.Group]}return i}function Sf(n,t){return zt(n)[B.NumberFormats][t]}const TR=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function kf(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function FR(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function RR(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,h=t.minFrac,m=t.maxFrac;if(o){const M=o.match(TR);if(null===M)throw new Error(`${o} is not a valid digit info`);const A=M[1],R=M[3],z=M[5];null!=A&&(u=Tf(A)),null!=R&&(h=Tf(R)),null!=z?m=Tf(z):null!=R&&h>m&&(m=h)}!function LR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(h,m,g,y){return y[g]=(m+=h)<10?m:m-10,l&&(0===y[g]&&g>=c?y.pop():l=!1),m>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,m);let g=c.digits,y=c.integerLen;const b=c.exponent;let D=[];for(l=g.every(M=>!M);y<u;y++)g.unshift(0);for(;y<0;y++)g.unshift(0);y>0?D=g.splice(y,g.length):(D=g,g=[0]);const T=[];for(g.length>=t.lgSize&&T.unshift(g.splice(-t.lgSize,g.length).join(""));g.length>t.gSize;)T.unshift(g.splice(-t.gSize,g.length).join(""));g.length&&T.unshift(g.join("")),a=T.join(Pn(e,i)),D.length&&(a+=Pn(e,r)+D.join("")),b&&(a+=Pn(e,K.Exponential)+"+"+b)}else a=Pn(e,K.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function mi(n,t,e){return kf(n,xf(Sf(t,tn.Decimal),Pn(t,K.MinusSign)),t,K.Group,K.Decimal,e)}function xf(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?e.minFrac=e.maxFrac=u+1:"#"===h?e.maxFrac=u+1:e.posSuf+=h}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf("#");e.negPre=o.substr(0,h).replace(/'/g,""),e.negSuf=o.substr(h+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Tf(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let gi=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(qs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Te(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(_(ec),_(ra),_(we),_(fi))},n.\u0275dir=q({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class HR{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new HR(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),US(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{US(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(_(Nt),_(en),_(ec))},n.\u0275dir=q({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function US(n,t){n.context.$implicit=t.item}let Ct=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new UR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){jS("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){jS("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(_(Nt),_(en))},n.\u0275dir=q({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class UR{constructor(){this.$implicit=null,this.ngIf=null}}function jS(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Te(t)}'.`)}let $S=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(_(Nt))},n.\u0275dir=q({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Zt]}),n})();function Zn(n,t){return new H(2100,"")}const ZR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let mn=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Zn();return e.replace(ZR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Dt({name:"titlecase",type:n,pure:!0}),n})(),If=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=zS}transform(e,i=zS){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function sF(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(_(ra,16))},n.\u0275pipe=Dt({name:"keyvalue",type:n,pure:!1}),n})();function zS(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Or=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!Of(e))return null;r=r||this._locale;try{return mi(Rf(e),r,i)}catch(o){throw Zn()}}}return n.\u0275fac=function(e){return new(e||n)(_(Ri,16))},n.\u0275pipe=Dt({name:"number",type:n,pure:!0}),n})(),hc=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!Of(e))return null;r=r||this._locale;try{return function OR(n,t,e){return kf(n,xf(Sf(t,tn.Percent),Pn(t,K.MinusSign)),t,K.Group,K.Decimal,e,!0).replace(new RegExp("%","g"),Pn(t,K.PercentSign))}(Rf(e),r,i)}catch(o){throw Zn()}}}return n.\u0275fac=function(e){return new(e||n)(_(Ri,16))},n.\u0275pipe=Dt({name:"percent",type:n,pure:!0}),n})();function Of(n){return!(null==n||""===n||n!=n)}function Rf(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let dc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})();const GS="browser";let fF=(()=>{class n{}return n.\u0275prov=L({token:n,providedIn:"root",factory:()=>new pF(S(he),window)}),n})();class pF{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function mF(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=WS(this.window.history)||WS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function WS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ff extends class vF extends class KO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function YO(n){tc||(tc=n)}(new Ff)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function yF(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}();return null==e?null:function _F(n){fc=fc||document.createElement("a"),fc.setAttribute("href",n);const t=fc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function BR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let fc,la=null;const YS=new U("TRANSITION_ID"),SF=[{provide:rf,useFactory:function bF(n,t,e){return()=>{e.get(sf).donePromise.then(()=>{const i=pi(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[YS,he,Fe],multi:!0}];class Lf{static init(){!function SO(n){ff=n}(new Lf)}addToWindow(t){Ae.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Ae.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ae.getAllAngularRootElements=()=>t.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(i=>{const r=Ae.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?pi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let wF=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const pc=new U("EventManagerPlugins");let mc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(S(pc),S(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class KS{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=pi().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let JS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),ca=(()=>{class n extends JS{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(QS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(QS))}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function QS(n){pi().remove(n)}const Nf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bf=/%COMP%/g;function gc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?gc(n,r,e):(r=r.replace(Bf,n),e.push(r))}return e}function e0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let vc=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Vf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Bn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new TF(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Bn.ShadowDom:return new EF(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=gc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(S(mc),S(ca),S(na))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class Vf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Nf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Nf[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Nf[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(fn.DashCase|fn.Important)?t.style.setProperty(e,i,r&fn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&fn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,e0(i)):this.eventManager.addEventListener(t,e,e0(i))}}class TF extends Vf{constructor(t,e,i,r){super(t),this.component=i;const o=gc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function DF(n){return"_ngcontent-%COMP%".replace(Bf,n)}(r+"-"+i.id),this.hostAttr=function kF(n){return"_nghost-%COMP%".replace(Bf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class EF extends Vf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=gc(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let AF=(()=>{class n extends KS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const n0=["alt","control","meta","shift"],IF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},r0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},OF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let RF=(()=>{class n extends KS{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pi().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(n0.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function FF(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&r0.hasOwnProperty(t)&&(t=r0[t]))}return IF[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),n0.forEach(o=>{o!=r&&OF[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const VF=fS(zO,"browser",[{provide:lf,useValue:GS},{provide:sS,useValue:function LF(){Ff.makeCurrent(),Lf.init()},multi:!0},{provide:he,useFactory:function BF(){return function ok(n){Xu=n}(document),document},deps:[]}]),HF=[{provide:pd,useValue:"root"},{provide:Qi,useFactory:function NF(){return new Qi},deps:[]},{provide:pc,useClass:AF,multi:!0,deps:[he,_e,lf]},{provide:pc,useClass:RF,multi:!0,deps:[he]},{provide:vc,useClass:vc,deps:[mc,ca,na]},{provide:Qs,useExisting:vc},{provide:JS,useExisting:ca},{provide:ca,useClass:ca,deps:[he]},{provide:df,useClass:df,deps:[_e]},{provide:mc,useClass:mc,deps:[pc,_e]},{provide:class gF{},useClass:wF,deps:[]}];let o0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:na,useValue:e.appId},{provide:YS,useExisting:na},SF]}}}return n.\u0275fac=function(e){return new(e||n)(S(n,12))},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({providers:HF,imports:[dc,GO]}),n})();"undefined"!=typeof window&&window;let Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:function(e){let i=null;return i=e?new(e||n):S(l0),i},providedIn:"root"}),n})(),l0=(()=>{class n extends Uf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case ke.NONE:return i;case ke.HTML:return si(i,"HTML")?dn(i):vv(this._doc,String(i)).toString();case ke.STYLE:return si(i,"Style")?dn(i):i;case ke.SCRIPT:if(si(i,"Script"))return dn(i);throw new Error("unsafe value used in a script context");case ke.URL:return cv(i),si(i,"URL")?dn(i):Rs(String(i));case ke.RESOURCE_URL:if(si(i,"ResourceURL"))return dn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function _x(n){return new px(n)}(e)}bypassSecurityTrustStyle(e){return function bx(n){return new mx(n)}(e)}bypassSecurityTrustScript(e){return function Sx(n){return new gx(n)}(e)}bypassSecurityTrustUrl(e){return function wx(n){return new vx(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Cx(n){return new yx(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:function(e){let i=null;return i=e?new e:function JF(n){return new l0(n.get(he))}(S(Fe)),i},providedIn:"root"}),n})();function J(...n){return _t(n,gs(n))}class On extends ye{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:QF}=Array,{getPrototypeOf:ZF,prototype:XF,keys:eL}=Object;function c0(n){if(1===n.length){const t=n[0];if(QF(t))return{args:t,keys:null};if(function tL(n){return n&&"object"==typeof n&&ZF(n)===XF}(t)){const e=eL(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:nL}=Array;function jf(n){return fe(t=>function iL(n,t){return nL(t)?n(...t):n(t)}(n,t))}function u0(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function h0(n,t,e){n?Mi(e,n,t):t()}function ua(n,t){const e=Me(n)?n:()=>n,i=r=>r.error(e());return new je(t?r=>t.schedule(i,0,r):i)}const yc=ku(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function qf(...n){return function sL(){return ms(1)}()(_t(n,gs(n)))}function $f(n){return new je(t=>{sn(n()).subscribe(t)})}function d0(){return Ze((n,t)=>{let e=null;n._refCount++;const i=Ge(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class aL extends je{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,qm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ze;const e=this.getSubject();t.add(this.source.subscribe(Ge(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ze.EMPTY)}return t}refCount(){return d0()(this)}}function Rr(n,t){return Ze((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(Ge(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;sn(n(l,u)).subscribe(r=Ge(i,h=>i.next(t?t(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function _c(...n){const t=gs(n);return Ze((e,i)=>{(t?qf(n,e,t):qf(n,e)).subscribe(i)})}function lL(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(Ge(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function f0(n,t){return Ze(lL(n,t,arguments.length>=2,!0))}function nn(n,t){return Ze((e,i)=>{let r=0;e.subscribe(Ge(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ni(n){return Ze((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Ge(e,void 0,void 0,s=>{o=sn(n(s,Ni(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Yo(n,t){return Me(t)?ft(n,t,1):ft(n,1)}function zf(n){return n<=0?()=>Di:Ze((t,e)=>{let i=[];t.subscribe(Ge(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function p0(n=cL){return Ze((t,e)=>{let i=!1;t.subscribe(Ge(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function cL(){return new yc}function m0(n){return Ze((t,e)=>{let i=!1;t.subscribe(Ge(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Ko(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):$i,Sn(1),e?m0(t):p0(()=>new yc))}function Et(n,t,e){const i=Me(n)||t||e?{next:n,error:t,complete:e}:n;return i?Ze((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(Ge(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):$i}function g0(n){return Ze((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Bi{constructor(t,e){this.id=t,this.url=e}}class Gf extends Bi{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ha extends Bi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class v0 extends Bi{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hL extends Bi{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dL extends Bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL extends Bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pL extends Bi{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mL extends Bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gL extends Bi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _0{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _L{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class SL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jo(n){return new SL(n)}const S0="ngNavigationCancelingError";function Wf(n){const t=Error("NavigationCancelingError: "+n);return t[S0]=!0,t}function CL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function vi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!w0(n[r],t[r]))return!1;return!0}function w0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function C0(n){return Array.prototype.concat.apply([],n)}function M0(n){return n.length>0?n[n.length-1]:null}function At(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function yi(n){return xd(n)?n:zs(n)?_t(Promise.resolve(n)):J(n)}const kL={exact:function x0(n,t,e){if(!Lr(n.segments,t.segments)||!bc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!x0(n.children[i],t.children[i],e))return!1;return!0},subset:T0},D0={exact:function xL(n,t){return vi(n,t)},subset:function TL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>w0(n[e],t[e]))},ignored:()=>!0};function k0(n,t,e){return kL[e.paths](n.root,t.root,e.matrixParams)&&D0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function T0(n,t,e){return E0(n,t,t.segments,e)}function E0(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Lr(r,e)||t.hasChildren()||!bc(r,e,i))}if(n.segments.length===e.length){if(!Lr(n.segments,e)||!bc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!T0(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Lr(n.segments,r)&&bc(n.segments,r,i)&&n.children[ue])&&E0(n.children[ue],t,o,i)}}function bc(n,t,e){return t.every((i,r)=>D0[e](n[r].parameters,i.parameters))}class Fr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return PL.serialize(this)}}class ge{constructor(t,e){this.segments=t,this.children=e,this.parent=null,At(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sc(this)}}class da{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return R0(this)}}function Lr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class A0{}class P0{parse(t){const e=new HL(t);return new Fr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fa(t.root,!0)}`,i=function RL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${wc(e)}=${wc(r)}`).join("&"):`${wc(e)}=${wc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function IL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const PL=new P0;function Sc(n){return n.segments.map(t=>R0(t)).join("/")}function fa(n,t){if(!n.hasChildren())return Sc(n);if(t){const e=n.children[ue]?fa(n.children[ue],!1):"",i=[];return At(n.children,(r,o)=>{o!==ue&&i.push(`${o}:${fa(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function AL(n,t){let e=[];return At(n.children,(i,r)=>{r===ue&&(e=e.concat(t(i,r)))}),At(n.children,(i,r)=>{r!==ue&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ue?[fa(n.children[ue],!1)]:[`${r}:${fa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${Sc(n)}/${e[0]}`:`${Sc(n)}/(${e.join("//")})`}}function I0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wc(n){return I0(n).replace(/%3B/gi,";")}function Yf(n){return I0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cc(n){return decodeURIComponent(n)}function O0(n){return Cc(n.replace(/\+/g,"%20"))}function R0(n){return`${Yf(n.path)}${function OL(n){return Object.keys(n).map(t=>`;${Yf(t)}=${Yf(n[t])}`).join("")}(n.parameters)}`}const FL=/^[^\/()?;=#]+/;function Mc(n){const t=n.match(FL);return t?t[0]:""}const LL=/^[^=?&#]+/,BL=/^[^&#]+/;class HL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ue]=new ge(t,e)),i}parseSegment(){const t=Mc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new da(Cc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Mc(this.remaining);r&&(i=r,this.capture(i))}t[Cc(e)]=Cc(i)}parseQueryParam(t){const e=function NL(n){const t=n.match(LL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function VL(n){const t=n.match(BL);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=O0(e),o=O0(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Mc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ue);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ue]:new ge([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class F0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Kf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Kf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Jf(t,this._root).map(e=>e.value)}}function Kf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Kf(n,e);if(i)return i}return null}function Jf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Jf(n,e);if(i.length)return i.unshift(t),i}return[]}class Vi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Qo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class L0 extends F0{constructor(t,e){super(t),this.snapshot=e,Qf(this,t)}toString(){return this.snapshot.toString()}}function N0(n,t){const e=function UL(n,t){const s=new Dc([],{},{},"",{},ue,t,null,n.root,-1,{});return new V0("",new Vi(s,[]))}(n,t),i=new On([new da("",{})]),r=new On({}),o=new On({}),s=new On({}),a=new On(""),l=new Zo(i,r,s,a,o,ue,t,e.root);return l.snapshot=e.root,new L0(new Vi(l,[]),e)}class Zo{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(t=>Jo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(t=>Jo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function B0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function jL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Dc{constructor(t,e,i,r,o,s,a,l,c,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class V0 extends F0{constructor(t,e){super(e),this.url=t,Qf(this,e)}toString(){return H0(this._root)}}function Qf(n,t){t.value._routerState=n,t.children.forEach(e=>Qf(n,e))}function H0(n){const t=n.children.length>0?` { ${n.children.map(H0).join(", ")} } `:"";return`${n.value}${t}`}function Zf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,vi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),vi(t.params,e.params)||n.params.next(e.params),function ML(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!vi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),vi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xf(n,t){const e=vi(n.params,t.params)&&function EL(n,t){return Lr(n,t)&&n.every((e,i)=>vi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Xf(n.parent,t.parent))}function pa(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function $L(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return pa(n,i,r);return pa(n,i)})}(n,t,e);return new Vi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>pa(n,a)),s}}const i=function zL(n){return new Zo(new On(n.url),new On(n.params),new On(n.queryParams),new On(n.fragment),new On(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>pa(n,o));return new Vi(i,r)}}function kc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ma(n){return"object"==typeof n&&null!=n&&n.outlets}function ep(n,t,e,i,r){let o={};if(i&&At(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new Fr(e,o,r);const s=U0(n,t,e);return new Fr(s,o,r)}function U0(n,t,e){const i={};return At(n.children,(r,o)=>{i[o]=r===t?e:U0(r,t,e)}),new ge(n.segments,i)}class j0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&kc(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(ma);if(r&&r!==M0(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class tp{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function q0(n,t,e){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return xc(n,t,e);const i=function QL(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(ma(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!z0(l,c,s))return o;i+=2}else{if(!z0(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new ge(n.segments.slice(0,i.pathIndex),{});return o.children[ue]=new ge(n.segments.slice(i.pathIndex),n.children),xc(o,0,r)}return i.match&&0===r.length?new ge(n.segments,{}):i.match&&!n.hasChildren()?np(n,t,e):i.match?xc(n,0,r):np(n,t,e)}function xc(n,t,e){if(0===e.length)return new ge(n.segments,{});{const i=function JL(n){return ma(n[0])?n[0].outlets:{[ue]:n}}(e),r={};return At(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=q0(n.children[s],t,o))}),At(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new ge(n.segments,r)}}function np(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(ma(o)){const l=ZL(o.outlets);return new ge(i,l)}if(0===r&&kc(e[0])){i.push(new da(n.segments[t].path,$0(e[0]))),r++;continue}const s=ma(o)?o.outlets[ue]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&kc(a)?(i.push(new da(s,$0(a))),r+=2):(i.push(new da(s,{})),r++)}return new ge(i,{})}function ZL(n){const t={};return At(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=np(new ge([],{}),0,e))}),t}function $0(n){const t={};return At(n,(e,i)=>t[i]=`${e}`),t}function z0(n,t,e){return n==e.path&&vi(t,e.parameters)}class eN{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Zf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Qo(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),At(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Qo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Qo(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Qo(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new bL(o.value.snapshot))}),t.children.length&&this.forwardEvent(new yL(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(Zf(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function tN(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class ip{constructor(t,e){this.routes=t,this.module=e}}function tr(n){return"function"==typeof n}function Nr(n){return n instanceof Fr}const ga=Symbol("INITIAL_VALUE");function va(){return Rr(n=>function rL(...n){const t=gs(n),e=ig(n),{args:i,keys:r}=c0(n);if(0===i.length)return _t([],t);const o=new je(function oL(n,t,e=$i){return i=>{h0(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)h0(t,()=>{const c=_t(n[l],t);let u=!1;c.subscribe(Ge(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>u0(r,s):$i));return e?o.pipe(jf(e)):o}(n.map(t=>t.pipe(Sn(1),_c(ga)))).pipe(f0((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==ga?r:(o===ga&&(i=!0),i||!1!==o&&s!==e.length-1&&!Nr(o)?r:o),t)},ga),nn(t=>t!==ga),fe(t=>Nr(t)?t:!0===t),Sn(1)))}class aN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ya,this.attachRef=null}}class ya{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new aN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let G0=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.name=o||ue,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new lN(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(_(ya),_(Nt),_(Ii),uo("name"),_(An))},n.\u0275dir=q({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class lN{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Zo?this.route:t===ya?this.childContexts:this.parent.get(t,e)}}let W0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pe({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&V(0,"router-outlet")},directives:[G0],encapsulation:2}),n})();function Y0(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];cN(i,uN(t,i))}}function cN(n,t){n.children&&Y0(n.children,t)}function uN(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function rp(n){const t=n.children&&n.children.map(rp),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ue&&(e.component=W0),e}function Rn(n){return n.outlet||ue}function K0(n,t){const e=n.filter(i=>Rn(i)===t);return e.push(...n.filter(i=>Rn(i)!==t)),e}const J0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Tc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},J0):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||CL)(e,n,t);if(!o)return Object.assign({},J0);const s={};At(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Ec(n,t,e,i,r="corrected"){if(e.length>0&&function fN(n,t,e){return e.some(i=>Ac(n,t,i)&&Rn(i)!==ue)}(n,e,i)){const s=new ge(t,function dN(n,t,e,i){const r={};r[ue]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Rn(o)!==ue){const s=new ge([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[Rn(o)]=s}return r}(n,t,i,new ge(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function pN(n,t,e){return e.some(i=>Ac(n,t,i))}(n,e,i)){const s=new ge(n.segments,function hN(n,t,e,i,r,o){const s={};for(const a of i)if(Ac(n,e,a)&&!r[Rn(a)]){const l=new ge([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Rn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new ge(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Ac(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Q0(n,t,e,i){return!!(Rn(n)===i||i!==ue&&Ac(t,e,n))&&("**"===n.path||Tc(t,n,e).matched)}function Z0(n,t,e){return 0===t.length&&!n.children[e]}class Pc{constructor(t){this.segmentGroup=t||null}}class X0{constructor(t){this.urlTree=t}}function _a(n){return ua(new Pc(n))}function ew(n){return ua(new X0(n))}class yN{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Oi)}apply(){const t=Ec(this.urlTree.root,[],[],this.config).segmentGroup,e=new ge(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ue).pipe(fe(o=>this.createUrlTree(op(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ni(o=>{if(o instanceof X0)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Pc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ue).pipe(fe(r=>this.createUrlTree(op(r),t.queryParams,t.fragment))).pipe(Ni(r=>{throw r instanceof Pc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new ge([],{[ue]:t}):t;return new Fr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(fe(o=>new ge([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return _t(r).pipe(Yo(o=>{const s=i.children[o],a=K0(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(fe(l=>({segment:l,outlet:o})))}),f0((o,s)=>(o[s.outlet]=s.segment,o),{}),function uL(n,t){const e=arguments.length>=2;return i=>i.pipe(n?nn((r,o)=>n(r,o,i)):$i,zf(1),e?m0(t):p0(()=>new yc))}())}expandSegment(t,e,i,r,o,s){return _t(i).pipe(Yo(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(Ni(c=>{if(c instanceof Pc)return J(null);throw c}))),Ko(a=>!!a),Ni((a,l)=>{if(a instanceof yc||"EmptyError"===a.name)return Z0(e,r,o)?J(new ge([],{})):_a(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return Q0(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):_a(e):_a(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?ew(o):this.lineralizeSegments(i,o).pipe(ft(s=>{const a=new ge(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Tc(e,r,o);if(!a)return _a(e);const h=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?ew(h):this.lineralizeSegments(r,h).pipe(ft(m=>this.expandSegment(t,e,i,m.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?J(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(fe(h=>(i._loadedConfig=h,new ge(r,{})))):J(new ge(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=Tc(e,i,r);return s?this.getChildConfig(t,i,r).pipe(ft(u=>{const h=u.module,m=u.routes,{segmentGroup:g,slicedSegments:y}=Ec(e,a,l,m),b=new ge(g.segments,g.children);if(0===y.length&&b.hasChildren())return this.expandChildren(h,m,b).pipe(fe(A=>new ge(a,A)));if(0===m.length&&0===y.length)return J(new ge(a,{}));const D=Rn(i)===o;return this.expandSegment(h,b,m,y,D?ue:o,!0).pipe(fe(M=>new ge(a.concat(M.segments),M.children)))})):_a(e)}getChildConfig(t,e,i){return e.children?J(new ip(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?J(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(ft(r=>r?this.configLoader.load(t.injector,e).pipe(fe(o=>(e._loadedConfig=o,o))):function gN(n){return ua(Wf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):J(new ip([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?J(r.map(s=>{const a=t.get(s);let l;if(function iN(n){return n&&tr(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!tr(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return yi(l)})).pipe(va(),Et(s=>{if(!Nr(s))return;const a=Wf(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),fe(s=>!0===s)):J(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return J(i);if(r.numberOfChildren>1||!r.children[ue])return ua(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ue]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Fr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return At(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return At(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new ge(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function op(n){const t={};for(const i of Object.keys(n.children)){const o=op(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function _N(n){if(1===n.numberOfChildren&&n.children[ue]){const t=n.children[ue];return new ge(n.segments.concat(t.segments),t.children)}return n}(new ge(n.segments,t))}class tw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ic{constructor(t,e){this.component=t,this.route=e}}function SN(n,t,e){const i=n._root;return ba(i,t?t._root:null,e,[i.value])}function Oc(n,t,e){const i=function CN(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ba(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Qo(t);return n.children.forEach(s=>{(function MN(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function DN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Lr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Lr(n.url,t.url)||!vi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xf(n,t)||!vi(n.queryParams,t.queryParams);default:return!Xf(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new tw(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ba(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ic(a.outlet.component,s))}else s&&Sa(t,a,r),r.canActivateChecks.push(new tw(i)),ba(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),At(o,(s,a)=>Sa(s,e.getContext(a),r)),r}function Sa(n,t,e){const i=Qo(n),r=n.value;At(i,(o,s)=>{Sa(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new Ic(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class RN{}function nw(n){return new je(t=>t.error(n))}class LN{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=Ec(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ue);if(null===e)return null;const i=new Dc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Vi(i,e),o=new V0(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=B0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=K0(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=iw(i);return function NN(n){n.sort((t,e)=>t.value.outlet===ue?-1:e.value.outlet===ue?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return Z0(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Q0(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const g=i.length>0?M0(i).parameters:{};o=new Dc(i,g,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sw(t),Rn(t),t.component,t,rw(e),ow(e)+i.length,aw(t))}else{const g=Tc(e,t,i);if(!g.matched)return null;s=g.consumedSegments,a=g.remainingSegments,o=new Dc(s,g.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sw(t),Rn(t),t.component,t,rw(e),ow(e)+s.length,aw(t))}const l=function BN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Ec(e,s,a,l.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const g=this.processChildren(l,c);return null===g?null:[new Vi(o,g)]}if(0===l.length&&0===u.length)return[new Vi(o,[])];const h=Rn(t)===r,m=this.processSegment(l,c,u,h?ue:r);return null===m?null:[new Vi(o,m)]}}function VN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function iw(n){const t=[],e=new Set;for(const i of n){if(!VN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=iw(i.children);t.push(new Vi(i.value,r))}return t.filter(i=>!e.has(i))}function rw(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ow(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function sw(n){return n.data||{}}function aw(n){return n.resolve||{}}function lw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sp(n){return Rr(t=>{const e=n(t);return e?_t(e).pipe(fe(()=>t)):J(t)})}class WN extends class GN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const ap=new U("ROUTES");class cw{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(fe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new ip(C0(s.injector.get(ap,void 0,ee.Self|ee.Optional)).map(rp),s)}),Ni(o=>{throw e._loader$=void 0,o}));return e._loader$=new aL(r,()=>new ye).pipe(d0()),e._loader$}loadModuleFactory(t){return yi(t()).pipe(ft(e=>e instanceof kb?J(e):_t(this.compiler.compileModuleAsync(e))))}}class KN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function JN(n){throw n}function QN(n,t,e){return t.parse("/")}function uw(n,t){return J(null)}const ZN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},XN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gn=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ye,this.errorHandler=JN,this.malformedUriErrorHandler=QN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:uw,afterPreactivation:uw},this.urlHandlingStrategy=new KN,this.routeReuseStrategy=new WN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(Oi),this.console=s.get(lO);const h=s.get(_e);this.isNgZoneEnabled=h instanceof _e&&_e.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function DL(){return new Fr(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cw(s,a,m=>this.triggerEvent(new y0(m)),m=>this.triggerEvent(new _0(m))),this.routerState=N0(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(nn(r=>0!==r.id),fe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Rr(r=>{let o=!1,s=!1;return J(r).pipe(Et(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Rr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return hw(a.source)&&(this.browserUrlTree=a.extractedUrl),J(a).pipe(Rr(h=>{const m=this.transitions.getValue();return i.next(new Gf(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions.getValue()?Di:Promise.resolve(h)}),function bN(n,t,e,i){return Rr(r=>function vN(n,t,e,i,r){return new yN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(fe(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Et(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function HN(n,t,e,i,r){return ft(o=>function FN(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new LN(n,t,e,i,r,o).recognize();return null===s?nw(new RN):J(s)}catch(s){return nw(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(fe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),Et(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const g=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(g,h)}this.browserUrlTree=h.urlAfterRedirects}const m=new dL(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(m)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:g,source:y,restoredState:b,extras:D}=a,T=new Gf(m,this.serializeUrl(g),y,b);i.next(T);const M=N0(g,this.rootComponentType).snapshot;return J(Object.assign(Object.assign({},a),{targetSnapshot:M,urlAfterRedirects:g,extras:Object.assign(Object.assign({},D),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Di}),sp(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:m,replaceUrl:g}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!m,replaceUrl:!!g})}),Et(a=>{const l=new fL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),fe(a=>Object.assign(Object.assign({},a),{guards:SN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function kN(n,t){return ft(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?J(Object.assign(Object.assign({},e),{guardsResult:!0})):function xN(n,t,e,i){return _t(n).pipe(ft(r=>function ON(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?J(o.map(a=>{const l=Oc(a,t,r);let c;if(function sN(n){return n&&tr(n.canDeactivate)}(l))c=yi(l.canDeactivate(n,t,e,i));else{if(!tr(l))throw new Error("Invalid CanDeactivate guard");c=yi(l(n,t,e,i))}return c.pipe(Ko())})).pipe(va()):J(!0)}(r.component,r.route,e,t,i)),Ko(r=>!0!==r,!0))}(s,i,r,n).pipe(ft(a=>a&&function nN(n){return"boolean"==typeof n}(a)?function TN(n,t,e,i){return _t(t).pipe(Yo(r=>qf(function AN(n,t){return null!==n&&t&&t(new vL(n)),J(!0)}(r.route.parent,i),function EN(n,t){return null!==n&&t&&t(new _L(n)),J(!0)}(r.route,i),function IN(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function wN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>$f(()=>J(s.guards.map(l=>{const c=Oc(l,s.node,e);let u;if(function oN(n){return n&&tr(n.canActivateChild)}(c))u=yi(c.canActivateChild(i,n));else{if(!tr(c))throw new Error("Invalid CanActivateChild guard");u=yi(c(i,n))}return u.pipe(Ko())})).pipe(va())));return J(o).pipe(va())}(n,r.path,e),function PN(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return J(!0);const r=i.map(o=>$f(()=>{const s=Oc(o,t,e);let a;if(function rN(n){return n&&tr(n.canActivate)}(s))a=yi(s.canActivate(t,n));else{if(!tr(s))throw new Error("Invalid CanActivate guard");a=yi(s(t,n))}return a.pipe(Ko())}));return J(r).pipe(va())}(n,r.route,e))),Ko(r=>!0!==r,!0))}(i,o,n,t):J(a)),fe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Et(a=>{if(Nr(a.guardsResult)){const c=Wf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new pL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),nn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),sp(a=>{if(a.guards.canActivateChecks.length)return J(a).pipe(Et(l=>{const c=new mL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Rr(l=>{let c=!1;return J(l).pipe(function UN(n,t){return ft(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return J(e);let o=0;return _t(r).pipe(Yo(s=>function jN(n,t,e,i){return function qN(n,t,e,i){const r=lw(n);if(0===r.length)return J({});const o={};return _t(r).pipe(ft(s=>function $N(n,t,e,i){const r=Oc(n,t,i);return yi(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(Et(a=>{o[s]=a}))),zf(1),ft(()=>lw(o).length===r.length?J(o):Di))}(n._resolve,n,t,i).pipe(fe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),B0(n,e).resolve),null)))}(s.route,i,n,t)),Et(()=>o++),zf(1),ft(s=>o===r.length?J(e):Di))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Et({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Et(l=>{const c=new gL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),sp(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:m,replaceUrl:g}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!m,replaceUrl:!!g})}),fe(a=>{const l=function qL(n,t,e){const i=pa(n,t._root,e?e._root:void 0);return new L0(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Et(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>fe(i=>(new eN(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Et({next(){o=!0},complete(){o=!0}}),g0(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),Ni(a=>{if(s=!0,function wL(n){return n&&n[S0]}(a)){const l=Nr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new v0(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hw(r.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new hL(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return Di}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Y0(e),this.config=e.map(rp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function GL(n,t,e,i,r){if(0===e.length)return ep(t.root,t.root,t.root,i,r);const o=function WL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new j0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return At(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new j0(e,t,i)}(e);if(o.toRoot())return ep(t.root,t.root,new ge([],{}),i,r);const s=function YL(n,t,e){if(n.isAbsolute)return new tp(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new tp(o,o===t.root,0)}const i=kc(n.commands[0])?0:1;return function KL(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new tp(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?xc(s.segmentGroup,s.index,o.commands):q0(s.segmentGroup,s.index,o.commands);return ep(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,h,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Nr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function e2(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},ZN):!1===i?Object.assign({},XN):i,Nr(e))return k0(this.currentUrlTree,e,r);const o=this.parseUrl(e);return k0(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ha(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((y,b)=>{c=y,u=b});const m=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),g=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):g=0,this.setTransition({id:m,targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(y=>Promise.reject(y))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new v0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Ll()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function hw(n){return"imperative"!==n}class dw{}class fw{preload(t,e){return J(null)}}let pw=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new cw(r,i,l=>e.triggerEvent(new y0(l)),l=>e.triggerEvent(new _0(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(nn(e=>e instanceof ha),Yo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Oi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return _t(r).pipe(ms(),fe(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?J(i._loadedConfig):this.loader.load(e.injector,i)).pipe(ft(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(S(gn),S(lS),S(Fe),S(dw))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),up=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ha&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof b0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new b0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Ll()},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Br=new U("ROUTER_CONFIGURATION"),mw=new U("ROUTER_FORROOT_GUARD"),o2=[oa,{provide:A0,useClass:P0},{provide:gn,useFactory:function u2(n,t,e,i,r,o,s={},a,l){const c=new gn(null,n,t,e,i,r,C0(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function h2(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var h,m;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(m=console.groupEnd)||void 0===m||m.call(console)}),c},deps:[A0,ya,oa,Fe,lS,ap,Br,[class YN{},new qn],[class zN{},new qn]]},ya,{provide:Zo,useFactory:function d2(n){return n.routerState.root},deps:[gn]},pw,fw,class r2{preload(t,e){return e().pipe(Ni(()=>J(null)))}},{provide:Br,useValue:{enableTracing:!1}}];function s2(){return new dS("Router",gn)}let gw=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[o2,vw(e),{provide:mw,useFactory:c2,deps:[[gn,new qn,new vo]]},{provide:Br,useValue:i||{}},{provide:Wo,useFactory:l2,deps:[Ir,[new _l(bf),new qn],Br]},{provide:up,useFactory:a2,deps:[gn,fF,Br]},{provide:dw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:fw},{provide:dS,multi:!0,useFactory:s2},[hp,{provide:rf,multi:!0,useFactory:f2,deps:[hp]},{provide:yw,useFactory:p2,deps:[hp]},{provide:aS,multi:!0,useExisting:yw}]]}}static forChild(e){return{ngModule:n,providers:[vw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(S(mw,8),S(gn,8))},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})();function a2(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new up(n,t,e)}function l2(n,t,e={}){return e.useHash?new eR(n,t):new PS(n,t)}function c2(n){return"guarded"}function vw(n){return[{provide:Uk,multi:!0,useValue:n},{provide:ap,multi:!0,useValue:n}]}let hp=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ye}appInitializer(){return this.injector.get(QO,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(gn),s=this.injector.get(Br);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?J(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Br),r=this.injector.get(pw),o=this.injector.get(up),s=this.injector.get(gn),a=this.injector.get(ia);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();function f2(n){return n.appInitializer.bind(n)}function p2(n){return n.bootstrapListener.bind(n)}const yw=new U("Router Initializer"),g2=[];let v2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[gw.forRoot(g2)],gw]}),n})();const _w=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberh","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],y2=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],_2=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],b2=["helmet","helm","mask","faceguard","cap","hat","hood"],S2=["sandals","boots","shoes","footwear","slippers"],_i=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],es=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],Rc=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],ts=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],Fc=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],ns=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],Lc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let rn=(()=>{class n{constructor(){this.logTopics=["STORY","EVENT"],this.newStory="",this.newEvents="",this.newCombat="",this.newCrafting="",this.newFollower="",this.storyLog=[],this.eventLog=[],this.combatLog=[],this.craftingLog=[],this.followerLog=[],this.currentLog=[],this.addLogMessage("Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.","STANDARD","STORY"),this.addLogMessage("Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.","STANDARD","STORY"),this.addLogMessage("It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.","STANDARD","STORY"),this.addLogMessage("Be careful, the world can be a dangerous place.","STANDARD","STORY")}addLogMessage(e,i,r){let o=this.eventLog;"COMBAT"===r?o=this.combatLog:"STORY"===r?o=this.storyLog:"CRAFTING"===r?o=this.craftingLog:"FOLLOWER"===r&&(o=this.followerLog);const s={message:e,type:i,topic:r,timestamp:Date.now()};if(0===o.length||s.timestamp-o[0].timestamp>1e3||!o[0].message.includes(s.message))o.unshift(s),this.logTopics.includes(r)&&this.addToCurrentLog(s);else{const a=/\((\d+)\)$/.exec(o[0].message);let l=2;a&&(l=parseInt(a[1])+1),o[0].message=`${s.message} (${l})`}o.length>100&&"STORY"!==r&&o.splice(100,1),this.logTopics.includes(r)||("STORY"===r?this.newStory=" (new)":"EVENT"===r?this.newEvents=" (new)":"CRAFTING"===r?this.newCrafting=" (new)":"COMBAT"===r?this.newCombat=" (new)":"FOLLOWER"===r&&(this.newFollower=" (new)"))}addToCurrentLog(e){this.currentLog.length>=300&&this.currentLog.pop(),this.currentLog.unshift(e)}getProperties(){return{logTopics:this.logTopics,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.logTopics=e.logTopics||["STORY","EVENT"],this.updateLogTopics()}enableLogTopic(e,i){if(!i&&this.logTopics.includes(e)){for(let r=0;r<this.logTopics.length;r++)this.logTopics[r]===e&&this.logTopics.splice(r,1);this.updateLogTopics()}else i&&!this.logTopics.includes(e)&&(this.logTopics.push(e),this.updateLogTopics())}updateLogTopics(){const e=[];if(this.logTopics.includes("COMBAT")&&(this.newCombat="",e.push([...this.combatLog])),this.logTopics.includes("STORY")&&(this.newStory="",e.push([...this.storyLog])),this.logTopics.includes("EVENT")&&(this.newEvents="",e.push([...this.eventLog])),this.logTopics.includes("CRAFTING")&&(this.newCrafting="",e.push([...this.craftingLog])),this.logTopics.includes("FOLLOWER")&&(this.newFollower="",e.push([...this.followerLog])),this.currentLog=[],0===e.length)return;const i=r=>Array.isArray(r)&&r.every(i);for(;!i(e);){let r=Number.MAX_VALUE,o=e[0];for(let s=0;s<e.length;s++){const a=e[s];if(0===a.length)continue;const l=a[a.length-1].timestamp||0;l<r&&(r=l,o=a)}this.addToCurrentLog(o[o.length-1]),o.splice(o.length-1,1)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class C2{constructor(t,e){this.logService=t,this.titlecasePipe=e,this.maxMoney=1e24,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=5*Math.pow(1.5,9),this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=1e3,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=0,this.accuracyExponentMultiplier=.01,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.empowermentFactor=1,this.imperial=!1,this.immortal=!1,this.easyMode=!1,this.ascensionUnlocked=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,icon:"pets"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.highestMoney=0,this.highestAge=0,this.highestHealth=0,this.highestStamina=0,this.highestMana=0}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.manaUnlocked?(this.status.mana.max=1,this.status.mana.value=1):(this.status.mana.max=0,this.status.mana.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let t=0;t+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(t/5),this.statLifespan*=this.bloodlineRank<5?.1:5;const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){const r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;r>0&&(this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+this.titlecasePipe.transform(e[i])+" increased by "+mi(r,"en-US","1.0-3"),"STANDARD","EVENT")),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money<0&&(this.money=0),this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.recalculateDerivedStats(),0===this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<0&&(t=0),e<0&&(e=0),t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,s;this.status.health.max=100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+Math.floor(5*Math.log2(this.attributes.toughness.value+2)),this.money>this.maxMoney&&(this.money=this.maxMoney),this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value,!0),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.accuracy=1-Math.exp(0-this.getAptitudeMultipier(this.attributes.speed.value)*this.accuracyExponentMultiplier),this.defense=Math.floor(Math.log10(this.attributes.toughness.value)),this.attackPower=Math.floor(Math.log10(this.attributes.strength.value))||1,this.equipment.leftHand&&(this.attackPower+=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||0),this.equipment.rightHand&&(this.attackPower+=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.equipment.head&&(this.defense+=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||0),this.equipment.body&&(this.defense+=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||0),this.equipment.legs&&(this.defense+=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||0),this.equipment.feet&&(this.defense+=(null===(s=this.equipment.feet.armorStats)||void 0===s?void 0:s.defense)||0)}getEmpowermentMult(){let i=1+198/(1+Math.pow(1.02,-(this.empowermentFactor-1)/3))-99;return this.easyMode&&(i*=100),i}getAptitudeMultipier(t,e=!1){t<0&&(t=0);const i=e?1:this.getEmpowermentMult();if(t<this.attributeScalingLimit)return t*i;if(t<10*this.attributeScalingLimit)return(this.attributeScalingLimit+(t-this.attributeScalingLimit)/4)*i;if(t<100*this.attributeScalingLimit)return(this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20)*i;if(t<=this.attributeSoftCap)return(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100)*i;{const r=this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(this.attributeSoftCap-100*this.attributeScalingLimit)/100,o=(Math.pow((t-this.attributeSoftCap)*Math.pow(this.attributeScalingLimit/1e13,.15),.5)+r)*i,s=365e3;return s/(-1-Math.log((o+s)/s))+s}}increaseAttribute(t,e){let i=e*this.getAptitudeMultipier(this.attributes[t].aptitude);return i<e&&(i=e),this.attributes[t].value+=i,i}increaseBaseLifespan(t,e){return this.baseLifespan+t<365*e?(this.baseLifespan+=t,!0):(this.baseLifespan<365*e&&(this.baseLifespan=365*e),!1)}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3),this.healthBonusMagic>1e4&&(this.healthBonusMagic=1e4),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,empowermentFactor:this.empowermentFactor,immortal:this.immortal,easyMode:this.easyMode,highestMoney:this.highestMoney,highestAge:this.highestAge,highestHealth:this.highestHealth,highestStamina:this.highestStamina,highestMana:this.highestMana}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.magicLifespan=t.magicLifespan||0,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.aptitudeGainDivider=5*Math.pow(1.5,9-Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)),this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.attributeScalingLimit=10*Math.pow(2,Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)),this.attributeSoftCap=t.attributeSoftCap,this.bloodlineRank=t.bloodlineRank,this.bloodlineCost=1e3*Math.pow(100,this.bloodlineRank),this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.healthBonusFood=t.healthBonusFood||0,this.healthBonusBath=t.healthBonusBath||0,this.healthBonusMagic=t.healthBonusMagic||0,this.empowermentFactor=t.empowermentFactor||1,this.immortal=t.immortal||!1,this.easyMode=t.easyMode||!1,this.highestMoney=t.highestMoney||0,this.highestAge=t.highestAge||0,this.highestHealth=t.highestHealth||0,this.highestStamina=t.highestStamina||0,this.highestMana=t.highestMana||0,this.recalculateDerivedStats()}}var I=(()=>{return(n=I||(I={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",n[n.CoreCultivation=17]="CoreCultivation",n[n.InfuseBody=18]="InfuseBody",n[n.InfuseEquipment=19]="InfuseEquipment",n[n.ExtendLife=20]="ExtendLife",n[n.Recruiting=21]="Recruiting",n[n.TrainingFollowers=22]="TrainingFollowers",n[n.Swim=23]="Swim",n[n.ForgeChains=24]="ForgeChains",n[n.AttachChains=25]="AttachChains",n[n.MakeBrick=26]="MakeBrick",n[n.MakeMortar=27]="MakeMortar",n[n.MakeScaffold=28]="MakeScaffold",n[n.BuildTower=29]="BuildTower",n[n.ResearchWind=30]="ResearchWind",n[n.TameWinds=31]="TameWinds",n[n.LearnToFly=32]="LearnToFly",n[n.OfferDragonFood=33]="OfferDragonFood",n[n.OfferDragonWealth=34]="OfferDragonWealth",n[n.TalkToDragon=35]="TalkToDragon",n[n.GatherArmies=36]="GatherArmies",n[n.ConquerTheWorld=37]="ConquerTheWorld",n[n.MoveStars=38]="MoveStars",n[n.EscapeHell=39]="EscapeHell",n[n.Hell=40]="Hell",I;var n})();let Wt=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new ye,this.longTickSubject=new ye,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.unlockAgeSpeed=!1,this.unlockPlaytimeSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useBankedTicks=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,unlockAgeSpeed:this.unlockAgeSpeed,unlockPlaytimeSpeed:this.unlockPlaytimeSpeed,offlineDivider:this.offlineDivider,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks}}setProperties(e){var i;this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.unlockAgeSpeed=e.unlockAgeSpeed,this.unlockPlaytimeSpeed=e.unlockPlaytimeSpeed,this.tickDivider=e.tickDivider,this.offlineDivider=e.offlineDivider||10,this.pause=e.pause,this.lastTime=e.lastTime;const r=(new Date).getTime();this.bankedTicks=r-this.lastTime>6048e5?e.bankedTicks+(18144e5+r-this.lastTime)/(25*this.offlineDivider*4):e.bankedTicks+(r-this.lastTime)/(25*this.offlineDivider),this.lastTime=r,this.totalTicks=e.totalTicks||0,this.useBankedTicks=null===(i=e.useBankedTicks)||void 0===i||i}start(){this.characterService||(this.characterService=this.injector.get(Pe)),window.setInterval(()=>{this.longTickSubject.next(!0)},500),window.setInterval(()=>{const e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=i/25;if(this.pause)this.bankedTicks+=r/this.offlineDivider;else for(r*=this.getTPS(this.tickDivider)/1e3*25,this.bankedTicks>0&&this.useBankedTicks&&(r*=10,this.bankedTicks-=i/25*10),this.tickCount+=r,this.tickCount>36500&&(this.tickCount=36500);!this.pause&&this.tickCount>0;)this.tick(),this.tickCount--},25)}getTPS(e){let i=40;return this.characterService&&this.unlockAgeSpeed&&(i*=Math.sqrt(1+this.characterService.characterState.age/73e3)),this.unlockPlaytimeSpeed&&(i*=Math.pow(1+this.totalTicks/73e4,.3)),i/=e,e>1&&i>40&&(i=e>=10?40:40+(i-40)/e),i}tick(){this.totalTicks++,this.tickSubject.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hi=(()=>{class n{constructor(){this.reincarnateSubject=new ye}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y=(()=>{return(n=Y||(Y={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.TameWinds=3]="TameWinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",Y;var n})();let is=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.logService=i,this.characterService=r,this.battleService=a,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:Y.Swim,progressRequired:4e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:Y.RaiseIsland,progressRequired:777},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:Y.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:Y.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:Y.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:Y.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:Y.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:Y.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:Y.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],o.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let l=0;l<this.tasks.length;l++)if(this.taskProgress[l].complete&&this.tasks[l].taskType===this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}markPriorCompletions(){let e=!1;this.nextTask=-1;for(let i=this.tasks.length-1;i>=0;i--)(this.taskProgress[i].complete||e)&&(e=!0,this.taskProgress[i].progress=this.tasks[i].progressRequired,this.taskProgress[i].complete=!0),e&&this.nextTask<0?this.nextTask=i:0===i&&(this.nextTask=0)}reset(){this.markPriorCompletions();for(let e=this.tasks.length-1;e>=0;e--)this.taskProgress[e].progress<this.tasks[e].progressRequired&&(this.taskProgress[e].complete?this.taskProgress[e].progress=this.tasks[e].progressRequired:e!==Y.BuildTower&&(this.taskProgress[e].progress=0));this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=void 0===e.activeTaskIndex?-1:e.activeTaskIndex,this.markPriorCompletions(),this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities(),this.activeTaskIndex===Y.OvercomeDeath&&this.battleService.addEnemy(this.battleService.enemyRepo.death)}stopTask(){this.activeTaskIndex===Y.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(S(Fe),S(rn),S(Pe),S(Wt),S(Hi),S(ti))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bw=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let Ui=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.logService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.battleService=c,this.followersUnlocked=!1,this.followerLifespanDoubled=!1,this.followers=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.followerCap=0,this.followersMaxed="UNMAXED",this.sortField="Job",this.sortAscending=!0,this.totalRecruited=0,this.totalDied=0,this.totalDismissed=0,this.highestLevel=0,this.jobs={builder:{work:u=>{this.homeService.nextHomeCostReduction+=u.power,this.homeService.upgrading&&this.homeService.upgradeTick(u.power)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster."},hunter:{work:u=>{this.inventoryService.addItem(this.itemRepoService.items.meat,u.power),this.inventoryService.addItem(this.itemRepoService.items.hide,u.power)},description:"Hunters collect meat and hides for you."},farmer:{work:u=>{this.homeService.workFields(u.power)},description:"Farmers work your fields, helping your crops to grow."},weaponsmith:{work:u=>{this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.rightHand.value+=Math.floor(u.power/10)),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.leftHand.value+=Math.floor(u.power/10))},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day. Higher levels can also help improve them."},armorer:{work:u=>{this.characterService.characterState.equipment.head&&this.characterService.characterState.equipment.head.armorStats&&(this.characterService.characterState.equipment.head.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.head.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.head.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.body&&this.characterService.characterState.equipment.body.armorStats&&(this.characterService.characterState.equipment.body.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.body.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.body.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.legs&&this.characterService.characterState.equipment.legs.armorStats&&(this.characterService.characterState.equipment.legs.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.legs.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.legs.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.feet&&this.characterService.characterState.equipment.feet.armorStats&&(this.characterService.characterState.equipment.feet.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.feet.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.feet.value+=Math.ceil(Math.floor(u.power/10)/2))},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day. Higher levels can also help improve them."},brawler:{work:u=>{this.characterService.characterState.increaseAttribute("strength",u.power)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength."},sprinter:{work:u=>{this.characterService.characterState.increaseAttribute("speed",u.power)},description:"Sprinters challenge you to footraces and help you increase your speed."},trainer:{work:u=>{this.characterService.characterState.increaseAttribute("toughness",u.power)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness."},tutor:{work:u=>{this.characterService.characterState.increaseAttribute("intelligence",u.power)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence."},mediator:{work:u=>{this.characterService.characterState.increaseAttribute("charisma",u.power)},description:"Mediators teach you how to persuade others, increasing your charisma."},priest:{work:u=>{this.characterService.characterState.increaseAttribute("spirituality",u.power)},description:"Priests help you get closer to the divine, increasing your sprituality."},gemologist:{work:u=>{let h=0;for(const m of this.followers)"gemologist"===m.job&&(h+=m.power);h=Math.floor(h/50),h>4&&(h=4);for(let m=0;m<u.power;m++)this.inventoryService.mergeAnySpiritGem(h)},description:"Gemologists combine monster gems into higher grades."},scout:{work:u=>{this.battleService.tickCounter+=u.power},description:"Scouts help you track down and fight monsters faster."}},a.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.characterState.dead){this.updateFollowerCap(),this.characterService.characterState.age%18250==0&&this.generateFollower();for(let u=this.followers.length-1;u>=0;u--)this.followerWorks(this.followers[u]),this.followers[u].age++,this.followers[u].age>=this.followers[u].lifespan?(this.totalDied++,this.logService.addLogMessage("Your follower "+this.followers[u].name+" passed away from old age.","INJURY","FOLLOWER"),this.followers.splice(u,1)):this.characterService.characterState.money<this.followers[u].cost?(this.totalDismissed++,this.logService.addLogMessage("You didn't have enough money to suppport your follower "+this.followers[u].name+" so they left your service.","INJURY","FOLLOWER"),this.followers.splice(u,1)):this.characterService.characterState.money-=this.followers[u].cost;this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED"}}),a.longTickSubject.subscribe(()=>{this.sortFollowers(this.sortAscending)}),l.reincarnateSubject.subscribe(()=>{this.reset()})}updateFollowerCap(){this.followerCap=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank,this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED"}sortFollowers(e){let i=1,r=-1;e||(i=-1,r=1),this.followers.sort("Remaining Life"===this.sortField?(o,s)=>o.lifespan-o.age>s.lifespan-s.age?i:o.lifespan-o.age==s.lifespan-s.age?0:r:(o,s)=>o[this.sortField.toLowerCase()]>s[this.sortField.toLowerCase()]?i:o[this.sortField.toLowerCase()]===s[this.sortField.toLowerCase()]?0:r)}followerWorks(e){this.jobs[e.job].work(e)}reset(){this.characterService.characterState.bloodlineRank>=7?this.logService.addLogMessage("Your imperial entourage rejoins you as you set out.","STANDARD","EVENT"):(this.followers.splice(0,this.followers.length),this.followersMaxed="UNMAXED"),this.followersRecruited=0}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType,sortField:this.sortField,sortAscending:this.sortAscending,totalRecruited:this.totalRecruited,totalDied:this.totalDied,totalDismissed:this.totalDismissed,highestLevel:this.highestLevel}}setProperties(e){this.followers=e.followers||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.maxFollowerByType=e.maxFollowerByType||{},this.sortField=e.sortField||"Job",this.sortAscending=void 0===e.sortAscending||e.sortAscending,this.totalRecruited=e.totalRecruited||0,this.totalDied=e.totalDied||0,this.totalDismissed=e.totalDismissed||0,this.highestLevel=e.highestLevel||0}generateFollower(e){if(this.totalRecruited++,this.followersRecruited++,this.followers.length>=this.followerCap)return this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","FOLLOWER"),void(this.followersMaxed="MAXED");e=e||this.generateFollowerJob();let i=1e3,r=0;void 0!==this.maxFollowerByType[e]&&(i=this.maxFollowerByType[e]);for(const s of this.followers)s.job===e&&r++;if(r>=i)return this.logService.addLogMessage("A new follower shows up, but they were a "+e+" and you don't want any more of those.","STANDARD","FOLLOWER"),void this.totalDismissed++;const o=this.followerLifespanDoubled?5:10;this.logService.addLogMessage("A new "+e+" has come to learn at your feet.","STANDARD","FOLLOWER"),this.followers.push({name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/o,job:e,power:1,cost:100}),this.sortFollowers(this.sortAscending),this.followers.length>=this.followerCap&&(this.followersMaxed="MAXED")}generateFollowerName(){return bw[Math.floor(Math.random()*bw.length)]}generateFollowerJob(){const e=Object.keys(this.jobs);return e[Math.floor(Math.random()*e.length)]}dismissFollower(e){this.totalDismissed++;const i=this.followers.indexOf(e);this.followers.splice(i,1),this.followersMaxed="UNMAXED"}dismissFollowerAll(e){this.totalDismissed+=this.followers.length;for(let i=this.followers.length-1;i>=0;i--)this.followers[i].job===e.job&&this.followers.splice(i,1);this.maxFollowerByType[e.job]=0,this.followersMaxed="UNMAXED"}limitFollower(e){let i=0;for(let r=this.followers.length-1;r>=0;r--)this.followers[r].job===e.job&&i++;this.maxFollowerByType[e.job]=i}setMaxFollowers(e,i){this.maxFollowerByType[e]=!i||i<0?0:i}}return n.\u0275fac=function(e){return new(e||n)(S(rn),S(Pe),S(it),S(Z),S(ei),S(Wt),S(Hi),S(ti))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fp{constructor(t,e,i){this.autoBuyerService=t,this.homeService=e,this.characterService=i}}class D2 extends fp{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(t){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){const e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){const i=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),e.landRequired-this.homeService.land);i>0&&this.homeService.buyLand(i)}}}else{const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+t&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}}class k2 extends fp{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.homeService.autoFieldUnlocked}run(t){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+t){const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.autoBuyLandLimit-(this.homeService.land+this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.homeService.autoFieldUnlocked){const e=Math.min(this.homeService.land,this.homeService.autoFieldLimit-(this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.addField(e)}}isBlocked(){return!(!this.homeService.autoFieldUnlocked||this.homeService.autoBuyLandUnlocked)&&0===this.homeService.land&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit}isWaiting(){return!1}isComplete(){let t=!0;this.homeService.autoBuyLandUnlocked&&(t=this.homeService.land+this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.homeService.autoFieldUnlocked&&(e=this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoFieldLimit),t&&e}}class x2 extends fp{shouldRun(){return this.homeService.autoBuyFurnitureUnlocked}run(t){var e;for(const i of this.homeService.furniturePositionsArray)if(this.homeService.home.furnitureSlots.includes(i)&&null===this.homeService.furniture[i]){const r=this.homeService.autoBuyFurniture[i];r&&(null===(e=this.homeService.furniture[i])||void 0===e?void 0:e.id)!==r.id&&this.characterService.characterState.money>r.value+t&&this.homeService.buyFurniture(r.id)}return!0}isBlocked(){var t;let e=!0,i=!0;for(const r of this.homeService.furniturePositionsArray){const o=this.homeService.autoBuyFurniture[r];o&&(this.homeService.home.furnitureSlots.includes(r)?(null===(t=this.homeService.furniture[r])||void 0===t?void 0:t.id)!==o.id&&(i=!1):e=!1)}return!this.homeService.upgrading&&i&&!e}isWaiting(){let t=!1;for(const e of this.homeService.furniturePositionsArray)this.homeService.autoBuyFurniture[e]&&!this.homeService.home.furnitureSlots.includes(e)&&this.homeService.nextHome.furnitureSlots.includes(e)&&(t=!1);return this.homeService.upgrading&&t}isComplete(){var t;for(const e of this.homeService.furniturePositionsArray){const i=this.homeService.autoBuyFurniture[e];if(i&&(!this.homeService.home.furnitureSlots.includes(e)||(null===(t=this.homeService.furniture[e])||void 0===t?void 0:t.id)!==i.id))return!1}return!0}}let Nc=(()=>{class n{constructor(e,i,r){this.characterService=e,this.homeService=i,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new D2(this,this.homeService,this.characterService),land:new k2(this,this.homeService,this.characterService),furniture:new x2(this,this.homeService,this.characterService)},r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Furniture",type:"furniture",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){const e=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:10*(this.homeService.home.costPerDay+1);for(const i of this.autoBuyerSettings){const r=this.autobuyers[i.type];if(i.enabled&&r.shouldRun()&&!r.isBlocked()&&!r.isComplete()){if(r.isWaiting()&&i.waitForFinish)break;if(r.isWaiting())continue;if(r.run(e),!r.isComplete()&&i.waitForFinish)break}}}}return n.\u0275fac=function(e){return new(e||n)(S(Pe),S(it),S(Wt))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pp=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,m,g){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=s,this.itemRepoService=a,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=h,this.followerService=m,this.impossibleTaskService=g,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persistent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Veteran Cultivator",description:"You lived ten thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.totalPlaytimeManual.name,hint:"A long life. Myriad years.",check:()=>this.mainLoopService.totalTicks>365e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.totalPlaytimeManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(I.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(I.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(I.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(I.Woodworking),effect:()=>{},unlocked:!1},{name:"Addict",description:"You got a taste of those sweet, sweet empowerment pills and want more.",hint:"Master of all.",check:()=>this.characterService.characterState.empowermentFactor>1,effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0===this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Ee.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!==this.homeService.furniture.bathtub&&null!==this.homeService.furniture.bed&&null!==this.homeService.furniture.kitchen&&null!==this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.homeService.autoFieldUnlocked&&this.homeService.autoBuyFurnitureUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>{var y,b,D,T,M,A,R,z;return!!((null===(b=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.rightHand)||void 0===b?void 0:b.weaponStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===T?void 0:T.weaponStats.baseDamage)>=131&&(null===(A=null===(M=this.characterService.characterState.equipment)||void 0===M?void 0:M.leftHand)||void 0===A?void 0:A.weaponStats)&&(null===(z=null===(R=this.characterService.characterState.equipment)||void 0===R?void 0:R.leftHand)||void 0===z?void 0:z.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>{var y,b,D,T,M,A,R,z,De,xe,ot,st,at,on,It,yt;return!!((null===(b=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.head)||void 0===b?void 0:b.armorStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===T?void 0:T.armorStats.defense)>=131&&(null===(A=null===(M=this.characterService.characterState.equipment)||void 0===M?void 0:M.body)||void 0===A?void 0:A.armorStats)&&(null===(z=null===(R=this.characterService.characterState.equipment)||void 0===R?void 0:R.body)||void 0===z?void 0:z.armorStats.defense)>=131&&(null===(xe=null===(De=this.characterService.characterState.equipment)||void 0===De?void 0:De.legs)||void 0===xe?void 0:xe.armorStats)&&(null===(st=null===(ot=this.characterService.characterState.equipment)||void 0===ot?void 0:ot.legs)||void 0===st?void 0:st.armorStats.defense)>=131&&(null===(on=null===(at=this.characterService.characterState.equipment)||void 0===at?void 0:at.feet)||void 0===on?void 0:on.armorStats)&&(null===(yt=null===(It=this.characterService.characterState.equipment)||void 0===It?void 0:It.feet)||void 0===yt?void 0:yt.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",description:"You achieved a deep understanding of metal ore and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Unlimited Taels",description:"Your family has unlocked the secrets of compound interest. You probably never have to worry about money again.",hint:"Family first. Especially in matters of money.",check:()=>this.characterService.characterState.bloodlineRank>=4,effect:()=>{},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>{var y,b,D,T,M,A,R,z;return!!((null===(b=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.rightHand)||void 0===b?void 0:b.weaponStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===T?void 0:T.weaponStats.baseDamage)>=8888&&(null===(A=null===(M=this.characterService.characterState.equipment)||void 0===M?void 0:M.leftHand)||void 0===A?void 0:A.weaponStats)&&(null===(z=null===(R=this.characterService.characterState.equipment)||void 0===R?void 0:R.leftHand)||void 0===z?void 0:z.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>{var y,b,D,T,M,A,R,z,De,xe,ot,st,at,on,It,yt;return!!((null===(b=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.head)||void 0===b?void 0:b.armorStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===T?void 0:T.armorStats.defense)>=8888&&(null===(A=null===(M=this.characterService.characterState.equipment)||void 0===M?void 0:M.body)||void 0===A?void 0:A.armorStats)&&(null===(z=null===(R=this.characterService.characterState.equipment)||void 0===R?void 0:R.body)||void 0===z?void 0:z.armorStats.defense)>=8888&&(null===(xe=null===(De=this.characterService.characterState.equipment)||void 0===De?void 0:De.legs)||void 0===xe?void 0:xe.armorStats)&&(null===(st=null===(ot=this.characterService.characterState.equipment)||void 0===ot?void 0:ot.legs)||void 0===st?void 0:st.armorStats.defense)>=8888&&(null===(on=null===(at=this.characterService.characterState.equipment)||void 0===at?void 0:at.feet)||void 0===on?void 0:on.armorStats)&&(null===(yt=null===(It=this.characterService.characterState.equipment)||void 0===It?void 0:It.feet)||void 0===yt?void 0:yt.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{const y=this.characterService.characterState.attributes.fireLore.value,b=this.characterService.characterState.attributes.earthLore.value,D=this.characterService.characterState.attributes.woodLore.value,T=this.characterService.characterState.attributes.waterLore.value,M=this.characterService.characterState.attributes.metalLore.value,A=Math.min(M,T,D,b,y),R=Math.max(M,T,D,b,y);return A>=1e3&&R<=1.21*A},effect:()=>{this.characterService.characterState.manaUnlocked=!0,0===this.characterService.characterState.status.mana.max&&(this.characterService.characterState.status.mana.max=1,this.characterService.characterState.status.mana.value=1)},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can exceed the limits of humanity. It can't be done.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Eternal Nation",description:"You have established an empire that will never fall, and a bloodline that will always inherit it.",hint:"Bloodline Empire.",check:()=>this.homeService.home.type===Ee.Capital&&this.characterService.characterState.bloodlineRank>=7,effect:()=>{this.characterService.characterState.imperial=!0},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const y=this.characterService.characterState.attributes.speed.value,b=this.characterService.characterState.attributes.toughness.value,D=this.characterService.characterState.attributes.charisma.value,T=this.characterService.characterState.attributes.intelligence.value,M=this.characterService.characterState.attributes.strength.value,A=Math.min(y,b,D,T,M),R=Math.max(y,b,D,T,M);return A>=1e6&&R<=1.21*A},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const y=this.characterService.characterState.attributes.spirituality.value,b=this.characterService.characterState.attributes.speed.value,D=this.characterService.characterState.attributes.toughness.value,T=this.characterService.characterState.attributes.charisma.value,M=this.characterService.characterState.attributes.intelligence.value,A=this.characterService.characterState.attributes.strength.value,R=Math.min(b,D,T,M,A,y),z=Math.max(b,D,T,M,A,y);return R>=1e6&&z<=1.21*R},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Loyal Followers",description:"One of your followers has trained under you so long they have nothing else to learn. In an epiphany you realized how to double your new followers' lifespan.",hint:"Endless training.",check:()=>this.followerService.highestLevel>=100,effect:()=>{this.followerService.followerLifespanDoubled=!0},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1},{name:"Breaks are Good",description:"You have collected two hour's worth of offline ticks and unlocked the "+this.itemRepoService.items.bankedTicksEfficiencyManual.name,hint:"Take a day off from cultivating.",check:()=>this.mainLoopService.bankedTicks>288e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bankedTicksEfficiencyManual)},unlocked:!1},{name:"Breaks are Bad",description:"You died from overwork performing an activity without necessary rest and unlocked the "+this.itemRepoService.items.autoRestManual.name,hint:"There's no time to rest, cultivating is life.",check:()=>this.activityService.activityDeath,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoRestManual)},unlocked:!1},{name:"Still Spry",description:"You have lived to be 300 years old and unlocked the "+this.itemRepoService.items.ageSpeedManual.name,hint:"One step to becoming immortal is to live longer.",check:()=>this.characterService.characterState.age>109500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.ageSpeedManual)},unlocked:!1},{name:"Immortality",description:"Congratulations! You are now immortal.",hint:"Name of the game.",check:()=>this.characterService.characterState.immortal,effect:()=>{},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(const y of this.achievements)this.unlockedAchievements.includes(y.name)||y.check()&&this.unlockAchievement(y,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(Xn)),this.gameStateService.savetoLocalStorage()),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(const i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(S(Wt),S(Fe),S(rn),S(Pe),S(Z),S(ei),S(Yr),S(ti),S(it),S(rt),S(Ui),S(is))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ht=(()=>{return(n=ht||(ht={}))[n.TongueRipping=0]="TongueRipping",n[n.Scissors=1]="Scissors",n[n.TreesOfKnives=2]="TreesOfKnives",n[n.Mirrors=3]="Mirrors",n[n.Steamers=4]="Steamers",n[n.CopperPillars=5]="CopperPillars",n[n.MountainOfKnives=6]="MountainOfKnives",n[n.MountainOfIce=7]="MountainOfIce",n[n.CauldronsOfOil=8]="CauldronsOfOil",n[n.CattlePit=9]="CattlePit",n[n.CrushingBoulder=10]="CrushingBoulder",n[n.MortarsAndPestles=11]="MortarsAndPestles",n[n.BloodPool=12]="BloodPool",n[n.WrongfulDead=13]="WrongfulDead",n[n.Dismemberment=14]="Dismemberment",n[n.MountainOfFire=15]="MountainOfFire",n[n.Mills=16]="Mills",n[n.Saws=17]="Saws",ht;var n})();let Bc=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.logService=i,this.characterService=r,this.battleService=a,this.inHell=!1,this.currentHell=-1,this.hells=[{name:"Hell of Tongue-ripping",description:"Torment for gossips and everyone one who made trouble with their words. The demons here reach for your tongue to rip it out.",index:ht.TongueRipping,effect:()=>{}},{name:"Hell of Scissors",description:"Torment for those who ruin marriages. The demons here will cut your fingers right off.",index:ht.Scissors,effect:()=>{}},{name:"Hell of Trees of Knives",description:"Torment for those who cause trouble between family members. The demons here will tie you to a tree made of sharp knives",index:ht.TreesOfKnives,effect:()=>{}},{name:"Hell of Mirrors",description:"Torment for those who escaped punishment for their crimes. The mirrors here shine with a terrifying glow.",index:ht.Mirrors,effect:()=>{}},{name:"Hell of Steamers",description:"Torment for hypocrites and troublemakers. The steam baskets here are just the right size for you.",index:ht.Steamers,effect:()=>{}},{name:"Hell of Copper Pillars",description:"Torment for arsonists. The red-hot copper pillars remind you of all those times you played with fire.",index:ht.CopperPillars,effect:()=>{}},{name:"Hell of the Mountain of Knives",description:"Torment for those who killed for pleasure. The mountain of sharp blades looks like it might be rough on footwear.",index:ht.MountainOfKnives,effect:()=>{}},{name:"Hell of the Mountain of Ice",description:"Torment for adulterers and schemers. The chill wind blowing through the gate is so cold it burns.",index:ht.MountainOfIce,effect:()=>{}},{name:"Hell of the Cauldrons of Oil",description:"Torment for rapists and abusers. Next on the menu: deep fried immortal.",index:ht.CauldronsOfOil,effect:()=>{}},{name:"Hell of the Cattle Pit",description:"Torment for animal abusers. The cows are looking a little restless.",index:ht.CattlePit,effect:()=>{}},{name:"Hell of the Crushing Boulder",description:"Torment for child-killer and abondoners. Atlas had it easy compared to these things.",index:ht.CrushingBoulder,effect:()=>{}},{name:"Hell of Mortars and Pestles",description:"Torment for food wasters. You didn't really need to eat all those peaches, did you? The diet here is pure hellfire.",index:ht.MortarsAndPestles,effect:()=>{}},{name:"Hell of the Blood Pool",description:"Torment for those who disrespect others. The pool looks deep, but it's hard to tell with all that blood.",index:ht.BloodPool,effect:()=>{}},{name:"Hell of the Wrongful Dead",description:"Torment for those who gave up their lives too early. Fortunately you've probably never done that. The pounding Rains of Pain and the blowing Winds of Sorrow give unrelenting misery to everyone here.",index:ht.WrongfulDead,effect:()=>{}},{name:"Hell of Dismemberment",description:"Torment for tomb-raiders and grave-robbers. The demons here look awfully handy with those giant axes.",index:ht.Dismemberment,effect:()=>{}},{name:"Hell of the Mountain of Fire",description:"Torment for thieves. The volcano where the poor souls are thrown looks a little toasty for comfort.",index:ht.MountainOfFire,effect:()=>{}},{name:"Hell of Mills",description:"Torment for any who abused their power to oppress the weak. You don't look forward to being ground into immortal flour.",index:ht.Mills,effect:()=>{}},{name:"Hell of Saws",description:"Torment for swindlers and business cheats. The demons sharpen their saws and grin at you. You wish now that you'd stayed out of politics.",index:0,effect:()=>{}}],s.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.currentHell=-1}getProperties(){return{inHell:this.inHell,currentHell:this.currentHell}}setProperties(e){this.currentHell=e.currentHell,this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities()}getActivityList(){this.activityService||(this.activityService=this.injector.get(rt));const e=[];return-1===this.currentHell?(this.activityService.activityHeader="Choose your Hell",this.activityService.activityHeaderDescription="The heavens have cast you down to the depths of hell. You'll need to defeat every level to escape.",this.setEnterHellsArray(e)):(this.activityService.activityHeader=this.hells[this.currentHell].name,this.activityService.activityHeaderDescription=this.hells[this.currentHell].description,e.push(this.flee())),e}flee(){return{level:0,name:["Escape from this hell"],activityType:I.EscapeHell,description:["Return to the gates of Lord Yama's realm."],consequenceDescription:[""],consequence:[()=>{var e;this.currentHell=-1,null===(e=this.activityService)||void 0===e||e.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0}}setEnterHellsArray(e){for(const i of this.hells)e.push({level:0,name:[i.name],activityType:I.Hell+i.index,description:[i.description],consequenceDescription:[""],consequence:[()=>{var r;this.currentHell=i.index,null===(r=this.activityService)||void 0===r||r.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0})}}return n.\u0275fac=function(e){return new(e||n)(S(Fe),S(rn),S(Pe),S(Wt),S(Hi),S(ti))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const mp="immortalityIdleGameState";let Xn=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,m,g,y,b){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.autoBuyerService=h,this.mainLoopService=m,this.achievementService=g,this.impossibleTaskService=y,this.hellService=b,this.lastSaved=0,this.isDarkMode=!1,this.isExperimental=window.location.href.includes("experimental"),this.gameStartTimestamp=(new Date).getTime(),this.easyModeEver=!1,window.GameStateService=this,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){window.localStorage.setItem(mp+this.getDeploymentFlavor(),this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(){const e=window.localStorage.getItem(mp+this.getDeploymentFlavor());!e||this.importGame(e)}importGame(e){let i;i="iig"===e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(i);this.achievementService.setProperties(r.achievements),this.impossibleTaskService.setProperties(r.impossibleTasks),this.hellService.setProperties(r.hell||{}),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(null===o)continue;const s=this.itemRepoService.getItemById(o.item.id);s&&(o.item=s)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.isDarkMode=r.darkMode||!1,this.gameStartTimestamp=r.gameStartTimestamp||(new Date).getTime(),this.easyModeEver=r.easyModeEver||!1,this.followersService.updateFollowerCap()}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),hell:this.hellService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode,gameStartTimestamp:this.gameStartTimestamp,easyModeEver:this.easyModeEver};let i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(mp+this.getDeploymentFlavor()),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(const i in this.itemRepoService.items){const r=this.itemRepoService.items[i];"manual"===r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){const r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}getDeploymentFlavor(){let e=window.location.href;if("http://localhost:4200/"===e)return"";if("https://immortalityidle.github.io/"===e||"https://immortalityidle.github.io/old/"===e)return"";if(e.includes("https://immortalityidle.github.io/"))return e=e.substring(0,e.length-1),e.substring(e.lastIndexOf("/")+1);throw new Error("Hey, someone stole this game!")}}return n.\u0275fac=function(e){return new(e||n)(S(Pe),S(it),S(Z),S(rn),S(Hi),S(rt),S(ei),S(ti),S(Ui),S(Nc),S(Wt),S(pp),S(is),S(Bc))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ei=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.01&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.02&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=1825?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan=1825)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.05&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=3650?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan=3650)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.08&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=5475?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan=5475)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=7300?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan=7300)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.12&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=9125?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan=9125)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.15&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=10950?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan=10950)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.18&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=12775?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan=12775)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.2&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=14600?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan=14600)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.22&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=2*s,this.characterService.characterState.foodLifespan+s<=26280?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan=26280)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=2*s,this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=10*s,this.characterService.characterState.status.stamina.max+=s,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.stamina.max+=s),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong, but it's REALLY heavy."},everlastingBrick:{id:"everlastingBrick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",name:"Essence of Immortality",type:"immortality",value:1/0,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(is)),this.impossibleTaskService.taskProgress[Y.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=Y.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.OvercomeDeath].complete&&(this.logService.addLogMessage("YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!","INJURY","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(Xn)),this.gameStateService.easyModeEver&&this.logService.addLogMessage("Good work, even if you did take the easy path. For more of a challenge, you could reset and try without using the easy game mode.","STANDARD","STORY"),this.logService.addLogMessage("You won this game in "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes. I wonder if other immortals have ever done it faster?","STANDARD","STORY"),this.characterService.characterState.immortal=!0)}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get(rt)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoBuyFurnitureUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(Nc)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(Nc)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(it)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoPotionUnlocked=!0;for(let s=this.inventoryService.autoUseEntries.length-1;s>=0;s--)this.inventoryService.autoUseEntries[s].name.includes("Potion")&&this.inventoryService.autoUseEntries.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoswallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoPillUnlocked=!0;for(let s=this.inventoryService.autoUseEntries.length-1;s>=0;s--)this.inventoryService.autoUseEntries[s].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(ti)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(ti)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldHerbs=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldWood=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldOre=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldOre)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you to automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(Ui)),this.followerService.autoDismissUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.followerService||(this.followerService=this.injector.get(Ui)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you to automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem autoselling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(Z)),this.inventoryService.autoSellOldGemsUnlocked)},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.autoPauseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.autoPauseUnlocked)},bankedTicksEfficiencyManual:{id:"bankedTicksEfficiencyManual",name:"Manual of Efficient Time Banking",type:"manual",description:"This manual teaches you to more efficiently bank ticks when paused or offline.",value:25e8,useLabel:"Read",useDescription:"Permanently increase banked tick efficiency to 50%.",useConsumes:!0,use:()=>{this.mainLoopService.offlineDivider=2,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.offlineDivider<=2},autoRestManual:{id:"autoRestManual",name:"Manual of Timely Rest",type:"manual",description:"This manual teaches you to avoid overwork by resting just in time.",value:4e10,useLabel:"Read",useDescription:"Permanently unlock automatic resting.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.autoRestUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.autoRestUnlocked)},ageSpeedManual:{id:"ageSpeedManual",name:"Manual of Aged Time Perception",type:"manual",description:"This manual teaches you to percieve time faster the older you are.",value:75e8,useLabel:"Read",useDescription:"Permanently increase time passage based on your age.",useConsumes:!0,use:()=>{this.mainLoopService.unlockAgeSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockAgeSpeed},totalPlaytimeManual:{id:"totalPlaytimeManual",name:"Manual of Lifetime Time Perception",type:"manual",description:"This manual teaches you to percieve time faster the longer you've lived across all your lives.",value:5e10,useLabel:"Read",useDescription:"Permanently increase time passage based on your total time lived.",useConsumes:!0,use:()=>{this.mainLoopService.unlockPlaytimeSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockPlaytimeSpeed}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(S(Pe),S(Fe),S(rn),S(Wt))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ti=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.ticksPerFight=10,this.highestDamageTaken=0,this.highestDamageDealt=0,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:5,loot:[this.itemRepoService.items.hide]},army:{name:"an angry army",health:2e7,maxHealth:2e7,accuracy:.9,attack:1e7,defense:1e7,loot:[]},death:{name:"Death itself",health:1e14,maxHealth:1e14,accuracy:.99,attack:3e8,defense:3e8,loot:[this.itemRepoService.items.immortality],unique:!0}},this.monsterNames=["spider","rat","lizard","snake","imp","ooze","jackalope","goblin","monkey","redcap","skeleton","zombie","hobgoblin","kobold","chupacabra","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","troll","manticore","merlion","landshark","bugbear","yeti","dreameater","unicorn","ogre","banshee","harpy","werewolf","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","thunderbird","vampire","beholder","hydra","roc","giant","kraken","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a pathetic","a sickly","a starving","a wimpy","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a typical","an average","a healthy","a big","a tough","a strong","a fearsome","a gutsy","a quick","a hefty","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a devious","a mighty","a powerful","a noble","a magical","a dangerous","a terrifying","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null===this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack,highestDamageDealt:this.highestDamageDealt,highestDamageTaken:this.highestDamageTaken}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack,this.highestDamageDealt=e.highestDamageDealt||0,this.highestDamageTaken=e.highestDamageTaken||0}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)if(Math.random()<e.enemy.accuracy){let r=e.enemy.attack;const o=this.characterService.characterState.defense;o>=1&&(r/=Math.pow(o,.2)+Math.pow(2e4,(-r+o)/o)),r<this.enemyRepo.mouse.attack&&(r=this.enemyRepo.mouse.attack),this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(r/=2,this.characterService.characterState.status.mana.value-=10),this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+mi(r,"en-US","1.0-2")+" damage","INJURY","COMBAT"),r>this.highestDamageTaken&&(this.highestDamageTaken=r),this.characterService.characterState.status.health.value-=r,this.characterService.characterState.increaseAttribute("toughness",.01);const s=[];if(this.characterService.characterState.equipment.head&&s.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&s.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&s.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&s.push(this.characterService.characterState.equipment.feet),s.length>0&&this.degradeArmor(s[Math.floor(Math.random()*s.length)]),this.characterService.characterState.status.health.value<=0)return this.logService.addLogMessage("Death itself"===e.enemy.name?e.enemy.name+" overkilled you by "+Math.floor(-this.characterService.characterState.status.health.value)+" damage. You were defeated.":"You were defeated by "+e.enemy.name,"INJURY","EVENT"),void(this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0))}else this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.currentEnemy){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower;const i=this.currentEnemy.enemy.defense;if(i>=1&&(e/=Math.pow(i,.2)+Math.pow(2e4,(-e+i)/i)),e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10),e>this.highestDamageDealt&&(this.highestDamageDealt=e),this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null)),this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(const r of this.currentEnemy.enemy.loot){const o=this.itemRepoService.getItemById(r.id);this.inventoryService.addItem(o||r)}if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){const r=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(r,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+e+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name===e.name)return void(e.unique||i.quantity++);this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1}),null===this.currentEnemy&&(this.currentEnemy=this.enemies[0])}trouble(){if(0!==this.enemies.length)return;const e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length);let s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1));const a=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)));this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:this.troubleKills/5,loot:[a]}),this.troubleKills++}degradeArmor(e){e.armorStats&&(e.armorStats.durability--,this.inventoryService.updateArmorDescription(e),e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null))}}return n.\u0275fac=function(e){return new(e||n)(S(rn),S(Pe),S(ei),S(Z),S(Wt),S(Hi))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ee=(()=>{return(n=Ee||(Ee={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",Ee;var n})();let it=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.homesList=[{name:"Squatter Tent",type:Ee.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"Get a better house.",consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Ee.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,upgradeToTooltip:"Get a better house. A better home will cost 100 taels and take up 1 land. The new home will restore 1 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Ee.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,upgradeToTooltip:"Get a better house. A better home will cost 1,000 taels and take up 5 land. The new home will restore 3 stamina and a bit of health each night. It also has walls and space to properly sleep.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Ee.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,upgradeToTooltip:"Get a better house. A better home will cost 10,000 taels and take up 10 land. The new home will restore 5 stamina and a bit of health each night. It has enough room to properly bathe.",consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Ee.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina, 1 health and a bit of mana each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,upgradeToTooltip:"Get a better house. A better home will cost 100,000 taels and take up 20 land. The new home will restore 10 stamina and 1 health and a bit of mana each night. It also has room to let you cook.",consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Ee.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina, 2 health, and a bit of mana each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,upgradeToTooltip:"Get a better house. A better home will cost 1M taels and take up 50 land. The new home will restore 15 stamina, 2 health, and a bit of mana each night. It has room to practice your craft.",consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Ee.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina, 3 health, and a bit of mana each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,upgradeToTooltip:"Get a better house. A better home will cost 10m taels and take up 80 land. The new home will restore 20 stamina, 3 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Ee.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina, 4 health, and a bit of mana each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,upgradeToTooltip:"Get a better house. A better home will cost 100m taels and take up 100 land. The new home will restore 25 stamina, 4 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Ee.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina, 5 health, and a bit of mana each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,upgradeToTooltip:"Get a better house. A better home will cost 1B taels and take up 120 land. The new home will restore 30 stamina, 5 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Ee.Palace,description:"A lavish palace. Automatically restores 35 stamina, 10 health, and 1 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,upgradeToTooltip:"Get a better house. A better home will cost 10B taels and take up 150 land. The new home will restore 35 stamina, 10 health, and 1 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Ee.Castle,description:"An imposing castle. Automatically restores 40 stamina, 15 health, and 2 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,upgradeToTooltip:"Get a better house. A better home will cost 100B taels and take up 150 land. The new home will restore 40 stamina, 15 health, and 2 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Ee.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina, 20 health, and 3 mana each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,upgradeToTooltip:"Get a better house. A better home will cost 1T taels and take up 180 land. The new home will restore 50 stamina, 20 health, and 3 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Ee.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina, 30 health, and 4 mana each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,upgradeToTooltip:"Get a better house. A better home will cost 10T taels and take up 500 land. The new home will restore 100 stamina, 30 health, and 4 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Ee.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina, 50 health, and 5 mana each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house. A better home will cost 100T taels and take up 1,000 land. The new home will restore 200 stamina, 50 health, and 5 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Ee.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina, 80 health, and 10 mana each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house. A better home will cost 1Q taels and take up 10,000 land. The new home will restore 300 stamina, 80 health, and 10 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.highestLand=0,this.highestLandPrice=100,this.mostFields=0,this.highestAverageYield=0,this.bestHome=0,this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),this.home.consequence();for(const c of this.furniturePositionsArray){const u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay}}),s.longTickSubject.subscribe(()=>{this.land>this.highestLand&&(this.highestLand=this.land),this.landPrice>this.highestLandPrice&&(this.highestLandPrice=this.landPrice),this.fields.length+this.extraFields>this.mostFields&&(this.mostFields=this.fields.length+this.extraFields),this.averageYield>this.highestAverageYield&&(this.highestAverageYield=this.averageYield),this.homeValue>this.bestHome&&(this.bestHome=this.homeValue)}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.characterService.characterState.bloodlineRank>=6?(this.logService.addLogMessage("You reincarnate as one of your descendants and your family recognizes you as you age.","STANDARD","EVENT"),this.logService.addLogMessage(this.characterService.characterState.bloodlineRank>=7?"Your family steps aside and assists your takeover of your Empire.":"Your family escorts you to your ancestral home and helps you get settled in.","STANDARD","EVENT")):this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture,highestLand:this.highestLand,highestLandPrice:this.highestLandPrice,mostFields:this.mostFields,highestAverageYield:this.highestAverageYield,bestHome:this.bestHome}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(const i of this.furniturePositionsArray){const r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[],this.highestLand=e.highestLand||0,this.highestLandPrice=e.highestLandPrice||100,this.mostFields=e.mostFields||0,this.highestAverageYield=e.highestAverageYield||0,this.bestHome=e.bestHome||0}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.characterService.characterState.bloodlineRank<6&&(this.setCurrentHome(this.homesList[0]),this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.ownedFurniture=[]),this.characterService.characterState.bloodlineRank<7&&(this.upgrading=!1,this.houseBuildingProgress=1),this.inventoryService.changeMaxItems(this.home.maxInventory),this.nextHomeCostReduction=0,this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(e=1){for(e<0&&(e=this.land);e>0&&this.land>0;){if(this.fields.length>=300)return this.extraFields+=e,void(this.land-=e);this.fields.push(this.getCrop()),this.land--,e--}}clearField(e=1){return e<0?(this.land+=this.extraFields,this.extraFields=0,this.land+=this.fields.length,void this.fields.splice(0)):this.extraFields>0&&e<=this.extraFields?(this.extraFields-=e,void(this.land+=e)):(e-=this.extraFields,this.extraFields=0,void(this.fields.length>0&&(e>this.fields.length&&(e=this.fields.length),this.land+=e,this.fields.splice(this.fields.length-e))))}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){const r=this.fields[i];r.yield<r.maxYield&&(r.yield+=e)}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let i=0;for(let r=e;r>=0;r--)if(this.fields[r].daysToHarvest<=0){let o=this.fields[r].yield;this.fields.length+this.extraFields>300&&(o=Math.floor(o*(this.fields.length+this.extraFields)/300)),i+=o,this.inventoryService.addItem(this.itemRepoService.items[this.fields[r].cropName],o),this.fields[r]=this.getCrop()}else this.fields[r].daysToHarvest--;this.averageYield=(364*this.averageYield+i)/365}buyLand(e){const i=this.calculateAffordableLand(this.characterService.characterState.money);if(!i||!e)return 0;let r=0,o=0;return r=(e=e>0?Math.min(e,i):Math.floor(i/2))*(e+1)/2*10,o=this.landPrice*e+r,this.characterService.characterState.money>=o&&(this.characterService.characterState.money-=o,this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){const i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}buyFurniture(e){const i=this.itemRepoService.getFurnitureById(e);i&&this.characterService.characterState.money>=i.value&&(this.characterService.characterState.money-=i.value,this.ownedFurniture.push(i.name),this.furniture[i.slot]=i)}}return n.\u0275fac=function(e){return new(e||n)(S(Pe),S(Z),S(rn),S(ti),S(Wt),S(Hi),S(ei))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,m){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.logService=c,this.followerService=u,this.impossibleTaskService=h,this.hellService=m,this.activityLoop=[],this.savedActivityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnImpossibleFail=!0,this.pauseOnDeath=!0,this.pauseBeforeDeath=!0,this.activities=this.getActivityList(),this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=I.Resting,this.activityDeath=!1,this.autoRestUnlocked=!1,this.totalExhaustedDays=0,this.activityHeader="",this.activityHeaderDescription="",this.hellEnabled=!1,o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{if(0!==this.activityLoop.length){if(!this.characterService.characterState.dead){if(this.pauseBeforeDeath&&this.characterService.characterState.age>=this.characterService.characterState.lifespan-1&&!this.characterService.characterState.immortal&&(this.logService.addLogMessage("The end of your natural life is imminent. Game paused.","INJURY","EVENT"),this.mainLoopService.pause=!0),this.exhaustionDays>0)return this.totalExhaustedDays++,void this.exhaustionDays--;if(this.currentIndex<this.activityLoop.length){if(this.currentLoopEntry=this.activityLoop[this.currentIndex],0===this.currentLoopEntry.repeatTimes){let b=0;for(this.currentIndex<this.activityLoop.length-1&&(b=this.currentIndex+1);b!==this.currentIndex&&0===this.activityLoop[b].repeatTimes;)b++,b>=this.activityLoop.length&&(b=0);if(b===this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=b,this.currentLoopEntry=this.activityLoop[this.currentIndex],this.currentTickCount=0}let g=this.getActivityByType(this.currentLoopEntry.activity);const y=this.getActivityByType(I.Resting);!this.checkResourceUse(g)&&y.unlocked&&this.autoRestUnlocked&&(g=y),g.consequence[g.level](),this.characterService.characterState.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max),this.characterService.characterState.status.mana.value<0&&(this.logService.addLogMessage("You overextend your mana and damage your mana channels. It takes you 10 days to recover.","INJURY","EVENT"),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes&&(this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0))}else this.currentIndex=0;if(this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){let g=this.getActivityByType(this.spiritActivity);const y=this.getActivityByType(I.Resting);!this.checkResourceUse(g,!0)&&y.unlocked&&this.autoRestUnlocked&&(g=y),g.consequence[g.level](),this.characterService.characterState.status.mana.value-=5}}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}checkResourceUse(e,i=!1){if(!e.resourceUse||!e.resourceUse[e.level])return!0;if(i&&(e.resourceUse[e.level].mana||(e.resourceUse[e.level].mana=0),this.characterService.characterState.status.mana.value<e.resourceUse[e.level].mana+5))return!1;for(const r in e.resourceUse[e.level])if(this.characterService.characterState.status[r].value<e.resourceUse[e.level][r])return!1;return!0}getProperties(){const e=[];for(const i of this.activities)i.unlocked&&e.push(i.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop,autoRestUnlocked:this.autoRestUnlocked,pauseOnImpossibleFail:this.pauseOnImpossibleFail,totalExhaustedDays:this.totalExhaustedDays}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];const i=e.unlockedActivities||[I.OddJobs,I.Resting];for(const r of this.activities)r.unlocked=i.includes(r.activityType);this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity||null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship||I.Resting,this.savedActivityLoop=e.savedActivityLoop||[],this.autoRestUnlocked=e.autoRestUnlocked||!1,this.pauseOnImpossibleFail=void 0===e.pauseOnImpossibleFail||e.pauseOnImpossibleFail,this.totalExhaustedDays=e.totalExhaustedDays||0;for(let r=0;r<5;r++)this.upgradeActivities(!0)}meetsRequirements(e){return!!this.meetsRequirementsByLevel(e,e.level,!0)&&(e.unlocked=!0,!0)}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const s in o){const a=o[s];let l=0;if(void 0!==e.requirements[i][a]&&(l=e.requirements[i][a]),this.characterService.characterState.attributes[a].value<=l)return!1}return!0}checkRequirements(e){for(const i of this.activities)!i.unlocked&&this.meetsRequirements(i)&&(i.unlocked=!0,e||this.logService.addLogMessage("A new activity is available. Maybe you should try "+i.name[i.level]+".","STANDARD","EVENT"));for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity).unlocked||this.activityLoop.splice(i,1)}upgradeActivities(e){for(const i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1,!1)&&(!e&&i.unlocked&&this.logService.addLogMessage("Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1],"STANDARD","EVENT"),i.level++,i.unlocked&&i.skipApprenticeshipLevel===i.level&&(this.completedApprenticeships.includes(i.activityType)||this.completedApprenticeships.push(i.activityType)))}reset(){this.openApprenticeships=1,this.currentApprenticeship=I.Resting,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==Y.Swim&&(this.getActivityByType(I.Resting).unlocked=!0,this.getActivityByType(I.OddJobs).unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&!this.characterService.characterState.immortal&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;return this.activities[0]}checkApprenticeship(e){if(0!==this.openApprenticeships){this.openApprenticeships--,this.currentApprenticeship=e;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity===i.activityType&&this.activityLoop.splice(r,1)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(const r of this.activities)r.activityType===this.activityLoop[e].activity&&(i=!0);i||this.activityLoop.splice(e,1)}this.spiritActivity=null;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(){this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop))}loadActivityLoop(){this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)),this.checkRequirements(!0)}getActivityList(){this.defineActivities();const e=[];return this.activityHeader="",this.activityHeaderDescription="",this.impossibleTaskService.activeTaskIndex>=0&&(this.activityHeader="Do the impossible: "+this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].name,this.activityHeaderDescription=this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].description),this.hellService.inHell?this.hellService.getActivityList():this.impossibleTaskService.activeTaskIndex===Y.Swim?(e.push(this.Swim),e):(this.impossibleTaskService.activeTaskIndex===Y.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex===Y.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex===Y.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex===Y.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex===Y.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex===Y.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex===Y.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.OddJobs),e.push(this.Resting),e.push(this.Begging),e.push(this.Farming),e.push(this.GatherHerbs),e.push(this.ChopWood),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.Woodworking),e.push(this.Leatherworking),e.push(this.Alchemy),e.push(this.Hunting),e.push(this.Fishing),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.CoreCultivation),e.push(this.InfuseEquipment),e.push(this.InfuseBody),e.push(this.ExtendLife),e.push(this.Recruiting),e.push(this.TrainingFollowers),e.push(this.Burning),e)}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],activityType:I.Swim,description:["Swim down further into the depths."],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[Y.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.Swim].complete&&this.logService.addLogMessage("Your preparations were worthwhile! You dove all the way to the bottom of the ocean, through a hidden tunnel that led impossibly deep, and found a mythical sunken island.","STANDARD","STORY")}],resourceUse:[{stamina:20}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],activityType:I.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Uses 100 Stamina. If you have the right facilities, materials, and knowledge you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&e>=150&&this.characterService.characterState.attributes.metalLore.value>=1e9?Math.random()<.1?(this.logService.addLogMessage("Your anvil gives off an ear-splitting ringing and echoes endlessly into the depths. The new chain glows with power!","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):this.logService.addLogMessage("Your anvil rings and weakly echoes into the depths. You throw aside the useless dull chain.","STANDARD","CRAFTING"):this.characterService.characterState.attributes.metalLore.value<1e9?(this.logService.addLogMessage("You lack the necessary knowledge and cause a deadly explosion.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.6*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],activityType:I.AttachChains,description:["Swim deep and attach one of your chains to the island, then pull."],consequenceDescription:["Uses 1000000 Stamina. These chains are really, REALLY heavy. You better plan on having an Unbreakable Chain and a good place to rest afterwards."],consequence:[()=>{this.characterService.characterState.status.stamina.value>=1e6&&this.inventoryService.consume("chain")>0?(this.characterService.characterState.status.stamina.value-=1e6,this.logService.addLogMessage("You attach a chain to the island, and give your chains a long, strenuous tug.","STANDARD","EVENT"),this.impossibleTaskService.taskProgress[Y.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull of 777 chains, the island comes loose. You haul it to the surface.","STANDARD","STORY")):this.inventoryService.consume("chain",0)?(this.logService.addLogMessage("You strain yourself trying to lug the chain to an anchor point and collapse.","INJURY","EVENT"),this.characterService.characterState.status.stamina.value-=1e6,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.addLogMessage("You pass time exploring the hidden tunnels without a chain until a horror of the depths takes a nibble.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e6}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],activityType:I.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=10;e=this.inventoryService.consume("ore",200);for(const r of this.followerService.followers)"builder"===r.job&&(i+=r.power);i=Math.floor(i/10),e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingBrick.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],activityType:I.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;e=this.inventoryService.consume("wood",200),e>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.addLogMessage("You made "+this.itemRepoService.items.scaffolding.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],activityType:I.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=100;for(const r of this.followerService.followers)"builder"===r.job&&(i+=r.power);i=Math.floor(i/100),e=this.inventoryService.consume("ore"),this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingMortar.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],activityType:I.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(const r of this.followerService.followers)"builder"===r.job&&e++;if(e<10)return this.logService.addLogMessage("You fumble without the proper help and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));let i=0;return i=this.inventoryService.consume("scaffolding"),i<1?(this.logService.addLogMessage("You try building without a scaffolding, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(i=0,i=this.inventoryService.consume("mortar",100),i<1?(this.logService.addLogMessage("You try building without enough mortar, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(i=0,i=this.inventoryService.consume("brick",1e3),i<1?(this.logService.addLogMessage("You try building without enough bricks, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.impossibleTaskService.taskProgress[Y.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),void(this.impossibleTaskService.taskProgress[Y.BuildTower].complete&&this.logService.addLogMessage("You have acheived the impossible and built a tower beyond the heavens.","STANDARD","STORY")))))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],activityType:I.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Uses 100 Stamina and Mana. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value<0||this.characterService.characterState.status.mana.value<0?this.logService.addLogMessage("You try to research, but you just don't have the energy.","STANDARD","EVENT"):this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.addLogMessage("Research breakthrough! You produce a tome!.","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],resourceUse:[{stamina:100,mana:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],activityType:I.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Uses 100 Stamina. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0;e=this.inventoryService.consume("windTome"),e>0?(this.impossibleTaskService.taskProgress[Y.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.TameWinds].complete&&this.logService.addLogMessage("You acheived the impossible and tamed a hurricane.","STANDARD","STORY")):(this.logService.addLogMessage("You try to tame the winds, but without the proper preparation you are blown off the top of the tower.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],activityType:I.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[Y.LearnToFly].progress++,this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<2222?(this.logService.addLogMessage("Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<4444?(this.logService.addLogMessage("You feel like you might have flown a litte bit, somewhere near the time you hit the ground.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<6666?(this.logService.addLogMessage("You definitely did better that time. You did some great flying but sticking the landing is still tricky.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=100):(this.logService.addLogMessage("Almost there! Perfect landings are so hard.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.LearnToFly].complete&&this.logService.addLogMessage("You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.","STANDARD","STORY")}],resourceUse:[{health:1001}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],activityType:I.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let e=0;if(e=this.inventoryService.consume("food",1e3),e<1)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more food.","STANDARD","EVENT")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],activityType:I.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.characterService.characterState.money-=1e9,this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more money.","STANDARD","EVENT")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],activityType:I.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.addLogMessage("The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<3500?this.logService.addLogMessage("The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.","STANDARD","EVENT"):(this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.BefriendDragon].complete&&this.logService.addLogMessage("You did the impossible and made friends with a dragon!","STANDARD","STORY"))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],activityType:I.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Ee.Capital){this.logService.addLogMessage("You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.","INJURY","EVENT");for(let i=0;i<3;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);return}let e=0;return e=this.inventoryService.consume("food",1e4),e<1?(this.logService.addLogMessage("You don't have enough food to feed your army, so they revolt and fight you instead.","INJURY","EVENT"),this.battleService.addEnemy(this.battleService.enemyRepo.army),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):this.characterService.characterState.money<1e10?(this.logService.addLogMessage("You don't have enough money to pay your army, so they revolt and fight you instead.","INJURY","EVENT"),this.battleService.addEnemy(this.battleService.enemyRepo.army),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.characterService.characterState.money-=1e10,void this.inventoryService.addItem(this.itemRepoService.items.army))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],activityType:I.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let e=0;if(e=this.inventoryService.consume("army",this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].progress+1),e<1){for(let i=0;i<5;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);return this.logService.addLogMessage("Your armies failed you and you are forced to fight the enemy armies to a standstill.","STANDARD","EVENT"),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].complete&&this.logService.addLogMessage("You did the impossible and conquered the world! Under your wise rule all human suffering ceases.","STANDARD","STORY")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],activityType:I.MoveStars,description:["Extend your vast magical powers into the heavens and force the starts into alignment."],consequenceDescription:["Uses 1000 Stamina and Mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[Y.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.RearrangeTheStars].complete&&this.logService.addLogMessage("You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches.","STANDARD","STORY"))}],resourceUse:[{stamina:1e3,mana:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],activityType:I.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("toughness",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("intelligence",.02),this.characterService.characterState.increaseAttribute("charisma",.02),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.getActivityByType(I.OddJobs).lastIncome=3,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity"],activityType:I.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Mana (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Mana (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage()}],resourceUse:[{},{},{}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4}],unlocked:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:I.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder what more you can gain from immersing yourself in mortal practices."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;const e=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(I.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;const e=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(I.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;const e=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(I.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;const e=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(I.Begging).lastIncome=e,this.beggingDays++}],resourceUse:[{stamina:5},{stamina:5},{stamina:5},{stamina:5}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:I.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(I.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Blacksmithing).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("metalLore",.1*i),Math.random()<i&&this.inventoryService.addItem(this.itemRepoService.items.junk)},()=>{this.checkApprenticeship(I.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Blacksmithing).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("metalLore",.2*i),this.characterService.characterState.increaseAttribute("fireLore",.02*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Blacksmithing).lastIncome=e;let i=.05;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("metalLore",.3*i),this.characterService.characterState.increaseAttribute("fireLore",.05*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Blacksmithing).lastIncome=e;let i=.2;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.2),this.characterService.characterState.increaseAttribute("metalLore",.5*i),this.characterService.characterState.increaseAttribute("fireLore",.1*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/5+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillMold)}],resourceUse:[{stamina:25},{stamina:25},{stamina:25},{stamina:50}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],activityType:I.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"===this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003)}],resourceUse:[{stamina:10}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:I.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(I.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Alchemy).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.05*i),this.characterService.characterState.increaseAttribute("waterLore",.1*i)},()=>{this.checkApprenticeship(I.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Alchemy).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.1*i),this.characterService.characterState.increaseAttribute("waterLore",.2*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Alchemy).lastIncome=e;let i=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.15*i),this.characterService.characterState.increaseAttribute("waterLore",.3*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r+1,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Alchemy).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i+1,!0))}}],resourceUse:[{stamina:10},{stamina:10},{stamina:10},{stamina:20}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],activityType:I.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01)}],resourceUse:[{stamina:10}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],activityType:I.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(I.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.001)},()=>{this.checkApprenticeship(I.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.005),Math.random()<.02&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.02),Math.random()<.05&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillBox)}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],activityType:I.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(I.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.money+=e,this.getActivityByType(I.Leatherworking).lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.001)},()=>{this.checkApprenticeship(I.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Leatherworking).lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.002),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Leatherworking).lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.003),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(I.Leatherworking).lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.1),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillPouch)}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],activityType:I.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001)}],resourceUse:[{stamina:20}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],activityType:I.Mining,description:["Dig in the ground for usable minerals."],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("earthLore",.05),Math.random()<.5&&this.inventoryService.addItem(this.inventoryService.getOre())}],resourceUse:[{stamina:20}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],activityType:I.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){const e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],resourceUse:[{stamina:20}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],activityType:I.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"===this.homeService.furniture.workbench.id&&(e+=.4),this.characterService.characterState.increaseAttribute("animalHandling",.1*e),Math.random()<e&&(this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],resourceUse:[{stamina:50}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],activityType:I.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("animalHandling",.02),this.characterService.characterState.increaseAttribute("waterLore",.01),Math.random()<.2&&this.inventoryService.addItem(this.itemRepoService.items.carp)}],resourceUse:[{stamina:30}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],activityType:I.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;const e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0)}],resourceUse:[{stamina:5}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],activityType:I.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001)}],resourceUse:[{stamina:100}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],activityType:I.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001)}],resourceUse:[{stamina:100}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],activityType:I.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++)}],resourceUse:[{stamina:200}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseEquipment={level:0,name:["Infuse Equipment"],activityType:I.InfuseEquipment,description:["Infuse the power of a gem into your equipment."],consequenceDescription:["Uses 200 Stamina and 10 mana. An advanced magical technique."],consequence:[()=>{if(!this.characterService.characterState.manaUnlocked)return;this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.status.mana.value-=10;const e=this.inventoryService.consume("spiritGem");e>0&&this.characterService.characterState.status.mana.value>=0&&this.inventoryService.upgradeEquipment(Math.floor(Math.pow(e/10,2.4)))}],resourceUse:[{stamina:200,mana:10}],requirements:[{strength:2e7,toughness:2e7,speed:2e7,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],activityType:I.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["Uses 10 Mana and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10&&(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++)}],resourceUse:[{stamina:200,mana:10}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],activityType:I.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["Uses 20 Mana and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20&&(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10))}],resourceUse:[{stamina:400,mana:20}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],activityType:I.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.money-=1e6,this.characterService.characterState.money<0?this.characterService.characterState.money=0:this.followerService.followersUnlocked&&this.characterService.characterState.money>0&&Math.random()<.01&&this.followerService.generateFollower()}],resourceUse:[{stamina:100}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],activityType:I.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Uses 1000 Stamina. Gives you a small chance for each follower of increasing their power. They might learn more if you are a better leader."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.followerService.followersUnlocked){let e=!0;for(const i of this.followerService.followers)i.power>=100?i.power=100:(e=!1,Math.random()<(1-Math.pow(i.power/100,.55))/(365e5/(3650+i.age*Math.log2(this.characterService.characterState.attributes.charisma.value/1e10+1)))&&(i.power++,i.power>this.followerService.highestLevel&&(this.followerService.highestLevel=i.power),i.cost=100*i.power,this.logService.addLogMessage(i.name+" gains additional power as a "+i.job,"STANDARD","FOLLOWER")));e&&this.logService.addLogMessage("You try to train your followers, but they are all already as powerful as they can be. You pat them each on the back and tell them they are great.","STANDARD","FOLLOWER")}}],resourceUse:[{stamina:1e3}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0}}}return n.\u0275fac=function(e){return new(e||n)(S(Pe),S(Z),S(it),S(Hi),S(Wt),S(ei),S(ti),S(rn),S(Ui),S(is),S(Bc))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pe=(()=>{class n{constructor(e,i,r,o,s){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",this.characterState=new C2(r,s),i.tickSubject.subscribe(()=>{this.mainLoopService.totalTicks%3650==0&&this.characterState.increaseBaseLifespan(1,70),this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let a="";this.forceRebirth?a="You release your soul from your body at the age of "+this.formatAge()+".":this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal?a="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".":this.characterState.status.nourishment.value<=0?(this.characterState.status.nourishment.value=0,this.characterState.attributes.spirituality.value>0?(console.log("hit for hunger"),this.characterState.status.health.value-=Math.max(.2*this.characterState.status.health.value,20),this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&!this.characterState.immortal&&(a="You starve to death at the age of "+this.formatAge()+".")):this.characterState.immortal||(a="You starve to death at the age of "+this.formatAge()+".")):this.characterState.status.health.value<=0&&!this.characterState.immortal?(this.activityService||(this.activityService=this.injector.get(rt)),a=this.activityService.activityDeath?"You die from overwork at the age of "+this.formatAge()+".":"You succumb to your wounds and die at the age of "+this.formatAge()+"."):this.characterState.immortal&&this.characterState.status.health.value<0&&(this.characterState.status.health.value=0),""!==a&&(this.characterState.immortal||(this.logService.addLogMessage(a,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT")),this.characterState.dead=!0,this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{var l;this.characterState.dead=!1,null===(l=this.deathSubscriber)||void 0===l||l.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.addLogMessage("You are born anew, still an immortal but with the fresh vigor of youth.","STANDARD","EVENT"):(this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT")))}),i.longTickSubject.subscribe(()=>{this.characterState.highestMoney<this.characterState.money&&(this.characterState.highestMoney=this.characterState.money),this.characterState.highestAge<this.characterState.age&&(this.characterState.highestAge=this.characterState.age),this.characterState.highestHealth<this.characterState.status.health.value&&(this.characterState.highestHealth=this.characterState.status.health.value),this.characterState.highestStamina<this.characterState.status.stamina.value&&(this.characterState.highestStamina=this.characterState.status.stamina.value),this.characterState.highestMana<this.characterState.status.mana.value&&(this.characterState.highestMana=this.characterState.status.mana.value),!this.characterState.dead&&(this.characterState.recalculateDerivedStats(),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&this.characterState.bloodlineRank<6&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.immortal)return void(this.lifespanTooltip="You are immortal.");if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.magicLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":Math.floor(e/365)+" years"}resetAptitudes(){const e=Object.keys(this.characterState.attributes);for(const i in e){const r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1+r.aptitude/this.characterState.aptitudeGainDivider,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(rt)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=5||(this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain additional aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider/=1.5,this.resetAptitudes())}soulCoreRank(){return Math.log10(this.characterState.condenseSoulCoreCost/this.characterState.condenseSoulCoreOriginalCost)}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){return Math.log10(this.characterState.reinforceMeridiansCost/this.characterState.reinforceMeridiansOriginalCost)}upgradeBloodline(){this.characterState.bloodlineRank>=7||(this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=100,this.characterState.bloodlineRank++,this.resetAptitudes())}}return n.\u0275fac=function(e){return new(e||n)(S(Fe),S(Wt),S(rn),S(Hi),S(mn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Z=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.autoequipBestEnabled=!0,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.autoBuyFood=!0,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellEntries=[],this.autoUseUnlocked=!1,this.autoUseEntries=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),r.longTickSubject.subscribe(()=>{this.characterService.characterState.dead||!this.autoequipBestEnabled||(this.autoequipBestWeapon&&this.autoWeaponMergeUnlocked&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoArmorMergeUnlocked&&this.autoequipArmor())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled,autoBuyFood:this.autoBuyFood}}setProperties(e){var i;this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellEntries=e.autoSellEntries||[],this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseEntries=e.autoUseEntries||[],this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.autoequipBestEnabled=void 0===e.autoequipBestEnabled||e.autoequipBestEnabled,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1,this.autoBuyFood=null===(i=e.autoBuyFood)||void 0===i||i}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i,r){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){const b=this.consume("spiritGem");b>0&&(e+=b)}let s=e%_i.length;e>=_i.length*es.length*Rc.length&&(s=_i.length-1);let a=Math.floor(e/_i.length);const l=_i[s];let c="";if(a>0){let b=Math.floor(a/es.length);b>0?(b>Rc.length?(b=Rc.length,a=es.length-1):a%=es.length,c=" of "+Rc[b-1]+" "+es[a]):c=" of "+es[a-1]}let u=i,h="rightHand";"wood"===i&&(h="leftHand",u="wooden");let m=r;void 0===m&&(m=_w[Math.floor(Math.random()*_w.length)]);const g=l+" "+u+" "+m+c;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+g+"!","STANDARD","CRAFTING");const y=10*e+Math.floor(Math.random()*e*5);return{id:"weapon",name:g,type:"equipment",slot:h,value:e,weaponStats:{baseDamage:e,material:i,durability:y,baseName:m},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+e+"<br/>Durability: "+y}}updateWeaponDescription(e){var i,r,o;e.description="A unique weapon made of "+(null===(i=e.weaponStats)||void 0===i?void 0:i.material)+".<br/>Base Damage: "+(null===(r=e.weaponStats)||void 0===r?void 0:r.baseDamage)+"<br/>Durability: "+(null===(o=e.weaponStats)||void 0===o?void 0:o.durability)}updateArmorDescription(e){var i,r,o;e.description="A unique piece of armor made of "+(null===(i=e.armorStats)||void 0===i?void 0:i.material)+"<br/>Defense: "+(null===(r=e.armorStats)||void 0===r?void 0:r.defense)+"<br/>Durability: "+(null===(o=e.armorStats)||void 0===o?void 0:o.durability)}upgradeEquipment(e){const i=[];if(this.characterService.characterState.equipment.leftHand&&i.push(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.rightHand&&i.push(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.head&&i.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&i.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&i.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&i.push(this.characterService.characterState.equipment.feet),i.length>0){const r=i[Math.floor(Math.random()*i.length)];r.armorStats?(r.armorStats.durability+=e,r.armorStats.defense+=e):r.weaponStats&&(r.weaponStats.durability+=e,r.weaponStats.baseDamage+=e),r.value+=e,this.logService.addLogMessage("You add "+e+" power to your "+r.name,"STANDARD","CRAFTING")}}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){const a=this.consume("spiritGem");if(a>0&&(e+=a,Math.random()<.1))return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())],s="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:s,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",s=10*e,a=i+" Pill  +"+e;this.checkFor("pillBox")>0&&this.checkFor("pillMold")>0&&this.checkFor("pillPouch")>0?(this.consume("pillBox"),this.consume("pillMold"),this.consume("pillPouch"),i="Empowerment",r="A pill that permanently empowers the increase of your attributes based on your aptitudes.",o="Use to permanently empower the increase of your attributes based on your aptitudes.",s=1,a="Empowerment Pill",this.logService.addLogMessage("Alchemy Success! Created a "+a+". Its effect gets worse the more you take.","STANDARD","CRAFTING")):this.logService.addLogMessage("Alchemy Success! Created a "+a+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:a,id:"pill",type:"pill",value:s,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:i,power:e})}generateHerb(){let e=0;const i=this.characterService.characterState.attributes.woodLore.value;let r,o;if(e=i<1e4?Math.floor(Math.sqrt(i)):100+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value-1e4)),e>=ns.length*Lc.length)r=ns[ns.length-1],o=Lc[Lc.length-1];else{const a=e%ns.length,l=Math.floor(e/ns.length);r=ns[a],o=Lc[l]}const s=e+1;if(this.addItem({id:"herb",name:o+" "+r,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbs)for(let a=0;a<this.itemStacks.length;a++){const l=this.itemStacks[a];l&&"herb"===l.item.id&&l.item.value<s&&this.sell(l,l.quantity)}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"monster gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r,o){let a=e%_i.length;e>=_i.length*ts.length*Fc.length&&(a=_i.length-1);let l=Math.floor(e/_i.length);const c=_i[a];let u="";if(l>0){let D=Math.floor(l/ts.length);D>0?(D>Fc.length?(D=Fc.length,l=ts.length-1):l%=ts.length,u=" of "+Fc[D-1]+" "+ts[l]):u=" of "+ts[l-1]}const h=i;let m=y2;"legs"===r?m=_2:"head"===r?m=b2:"feet"===r&&(m=S2);const g=null!=o?o:m[Math.floor(Math.random()*m.length)],y=c+" "+h+" "+g+u;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+y+"!","STANDARD","CRAFTING");const b=5*e+Math.floor(Math.random()*e*5);return{id:"armor",name:y,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:b,baseName:g},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+e+"<br/>Durability: "+b}}randomArmorSlot(){const e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperOre;for(const r in this.itemRepoService.items){const o=this.itemRepoService.items[r];"ore"===o.type&&o.value>i.value&&o.value<=e&&(i=o)}if(this.autoSellOldOre)for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];o&&"ore"===o.item.type&&o.item.value<i.value&&this.sell(o,o.quantity)}return i}getBar(e){const i=10*e;let r=this.itemRepoService.items.copperBar;for(const o in this.itemRepoService.items){const s=this.itemRepoService.items[o];if("metal"===s.type&&s.value===i){r=s;break}}if(this.autoSellOldOre)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];s&&"metal"===s.item.type&&s.item.value<r.value&&this.sell(s,s.quantity)}return r}getWood(){let e;if(e=this.characterService.characterState.attributes.woodLore.value>5e8&&this.characterService.characterState.attributes.spirituality.value>5e7?this.itemRepoService.items.divinewoodLog:this.characterService.characterState.attributes.woodLore.value>1e7&&this.characterService.characterState.attributes.spirituality.value>1e6?this.itemRepoService.items.devilwoodLog:this.characterService.characterState.attributes.woodLore.value>2e5&&this.characterService.characterState.attributes.spirituality.value>2e4?this.itemRepoService.items.dragonwoodLog:this.characterService.characterState.attributes.woodLore.value>1e4&&this.characterService.characterState.attributes.spirituality.value>1e3?this.itemRepoService.items.titanwoodLog:this.characterService.characterState.attributes.woodLore.value>1e3&&this.characterService.characterState.attributes.spirituality.value>100?this.itemRepoService.items.diamondwoodLog:this.characterService.characterState.attributes.woodLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.woodLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.woodLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.woodLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.woodLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.woodLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.woodLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.woodLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog,this.autoSellOldWood)for(let i=0;i<this.itemStacks.length;i++){const r=this.itemStacks[i];r&&"wood"===r.item.type&&r.item.value<e.value&&this.sell(r,r.quantity)}return e}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.changeMaxItems(10),this.characterService.characterState.bloodlineRank>=6||(this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),!this.grandmotherGift)||this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!==r&&"food"===r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&this.autoBuyFood&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItem(e,i=1){i<1&&(i=1);for(const o of this.autoBalanceItems)if(o.name===e.name){if(o.useNumber<1){if(o.sellNumber<1)break;return this.characterService.characterState.money+=e.value*i,-1}if(o.sellNumber<1)return this.useItem(e,i*o.useNumber),-1;let s=i%(o.useNumber+o.sellNumber);for(i-=s;s>0;){if(o.index<o.useNumber){if(s+o.index<=o.useNumber){this.useItem(e,s),o.index+=s;break}this.useItem(e,o.useNumber-o.index),s-=o.useNumber-o.index,o.index=o.useNumber}if(o.index<o.useNumber+o.sellNumber){if(s+o.index<o.useNumber+o.sellNumber){this.characterService.characterState.money+=e.value*s,o.index+=s;break}this.characterService.characterState.money+=e.value*(o.useNumber+o.sellNumber-o.index),s-=o.useNumber+o.sellNumber-o.index,o.index=0}o.index>=o.useNumber+o.sellNumber&&(o.index-=o.useNumber+o.sellNumber)}if(i&&(this.useItem(e,(i/=o.useNumber+o.sellNumber)*o.useNumber),this.characterService.characterState.money+=e.value*i,i=0),i<1)return-1;break}if(this.autoPotionUnlocked&&"potion"===e.type)return this.useItem(e,i),-1;if(this.autoPillUnlocked&&"pill"===e.type)return this.useItem(e,i),-1;for(const o of this.autoUseEntries)if(o.name===e.name){let s=this.getQuantityByName(e.name)+i-o.reserve;if(s>i&&(s=i),s>0&&(this.useItem(e,i),0==(i-=s)))return-1}if(this.autoSellOldGemsEnabled&&"spiritGem"===e.type)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];null!==s&&"spiritGem"===s.item.type&&s.item.value<e.value&&(this.characterService.characterState.money+=s.item.value*s.quantity,this.itemStacks[o]=null)}for(const o of this.autoSellEntries)if(o.name===e.name){let s=this.getQuantityByName(e.name)+i-o.reserve;if(s>i&&(s=i),s>0&&(this.characterService.characterState.money+=e.value*s,0==(i-=s)))return-1}let r=-1;if("equipment"!==e.type)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];if(null!==s&&s.item.name===e.name){if(s.quantity+i<=this.maxStackSize)return s.quantity+=i,-1===r&&(r=o),r;-1===r&&(r=o),i-=this.maxStackSize-s.quantity,s.quantity=this.maxStackSize}}for(let o=0;o<this.itemStacks.length;o++)if(null===this.itemStacks[o]){if(-1===r&&(r=o),i<=this.maxStackSize)return this.itemStacks[o]={item:e,quantity:i},r;this.itemStacks[o]={item:e,quantity:this.maxStackSize},i-=this.maxStackSize}return this.autoSellUnlocked?(this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you sold it.`,"STANDARD","EVENT"),this.characterService.characterState.money+=e.value*i):this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems+=i,r}sell(e,i){if(e.item.value===1/0)return;this.lifetimeSoldItems+=i,"spiritGem"===e.item.type&&(this.lifetimeGemsSold+=i);const r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e===this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(const i of this.itemStacks)null!==i&&i.item.name===e.name&&this.sell(i,i.quantity)}autoSell(e){e.value!==1/0&&(!this.autoSellUnlocked||(this.autoSellEntries.some(i=>i.name===e.name)||this.autoSellEntries.push({name:e.name,reserve:0}),this.sellAll(e)))}unAutoSell(e){const i=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(i,1)}useItemStack(e,i=1){if(i<1&&(i=1),i>e.quantity&&(i=e.quantity),this.useItem(e.item,i),e.item.useConsumes&&(e.quantity-=i,e.quantity<=0)){const r=this.itemStacks.indexOf(e);this.itemStacks[r]=null,e===this.selectedItem&&(this.selectedItem=null)}}useItem(e,i=1){i<1&&(i=1),this.lifetimeUsedItems++,"potion"===e.type&&function T2(n){return"attribute"in n}(e)?this.usePotion(e,i):"pill"===e.type&&function E2(n){return"effect"in n}(e)?this.usePill(e,i):e.use&&(e.use(i),"food"===e.type&&(this.fed=!0))}autoUse(e){if(this.autoUseUnlocked&&("potion"===e.type||"pill"===e.type||e.use)&&(this.autoUseEntries.some(i=>i.name===e.name)||this.autoUseEntries.push({name:e.name,reserve:0}),e.useConsumes))for(let i=0;i<this.itemStacks.length;i++){const r=this.itemStacks[i];null!==r&&r.item.name===e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){const i=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(i,1)}autoBalance(e){for(const i of this.autoBalanceItems)if(i.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name===e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!nr(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const s=this.characterService.characterState.equipment[o.slot];s&&this.addItem(s),this.characterService.characterState.equipment[o.slot]=o;const a=this.itemStacks.indexOf(e);this.itemStacks[a]=null}equipBest(e){var i,r,o,s,a,l,c,u;let h=0,m=!0;"leftHand"===e||"rightHand"===e?h=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(m=!1,h=(null===(s=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===s?void 0:s.defense)||0);for(let g=0;g<this.itemStacks.length;g++){const y=this.itemStacks[g];if(null!==y){const b=y.item;if(nr(b)&&b.slot===e){let D=0;m&&b.weaponStats&&(null===(a=b.weaponStats)||void 0===a?void 0:a.durability)>0?D=null===(l=b.weaponStats)||void 0===l?void 0:l.baseDamage:!m&&b.armorStats&&(null===(c=b.armorStats)||void 0===c?void 0:c.durability)>0&&(D=null===(u=b.armorStats)||void 0===u?void 0:u.defense),D>h&&this.equip(y)}}}}consume(e,i=1){i<0&&(i=0);let r=-1,o=-1;for(let s=0;s<this.itemStacks.length;s++){const a=this.itemStacks[s];null!==a&&a.item.type===e&&r<a.item.value&&(r=a.item.value,o=s)}if(o>=0){const s=this.itemStacks[o];if(null!==s){const a=Math.min(s.quantity,i);s.quantity-=a,i-=a,s.quantity<=0&&(this.itemStacks[o]=null)}}return i>0&&-1!==r&&(r=this.consume(e,i)),r}checkFor(e){let i=-1;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!==o&&o.item.type===e&&i<o.item.value&&(i=o.item.value)}return i}getQuantityByName(e){let i=0;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!==o&&o.item.name===e&&(i+=o.quantity)}return i}hasDurability(e){var i,r;const o=e.item;return!nr(o)||0!==(null===(i=o.armorStats)||void 0===i?void 0:i.durability)&&0!==(null===(r=o.weaponStats)||void 0===r?void 0:r.durability)}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i,this.characterService.characterState.attributes[e.attribute].value+=e.increase*i}usePill(e,i=1){i<1&&(i=1),this.lifetimePillsUsed+=i,"Longevity"===e.effect?(this.characterService.characterState.alchemyLifespan+=e.power*i,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):"Empowerment"===e.effect&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(const i of this.itemStacks)null===i&&e++;return e}mergeEquipment(e,i,r){var o,s,a,l;if(e.slot!==i.slot)return;let c=0;c=this.addItem("rightHand"===e.slot||"leftHand"===e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+"",null===(s=e.weaponStats)||void 0===s?void 0:s.baseName):this.generateArmor(e.value+i.value,(null===(a=e.armorStats)||void 0===a?void 0:a.material)+"",e.slot,null===(l=e.armorStats)||void 0===l?void 0:l.baseName)),c!==r&&null===this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[c],this.itemStacks[c]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i,r,o,s,a,l;let c=-1,u=null,h=null,m=-1;for(let g=0;g<this.itemStacks.length;g++){let y=null===(i=this.itemStacks[g])||void 0===i?void 0:i.item;y&&nr(y)&&y.slot===e&&(-1===c?(c=g,m=g,u=y):(h=y,u&&((this.selectedItem===this.itemStacks[c]||this.selectedItem===this.itemStacks[g])&&(this.selectedItem=null),this.itemStacks[c]=null,this.itemStacks[g]=null,this.mergeEquipment(u,h,c),y=null===(r=this.itemStacks[c])||void 0===r?void 0:r.item,y?nr(y)&&y.slot===e&&(u=y):c=-1)))}if(null!==u&&this.autoequipBestEnabled&&(this.autoequipBestWeapon||this.autoequipBestArmor)){if(h=this.characterService.characterState.equipment[e],null===h)return;if("rightHand"!==e&&"leftHand"!==e||!this.autoequipBestWeapon){if("rightHand"===e||"leftHand"===e||!this.autoequipBestArmor)return;u=this.generateArmor(h.value+u.value,(null===(a=h.armorStats)||void 0===a?void 0:a.material)+"",e,null===(l=h.armorStats)||void 0===l?void 0:l.baseName)}else u=this.generateWeapon(h.value+u.value,(null===(o=h.weaponStats)||void 0===o?void 0:o.material)+"",null===(s=h.weaponStats)||void 0===s?void 0:s.baseName);this.characterService.characterState.equipment[e]=u,this.itemStacks[m]=null}}mergeSpiritGem(e,i=0){if(!(e.quantity<10-i)&&(e.quantity-=10-i,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0===e.quantity))for(let r=0;r<this.itemStacks.length;r++)if(this.itemStacks[r]===e)return void(this.itemStacks[r]=null)}mergeAnySpiritGem(e=0){const i=this.characterService.meridianRank();e>i-5&&(e=i-5),e<0&&(e=0);for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];if(null!==o&&"spiritGem"===o.item.type&&o.quantity>=10-e)return void this.mergeSpiritGem(o,e)}}}return n.\u0275fac=function(e){return new(e||n)(S(rn),S(Pe),S(Wt),S(Hi),S(ei))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nr(n){return"slot"in n}function rs(n){return null!=n&&"false"!=`${n}`}function Vc(n,t=0){return function P2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Sw(n){return Array.isArray(n)?n:[n]}function dt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hr(n){return n instanceof we?n.nativeElement:n}const I2=["addListener","removeListener"],O2=["addEventListener","removeEventListener"],R2=["on","off"];function os(n,t,e,i){if(Me(e)&&(i=e,e=void 0),i)return os(n,t,e).pipe(jf(i));const[r,o]=function N2(n){return Me(n.addEventListener)&&Me(n.removeEventListener)}(n)?O2.map(s=>a=>n[s](t,a,e)):function F2(n){return Me(n.addListener)&&Me(n.removeListener)}(n)?I2.map(ww(n,t)):function L2(n){return Me(n.on)&&Me(n.off)}(n)?R2.map(ww(n,t)):[];if(!r&&Fu(n))return ft(s=>os(s,t,e))(sn(n));if(!r)throw new TypeError("Invalid event target");return new je(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function ww(n,t){return e=>i=>n[e](t,i)}class B2 extends ze{constructor(t,e){super()}schedule(t,e=0){return this}}const Hc={setInterval(n,t,...e){const{delegate:i}=Hc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Hc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class gp extends B2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Hc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Hc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ja(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const wa={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=wa;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ze(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=wa;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=wa;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Cw={now:()=>(Cw.delegate||Date).now(),delegate:void 0};class Ca{constructor(t,e=Ca.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ca.now=Cw.now;class vp extends Ca{constructor(t,e=Ca.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class H2 extends vp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class V2 extends gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=wa.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(wa.cancelAnimationFrame(e),t._scheduled=void 0)}});let yp,j2=1;const Uc={};function Mw(n){return n in Uc&&(delete Uc[n],!0)}const q2={setImmediate(n){const t=j2++;return Uc[t]=!0,yp||(yp=Promise.resolve()),yp.then(()=>Mw(t)&&n()),t},clearImmediate(n){Mw(n)}},{setImmediate:$2,clearImmediate:z2}=q2,jc={setImmediate(...n){const{delegate:t}=jc;return((null==t?void 0:t.setImmediate)||$2)(...n)},clearImmediate(n){const{delegate:t}=jc;return((null==t?void 0:t.clearImmediate)||z2)(n)},delegate:void 0},_p=(new class W2 extends vp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class G2 extends gp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=jc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(jc.clearImmediate(e),t._scheduled=void 0)}}),new vp(gp)),K2=_p;function Dw(n=0,t,e=K2){let i=-1;return null!=t&&(ng(t)?e=t:i=t),new je(r=>{let o=function Q2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function kw(n,t=_p){return function J2(n){return Ze((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(Ge(e,c=>{i=!0,r=c,o||sn(n(c)).subscribe(o=Ge(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Dw(n,t))}let bp;try{bp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){bp=!1}let Ma,Ur,Sp,vn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function dF(n){return n===GS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(S(lf))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qc(n){return function Z2(){if(null==Ma&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ma=!0}))}finally{Ma=Ma||!1}return Ma}()?n:!!n.capture}function X2(){if(null==Ur){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ur=!1,Ur;if("scrollBehavior"in document.documentElement.style)Ur=!0;else{const n=Element.prototype.scrollTo;Ur=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ur}function wp(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function jr(n){return n.composedPath?n.composedPath()[0]:n.target}function Cp(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const nB=new U("cdk-dir-doc",{providedIn:"root",factory:function iB(){return yl(he)}}),rB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ir=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new le,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function oB(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?rB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(S(nB,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})(),aB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new je(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(kw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):J()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Hr(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>os(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(vn),S(he,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ka=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ye,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(kw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(S(vn),S(_e),S(he,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[Da,Tw],Da,Tw]}),n})();class Mp{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Dp extends Mp{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class zc extends Mp{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class cB extends Mp{constructor(t){super(),this.element=t instanceof we?t.nativeElement:t}}class kp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Dp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof zc?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof cB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class uB extends kp{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Fe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let hB=(()=>{class n extends zc{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(_(en),_(Nt))},n.\u0275dir=q({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[re]}),n})(),xa=(()=>{class n extends kp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new le,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(_(Ii),_(Nt),_(he))},n.\u0275dir=q({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[re]}),n})(),xp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})();function rr(n){return Ze((t,e)=>{sn(n).subscribe(Ge(e,()=>e.complete(),Tu)),!e.closed&&t.subscribe(e)})}const Aw=X2();class dB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=dt(-this._previousScrollPosition.left),t.style.top=dt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Aw&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Aw&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class fB{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Pw{enable(){}disable(){}attach(){}}function Tp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Iw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class pB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Tp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let mB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Pw,this.close=s=>new fB(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new dB(this._viewportRuler,this._document),this.reposition=s=>new pB(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(S(aB),S(ka),S(_e),S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ow{constructor(t){if(this.scrollStrategy=new Pw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class gB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class vB{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ye,this._attachments=new ye,this._detachments=new ye,this._locationChanges=ze.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ye,this._outsidePointerEvents=new ye,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Sn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=dt(this._config.width),t.height=dt(this._config.height),t.minWidth=dt(this._config.minWidth),t.minHeight=dt(this._config.minHeight),t.maxWidth=dt(this._config.maxWidth),t.maxHeight=dt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Sw(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(rr(vs(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Ep=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Cp()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Cp()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(S(he),S(vn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rw="cdk-overlay-connected-position-bounding-box",yB=/([A-Za-z%]+)$/;class _B{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ye,this._resizeSubscription=ze.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Rw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Rw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Lw(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let m=0-a,g=a+o.height-i.height,y=this._subtractOverflows(o.width,0-s,s+o.width-i.width),b=this._subtractOverflows(o.height,m,g),D=y*b;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Fw(this._overlayRef.getConfig().minHeight),a=Fw(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Lw(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,h=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new gB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,h,m;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const g=Math.min(i.bottom-t.y+i.top,t.y),y=this._lastBoundingBoxSize.height;o=2*g,s=t.y-g,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,u=i.right-t.x;else{const g=Math.min(i.right-t.x+i.left,t.x),y=this._lastBoundingBoxSize.width;u=2*g,h=t.x-g,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-y/2)}return{top:s,left:h,bottom:a,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=dt(i.height),r.top=dt(i.top),r.bottom=dt(i.bottom),r.width=dt(i.width),r.left=dt(i.left),r.right=dt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=dt(o)),s&&(r.maxWidth=dt(s))}this._lastBoundingBoxSize=i,qr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){qr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();qr(i,this._getExactOverlayY(e,t,u)),qr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=dt(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=dt(s.maxWidth):o&&(i.maxWidth="")),qr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=dt(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=dt(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Iw(t,i),isOriginOutsideView:Tp(t,i),isOverlayClipped:Iw(e,i),isOverlayOutsideView:Tp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Sw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof we)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function qr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Fw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(yB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Lw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Nw="cdk-global-overlay-wrapper";class bB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Nw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Nw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let SB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new bB}flexibleConnectedTo(e){return new _B(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(S(ka),S(he),S(vn),S(Ep))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wB=(()=>{class n extends Bw{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(S(he),S(_e,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n extends Bw{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=jr(o)},this._clickListener=o=>{const s=jr(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(S(he),S(vn),S(_e,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MB=0,Gc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,m){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=m}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Ow(e);return s.direction=s.direction||this._directionality.value,new vB(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+MB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ia)),new uB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(S(mB),S(Ep),S(Ii),S(SB),S(wB),S(Fe),S(_e),S(he),S(ir),S(oa),S(CB))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const xB={provide:new U("cdk-connected-overlay-scroll-strategy"),deps:[Gc],useFactory:function kB(n){return()=>n.scrollStrategies.reposition()}};let TB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({providers:[Gc,xB],imports:[[Da,xp,Ew],Ew]}),n})();function Ap(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Hw(n,t=_p){return Ze((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(Ge(i,c=>{o=c,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function Uw(n,t=$i){return n=null!=n?n:KB,Ze((e,i)=>{let r,o=!0;e.subscribe(Ge(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function KB(n,t){return n===t}let jw=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JB=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Hr(e);return new je(r=>{const s=this._observeElement(i).subscribe(r);return()=>{s.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ye,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(S(jw))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QB=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new le,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=rs(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Vc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Hw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(JB),_(we),_(_e))},n.\u0275dir=q({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({providers:[jw]}),n})();class tV extends class eV{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ye,this._typeaheadSubscription=ze.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ye,this.change=new ye,t instanceof zo&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Et(e=>this._pressedLetters.push(e)),Hw(t),nn(()=>this._pressedLetters.length>0),fe(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ap(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof zo?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Gw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function iV(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function nV(n){try{return n.frameElement}catch(t){return null}}(function hV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Yw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Yw(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function cV(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function uV(n){return!function oV(n){return function aV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function rV(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function sV(n){return function lV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ww(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(S(vn))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ww(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Yw(n){if(!Ww(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class dV{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Sn(1)).subscribe(t)}}let fV=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new dV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(S(Gw),S(_e),S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kw(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Jw(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const pV=new U("cdk-input-modality-detector-options"),mV={ignoreKeys:[18,17,224,91,16]},as=qc({passive:!0,capture:!0});let gV=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new On(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=jr(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Kw(s)?"keyboard":"mouse"),this._mostRecentTarget=jr(s))},this._onTouchstart=s=>{Jw(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jr(s))},this._options=Object.assign(Object.assign({},mV),o),this.modalityDetected=this._modality.pipe(function YB(n){return nn((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(Uw()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,as),r.addEventListener("mousedown",this._onMousedown,as),r.addEventListener("touchstart",this._onTouchstart,as)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,as),document.removeEventListener("mousedown",this._onMousedown,as),document.removeEventListener("touchstart",this._onTouchstart,as))}}return n.\u0275fac=function(e){return new(e||n)(S(vn),S(_e),S(he),S(pV,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const yV=new U("cdk-focus-monitor-default-options"),Wc=qc({passive:!0,capture:!0});let Zw=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ye,this._rootNodeFocusAndBlurListener=a=>{const l=jr(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=Hr(e);if(!this._platform.isBrowser||1!==r.nodeType)return J(null);const o=function tB(n){if(function eB(){if(null==Sp){const n="undefined"!=typeof document?document.head:null;Sp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Sp}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new ye,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=Hr(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Hr(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=jr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(rr(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(vn),S(gV),S(he,8),S(yV,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_V=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new le}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(Zw))},n.\u0275dir=q({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Xw="cdk-high-contrast-black-on-white",eC="cdk-high-contrast-white-on-black",Pp="cdk-high-contrast-active";let tC=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Pp),e.remove(Xw),e.remove(eC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Pp),e.add(Xw)):2===i&&(e.add(Pp),e.add(eC))}}}return n.\u0275fac=function(e){return new(e||n)(S(vn),S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bV=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(S(tC))},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[qw]]}),n})();class nC{}const ji="*";function iC(n,t){return{type:7,name:n,definitions:t,options:{}}}function Ta(n,t=null){return{type:4,styles:t,timings:n}}function rC(n,t=null){return{type:3,steps:n,options:t}}function oC(n,t=null){return{type:2,steps:n,options:t}}function ni(n){return{type:6,styles:n,offset:null}}function Ea(n,t,e){return{type:0,name:n,styles:t,options:e}}function Aa(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function sC(n=null){return{type:9,options:n}}function aC(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function lC(n){Promise.resolve(null).then(n)}class Pa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class cC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?lC(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const ve=!1;function uC(n){return new H(3e3,ve)}function tH(){return"undefined"!=typeof window&&void 0!==window.document}function Op(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function or(n){switch(n.length){case 0:return new Pa;case 1:return n[0];default:return new cC(n)}}function hC(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,m=h==l,g=m&&c||{};Object.keys(u).forEach(y=>{let b=y,D=u[y];if("offset"!==y)switch(b=t.normalizePropertyName(b,s),D){case"!":D=r[y];break;case ji:D=o[y];break;default:D=t.normalizeStyleValue(y,b,D,s)}g[b]=D}),m||a.push(g),c=g,l=h}),s.length)throw function $V(n){return new H(3502,ve)}();return a}function Rp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Fp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Fp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Fp(e,"destroy",n)))}}function Fp(n,t,e){const i=e.totalTime,o=Lp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function Lp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function yn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function dC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Np=(n,t)=>!1,fC=(n,t,e)=>[],pC=null;function Bp(n){const t=n.parentNode||n.host;return t===pC?null:t}(Op()||"undefined"!=typeof Element)&&(tH()?(pC=(()=>document.documentElement)(),Np=(n,t)=>{for(;t;){if(t===n)return!0;t=Bp(t)}return!1}):Np=(n,t)=>n.contains(t),fC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let $r=null,mC=!1;function gC(n){$r||($r=function iH(){return"undefined"!=typeof document?document.body:null}()||{},mC=!!$r.style&&"WebkitAppearance"in $r.style);let t=!0;return $r.style&&!function nH(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in $r.style,!t&&mC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in $r.style)),t}const vC=Np,yC=fC;let _C=(()=>{class n{validateStyleProperty(e){return gC(e)}matchesElement(e,i){return!1}containsElement(e,i){return vC(e,i)}getParentElement(e){return Bp(e)}query(e,i,r){return yC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Pa(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),Vp=(()=>{class n{}return n.NOOP=new _C,n})();const Hp="ng-enter",Kc="ng-leave",Jc="ng-trigger",Qc=".ng-trigger",SC="ng-animating",Up=".ng-animating";function zr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:jp(parseFloat(t[1]),t[2])}function jp(n,t){return"s"===t?1e3*n:n}function Zc(n,t,e){return n.hasOwnProperty("duration")?n:function sH(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(uC()),{duration:0,delay:0,easing:""};r=jp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=jp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function wV(){return new H(3100,ve)}()),a=!0),o<0&&(t.push(function CV(){return new H(3101,ve)}()),a=!0),a&&t.splice(l,0,uC())}return{duration:r,delay:o,easing:s}}(n,t,e)}function ls(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function sr(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else ls(n,e);return e}function CC(n,t,e){return e?t+":"+e+";":""}function MC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=CC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=CC(0,cH(e),n.style[e]));n.setAttribute("style",t)}function bi(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=$p(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Op()&&MC(n))}function Gr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=$p(e);n.style[i]=""}),Op()&&MC(n))}function Ia(n){return Array.isArray(n)?1==n.length?n[0]:oC(n):n}const qp=new RegExp("{{\\s*(.+?)\\s*}}","g");function DC(n){let t=[];if("string"==typeof n){let e;for(;e=qp.exec(n);)t.push(e[1]);qp.lastIndex=0}return t}function Xc(n,t,e){const i=n.toString(),r=i.replace(qp,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function DV(n){return new H(3003,ve)}()),a=""),a.toString()});return r==i?n:r}function eu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const lH=/-+([a-z0-9])/g;function $p(n){return n.replace(lH,(...t)=>t[1].toUpperCase())}function cH(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _n(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function kV(n){return new H(3004,ve)}()}}function kC(n,t){return window.getComputedStyle(n)[t]}function mH(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gH(n,t,e){if(":"==n[0]){const l=function vH(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function HV(n){return new H(3016,ve)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function VV(n){return new H(3015,ve)}()),t;const r=i[1],o=i[2],s=i[3];t.push(xC(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(xC(s,r))}(i,e,t)):e.push(n),e}const ru=new Set(["true","1"]),ou=new Set(["false","0"]);function xC(n,t){const e=ru.has(n)||ou.has(n),i=ru.has(t)||ou.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?ru.has(n):ou.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?ru.has(t):ou.has(t)),s&&a}}const yH=new RegExp("s*:selfs*,?","g");function zp(n,t,e,i){return new _H(n).build(t,e,i)}class _H{constructor(t){this._driver=t}build(t,e,i){const r=new wH(e);this._resetContextStyleTimingState(r);const o=_n(this,Ia(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function TV(){return new H(3006,ve)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function EV(){return new H(3007,ve)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(su(a)){const l=a;Object.keys(l).forEach(c=>{DC(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(eu(o.values()),e.errors.push(function AV(n,t){return new H(3008,ve)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=_n(this,Ia(t.animation),e);return{type:1,matchers:mH(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wr(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>_n(this,i,e)),options:Wr(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=_n(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Wr(t.options)}}visitAnimate(t,e){const i=function MH(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Gp(Zc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Gp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Zc(e,t);return Gp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:ni({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=ni(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==ji?i.push(s):e.errors.push(function PV(n){return new H(3002,ve)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(su(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function IV(n,t,e,i,r){return new H(3010,ve)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function aH(n,t,e){const i=t.params||{},r=DC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function MV(n){return new H(3001,ve)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function OV(){return new H(3011,ve)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(T=>{const M=this._makeStyleAst(T,e);let A=null!=M.offset?M.offset:function CH(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(su(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(su(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(M.styles),R=0;return null!=A&&(o++,R=M.offset=A),l=l||R<0||R>1,a=a||R<c,c=R,s.push(R),M});l&&e.errors.push(function RV(){return new H(3012,ve)}()),a&&e.errors.push(function FV(){return new H(3200,ve)}());const h=t.steps.length;let m=0;o>0&&o<h?e.errors.push(function LV(){return new H(3202,ve)}()):0==o&&(m=1/(h-1));const g=h-1,y=e.currentTime,b=e.currentAnimateTimings,D=b.duration;return u.forEach((T,M)=>{const A=m>0?M==g?1:m*M:s[M],R=A*D;e.currentTime=y+b.delay+R,b.duration=R,this._validateStyleAst(T,e),T.offset=A,i.styles.push(T)}),i}visitReference(t,e){return{type:8,animation:_n(this,Ia(t.animation),e),options:Wr(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wr(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wr(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function bH(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(yH,"")),n=n.replace(/@\*/g,Qc).replace(/@\w+/g,e=>Qc+"-"+e.substr(1)).replace(/:animating/g,Up),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,yn(e.collectedStyles,e.currentQuerySelector,{});const a=_n(this,Ia(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Wr(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function NV(){return new H(3013,ve)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Zc(t.timings,e.errors,!0);return{type:12,animation:_n(this,Ia(t.animation),e),timings:i,options:null}}}class wH{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function su(n){return!Array.isArray(n)&&"object"==typeof n}function Wr(n){return n?(n=ls(n)).params&&(n.params=function SH(n){return n?ls(n):null}(n.params)):n={},n}function Gp(n,t,e){return{duration:n,delay:t,easing:e}}function Wp(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class au{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const xH=new RegExp(":enter","g"),EH=new RegExp(":leave","g");function Yp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new AH).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class AH{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new au;const h=new Kp(t,e,c,r,o,u,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),_n(this,i,h);const m=h.timelines.filter(g=>g.containsAnimation());if(Object.keys(a).length){let g;for(let y=m.length-1;y>=0;y--){const b=m[y];if(b.element===e){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return m.length?m.map(g=>g.buildKeyframes()):[Wp(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?zr(i.duration):null,a=null!=i.delay?zr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),_n(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lu);const s=zr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>_n(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?zr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),_n(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Zc(e.params?Xc(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?zr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lu);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),_n(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;_n(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const lu={};class Kp{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new cu(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=zr(i.duration)),null!=i.delay&&(r.delay=zr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Xc(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Kp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new PH(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(xH,"."+this._enterClassName)).replace(EH,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function BV(n){return new H(3014,ve)}()),a}}class cu{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cu(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ji,this._currentKeyframe[e]=ji}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function IH(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=ji})):sr(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Xc(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:ji),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=sr(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?t.add(u):h==ji&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?eu(t.values()):[],s=e.size?eu(e.values()):[];if(i){const a=r[0],l=ls(a);a.offset=0,l.offset=1,r=[a,l]}return Wp(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class PH extends cu{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=sr(t[0],!1);l.offset=0,o.push(l);const c=sr(t[0],!1);c.offset=AC(a),o.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let m=sr(t[h],!1);m.offset=AC((e+m.offset*i)/s),o.push(m)}i=s,e=0,r="",t=o}return Wp(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function AC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Jp{}class OH extends Jp{normalizePropertyName(t,e){return $p(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(RH[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function xV(n,t){return new H(3005,ve)}())}return s+o}}const RH=(()=>function FH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PC(n,t,e,i,r,o,s,a,l,c,u,h,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:m}}const Qp={};class IC{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function LH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const h=[],m=this.ast.options&&this.ast.options.params||Qp,y=this.buildStyles(i,a&&a.params||Qp,h),b=l&&l.params||Qp,D=this.buildStyles(r,b,h),T=new Set,M=new Map,A=new Map,R="void"===r,z={params:Object.assign(Object.assign({},m),b)},De=u?[]:Yp(t,e,this.ast.animation,o,s,y,D,z,c,h);let xe=0;if(De.forEach(st=>{xe=Math.max(st.duration+st.delay,xe)}),h.length)return PC(e,this._triggerName,i,r,R,y,D,[],[],M,A,xe,h);De.forEach(st=>{const at=st.element,on=yn(M,at,{});st.preStyleProps.forEach(yt=>on[yt]=!0);const It=yn(A,at,{});st.postStyleProps.forEach(yt=>It[yt]=!0),at!==e&&T.add(at)});const ot=eu(T.values());return PC(e,this._triggerName,i,r,R,y,D,De,ot,M,A,xe)}}class NH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=ls(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Xc(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class VH{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new NH(r.style,r.options&&r.options.params||{},i)}),OC(this.states,"true","1"),OC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new IC(t,r,this.states))}),this.fallbackTransition=function HH(n,t,e){return new IC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function OC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const UH=new au;class jH{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=zp(this._driver,e,i,[]);if(i.length)throw function zV(n){return new H(3503,ve)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=hC(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=Yp(this._driver,e,o,Hp,Kc,{},{},i,UH,r),s.forEach(u=>{const h=yn(a,u.element,{});u.postStyleProps.forEach(m=>h[m]=null)})):(r.push(function GV(){return new H(3300,ve)}()),s=[]),r.length)throw function WV(n){return new H(3504,ve)}();a.forEach((u,h)=>{Object.keys(u).forEach(m=>{u[m]=this._driver.computeStyle(h,m,ji)})});const c=or(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function YV(n){return new H(3301,ve)}();return e}listen(t,e,i,r){const o=Lp(e,"","","");return Rp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const RC="ng-animate-queued",Zp="ng-animate-disabled",WH=[],FC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},YH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fn="__ng_removed";class Xp{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ZH(n){return null!=n?n:null}(i?t.value:t),i){const o=ls(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Oa="void",em=new Xp(Oa);class KH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ln(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function KV(n,t){return new H(3302,ve)}();if(null==i||0==i.length)throw function JV(n){return new H(3303,ve)}();if(!function XH(n){return"start"==n||"done"==n}(i))throw function QV(n,t){return new H(3400,ve)}();const o=yn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=yn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ln(t,Jc),Ln(t,Jc+"-"+e),a[e]=em),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function ZV(n){return new H(3401,ve)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new tm(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Ln(t,Jc),Ln(t,Jc+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new Xp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=em),c.value!==Oa&&l.value===c.value){if(!function n3(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const b=[],D=o.matchStyles(l.value,l.params,b),T=o.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Gr(t,D),bi(t,T)})}return}const m=yn(this._engine.playersByElement,t,[]);m.forEach(b=>{b.namespaceId==this.id&&b.triggerName==e&&b.queued&&b.destroy()});let g=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!g){if(!r)return;g=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:s,isFallbackTransition:y}),y||(Ln(t,RC),s.onStart(()=>{cs(t,RC)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);const D=this._engine.playersByElement.get(t);if(D){let T=D.indexOf(s);T>=0&&D.splice(T,1)}}),this.players.push(s),m.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Qc,!0);i.forEach(r=>{if(r[Fn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,Oa,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&or(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||em,u=new Xp(Oa),h=new tm(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Fn];(!o||o===FC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ln(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=Lp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,Rp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class JH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new KH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(uu(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!uu(e))return;const o=e[Fn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ln(t,Zp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cs(t,Zp))}removeNode(t,e,i,r){if(uu(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Fn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return uu(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Qc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Up,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return or(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[Fn];if(i&&i.setForRemoval){if(t[Fn]=FC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Zp))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ln(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?or(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function XV(n){return new H(3402,ve)}()}_flushAnimations(t,e){const i=new au,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(j=>{u.add(j);const W=this.driver.query(j,".ng-animate-queued",!0);for(let X=0;X<W.length;X++)u.add(W[X])});const h=this.bodyNode,m=Array.from(this.statesByElement.keys()),g=BC(m,this.collectedEnterElements),y=new Map;let b=0;g.forEach((j,W)=>{const X=Hp+b++;y.set(W,X),j.forEach(Ce=>Ln(Ce,X))});const D=[],T=new Set,M=new Set;for(let j=0;j<this.collectedLeaveElements.length;j++){const W=this.collectedLeaveElements[j],X=W[Fn];X&&X.setForRemoval&&(D.push(W),T.add(W),X.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(Ce=>T.add(Ce)):M.add(W))}const A=new Map,R=BC(m,Array.from(T));R.forEach((j,W)=>{const X=Kc+b++;A.set(W,X),j.forEach(Ce=>Ln(Ce,X))}),t.push(()=>{g.forEach((j,W)=>{const X=y.get(W);j.forEach(Ce=>cs(Ce,X))}),R.forEach((j,W)=>{const X=A.get(W);j.forEach(Ce=>cs(Ce,X))}),D.forEach(j=>{this.processLeaveNode(j)})});const z=[],De=[];for(let j=this._namespaceList.length-1;j>=0;j--)this._namespaceList[j].drainQueuedTransitions(e).forEach(X=>{const Ce=X.player,Mt=X.element;if(z.push(Ce),this.collectedEnterElements.length){const Jt=Mt[Fn];if(Jt&&Jt.setForMove){if(Jt.previousTriggersValues&&Jt.previousTriggersValues.has(X.triggerName)){const Zr=Jt.previousTriggersValues.get(X.triggerName),mr=this.statesByElement.get(X.element);mr&&mr[X.triggerName]&&(mr[X.triggerName].value=Zr)}return void Ce.destroy()}}const Ci=!h||!this.driver.containsElement(h,Mt),bn=A.get(Mt),pr=y.get(Mt),Ye=this._buildInstruction(X,i,pr,bn,Ci);if(Ye.errors&&Ye.errors.length)return void De.push(Ye);if(Ci)return Ce.onStart(()=>Gr(Mt,Ye.fromStyles)),Ce.onDestroy(()=>bi(Mt,Ye.toStyles)),void r.push(Ce);if(X.isFallbackTransition)return Ce.onStart(()=>Gr(Mt,Ye.fromStyles)),Ce.onDestroy(()=>bi(Mt,Ye.toStyles)),void r.push(Ce);const QM=[];Ye.timelines.forEach(Jt=>{Jt.stretchStartingKeyframe=!0,this.disabledNodes.has(Jt.element)||QM.push(Jt)}),Ye.timelines=QM,i.append(Mt,Ye.timelines),s.push({instruction:Ye,player:Ce,element:Mt}),Ye.queriedElements.forEach(Jt=>yn(a,Jt,[]).push(Ce)),Ye.preStyleProps.forEach((Jt,Zr)=>{const mr=Object.keys(Jt);if(mr.length){let Xr=l.get(Zr);Xr||l.set(Zr,Xr=new Set),mr.forEach(Om=>Xr.add(Om))}}),Ye.postStyleProps.forEach((Jt,Zr)=>{const mr=Object.keys(Jt);let Xr=c.get(Zr);Xr||c.set(Zr,Xr=new Set),mr.forEach(Om=>Xr.add(Om))})});if(De.length){const j=[];De.forEach(W=>{j.push(function eH(n,t){return new H(3505,ve)}())}),z.forEach(W=>W.destroy()),this.reportError(j)}const xe=new Map,ot=new Map;s.forEach(j=>{const W=j.element;i.has(W)&&(ot.set(W,W),this._beforeAnimationBuild(j.player.namespaceId,j.instruction,xe))}),r.forEach(j=>{const W=j.element;this._getPreviousPlayers(W,!1,j.namespaceId,j.triggerName,null).forEach(Ce=>{yn(xe,W,[]).push(Ce),Ce.destroy()})});const st=D.filter(j=>HC(j,l,c)),at=new Map;NC(at,this.driver,M,c,ji).forEach(j=>{HC(j,l,c)&&st.push(j)});const It=new Map;g.forEach((j,W)=>{NC(It,this.driver,new Set(j),l,"!")}),st.forEach(j=>{const W=at.get(j),X=It.get(j);at.set(j,Object.assign(Object.assign({},W),X))});const yt=[],ds=[],fs={};s.forEach(j=>{const{element:W,player:X,instruction:Ce}=j;if(i.has(W)){if(u.has(W))return X.onDestroy(()=>bi(W,Ce.toStyles)),X.disabled=!0,X.overrideTotalTime(Ce.totalTime),void r.push(X);let Mt=fs;if(ot.size>1){let bn=W;const pr=[];for(;bn=bn.parentNode;){const Ye=ot.get(bn);if(Ye){Mt=Ye;break}pr.push(bn)}pr.forEach(Ye=>ot.set(Ye,Mt))}const Ci=this._buildAnimation(X.namespaceId,Ce,xe,o,It,at);if(X.setRealPlayer(Ci),Mt===fs)yt.push(X);else{const bn=this.playersByElement.get(Mt);bn&&bn.length&&(X.parentPlayer=or(bn)),r.push(X)}}else Gr(W,Ce.fromStyles),X.onDestroy(()=>bi(W,Ce.toStyles)),ds.push(X),u.has(W)&&r.push(X)}),ds.forEach(j=>{const W=o.get(j.element);if(W&&W.length){const X=or(W);j.setRealPlayer(X)}}),r.forEach(j=>{j.parentPlayer?j.syncPlayerEvents(j.parentPlayer):j.destroy()});for(let j=0;j<D.length;j++){const W=D[j],X=W[Fn];if(cs(W,Kc),X&&X.hasAnimation)continue;let Ce=[];if(a.size){let Ci=a.get(W);Ci&&Ci.length&&Ce.push(...Ci);let bn=this.driver.query(W,Up,!0);for(let pr=0;pr<bn.length;pr++){let Ye=a.get(bn[pr]);Ye&&Ye.length&&Ce.push(...Ye)}}const Mt=Ce.filter(Ci=>!Ci.destroyed);Mt.length?e3(this,W,Mt):this.processLeaveNode(W)}return D.length=0,yt.forEach(j=>{this.players.push(j),j.onDone(()=>{j.destroy();const W=this.players.indexOf(j);this.players.splice(W,1)}),j.play()}),yt}elementContainsData(t,e){let i=!1;const r=e[Fn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==Oa;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,h=yn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(g=>{const y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),h.push(g)})}Gr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,m=e.timelines.map(y=>{const b=y.element;u.add(b);const D=b[Fn];if(D&&D.removedBeforeQueried)return new Pa(y.duration,y.delay);const T=b!==l,M=function t3(n){const t=[];return VC(n,t),t}((i.get(b)||WH).map(xe=>xe.getRealPlayer())).filter(xe=>!!xe.element&&xe.element===b),A=o.get(b),R=s.get(b),z=hC(0,this._normalizer,0,y.keyframes,A,R),De=this._buildPlayer(y,z,M);if(y.subTimeline&&r&&h.add(b),T){const xe=new tm(t,a,b);xe.setRealPlayer(De),c.push(xe)}return De});c.forEach(y=>{yn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function QH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Ln(y,SC));const g=or(m);return g.onDestroy(()=>{u.forEach(y=>cs(y,SC)),bi(l,e.toStyles)}),h.forEach(y=>{yn(r,y,[]).push(g)}),g}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Pa(t.duration,t.delay)}}class tm{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Pa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>Rp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){yn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function uu(n){return n&&1===n.nodeType}function LC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function NC(n,t,e,i,r){const o=[];e.forEach(l=>o.push(LC(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const m=u[h]=t.computeStyle(c,h,r);(!m||0==m.length)&&(c[Fn]=YH,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>LC(l,o[a++])),s}function BC(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function Ln(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function cs(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function e3(n,t,e){or(e).onDone(()=>n.processLeaveNode(t))}function VC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof cC?VC(i.players,t):t.push(i)}}function HC(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class hu{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new JH(t,e,i),this._timelineEngine=new jH(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=zp(this._driver,o,l,[]);if(l.length)throw function qV(n,t){return new H(3404,ve)}();a=function BH(n,t,e){return new VH(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=dC(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=dC(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let o3=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gr(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nm(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];s3(r)&&(t=t||{},t[r]=n[r])}return t}function s3(n){return"display"===n||"position"===n}class UC{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:kC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class a3{validateStyleProperty(t){return gC(t)}matchesElement(t,e){return!1}containsElement(t,e){return vC(t,e)}getParentElement(t){return Bp(t)}query(t,e,i){return yC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(m=>m instanceof UC);(function uH(n,t){return 0===n||0===t})(i,r)&&u.forEach(m=>{let g=m.currentSnapshot;Object.keys(g).forEach(y=>c[y]=g[y])}),e=function hH(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=kC(n,l)})}}return t}(t,e=e.map(m=>sr(m,!1)),c);const h=function r3(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=nm(t[0]),t.length>1&&(i=nm(t[t.length-1]))):t&&(e=nm(t)),e||i?new o3(n,e,i):null}(t,e);return new UC(t,e,l,h)}}let l3=(()=>{class n extends nC{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Bn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?oC(e):e;return jC(this._renderer,null,i,"register",[r]),new c3(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(S(Qs),S(he))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class c3 extends class SV{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new u3(this._id,t,e||{},this._renderer)}}class u3{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const qC="@.disabled";let h3=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new $C("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new d3(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(S(Qs),S(hu),S(_e))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();class $C{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==qC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class d3 extends $C{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==qC?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function f3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function p3(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let m3=(()=>{class n extends hu{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(S(he),S(Vp),S(Jp))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const Si=new U("AnimationModuleType"),zC=[{provide:nC,useClass:l3},{provide:Jp,useFactory:function g3(){return new OH}},{provide:hu,useClass:m3},{provide:Qs,useFactory:function v3(n,t,e){return new h3(n,t,e)},deps:[vc,hu,_e]}],GC=[{provide:Vp,useFactory:()=>new a3},{provide:Si,useValue:"BrowserAnimations"},...zC],y3=[{provide:Vp,useClass:_C},{provide:Si,useValue:"NoopAnimations"},...zC];let _3=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?y3:GC}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({providers:GC,imports:[o0]}),n})();const S3=new U("mat-sanity-checks",{providedIn:"root",factory:function b3(){return!0}});let ar=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Cp()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(S(tC),S(S3,8),S(he))},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[Da],Da]}),n})();function YC(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=rs(t)}}}function KC(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function w3(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rs(t)}}}class M3{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const JC={enterDuration:225,exitDuration:150},im=qc({passive:!0}),QC=["mousedown","touchstart"],ZC=["mouseup","mouseleave","touchend","touchcancel"];class k3{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Hr(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},JC),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=i.radius||function T3(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function x3(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const h=new M3(this,u,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const m=h===this._mostRecentTransientRipple;h.state=1,!i.persistent&&(!m||!this._isPointerDown)&&h.fadeOut()},c),h}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},JC),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Hr(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(QC))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ZC),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Kw(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Jw(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,im)})})}_removeTriggerEvents(){this._triggerElement&&(QC.forEach(t=>{this._triggerElement.removeEventListener(t,this,im)}),this._pointerUpEventsRegistered&&ZC.forEach(t=>{this._triggerElement.removeEventListener(t,this,im)}))}}const E3=new U("mat-ripple-global-options");let XC=(()=>{class n{constructor(e,i,r,o,s){this._elementRef=e,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new k3(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(_e),_(vn),_(E3,8),_(Si,8))},n.\u0275dir=q({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&Tt("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),A3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[ar],ar]}),n})();function P3(n,t){}class rm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const I3={dialogContainer:iC("dialogContainer",[Ea("void, exit",ni({opacity:0,transform:"scale(0.7)"})),Ea("enter",ni({transform:"none"})),Aa("* => enter",rC([Ta("150ms cubic-bezier(0, 0, 0.2, 1)",ni({transform:"none",opacity:1})),aC("@*",sC(),{optional:!0})])),Aa("* => void, * => exit",rC([Ta("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",ni({opacity:0})),aC("@*",sC(),{optional:!0})]))])};let O3=(()=>{class n extends kp{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new le,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wp())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=wp(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wp();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(fV),_(An),_(he,8),_(rm),_(Gw),_(_e),_(Zw))},n.\u0275dir=q({type:n,viewQuery:function(e,i){if(1&e&&En(xa,7),2&e){let r;St(r=wt())&&(i._portalOutlet=r.first)}},features:[re]}),n})(),R3=(()=>{class n extends O3{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=pe({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&Td("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(Od("id",i._id),et("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Rd("@dialogContainer",i._state))},features:[re],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&k(0,P3,0,0,"ng-template",0)},directives:[xa],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[I3.dialogContainer]}}),n})(),F3=0;class L3{constructor(t,e,i="mat-dialog-"+F3++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ye,this._afterClosed=new ye,this._beforeClosed=new ye,this._state=0,e._id=i,e._animationStateChanged.pipe(nn(r=>"opened"===r.state),Sn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(nn(r=>"closed"===r.state),Sn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(nn(r=>27===r.keyCode&&!this.disableClose&&!Ap(r))).subscribe(r=>{r.preventDefault(),e1(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():e1(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(nn(e=>"closing"===e.state),Sn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function e1(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const t1=new U("MatDialogData"),N3=new U("mat-dialog-default-options"),n1=new U("mat-dialog-scroll-strategy"),V3={provide:n1,deps:[Gc],useFactory:function B3(n){return()=>n.scrollStrategies.block()}};let H3=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ye,this._afterOpenedAtThisLevel=new ye,this._ariaHiddenElements=new Map,this.afterAllClosed=$f(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(_c(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function U3(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new rm),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Ow({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Fe.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:rm,useValue:i}]}),s=new Dp(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof en)i.attachTemplatePortal(new zc(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new Dp(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(ir,null,ee.Optional))&&s.push({provide:ir,useValue:{value:e.direction,change:J()}}),Fe.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Ll()},n.\u0275dir=q({type:n}),n})(),lr=(()=>{class n extends H3{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,L3,R3,t1,c)}}return n.\u0275fac=function(e){return new(e||n)(S(Gc),S(Fe),S(oa,8),S(N3,8),S(n1),S(n,12),S(Ep),S(Si,8))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})(),r1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({providers:[lr,V3],imports:[[TB,xp,ar],ar]}),n})(),Yr=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.dialog=a,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(const e in this.itemRepoService.furniture){const i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&(this.furniture.push(i),this.furniturePrices[i.name]=this.homeService.ownedFurniture.includes(i.name)?0:i.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"===this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}getFurnitureForSlot(e=null){return null===e?this.furniture:this.furniture.filter(i=>i.slot===e)}buyFurniture(e=null){if(null===e&&(e=this.selectedItem),e){if(!function A2(n){return"slot"in n}(e))return;const i=e.slot;(e.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(e.name))&&(this.homeService.ownedFurniture.includes(e.name)||(this.characterService.characterState.money-=e.value,this.homeService.ownedFurniture.push(e.name),this.furniturePrices[e.name]=0),this.homeService.furniture[i]=e,this.homeService.autoBuyFurniture[i]=e)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0===this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Mansion]):1===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Palace]):2===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Castle]):3===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Fortress]):4===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Mountain]):5===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. You will keep your ancestral Home.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.ForbiddenCity]):6===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. Your followers also have enhanced bloodlines and will follow you between incarnations. You will keep your Home and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Ee.Capital]):7===this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.")}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=7?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(S(rn),S(Pe),S(Z),S(ei),S(it),S(lr))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function j3(n,t){if(1&n&&(f(0,"div"),p(1),P(2,"bigNumber"),d()),2&n){const e=C().$implicit;v(1),O("$ ",$(2,1,e.value),"")}}const q3=function(n,t){return{selectedItem:n,ownedItem:t}};function $3(n,t){if(1&n){const e=G();f(0,"div")(1,"div",4),x("click",function(){const o=F(e).$implicit;return C().slotClicked(o)}),f(2,"div")(3,"mat-icon"),p(4,"menu_book"),d()(),f(5,"div"),p(6),P(7,"titlecase"),d(),k(8,j3,3,3,"div",5),d()()}if(2&n){const e=t.$implicit,i=C();v(1),me("tooltip",e.description),w("ngClass",Wl(6,q3,e===i.storeService.selectedItem,e.owned&&e.owned())),v(5),Se($(7,4,e.name)),v(2),w("ngIf",e.owned&&!e.owned())}}let o1=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(_(Yr),_(Pe),_(it),_(Z),_(ei),_(Xn))},n.\u0275cmp=pe({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[4,"ngIf"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"span"),p(2,"Manuals Shop"),d(),V(3,"hr"),f(4,"div",1),k(5,$3,9,9,"div",2),d(),f(6,"button",3),x("click",function(){return i.storeService.buyManual()}),p(7," Buy "),d()()),2&e&&(v(5),w("ngForOf",i.storeService.manuals),v(1),w("disabled",i.buyDisabled))},styles:[".inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function z3(n,t){1&n&&Bl(0)}const s1=["*"];function G3(n,t){}const W3=function(n){return{animationDuration:n}},Y3=function(n,t){return{value:n,params:t}},K3=["tabListContainer"],J3=["tabList"],Q3=["tabListInner"],Z3=["nextPaginator"],X3=["previousPaginator"],eU=["tabBodyWrapper"],tU=["tabHeader"];function nU(n,t){}function iU(n,t){1&n&&k(0,nU,0,0,"ng-template",10),2&n&&w("cdkPortalOutlet",C().$implicit.templateLabel)}function rU(n,t){1&n&&p(0),2&n&&Se(C().$implicit.textLabel)}function oU(n,t){if(1&n){const e=G();f(0,"div",6),x("click",function(){const r=F(e),o=r.$implicit,s=r.index,a=C(),l=xt(1);return a._handleClick(o,l,s)})("cdkFocusChange",function(r){const s=F(e).index;return C()._tabFocusChanged(r,s)}),f(1,"div",7),k(2,iU,1,1,"ng-template",8),k(3,rU,1,1,"ng-template",null,9,Qd),d()()}if(2&n){const e=t.$implicit,i=t.index,r=xt(4),o=C();Tt("mat-tab-label-active",o.selectedIndex===i),w("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||o.disableRipple),et("tabIndex",o._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),v(2),w("ngIf",e.templateLabel)("ngIfElse",r)}}function sU(n,t){if(1&n){const e=G();f(0,"mat-tab-body",11),x("_onCentered",function(){return F(e),C()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return F(e),C()._setTabBodyWrapperHeight(r)}),d()}if(2&n){const e=t.$implicit,i=t.index,r=C();Tt("mat-tab-body-active",r.selectedIndex===i),w("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),et("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const aU=new U("MatInkBarPositioner",{providedIn:"root",factory:function lU(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let a1=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(e){this.show(),this._ngZone.onStable.pipe(Sn(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(_e),_(aU),_(Si,8))},n.\u0275dir=q({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&Tt("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const cU=new U("MatTabContent"),l1=new U("MatTabLabel"),c1=new U("MAT_TAB");let uU=(()=>{class n extends hB{constructor(e,i,r){super(e,i),this._closestTab=r}}return n.\u0275fac=function(e){return new(e||n)(_(en),_(Nt),_(c1,8))},n.\u0275dir=q({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Le([{provide:l1,useExisting:n}]),re]}),n})();const hU=YC(class{}),u1=new U("MAT_TAB_GROUP");let h1=(()=>{class n extends hU{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new ye,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new zc(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(_(Nt),_(u1,8))},n.\u0275cmp=pe({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(Ar(r,l1,5),Ar(r,cU,7,en)),2&e){let o;St(o=wt())&&(i.templateLabel=o.first),St(o=wt())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&En(en,7),2&e){let r;St(r=wt())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Le([{provide:c1,useExisting:n}]),re,Zt],ngContentSelectors:s1,decls:1,vars:0,template:function(e,i){1&e&&(Nl(),k(0,z3,1,0,"ng-template"))},encapsulation:2}),n})();const dU={translateTab:iC("translateTab",[Ea("center, void, left-origin-center, right-origin-center",ni({transform:"none"})),Ea("left",ni({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Ea("right",ni({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Aa("* => left, * => right, left => center, right => center",Ta("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Aa("void => left-origin-center",[ni({transform:"translate3d(-100%, 0, 0)"}),Ta("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Aa("void => right-origin-center",[ni({transform:"translate3d(100%, 0, 0)"}),Ta("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let fU=(()=>{class n extends xa{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=ze.EMPTY,this._leavingSub=ze.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(_c(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(Ii),_(Nt),_(Oe(()=>d1)),_(he))},n.\u0275dir=q({type:n,selectors:[["","matTabBodyHost",""]],features:[re]}),n})(),pU=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=ze.EMPTY,this._translateTabComplete=new ye,this._onCentering=new le,this._beforeCentering=new le,this._afterLeavingCenter=new le,this._onCentered=new le(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Uw((o,s)=>o.fromState===s.fromState&&o.toState===s.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(ir,8),_(An))},n.\u0275dir=q({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),d1=(()=>{class n extends pU{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(ir,8),_(An))},n.\u0275cmp=pe({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&En(xa,5),2&e){let r;St(r=wt())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[re],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(f(0,"div",0,1),x("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),k(2,G3,0,0,"ng-template",2),d()),2&e&&w("@translateTab",Wl(3,Y3,i._position,tt(1,W3,i.animationDuration)))},directives:[fU],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[dU.translateTab]}}),n})();const f1=new U("MAT_TABS_CONFIG"),mU=YC(class{});let p1=(()=>{class n extends mU{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(_(we))},n.\u0275dir=q({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(et("aria-disabled",!!i.disabled),Tt("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[re]}),n})();const m1=qc({passive:!0});let yU=(()=>{class n{constructor(e,i,r,o,s,a,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=s,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ye,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ye,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new le,this.indexFocused=new le,s.runOutsideAngular(()=>{os(e.nativeElement,"mouseleave").pipe(rr(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Vc(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){os(this._previousPaginator.nativeElement,"touchstart",m1).pipe(rr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),os(this._nextPaginator.nativeElement,"touchstart",m1).pipe(rr(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:J("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new tV(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Sn(1)).subscribe(r),vs(e,i,this._items.changes).pipe(rr(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(rr(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Ap(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:s}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=o,l=a+s):(l=this._tabListInner.nativeElement.offsetWidth-o,a=l-s);const c=this.scrollDistance,u=this.scrollDistance+r;a<c?this.scrollDistance-=c-a+60:l>u&&(this.scrollDistance+=l-u+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Dw(650,100).pipe(rr(vs(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(An),_(ka),_(ir,8),_(_e),_(vn),_(Si,8))},n.\u0275dir=q({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),_U=(()=>{class n extends yU{constructor(e,i,r,o,s,a,l){super(e,i,r,o,s,a,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rs(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(An),_(ka),_(ir,8),_(_e),_(vn),_(Si,8))},n.\u0275dir=q({type:n,inputs:{disableRipple:"disableRipple"},features:[re]}),n})(),bU=(()=>{class n extends _U{constructor(e,i,r,o,s,a,l){super(e,i,r,o,s,a,l)}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(An),_(ka),_(ir,8),_(_e),_(vn),_(Si,8))},n.\u0275cmp=pe({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&Ar(r,p1,4),2&e){let o;St(o=wt())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(En(a1,7),En(K3,7),En(J3,7),En(Q3,7),En(Z3,5),En(X3,5)),2&e){let r;St(r=wt())&&(i._inkBar=r.first),St(r=wt())&&(i._tabListContainer=r.first),St(r=wt())&&(i._tabList=r.first),St(r=wt())&&(i._tabListInner=r.first),St(r=wt())&&(i._nextPaginator=r.first),St(r=wt())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&Tt("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[re],ngContentSelectors:s1,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(Nl(),f(0,"button",0,1),x("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),V(2,"div",2),d(),f(3,"div",3,4),x("keydown",function(o){return i._handleKeydown(o)}),f(5,"div",5,6),x("cdkObserveContent",function(){return i._onContentChanges()}),f(7,"div",7,8),Bl(9),d(),V(10,"mat-ink-bar"),d()(),f(11,"button",9,10),x("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),V(13,"div",2),d()),2&e&&(Tt("mat-tab-header-pagination-disabled",i._disableScrollBefore),w("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),v(5),Tt("_mat-animation-noopable","NoopAnimations"===i._animationMode),v(6),Tt("mat-tab-header-pagination-disabled",i._disableScrollAfter),w("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[XC,QB,a1],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),SU=0;class wU{}const CU=KC(w3(class{constructor(n){this._elementRef=n}}),"primary");let MU=(()=>{class n extends CU{constructor(e,i,r,o){var s;super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new zo,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=ze.EMPTY,this._tabLabelSubscription=ze.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new le,this.focusChange=new le,this.animationDone=new le,this.selectedTabChange=new le(!0),this._groupId=SU++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(s=null==r?void 0:r.contentTabIndex)&&void 0!==s?s:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=rs(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Vc(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Vc(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(_c(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new wU;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=vs(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){var r;return e.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(An),_(f1,8),_(Si,8))},n.\u0275dir=q({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[re]}),n})(),DU=(()=>{class n extends MU{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(An),_(f1,8),_(Si,8))},n.\u0275cmp=pe({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&Ar(r,h1,5),2&e){let o;St(o=wt())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(En(eU,5),En(tU,5)),2&e){let r;St(r=wt())&&(i._tabBodyWrapper=r.first),St(r=wt())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&Tt("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Le([{provide:u1,useExisting:n}]),re],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(f(0,"mat-tab-header",0,1),x("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),k(2,oU,5,15,"div",2),d(),f(3,"div",3,4),k(5,sU,1,10,"mat-tab-body",5),d()),2&e&&(w("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),v(2),w("ngForOf",i._tabs),v(1),Tt("_mat-animation-noopable","NoopAnimations"===i._animationMode),v(2),w("ngForOf",i._tabs))},directives:[bU,d1,Bt,p1,XC,_V,gi,Ct,xa],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),v1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[dc,ar,xp,A3,qw,bV],ar]}),n})();let _1=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(_(fi),_(we))},n.\u0275dir=q({type:n}),n})(),Kr=(()=>{class n extends _1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=q({type:n,features:[re]}),n})();const wi=new U("NgValueAccessor");let aM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({}),n})();const cj={provide:wi,useExisting:Oe(()=>Dm),multi:!0};function pM(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Dm=(()=>{class n extends Kr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=pM(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function uj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=q({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([cj]),re]}),n})(),km=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(pM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(fi),_(Dm,9))},n.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hj={provide:wi,useExisting:Oe(()=>xm),multi:!0};function mM(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let xm=(()=>{class n extends Kr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function dj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=q({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Le([hj]),re]}),n})(),Tm=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(mM(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mM(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(fi),_(xm,9))},n.\u0275dir=q({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),wj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[aM]]}),n})(),Cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[wj]}),n})();function Mj(n,t){1&n&&(f(0,"span",8),p(1,"Game"),d())}function Dj(n,t){1&n&&(f(0,"span",8),p(1,"Home"),d())}function kj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span"),p(2," Automatically buy up to "),f(3,"input",10),x("change",function(r){return F(e),C(2).autoBuyLandLimitChanged(r)}),d(),p(4," land (including fields) "),d()()}if(2&n){const e=C(2);v(3),me("value",e.homeService.autoBuyLandLimit)}}function xj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span"),p(2," Automatically plow up to "),f(3,"input",10),x("change",function(r){return F(e),C(2).autoFieldLimitChanged(r)}),d(),p(4," fields "),d()()}if(2&n){const e=C(2);v(3),me("value",e.homeService.autoFieldLimit)}}function Tj(n,t){if(1&n&&(f(0,"option",13),p(1),d()),2&n){const e=t.$implicit,i=C(3);me("value",e.type),w("selected",i.homeService.autoBuyHomeLimit===e.type),v(1),O(" ",e.name," ")}}function Ej(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span"),p(2," Automatically upgrade your home up to a "),f(3,"select",11),x("change",function(r){return F(e),C(2).autoBuyHomeLimitChanged(r)}),k(4,Tj,2,3,"option",12),d()()()}if(2&n){const e=C(2);v(4),w("ngForOf",e.homeService.homesList)}}function Aj(n,t){if(1&n&&(f(0,"mat-tab"),k(1,Dj,2,0,"ng-template",1),k(2,kj,5,1,"div",9),k(3,xj,5,1,"div",9),k(4,Ej,5,1,"div",9),d()),2&n){const e=C();v(2),w("ngIf",e.homeService.autoBuyLandUnlocked),v(1),w("ngIf",e.homeService.autoFieldUnlocked),v(1),w("ngIf",e.homeService.autoBuyHomeUnlocked)}}function Pj(n,t){1&n&&(f(0,"span",8),p(1,"Crafting"),d())}function Ij(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span")(2,"input",14),x("change",function(r){return F(e),C(2).autoequipEnableChange(r)}),d(),f(3,"label",15),p(4,"Automatically equip best equipment"),d()()()}if(2&n){const e=C(2);v(2),w("checked",e.inventoryService.autoequipBestEnabled)}}function Oj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span")(2,"input",16),x("change",function(r){return F(e),C(2).useSpiritGemWeaponsChange(r)}),d(),f(3,"label",17),p(4,"Use spirit gem when crafting weapons"),d()()()}if(2&n){const e=C(2);v(2),w("checked",e.inventoryService.useSpiritGemWeapons)}}function Rj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span")(2,"input",18),x("change",function(r){return F(e),C(2).useSpiritGemPotionsChange(r)}),d(),f(3,"label",19),p(4,"Use spirit gem when crafting potions"),d()()()}if(2&n){const e=C(2);v(2),w("checked",e.inventoryService.useSpiritGemPotions)}}function Fj(n,t){if(1&n&&(f(0,"mat-tab"),k(1,Pj,2,0,"ng-template",1),k(2,Ij,5,1,"div",9),k(3,Oj,5,1,"div",9),k(4,Rj,5,1,"div",9),d()),2&n){const e=C();v(2),w("ngIf",e.inventoryService.autoequipBestArmor||e.inventoryService.autoequipBestWeapon),v(1),w("ngIf",e.inventoryService.useSpiritGemUnlocked),v(1),w("ngIf",e.inventoryService.useSpiritGemUnlocked)}}function Lj(n,t){1&n&&(f(0,"span",8),p(1,"Sales"),d())}function Nj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span")(2,"input",20),x("change",function(r){return F(e),C(2).autosellOldGems(r)}),d(),f(3,"label",21),p(4,"Automatically sell lower grade gems than what current monsters drop"),d()()()}if(2&n){const e=C(2);v(2),w("checked",e.inventoryService.autoSellOldGemsEnabled)}}function Bj(n,t){if(1&n){const e=G();f(0,"div")(1,"span"),p(2),P(3,"titlecase"),d(),f(4,"span"),p(5," - Reserve \xa0"),f(6,"input",10),x("change",function(r){const s=F(e).$implicit;return C(3).autoSellReserveChange(r,s)}),d(),p(7,"\xa0 "),f(8,"button",24),x("click",function(){const o=F(e).$implicit;return C(3).inventoryService.unAutoSell(o.name)}),p(9,"Stop Selling"),d()()()}if(2&n){const e=t.$implicit;v(2),O(" - ",$(3,2,e.name)," "),v(4),me("value",e.reserve)}}function Vj(n,t){if(1&n&&(f(0,"div",2)(1,"span"),p(2," Automatically Sold Items: "),d(),f(3,"div",22),k(4,Bj,10,4,"div",23),d()()),2&n){const e=C(2);v(4),w("ngForOf",e.inventoryService.autoSellEntries)}}function Hj(n,t){if(1&n){const e=G();f(0,"div")(1,"span"),p(2),P(3,"titlecase"),d(),f(4,"span"),p(5," - Reserve \xa0"),f(6,"input",10),x("change",function(r){const s=F(e).$implicit;return C(3).autoUseReserveChange(r,s)}),d(),p(7,"\xa0 "),f(8,"button",24),x("click",function(){const o=F(e).$implicit;return C(3).inventoryService.unAutoUse(o.name)}),p(9,"Stop Using"),d()()()}if(2&n){const e=t.$implicit;v(2),O(" - ",$(3,2,e.name)," "),v(4),me("value",e.reserve)}}function Uj(n,t){if(1&n&&(f(0,"div",2)(1,"span"),p(2,"Automatically Used Items:"),d(),f(3,"div",22),k(4,Hj,10,4,"div",23),d()()),2&n){const e=C(2);v(4),w("ngForOf",e.inventoryService.autoUseEntries)}}function jj(n,t){if(1&n){const e=G();f(0,"div")(1,"span"),p(2),P(3,"titlecase"),f(4,"input",10),x("change",function(r){const s=F(e).$implicit;return C(3).autoBalanceUseChanged(r,s)}),d(),p(5," then Sell "),f(6,"input",10),x("change",function(r){const s=F(e).$implicit;return C(3).autoBalanceSellChanged(r,s)}),d(),f(7,"button",24),x("click",function(){const o=F(e).$implicit;return C(3).inventoryService.unAutoBalance(o.name)}),p(8,"Stop Balancing"),d()()()}if(2&n){const e=t.$implicit;v(2),O(" -",$(3,3,e.name)," Use "),v(2),me("value",e.useNumber),v(2),me("value",e.sellNumber)}}function qj(n,t){if(1&n&&(f(0,"div",2)(1,"span"),p(2,"Automatically Balanced Items:"),d(),f(3,"div",22),k(4,jj,9,5,"div",23),d()()),2&n){const e=C(2);v(4),w("ngForOf",e.inventoryService.autoBalanceItems)}}function $j(n,t){if(1&n&&(f(0,"mat-tab"),k(1,Lj,2,0,"ng-template",1),k(2,Nj,5,1,"div",9),k(3,Vj,5,1,"div",9),k(4,Uj,5,1,"div",9),k(5,qj,5,1,"div",9),d()),2&n){const e=C();v(2),w("ngIf",e.inventoryService.autoSellOldGemsUnlocked),v(1),w("ngIf",e.inventoryService.autoSellUnlocked),v(1),w("ngIf",e.inventoryService.autoUseUnlocked),v(1),w("ngIf",e.inventoryService.autoBalanceUnlocked)}}function zj(n,t){1&n&&(f(0,"span",8),p(1,"Auto-buy"),d())}function Gj(n,t){if(1&n){const e=G();f(0,"div",2)(1,"span")(2,"input",25),x("change",function(r){return F(e),C(2).useAutoBuyReserveChanged(r)}),d(),f(3,"label",26),p(4,"Auto-buying should always reserve "),d(),f(5,"input",10),x("change",function(r){return F(e),C(2).autoBuyReserveAmountChanged(r)}),d(),p(6," taels "),d()()}if(2&n){const e=C(2);v(2),w("checked",e.homeService.useAutoBuyReserve),v(3),me("value",e.homeService.autoBuyReserveAmount)}}function Wj(n,t){if(1&n){const e=G();f(0,"tr")(1,"td")(2,"button",29),x("click",function(){const o=F(e).index;return C(3).autoBuySettingsPriorityChanged(o,!0)}),p(3,"\u25b2"),d()(),f(4,"td")(5,"button",29),x("click",function(){const o=F(e).index;return C(3).autoBuySettingsPriorityChanged(o,!1)}),p(6,"\u25bc"),d()(),f(7,"td",30),p(8),d(),f(9,"td",31)(10,"input",32),x("change",function(r){const s=F(e).$implicit;return C(3).autoBuySettingsEnabledChange(r,s)}),d()(),f(11,"td",31)(12,"input",32),x("change",function(r){const s=F(e).$implicit;return C(3).autoBuySettingsWaitForFinishChange(r,s)}),d()()()}if(2&n){const e=t.$implicit,i=t.first,r=t.last;v(2),w("disabled",i),v(3),w("disabled",r),v(3),Se(e.label),v(2),w("checked",e.enabled),v(2),w("checked",e.waitForFinish)}}function Yj(n,t){if(1&n&&(f(0,"div",2)(1,"span"),p(2," Auto-Buyer Options: "),f(3,"table",27)(4,"tr")(5,"th",28),p(6,"Priority Order"),d(),f(7,"th"),p(8,"Enabled"),d(),f(9,"th"),p(10,"Wait For Finish"),d()(),k(11,Wj,13,5,"tr",23),d()()()),2&n){const e=C(2);v(11),w("ngForOf",e.autoBuyerService.autoBuyerSettings)}}function Kj(n,t){if(1&n&&(f(0,"mat-tab"),k(1,zj,2,0,"ng-template",1),k(2,Gj,7,2,"div",9),k(3,Yj,12,1,"div",9),d()),2&n){const e=C();v(2),w("ngIf",e.homeService.autoBuyLandUnlocked||e.homeService.autoBuyHomeUnlocked||e.homeService.autoBuyFurnitureUnlocked),v(1),w("ngIf",e.autoBuyerService.autoBuyerSettingsUnlocked)}}let Jj=(()=>{class n{constructor(e,i,r,o,s,a){this.homeService=e,this.characterService=i,this.inventoryService=r,this.gameStateService=o,this.followerService=s,this.autoBuyerService=a}autoSellReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=parseInt(e.target.value),i.reserve||(i.reserve=0))}autoUseReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=parseInt(e.target.value),i.reserve||(i.reserve=0))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value),this.homeService.autoBuyLandLimit||(this.homeService.autoBuyLandLimit=0))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value),this.homeService.autoFieldLimit||(this.homeService.autoFieldLimit=0))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseInt(e.target.value),this.homeService.autoBuyReserveAmount||(this.homeService.autoBuyReserveAmount=0))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value),i.useNumber||(i.useNumber=0))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value),i.sellNumber||(i.sellNumber=0))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}autosellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,i){this.autoBuyerService.autoBuyerSettings.splice(e+(i?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,i){e.target instanceof HTMLInputElement&&(i.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,i){e.target instanceof HTMLInputElement&&(i.waitForFinish=e.target.checked)}easyModeChange(e){e.target instanceof HTMLInputElement&&(this.gameStateService.easyModeEver=!0,this.characterService.characterState.easyMode=e.target.checked)}autBuyFoodChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoBuyFood=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(it),_(Pe),_(Z),_(Xn),_(Ui),_(Nc))},n.\u0275cmp=pe({type:n,selectors:[["app-options-modal"]],decls:20,vars:6,consts:[[1,"darkMode","optionsDiv"],["mat-tab-label",""],[1,"optionField"],["type","checkbox","id","easyMode",3,"checked","change"],["for","easyMode"],["type","checkbox","id","autoBuyFood",3,"checked","change"],["for","autoBuyFood"],[4,"ngIf"],[1,"tab-label"],["class","optionField",4,"ngIf"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","autoequipEnable",3,"checked","change"],["for","autoequipEnable"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],["type","checkbox","id","autosellOldGems",3,"checked","change"],["for","autosellOldGems"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],[3,"click"],["type","checkbox","id","useAutoBuyReserve",3,"checked","change"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[1,"reorderListButton",3,"disabled","click"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"checked","change"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"span"),p(2,"Manuals Options"),d(),f(3,"mat-tab-group")(4,"mat-tab"),k(5,Mj,2,0,"ng-template",1),f(6,"div",2)(7,"span")(8,"input",3),x("change",function(o){return i.easyModeChange(o)}),d(),f(9,"label",4),p(10,"This game is much too hard and takes much too long. Check this to make it easier. Be warned: you will forever be known as a cultivator who took the easy path to immortality."),d()()(),f(11,"div",2)(12,"span")(13,"input",5),x("change",function(o){return i.autBuyFoodChange(o)}),d(),f(14,"label",6),p(15,"Automatically buy rice each day if you have no food to avoid starvation."),d()()()(),k(16,Aj,5,3,"mat-tab",7),k(17,Fj,5,3,"mat-tab",7),k(18,$j,6,4,"mat-tab",7),k(19,Kj,4,2,"mat-tab",7),d()()),2&e&&(v(8),w("checked",i.characterService.characterState.easyMode),v(5),w("checked",i.inventoryService.autoBuyFood),v(3),w("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoFieldUnlocked||i.homeService.autoBuyHomeUnlocked),v(1),w("ngIf",i.inventoryService.autoequipBestArmor||i.inventoryService.autoequipBestWeapon||i.inventoryService.useSpiritGemUnlocked),v(1),w("ngIf",i.inventoryService.autoSellOldGemsUnlocked||i.inventoryService.autoSellUnlocked||i.inventoryService.autoUseUnlocked||i.inventoryService.autoBalanceUnlocked),v(1),w("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoBuyHomeUnlocked||i.homeService.autoBuyFurnitureUnlocked||i.autoBuyerService.autoBuyerSettingsUnlocked))},directives:[DU,h1,uU,Ct,Bt,km,Tm],pipes:[mn],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}"]}),n})();function Qj(n,t){if(1&n&&(f(0,"span"),p(1),P(2,"number"),d()),2&n){const e=C();v(1),Xt(" Next rank requires ",$(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster gem. ")}}function Zj(n,t){1&n&&(f(0,"span"),p(1," Max Rank "),d())}function Xj(n,t){if(1&n&&(f(0,"span"),p(1),P(2,"number"),d()),2&n){const e=C();v(1),Xt(" Next rank requires ",$(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster gem. ")}}function e5(n,t){1&n&&(f(0,"span"),p(1," Max Rank "),d())}function t5(n,t){if(1&n&&(f(0,"span"),p(1),P(2,"number"),d()),2&n){const e=C();v(1),Xt(" Next rank requires ",$(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function n5(n,t){1&n&&(f(0,"span"),p(1," Max Rank "),d())}function r5(n,t){if(1&n&&(f(0,"span"),p(1),P(2,"number"),P(3,"number"),d()),2&n){const e=C();v(1),Xt(" You have consumed ",Be(2,2,100*(e.characterService.characterState.empowermentFactor-1),"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",Be(3,5,e.characterService.characterState.getEmpowermentMult(),"1.0-3"),". You will always keep this bonus, even after ascending. ")}}let o5=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a}}return n.\u0275fac=function(e){return new(e||n)(_(Yr),_(Pe),_(it),_(Z),_(ei),_(Xn))},n.\u0275cmp=pe({type:n,selectors:[["app-ascension-store-modal"]],decls:39,vars:15,consts:[[1,"darkMode"],[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"span"),p(2,"Ascension Techniques"),d(),V(3,"hr"),f(4,"table")(5,"tr")(6,"td")(7,"button",1),x("click",function(){return i.storeService.condenseSoulCore()}),p(8,"Condense Soul Core"),d()(),f(9,"td"),p(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),V(11,"br"),p(12),V(13,"br"),k(14,Qj,3,4,"span",2),k(15,Zj,2,0,"span",2),d()(),f(16,"tr")(17,"td")(18,"button",1),x("click",function(){return i.storeService.reinforceMeridians()}),p(19,"Reinforce Meridians"),d()(),f(20,"td"),p(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),V(22,"br"),p(23),V(24,"br"),k(25,Xj,3,4,"span",2),k(26,e5,2,0,"span",2),d()(),f(27,"tr")(28,"td")(29,"button",1),x("click",function(){return i.storeService.upgradeBloodline()}),p(30),d()(),f(31,"td"),p(32),V(33,"br"),p(34),V(35,"br"),k(36,t5,3,4,"span",2),k(37,n5,2,0,"span",2),d()()(),k(38,r5,4,8,"span",2),d()),2&e&&(v(7),w("disabled",i.storeService.soulCoreRank>8),v(5),O(" Current Rank: ",i.storeService.soulCoreRank," "),v(2),w("ngIf",i.storeService.soulCoreRank<9),v(1),w("ngIf",i.storeService.soulCoreRank>=9),v(3),w("disabled",i.storeService.meridianRank>8),v(5),O(" Current Rank: ",i.storeService.meridianRank," "),v(2),w("ngIf",i.storeService.meridianRank<9),v(1),w("ngIf",i.storeService.meridianRank>=9),v(3),w("disabled",i.characterService.characterState.bloodlineRank>=7),v(1),Se(i.storeService.bloodlineLabel),v(2),O(" ",i.storeService.bloodlineDescription," "),v(2),O(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),v(2),w("ngIf",i.characterService.characterState.bloodlineRank<7),v(1),w("ngIf",i.characterService.characterState.bloodlineRank>=7),v(1),w("ngIf",i.characterService.characterState.empowermentFactor>1))},directives:[Ct],pipes:[Or],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function s5(n,t){1&n&&V(0,"div",3)}function a5(n,t){1&n&&kd(0)}function l5(n,t){if(1&n&&(f(0,"div"),k(1,a5,1,0,"ng-container",4),d()),2&n){const e=C();v(1),w("ngTemplateOutlet",e.value)}}function c5(n,t){1&n&&V(0,"div",5),2&n&&w("innerHTML",C().value,yv)}let u5=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new le}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,h=window.pageYOffset;let m,g;if(s&&(a=0,l=0),"top"===e&&(m=this.elementPosition.top+h-(c+this.tooltipOffset)),"bottom"===e&&(m=this.elementPosition.top+h+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(g=this.elementPosition.left+l/2-u/2),"left"===e&&(g=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(g=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(m=this.elementPosition.top+h+a/2-o.clientHeight/2),this.autoPlacement&&!i){const b=m+c,D=g,T=g+u,M=window.innerHeight+h,A=document.body.clientWidth;if(m<0||b>M||D<0||T>A)return!1}return this.hostStyleTop=m+"px",this.hostStyleLeft=g+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(fi))},n.\u0275cmp=pe({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&x("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(Wn("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),Tt("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(k(0,s5,1,0,"div",0),k(1,l5,2,1,"div",1),k(2,c5,1,1,"ng-template",null,2,Qd)),2&e){const r=xt(3);w("ngIf",i.isThemeLight),v(1),w("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[Ct,$S],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const DM=new U("TooltipOptions"),kM={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},xM={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let Ht=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new le}set options(e){e&&kM&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(kM,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)xM[i]&&(e[xM[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(u5)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(_(DM,8),_(we),_(Ii),_(ia),_(Fe))},n.\u0275dir=q({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&x("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[Zt]}),n})(),h5=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:DM,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[dc]]}),n})();function d5(n,t){if(1&n&&(f(0,"div",4),p(1),d()),2&n){const e=C().$implicit;me("tooltip",e.description),v(1),O(" ",e.name," ")}}function f5(n,t){1&n&&(f(0,"div",4),p(1," ? "),d()),2&n&&me("tooltip",C().$implicit.hint)}function p5(n,t){if(1&n&&(f(0,"div"),k(1,d5,2,2,"div",3),k(2,f5,2,1,"div",3),d()),2&n){const e=t.$implicit;v(1),w("ngIf",e.unlocked),v(1),w("ngIf",!e.unlocked)}}let m5=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(_(pp))},n.\u0275cmp=pe({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"darkMode"],[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Achievements"),d(),V(3,"hr"),f(4,"div",1),k(5,p5,3,2,"div",2),d()()),2&e&&(v(5),w("ngForOf",i.achievementService.achievements))},directives:[Bt,Ct,Ht],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class g5{}class dr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class v5{encodeKey(t){return TM(t)}encodeValue(t){return TM(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const _5=/%(\d[a-f0-9])/gi,b5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function TM(n){return encodeURIComponent(n).replace(_5,(t,e)=>{var i;return null!==(i=b5[e])&&void 0!==i?i:t})}function EM(n){return`${n}`}class fr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new v5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function y5(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(EM(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(EM(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class S5{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function AM(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function PM(n){return"undefined"!=typeof Blob&&n instanceof Blob}function IM(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Va{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function w5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new dr),this.context||(this.context=new S5),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new fr,this.urlWithParams=e}serializeBody(){return null===this.body?null:AM(this.body)||PM(this.body)||IM(this.body)||function C5(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||IM(this.body)?null:PM(this.body)?this.body.type||null:AM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((m,g)=>m.set(g,t.setHeaders[g]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((m,g)=>m.set(g,t.setParams[g]),u)),new Va(i,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class Am extends class M5{constructor(t,e=200,i="OK"){this.headers=t.headers||new dr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Pt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Am({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Pm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let RM=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Va)o=e;else{let l,c;l=r.headers instanceof dr?r.headers:new dr(r.headers),r.params&&(c=r.params instanceof fr?r.params:new fr({fromObject:r.params})),o=new Va(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=J(o).pipe(Yo(l=>this.handler.handle(l)));if(e instanceof Va||"events"===r.observe)return s;const a=s.pipe(nn(l=>l instanceof Am));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(fe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(fe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(fe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Pm(r,i))}post(e,i,r={}){return this.request("POST",e,Pm(r,i))}put(e,i,r={}){return this.request("PUT",e,Pm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(S(g5))},n.\u0275prov=L({token:n,factory:n.\u0275fac}),n})();const k5=["*"];let wu;function Ha(n){var t;return(null===(t=function x5(){if(void 0===wu&&(wu=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(wu=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return wu}())||void 0===t?void 0:t.createHTML(n))||n}function FM(n){return Error(`Unable to find icon with the name "${n}"`)}function LM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function NM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qr{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Cu=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Qr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(ke.HTML,r);if(!s)throw NM(r);const a=Ha(s);return this._addSvgIconConfig(e,i,new Qr("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Qr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(ke.HTML,i);if(!o)throw NM(i);const s=Ha(o);return this._addSvgIconSetConfig(e,new Qr("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(ke.RESOURCE_URL,e);if(!i)throw LM(e);const r=this._cachedIconsByUrl.get(i);return r?J(Mu(r)):this._loadSvgIconFromConfig(new Qr(e,null)).pipe(Et(o=>this._cachedIconsByUrl.set(i,o)),fe(o=>Mu(o)))}getNamedSvgIcon(e,i=""){const r=BM(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):ua(FM(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?J(Mu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(fe(i=>Mu(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?J(r):function y1(...n){const t=ig(n),{args:e,keys:i}=c0(n),r=new je(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;sn(e[u]).subscribe(Ge(o,m=>{h||(h=!0,c--),a[u]=m},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?u0(i,a):a),o.complete())}))}});return t?r.pipe(jf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Ni(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(ke.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),J(null)})))).pipe(fe(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw FM(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Et(i=>e.svgText=i),fe(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?J(null):this._fetchIcon(e).pipe(Et(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Ha("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Ha("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function T5(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(ke.RESOURCE_URL,r);if(!a)throw LM(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(fe(u=>Ha(u)),g0(()=>this._inProgressUrlFetches.delete(a)),ag());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(BM(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return A5(o)?new Qr(o.url,null,o.options):new Qr(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(S(RM,8),S(Uf),S(he,8),S(Qi))},n.\u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Mu(n){return n.cloneNode(!0)}function BM(n,t){return n+":"+t}function A5(n){return!(!n.url||!n.options)}const P5=KC(class{constructor(n){this._elementRef=n}}),I5=new U("mat-icon-location",{providedIn:"root",factory:function O5(){const n=yl(he),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),VM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],R5=VM.map(n=>`[${n}]`).join(", "),F5=/^url\(['"]?#(.*?)['"]?\)$/;let Kt=(()=>{class n extends P5{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=ze.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=rs(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(R5),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)VM.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(F5):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Sn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(_(we),_(Cu),uo("aria-hidden"),_(I5),_(Qi))},n.\u0275cmp=pe({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(et("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),Tt("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[re],ngContentSelectors:k5,decls:1,vars:0,template:function(e,i){1&e&&(Nl(),Bl(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),HM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n}),n.\u0275inj=Ue({imports:[[ar],ar]}),n})();function L5(n,t){if(1&n&&(f(0,"span")(1,"mat-icon",6),p(2," help "),d(),p(3),d()),2&n){const e=C().$implicit;v(1),me("tooltip",e.description),v(2),O(" ",e.name," ")}}function N5(n,t){1&n&&(f(0,"span"),p(1," ???????????? "),d())}function B5(n,t){if(1&n&&(f(0,"div",7),V(1,"span"),d()),2&n){const e=C().$implicit,i=C();et("value",i.Math.floor(i.impossibleTaskService.taskProgress[e.taskType].progress))("max",i.Math.floor(e.progressRequired)),v(1),Wn("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%")}}function V5(n,t){1&n&&(f(0,"span")(1,"mat-icon"),p(2," done "),d()())}function H5(n,t){if(1&n){const e=G();f(0,"span")(1,"button",8),x("click",function(){return F(e),C(2).impossibleTaskService.stopTask()}),p(2,"Stop"),d()()}}function U5(n,t){if(1&n){const e=G();f(0,"span")(1,"button",8),x("click",function(){return F(e),C(2).impossibleTaskService.startTask()}),p(2,"Start"),d()()}}function j5(n,t){if(1&n&&(f(0,"tr")(1,"td"),k(2,L5,4,2,"span",4),k(3,N5,2,0,"span",4),d(),f(4,"td"),k(5,B5,2,4,"div",5),d(),f(6,"td"),k(7,V5,3,0,"span",4),k(8,H5,3,0,"span",4),k(9,U5,3,0,"span",4),d()()),2&n){const e=t.$implicit,i=C();v(2),w("ngIf",i.impossibleTaskService.nextTask>=e.taskType),v(1),w("ngIf",i.impossibleTaskService.nextTask<e.taskType),v(2),w("ngIf",i.impossibleTaskService.nextTask>=e.taskType),v(2),w("ngIf",i.impossibleTaskService.taskProgress[e.taskType].complete),v(1),w("ngIf",i.impossibleTaskService.activeTaskIndex===e.taskType),v(1),w("ngIf",-1===i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask===e.taskType)}}let q5=(()=>{class n{constructor(e,i,r){this.impossibleTaskService=e,this.gameStateService=i,this.activityService=r,this.Math=Math}ngOnInit(){}pauseOnImpossibleFailChange(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnImpossibleFail=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(is),_(Xn),_(rt))},n.\u0275cmp=pe({type:n,selectors:[["app-impossible-task-panel"]],decls:11,vars:2,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnImpossibleFail",3,"checked","change"],["for","pauseOnImpossibleFail"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","progress-bar","style","height:20px;",4,"ngIf"],[3,"tooltip"],[1,"progress-bar",2,"height","20px"],[3,"click"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Impossible Tasks"),d(),f(3,"span")(4,"input",1),x("change",function(o){return i.pauseOnImpossibleFailChange(o)}),d(),f(5,"label",2),p(6,"Automatically pause if task related activity fails"),d()(),V(7,"hr"),f(8,"div")(9,"table"),k(10,j5,10,6,"tr",3),d()()()),2&e&&(v(4),w("checked",i.activityService.pauseOnImpossibleFail),v(6),w("ngForOf",i.impossibleTaskService.tasks))},directives:[Bt,Ct,Kt,Ht],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const UM={appVersion:Fm(147).i8,production:!0};let $5=(()=>{class n{constructor(e){this.gameStateService=e}importClick(e){this.gameStateService.importGame(e)}exportClick(){document.getElementById("saveFileTextArea").value=this.gameStateService.getGameExport()}}return n.\u0275fac=function(e){return new(e||n)(_(Xn))},n.\u0275cmp=pe({type:n,selectors:[["app-export-panel"]],decls:12,vars:0,consts:[[1,"darkMode"],["id","saveFileTextArea"],["saveFileTextArea",""],[3,"click"]],template:function(e,i){if(1&e){const r=G();f(0,"div",0)(1,"h3"),p(2,"Import/Export Save File"),d(),V(3,"hr"),f(4,"div")(5,"textarea",1,2),p(7,"To export a game, press the Export button then copy and paste the contents of this box to wherever you want to store the save data. To import a game, paste save data into this box and press the Import button. Make sure that the only thing in the box is your save data or the save may be corrupted. The best way to do this is have the game data in your clipboard, then click on this box and press Ctrl-a then Ctrl-v."),d()(),f(8,"button",3),x("click",function(){F(r);const s=xt(6);return i.importClick(s.value)}),p(9,"Import"),d(),f(10,"button",3),x("click",function(){return i.exportClick()}),p(11,"Export"),d()()}},styles:["textarea[_ngcontent-%COMP%]{width:450px;height:450px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),z5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pe({type:n,selectors:[["app-tutorial-panel"]],decls:28,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Tutorial"),d(),V(3,"hr"),f(4,"div",1)(5,"span"),p(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),d(),V(7,"hr"),f(8,"span"),p(9," The game is intended to be played on a laptop or desktop computer using the Chrome browser. "),d(),V(10,"hr"),f(11,"span"),p(12," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),d(),V(13,"hr"),f(14,"span"),p(15," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),d(),V(16,"hr"),f(17,"span"),p(18," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),d(),V(19,"hr"),f(20,"span"),p(21," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),d(),V(22,"hr"),f(23,"span"),p(24," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),d(),V(25,"hr"),f(26,"span"),p(27," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. Now, it's time to develop your potential for immortality. Get to it! "),d()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:500px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),G5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pe({type:n,selectors:[["app-changelog-panel"]],decls:186,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Change Log"),d(),V(3,"hr"),f(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8,"v1.0.50"),d(),f(9,"td"),p(10,"An easy mode is available to cultivators who think the game is too hard. New achievements and manuals. New activities for magically empowered seekers of immortality. UI improvements. Bug fixes and balance improvements."),d()(),f(11,"tr")(12,"td"),p(13,"v1.0.49"),d(),f(14,"td"),p(15,"Pause before death is available if you know the right secrets. Improvements to followers. Better game performance. "),d()(),f(16,"tr")(17,"td"),p(18,"v1.0.48"),d(),f(19,"td"),p(20,"Better follower management. Item names stay more consistent when merged and upgraded. Balance and bug fixes."),d()(),f(21,"tr")(22,"td"),p(23,"v1.0.47"),d(),f(24,"td"),p(25,"Better inventory slots that don't jiggle around. Auto-sell and auto-use can now reserve some of the items (set value in the options panel). Bug and balance fixes."),d()(),f(26,"tr")(27,"td"),p(28,"v1.0.46"),d(),f(29,"td"),p(30,"Condensing your Soul Core now provides greater benefits."),d()(),f(31,"tr")(32,"td"),p(33,"v1.0.45"),d(),f(34,"td"),p(35,"A powerful new pill can now be created by aspiring immortals who have mastered many jobs."),d()(),f(36,"tr")(37,"td"),p(38,"v1.0.44"),d(),f(39,"td"),p(40,"Autobuy options are now configurable if you have found the secret knowledge needed."),d()(),f(41,"tr")(42,"td"),p(43,"v1.0.43"),d(),f(44,"td"),p(45,"When the game is paused you can advance a day with the Enter key. Time now moves faster the older you are starting at 5,000 years old. Base lifespan now increases based on total days lived, not number of lives lived. Balance changes to attributes and aptitudes."),d()(),f(46,"tr")(47,"td"),p(48,"v1.0.42"),d(),f(49,"td"),p(50,"Gaining large numbers of items at once is now much more efficient, so having obscenely huge farms no longer breaks the game."),d()(),f(51,"tr")(52,"td"),p(53,"v1.0.41"),d(),f(54,"td"),p(55,"Panel size fixes. Bloodline ascension rank 5. Fixed log line duplication bug. Pause on death should no longer allow extra days to pass before pausing."),d()(),f(56,"tr")(57,"td"),p(58,"v1.0.40"),d(),f(59,"td"),p(60,"Changed the way damage and armor work. Late-game fights should now be more epic and interesting."),d()(),f(61,"tr")(62,"td"),p(63,"v1.0.39"),d(),f(64,"td"),p(65,"Better descriptions for resting activities. Shift-click activities to load them onto the schedule 10 at a time. Canopy beds give more health."),d()(),f(66,"tr")(67,"td"),p(68,"v1.0.38"),d(),f(69,"td"),p(70,"Better performance for aspiring immortals who want to buy vast tracts of land."),d()(),f(71,"tr")(72,"td"),p(73,"v1.0.37"),d(),f(74,"td"),p(75,"New status bars that show values on non-chrome browsers."),d()(),f(76,"tr")(77,"td"),p(78,"v1.0.36"),d(),f(79,"td"),p(80,"You can now choose how much money to reserve when doing automatic purchases."),d()(),f(81,"tr")(82,"td"),p(83,"v1.0.35"),d(),f(84,"td"),p(85,"The log panel can now be resized by sliding the slider up and down. The Ascension Techniques panel stays unlocked once unlocked. Old junky gems can now be easily removed if you know how."),d()(),f(86,"tr")(87,"td"),p(88,"v1.0.34"),d(),f(89,"td"),p(90,"Style fix, clear schedule button, and auto-equip can now be turned off in the options."),d()(),f(91,"tr")(92,"td"),p(93,"v1.0.33"),d(),f(94,"td"),p(95,"Some styling improvements and a fix to very late game reward loot."),d()(),f(96,"tr")(97,"td"),p(98,"v1.0.32"),d(),f(99,"td"),p(100,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),d()(),f(101,"tr")(102,"td"),p(103,"v1.0.31"),d(),f(104,"td"),p(105,"Some balance changes."),d()(),f(106,"tr")(107,"td"),p(108,"v1.0.30"),d(),f(109,"td"),p(110,"A certain impossible task is now slightly less impossible."),d()(),f(111,"tr")(112,"td"),p(113,"v1.0.29"),d(),f(114,"td"),p(115,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),d()(),f(116,"tr")(117,"td"),p(118,"v1.0.28"),d(),f(119,"td"),p(120,"Improvements to automatic home purchasing."),d()(),f(121,"tr")(122,"td"),p(123,"v1.0.27"),d(),f(124,"td"),p(125,"You can now save and load an activity schedule."),d()(),f(126,"tr")(127,"td"),p(128,"v1.0.26"),d(),f(129,"td"),p(130,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),d()(),f(131,"tr")(132,"td"),p(133,"v1.0.25"),d(),f(134,"td"),p(135,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),d()(),f(136,"tr")(137,"td"),p(138,"v1.0.24"),d(),f(139,"td"),p(140,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),d()(),f(141,"tr")(142,"td"),p(143,"v1.0.23"),d(),f(144,"td"),p(145,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),d()(),f(146,"tr")(147,"td"),p(148,"v1.0.22"),d(),f(149,"td"),p(150,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),d()(),f(151,"tr")(152,"td"),p(153,"v1.0.21"),d(),f(154,"td"),p(155,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),d()(),f(156,"tr")(157,"td"),p(158,"v1.0.20"),d(),f(159,"td"),p(160,"Added Discord link."),d()(),f(161,"tr")(162,"td"),p(163,"v1.0.19"),d(),f(164,"td"),p(165,"Added changelog."),d()(),f(166,"tr")(167,"td"),p(168,"v1.0.18"),d(),f(169,"td"),p(170,"New follower types are now available."),d()(),f(171,"tr")(172,"td"),p(173,"v1.0.17"),d(),f(174,"td"),p(175,"Crafting log entries can now be filtered out."),d()(),f(176,"tr")(177,"td"),p(178,"v1.0.16"),d(),f(179,"td"),p(180,"Added tutorial help button."),d()(),f(181,"tr")(182,"td"),p(183,"v0.0.0 - v1.0.15"),d(),f(184,"td"),p(185,"Created and launched the game."),d()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}"]}),n})(),jM=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u){this.mainLoopService=e,this.storeService=i,this.inventoryService=r,this.homeService=o,this.followerService=s,this.characterService=a,this.battleService=l,this.activityService=c,this.achievementService=u,this.lastTimestamp=(new Date).getTime(),this.daysPerSecond=0,this.lastTickTotal=0,this.skipCount=9,this.lastTickTotal=e.totalTicks,this.mainLoopService.longTickSubject.subscribe(()=>{if(!(this.skipCount>=10))return void this.skipCount++;this.skipCount=0;let h=(new Date).getTime(),m=(h-this.lastTimestamp)/1e3;0!=m&&(this.daysPerSecond=(this.mainLoopService.totalTicks-this.lastTickTotal)/m),this.lastTickTotal=this.mainLoopService.totalTicks,this.lastTimestamp=h})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(_(Wt),_(Yr),_(Z),_(it),_(Ui),_(Pe),_(ti),_(rt),_(pp))},n.\u0275cmp=pe({type:n,selectors:[["app-statistics-panel"]],decls:223,vars:69,consts:[[1,"darkMode"],[1,"statisticsDiv"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Statistics"),d(),V(3,"hr"),f(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8," Game days per real second: "),d(),f(9,"td"),p(10),P(11,"number"),d()(),f(12,"tr")(13,"td"),p(14," Game years per real minute: "),d(),f(15,"td"),p(16),P(17,"number"),d()(),f(18,"tr")(19,"td"),p(20," Game years per real hour: "),d(),f(21,"td"),p(22),P(23,"number"),d()(),f(24,"tr")(25,"td"),p(26," Total days lived: "),d(),f(27,"td"),p(28),P(29,"bigNumber"),d()(),f(30,"tr")(31,"td"),p(32," Total lives lived: "),d(),f(33,"td"),p(34),d()(),f(35,"tr")(36,"td"),p(37," Total enemies killed: "),d(),f(38,"td"),p(39),d()(),f(40,"tr")(41,"td"),p(42," Troubling monsters encountered: "),d(),f(43,"td"),p(44),d()(),f(45,"tr")(46,"td"),p(47," Manuals discovered: "),d(),f(48,"td"),p(49),d()(),f(50,"tr")(51,"td"),p(52," Inventory Capacity: "),d(),f(53,"td"),p(54),d()(),f(55,"tr")(56,"td"),p(57," Automatically sold items: "),d(),f(58,"td"),p(59),d()(),f(60,"tr")(61,"td"),p(62," Automatically used items: "),d(),f(63,"td"),p(64),d()(),f(65,"tr")(66,"td"),p(67," Automatically balanced items: "),d(),f(68,"td"),p(69),d()(),f(70,"tr")(71,"td"),p(72," Items used: "),d(),f(73,"td"),p(74),d()(),f(75,"tr")(76,"td"),p(77," Items sold: "),d(),f(78,"td"),p(79),d()(),f(80,"tr")(81,"td"),p(82," Potions used: "),d(),f(83,"td"),p(84),d()(),f(85,"tr")(86,"td"),p(87," Pills used: "),d(),f(88,"td"),p(89),d()(),f(90,"tr")(91,"td"),p(92," Gems sold: "),d(),f(93,"td"),p(94),d()(),f(95,"tr")(96,"td"),p(97," Items overflowed: "),d(),f(98,"td"),p(99),d()(),f(100,"tr")(101,"td"),p(102," Unlocked Achievements: "),d(),f(103,"td"),p(104),d()(),f(105,"tr")(106,"td"),p(107," Most land owned: "),d(),f(108,"td"),p(109),P(110,"bigNumber"),d()(),f(111,"tr")(112,"td"),p(113," Highest land price: "),d(),f(114,"td"),p(115),P(116,"bigNumber"),d()(),f(117,"tr")(118,"td"),p(119," Most fields owned: "),d(),f(120,"td"),p(121),P(122,"bigNumber"),d()(),f(123,"tr")(124,"td"),p(125," Highest average farm yield: "),d(),f(126,"td"),p(127),P(128,"number"),d()(),f(129,"tr")(130,"td"),p(131," Best home owned: "),d(),f(132,"td"),p(133),d()(),f(134,"tr")(135,"td"),p(136," Follower recruited: "),d(),f(137,"td"),p(138),d()(),f(139,"tr")(140,"td"),p(141," Followers recruited lately: "),d(),f(142,"td"),p(143),d()(),f(144,"tr")(145,"td"),p(146," Followers died: "),d(),f(147,"td"),p(148),d()(),f(149,"tr")(150,"td"),p(151," Followers dismissed: "),d(),f(152,"td"),p(153),d()(),f(154,"tr")(155,"td"),p(156," Highest follower level: "),d(),f(157,"td"),p(158),d()(),f(159,"tr")(160,"td"),p(161," Most money: "),d(),f(162,"td"),p(163),P(164,"bigNumber"),d()(),f(165,"tr")(166,"td"),p(167," Oldest age: "),d(),f(168,"td"),p(169),d()(),f(170,"tr")(171,"td"),p(172," Highest health: "),d(),f(173,"td"),p(174),d()(),f(175,"tr")(176,"td"),p(177," Highest stamina: "),d(),f(178,"td"),p(179),d()(),f(180,"tr")(181,"td"),p(182," Highest mana: "),d(),f(183,"td"),p(184),d()(),f(185,"tr")(186,"td"),p(187," Highest damage dealt: "),d(),f(188,"td"),p(189),P(190,"bigNumber"),d()(),f(191,"tr")(192,"td"),p(193," Highest damage taken: "),d(),f(194,"td"),p(195),P(196,"bigNumber"),d()(),f(197,"tr")(198,"td"),p(199," Days spent exhausted "),d(),f(200,"td"),p(201),P(202,"bigNumber"),d()(),f(203,"tr")(204,"td"),p(205," Completed Apprenticeships "),d(),f(206,"td"),p(207),d()(),f(208,"tr")(209,"td"),p(210," Open apprenticeships: "),d(),f(211,"td"),p(212),d()(),f(213,"tr")(214,"td"),p(215," Days spend doing odd jobs: "),d(),f(216,"td"),p(217),d()(),f(218,"tr")(219,"td"),p(220," Days spent begging: "),d(),f(221,"td"),p(222),d()()()()()),2&e&&(v(10),O(" ",Be(11,41,i.daysPerSecond,"1.0-2")," "),v(6),O(" ",Be(17,44,60*i.daysPerSecond/365,"1.0-2")," "),v(6),O(" ",Be(23,47,60*i.daysPerSecond*60/365,"1.0-2")," "),v(6),O(" ",$(29,50,i.mainLoopService.totalTicks)," "),v(6),O(" ",i.characterService.characterState.totalLives," "),v(5),O(" ",i.battleService.kills," "),v(5),O(" ",i.battleService.troubleKills," "),v(5),O(" ",i.storeService.manuals.length," "),v(5),O(" ",i.inventoryService.maxItems," "),v(5),O(" ",i.inventoryService.autoSellEntries.length," "),v(5),O(" ",i.inventoryService.autoUseEntries.length," "),v(5),O(" ",i.inventoryService.autoBalanceItems.length," "),v(5),O(" ",i.inventoryService.lifetimeUsedItems," "),v(5),O(" ",i.inventoryService.lifetimeSoldItems," "),v(5),O(" ",i.inventoryService.lifetimePotionsUsed," "),v(5),O(" ",i.inventoryService.lifetimePillsUsed," "),v(5),O(" ",i.inventoryService.lifetimeGemsSold," "),v(5),O(" ",i.inventoryService.thrownAwayItems," "),v(5),O(" ",i.achievementService.unlockedAchievements.length," "),v(5),O(" ",$(110,52,i.homeService.highestLand)," "),v(6),O(" ",$(116,54,i.homeService.highestLandPrice)," "),v(6),O(" ",$(122,56,i.homeService.mostFields)," "),v(6),O(" ",Be(128,58,i.homeService.highestAverageYield,"1.0-2")," "),v(6),O(" ",i.homeService.homesList[i.homeService.bestHome].name," "),v(5),O(" ",i.followerService.totalRecruited," "),v(5),O(" ",i.followerService.followersRecruited," "),v(5),O(" ",i.followerService.totalDied," "),v(5),O(" ",i.followerService.totalDismissed," "),v(5),O(" ",i.followerService.highestLevel," "),v(5),O(" ",$(164,61,i.characterService.characterState.highestMoney)," "),v(6),O(" ",i.characterService.yearify(i.characterService.characterState.highestAge)," "),v(5),O(" ",i.characterService.characterState.highestHealth," "),v(5),O(" ",i.characterService.characterState.highestStamina," "),v(5),O(" ",i.characterService.characterState.highestMana," "),v(5),O(" ",$(190,63,i.battleService.highestDamageDealt)," "),v(6),O(" ",$(196,65,i.battleService.highestDamageTaken)," "),v(6),O(" ",$(202,67,i.activityService.totalExhaustedDays)," "),v(6),O(" ",i.activityService.completedApprenticeships.length," "),v(5),O(" ",i.activityService.openApprenticeships," "),v(5),O(" ",i.activityService.oddJobDays," "),v(5),O(" ",i.activityService.beggingDays," "))},styles:["table[_ngcontent-%COMP%]{width:100%}.statisticsDiv[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto}td[_ngcontent-%COMP%]{width:45%}"]}),n})(),W5=(()=>{class n{constructor(e){this.nativeElement=e.nativeElement}setMaxHeight(e){this.nativeElement.setAttribute("style",`max-height: ${e}px;`)}getSize(){return{width:this.nativeElement.clientWidth,height:this.nativeElement.clientHeight}}}return n.\u0275fac=function(e){return new(e||n)(_(we))},n.\u0275dir=q({type:n,selectors:[["","appResizable",""]],exportAs:["appResizable"]}),n})();function Y5(n,t){if(1&n){const e=G();f(0,"input",4),x("change",function(r){return F(e),C().pauseOnDeath(r)}),d()}2&n&&w("checked",C().activityService.pauseOnDeath)}function K5(n,t){1&n&&(f(0,"label",5),p(1,"Pause on Death"),d())}function J5(n,t){if(1&n){const e=G();f(0,"input",8),x("change",function(r){return F(e),C(2).pauseBeforeDeath(r)}),d()}2&n&&w("checked",C(2).activityService.pauseBeforeDeath)}function Q5(n,t){1&n&&(f(0,"label",9),p(1,"Pause Before Death - This will pause one day before the end of your expected lifespan."),d())}function Z5(n,t){if(1&n&&(f(0,"div")(1,"span"),k(2,J5,1,1,"input",6),k(3,Q5,2,0,"label",7),d()()),2&n){const e=C();v(2),w("ngIf",e.activityService.autoRestart),v(1),w("ngIf",e.activityService.autoRestart)}}let X5=(()=>{class n{constructor(e){this.activityService=e}ngOnInit(){}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(rt))},n.\u0275cmp=pe({type:n,selectors:[["app-time-options-panel"]],decls:9,vars:3,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change",4,"ngIf"],["for","pauseBeforeDeath",4,"ngIf"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change"],["for","pauseBeforeDeath"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"span"),p(2,"Schedule Options"),d(),V(3,"hr"),f(4,"div")(5,"span"),k(6,Y5,1,1,"input",1),k(7,K5,2,0,"label",2),d()(),k(8,Z5,4,2,"div",3),d()),2&e&&(v(6),w("ngIf",i.activityService.autoRestart),v(1),w("ngIf",i.activityService.autoRestart),v(1),w("ngIf",i.activityService.autoPauseUnlocked))},directives:[Ct],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Ua=function(n){return{iconActive:n}};function e4(n,t){if(1&n){const e=G();f(0,"mat-icon",4),x("click",function(){return F(e),C().fastClick()}),P(1,"number"),p(2," fast_forward "),d()}if(2&n){const e=C();Tn("tooltip","Fast Game Speed (",Be(1,2,e.mainLoopService.getTPS(5),"1.0-2")," days/sec)"),w("ngClass",tt(5,Ua,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function t4(n,t){if(1&n){const e=G();f(0,"mat-icon",4),x("click",function(){return F(e),C().fasterClick()}),P(1,"number"),p(2," skip_next "),d()}if(2&n){const e=C();Tn("tooltip","Faster Game Speed (",Be(1,2,e.mainLoopService.getTPS(2),"1.0-2")," days/sec)"),w("ngClass",tt(5,Ua,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function n4(n,t){if(1&n){const e=G();f(0,"mat-icon",4),x("click",function(){return F(e),C().fastestClick()}),P(1,"number"),p(2," bolt "),d()}if(2&n){const e=C();Tn("tooltip","Fastest Game Speed (",Be(1,2,e.mainLoopService.getTPS(1),"1.0-2")," days/sec)"),w("ngClass",tt(5,Ua,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function r4(n,t){if(1&n){const e=G();f(0,"mat-icon",14),x("click",function(){return F(e),C().timeOptions()}),p(1," settings "),d()}}function o4(n,t){if(1&n){const e=G();f(0,"h6")(1,"input",15),x("change",function(r){return F(e),C().useSavedTicks(r)}),d(),f(2,"label",16),p(3),P(4,"number"),d()()}if(2&n){const e=C();v(1),w("checked",e.mainLoopService.useBankedTicks),v(2),O("Use banked time to accelerate reality (10x). ",Be(4,2,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}const Im=function(n){return{currentRow:n}};function s4(n,t){if(1&n){const e=G();f(0,"tr",17),x("dragover",function(r){return F(e),C().allowDrop(r)})("drop",function(r){const s=F(e).index;return C().drop(s,r)})("dragstart",function(r){const s=F(e).index;return C().drag(s,r)}),f(1,"td",18),p(2),d(),f(3,"td",18)(4,"div",19),V(5,"span"),d()(),f(6,"td",18)(7,"mat-icon",20),x("click",function(r){const s=F(e).$implicit;return C().onMinusClick(s,r)}),p(8,"remove"),d(),f(9,"mat-icon",21),x("click",function(r){const s=F(e).$implicit;return C().onPlusClick(s,r)}),p(10,"add"),d(),f(11,"mat-icon",22),x("click",function(){const o=F(e).$implicit;return C().onRemoveClick(o)}),p(12,"clear"),d()()()}if(2&n){const e=t.$implicit,i=t.index,r=C();v(1),w("ngClass",tt(8,Im,i===r.activityService.currentIndex)),v(1),Hl("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),v(1),w("ngClass",tt(10,Im,i===r.activityService.currentIndex)),v(2),Wn("width",100*(i!==r.activityService.currentIndex?e.repeatTimes:r.activityService.currentTickCount)/e.repeatTimes,"%"),v(1),w("ngClass",tt(12,Im,i===r.activityService.currentIndex))}}function a4(n,t){if(1&n){const e=G();f(0,"tr")(1,"td"),p(2),d(),f(3,"td")(4,"div",25),V(5,"span"),d()(),f(6,"td")(7,"mat-icon",22),x("click",function(){return F(e),C(2).removeSpiritActivity()}),p(8,"clear"),d()()()}if(2&n){const e=C(2);v(2),Se(e.activityService.getActivityByType(e.activityService.spiritActivity).name[e.activityService.getActivityByType(e.activityService.spiritActivity).level])}}function l4(n,t){if(1&n){const e=G();f(0,"table",23),x("drop",function(r){return F(e),C().spiritActivityDrop(r)})("dragover",function(r){return F(e),C().allowDrop(r)}),f(1,"tr")(2,"td",24),p(3," Spiritual Projection "),d()(),k(4,a4,9,1,"tr",7),d()}if(2&n){const e=C();v(4),w("ngIf",e.activityService.spiritActivity)}}let c4=(()=>{class n{constructor(e,i,r,o){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.dialog=o,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1}ngOnInit(){}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}timeOptions(){this.dialog.open(X5,{width:"700px",data:{someField:"foo"}})}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){const i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}allowDrop(e){var i,r;("activityloop"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let s=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""===s){if(s=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""===s)return;const l={activity:parseInt(s),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{const a=parseInt(s);if(a>=0&&a<this.activityService.activityLoop.length){const l=this.activityService.activityLoop.splice(a,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault(),e.stopPropagation();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""===o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""===o)return;const s=parseInt(o);this.activityService.spiritActivity=s}else{const s=parseInt(o);s>=0&&s<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[s].activity)}}}return n.\u0275fac=function(e){return new(e||n)(_(Wt),_(rt),_(Pe),_(lr))},n.\u0275cmp=pe({type:n,selectors:[["app-time-panel"]],decls:28,vars:17,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar). Clicking this again while paused will step time forward a single day. When paused, you can also advance one day by pressing the Enter key.",1,"iconButton",3,"ngClass","click"],[1,"iconButton",3,"ngClass","tooltip","click"],["class","iconButton",3,"ngClass","tooltip","click",4,"ngIf"],["tooltip","Options","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],[1,"overflow"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Save your current schedule of actviities.",1,"iconButton",3,"click"],["tooltip","Load your saved schedule of actviities. Note that activities that you cannot do right now will not be loaded.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Clear your current schedule.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Options",1,"iconButton",3,"click"],["type","checkbox","id","useSavedTicks",3,"checked","change"],["for","useSavedTicks"],["draggable","true",3,"dragover","drop","dragstart"],[3,"ngClass"],[1,"progress-bar"],["tooltip","Spend fewer days on this.\n\n          Shift- or Ctrl-click to remove 10x\n          Shift-Ctrl-click to remove 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Spend more days on this.\n\n          Shift- or Ctrl-click to add 10x\n          Shift-Ctrl-click to add 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"progress-bar","indeterminate"]],template:function(e,i){1&e&&(f(0,"div",0),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),f(1,"h3",1)(2,"span",2)(3,"mat-icon"),p(4," calendar_month "),d(),p(5," How will you spend your days? "),d(),f(6,"mat-icon",3),x("click",function(){return i.pauseClick()}),p(7," pause "),d(),f(8,"mat-icon",4),x("click",function(){return i.standardClick()}),P(9,"number"),p(10," play_arrow "),d(),k(11,e4,3,7,"mat-icon",5),k(12,t4,3,7,"mat-icon",5),k(13,n4,3,7,"mat-icon",5),k(14,r4,2,0,"mat-icon",6),k(15,o4,5,5,"h6",7),d(),f(16,"div",8)(17,"table"),k(18,s4,13,14,"tr",9),d(),k(19,l4,5,1,"table",10),d(),f(20,"div")(21,"span")(22,"mat-icon",11),x("click",function(){return i.activityService.saveActivityLoop()}),p(23," content_paste "),d(),f(24,"mat-icon",12),x("click",function(){return i.activityService.loadActivityLoop()}),p(25," content_paste_go "),d(),f(26,"mat-icon",13),x("click",function(){return i.activityService.activityLoop=[]}),p(27," delete_sweep "),d()()()()),2&e&&(v(6),w("ngClass",tt(13,Ua,i.mainLoopService.pause)),v(2),Tn("tooltip","Standard Game Speed (",Be(9,10,i.mainLoopService.getTPS(10),"1.0-2")," days/sec)"),w("ngClass",tt(15,Ua,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),v(3),w("ngIf",i.mainLoopService.unlockFastSpeed),v(1),w("ngIf",i.mainLoopService.unlockFasterSpeed),v(1),w("ngIf",i.mainLoopService.unlockFastestSpeed),v(1),w("ngIf",i.activityService.autoRestart),v(1),w("ngIf",i.mainLoopService.bankedTicks>0),v(3),w("ngForOf",i.activityService.activityLoop),v(1),w("ngIf",i.characterService.characterState.manaUnlocked))},directives:[Ht,Kt,gi,Ct,Bt],pipes:[Or],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),h4=(()=>{class n extends class u4{constructor(){this.mouseMoveListener=this.handleMouseMove.bind(this),this.mouseUpListener=this.handleMouseUp.bind(this)}handleMouseDown(t){window.addEventListener("mousemove",this.mouseMoveListener),window.addEventListener("mouseup",this.mouseUpListener)}handleMouseUp(){window.removeEventListener("mousemove",this.mouseMoveListener),window.removeEventListener("mouseup",this.mouseUpListener)}}{constructor(){super(),this.dragBeginY=0}handleMouseDown(e){var i,r;super.handleMouseDown(e),this.dragBeginY=e.y,this.topInitialSize=null===(i=this.top)||void 0===i?void 0:i.getSize(),this.bottomInitialSize=null===(r=this.bottom)||void 0===r?void 0:r.getSize()}handleMouseMove(e){var i,r;if(void 0===this.topInitialSize||void 0===this.bottomInitialSize)throw new Error("initial size was not defined");const o=this.topInitialSize.height-this.dragBeginY+e.y,s=this.bottomInitialSize.height+this.dragBeginY-e.y;o>0&&s>0&&(null===(i=this.top)||void 0===i||i.setMaxHeight(o),null===(r=this.bottom)||void 0===r||r.setMaxHeight(s))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=pe({type:n,selectors:[["app-vertical-panel-slider"]],inputs:{top:"top",bottom:"bottom"},features:[re],decls:3,vars:0,consts:[[1,"handle"],[1,"resize-vertical",3,"mousedown"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"mat-icon",1),x("mousedown",function(o){return i.handleMouseDown(o)}),p(2,"drag_handle"),d()())},directives:[Kt],styles:[".handle[_ngcontent-%COMP%]{display:flex;justify-content:center}.resize-vertical[_ngcontent-%COMP%]{color:var(--bodyText);cursor:ns-resize;font-size:20px;height:20px;width:20px}"]}),n})();function d4(n,t){if(1&n){const e=G();f(0,"tr")(1,"td"),p(2),P(3,"titlecase"),d(),f(4,"td"),p(5),d(),f(6,"td",10),p(7,"Keep up to "),f(8,"input",11),x("change",function(r){const s=F(e).$implicit;return C().keepValueChanged(r,s.key)}),d()()()}if(2&n){const e=t.$implicit,i=C();v(2),Se($(3,3,e.key)),v(3),Se(e.value.description),v(3),me("value",void 0===i.followerService.maxFollowerByType[e.key]?1e3:i.followerService.maxFollowerByType[e.key])}}let f4=(()=>{class n{constructor(e){this.followerService=e,this.changeAll=0}ngOnInit(){}changeAllChanged(e){e.target instanceof HTMLInputElement&&(this.changeAll=parseInt(e.target.value))}changeAllClicked(){for(const e in this.followerService.jobs)this.followerService.setMaxFollowers(e,this.changeAll)}keepValueChanged(e,i){e.target instanceof HTMLInputElement&&this.followerService.setMaxFollowers(i,parseInt(e.target.value))}sortAscSwitch(){this.followerService.sortAscending=!this.followerService.sortAscending}sortOrderChanged(e){e.target instanceof HTMLSelectElement&&(this.followerService.sortField=e.target.value,this.followerService.sortFollowers(this.followerService.sortAscending))}}return n.\u0275fac=function(e){return new(e||n)(_(Ui))},n.\u0275cmp=pe({type:n,selectors:[["app-follower-management-panel"]],decls:35,vars:11,consts:[[1,"darkMode"],[1,"topInfo"],["tooltip","Set a number to change all of the follower job limits to."],["value","0","type","number",1,"inputBox",3,"change"],[3,"click"],["name","sortOrder","id","sortOrder",3,"change"],[3,"selected"],["type","checkbox",3,"checked","change"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],["tooltip","This value will only apply to new followers who seek to join you. You'll have to dismiss current followers yourself."],["type","number",1,"inputBox",3,"value","change"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Manage Followers"),d(),V(3,"hr"),f(4,"div",1)(5,"span"),p(6),d()(),f(7,"div",1)(8,"span",2),p(9,"Set limit on all jobs to "),f(10,"input",3),x("change",function(o){return i.changeAllChanged(o)}),d(),p(11," followers. "),f(12,"button",4),x("click",function(){return i.changeAllClicked()}),p(13,"Change All"),d()()(),f(14,"div",1)(15,"span"),p(16," Sort followers by "),f(17,"select",5),x("change",function(o){return i.sortOrderChanged(o)}),f(18,"option",6),p(19,"Name"),d(),f(20,"option",6),p(21,"Job"),d(),f(22,"option",6),p(23,"Age"),d(),f(24,"option",6),p(25,"Power"),d(),f(26,"option",6),p(27,"Remaining Life"),d()(),f(28,"input",7),x("change",function(){return i.sortAscSwitch()}),d(),f(29,"span"),p(30,"sort Ascending"),d()()(),f(31,"div",8)(32,"table"),k(33,d4,9,5,"tr",9),P(34,"keyvalue"),d()()()),2&e&&(v(6),Xt("You are currently supporting ",i.followerService.followers.length," follower. You can support up to ",i.followerService.followerCap,"."),v(12),w("selected","Name"===i.followerService.sortField),v(2),w("selected","Job"===i.followerService.sortField),v(2),w("selected","Age"===i.followerService.sortField),v(2),w("selected","Power"===i.followerService.sortField),v(2),w("selected","Remaining"===i.followerService.sortField),v(2),w("checked",i.followerService.sortAscending),v(5),w("ngForOf",$(34,9,i.followerService.jobs)))},directives:[Ht,km,Tm,Bt],pipes:[If,mn],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[_ngcontent-%COMP%]{width:80px}.topInfo[_ngcontent-%COMP%]{margin-top:4px;padding-bottom:4px;border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function p4(n,t){if(1&n&&(f(0,"span",8),P(1,"bigNumber"),P(2,"number"),P(3,"bigNumber"),P(4,"number"),f(5,"mat-icon"),p(6),d(),p(7),P(8,"camelToTitle"),P(9,"bigNumber"),P(10,"number"),P(11,"number"),d()),2&n){const e=C().$implicit,i=C();Ad("tooltip","",e.value.description," Your aptitude of\n        ",e.value.aptitude>1e7?$(1,6,e.value.aptitude):Be(2,8,e.value.aptitude,"1.0-2"),"\n        multiplies your gains by\n        ",i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)>1e5?$(3,11,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)):Be(4,13,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),v(6),Se(e.value.icon),v(1),Xt(" ",$(8,16,e.key),": ",e.value.value>1e7?$(9,18,e.value.value):e.value.value>1e3?Be(10,20,e.value.value,"1.0-0"):Be(11,23,e.value.value,"1.0-1")," ")}}function m4(n,t){if(1&n&&(f(0,"div"),k(1,p4,12,26,"span",7),d()),2&n){const e=t.$implicit;v(1),w("ngIf",0!==e.value.value)}}function g4(n,t){if(1&n&&(f(0,"span",9),p(1),d()),2&n){const e=C();w("ngClass",e.followerService.followersMaxed),v(1),Xt(" \xa0(",e.followerService.followers.length," / ",e.followerService.followerCap,") ")}}function v4(n,t){if(1&n){const e=G();f(0,"mat-icon",10),x("click",function(){return F(e),C().followerOptionsClicked()}),p(1," settings "),d()}}function y4(n,t){if(1&n){const e=G();f(0,"div",13)(1,"span",14),P(2,"titlecase"),P(3,"number"),P(4,"number"),P(5,"number"),p(6),P(7,"titlecase"),P(8,"titlecase"),d(),f(9,"mat-icon",15),x("click",function(r){const s=F(e).$implicit;return C(2).dismissFollower(r,s)}),p(10," cancel "),d()()}if(2&n){const e=t.$implicit,i=C(2);v(1),Pd("tooltip","",e.name," is a level ",e.power," ",$(2,11,e.job),". ",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",Be(3,13,e.age/365,"1.0-1")," years and will serve for another ",Be(4,16,(e.lifespan-e.age)/365,"1.0-1")," more years. Daily cost: ",Be(5,19,e.cost,"1.0-0"),""),v(5),Xt(" ",$(7,22,e.name)," the ",$(8,24,e.job)," "),v(3),w("tooltip",i.followerService.autoDismissUnlocked?"Dismiss this follower.\n\nShift-click to automatically dismiss everyone of this job type.\n\nCtrl-click to set the current number as the limit without dismissing.":"Dismiss this follower.")}}function _4(n,t){if(1&n&&(f(0,"div",11),k(1,y4,11,26,"div",12),d()),2&n){const e=C();v(1),w("ngForOf",e.followerService.followers)}}let qM=(()=>{class n{constructor(e,i,r){this.characterService=e,this.dialog=i,this.followerService=r,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(f4,{width:"700px",data:{someField:"foo"},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),e.ctrlKey&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissFollowerAll(i):this.followerService.dismissFollower(i)}}return n.\u0275fac=function(e){return new(e||n)(_(Pe),_(lr),_(Ui))},n.\u0275cmp=pe({type:n,selectors:[["app-attributes-panel"]],decls:17,vars:7,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],[3,"ngClass",4,"ngIf"],["class","iconButton optionsIcon","tooltip","Manage your followers.",3,"click",4,"ngIf"],["class","followerPanel",4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],[3,"ngClass"],["tooltip","Manage your followers.",1,"iconButton","optionsIcon",3,"click"],[1,"followerPanel"],["class","attributeLine",4,"ngFor","ngForOf"],[1,"attributeLine"],[1,"followerName",3,"tooltip"],["tooltipClass","tooltip-break",1,"smallerIcon",3,"tooltip","click"]],template:function(e,i){1&e&&(f(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),p(5," bar_chart "),d(),p(6," Attributes "),d(),k(7,m4,2,1,"div",2),P(8,"keyvalue"),d(),f(9,"td")(10,"h3",0)(11,"mat-icon",3),p(12," person "),d(),p(13," Followers "),k(14,g4,2,3,"span",4),k(15,v4,2,0,"mat-icon",5),d(),k(16,_4,2,1,"div",6),d()()()),2&e&&(v(7),w("ngForOf",Be(8,4,i.character.attributes,i.originalOrder)),v(7),w("ngIf",i.followerService.followersUnlocked),v(1),w("ngIf",i.followerService.followersUnlocked&&i.followerService.autoDismissUnlocked),v(1),w("ngIf",i.followerService.followersUnlocked))},styles:["h3[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function b4(n,t){1&n&&(f(0,"td",1),p(1," You expect to live forever. "),d())}function S4(n,t){if(1&n&&(f(0,"td",1),p(1),P(2,"number"),d()),2&n){const e=C();v(1),O(" You expect to live ",Be(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}let $M=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(_(Pe))},n.\u0275cmp=pe({type:n,selectors:[["app-health-panel"]],decls:35,vars:30,consts:[[1,"panelHeader"],[1,"headerCell"],["class","headerCell",4,"ngIf"],[3,"tooltip"],["placement","right",3,"tooltip"],[1,"health"],[1,"progress-bar"],[1,"stamina"],[1,"nourishment"],[1,"mana"]],template:function(e,i){1&e&&(f(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),p(4),P(5,"floor"),P(6,"number"),d(),k(7,b4,2,0,"td",2),k(8,S4,3,4,"td",2),f(9,"td")(10,"mat-icon",3),p(11,"timer"),d()()()()(),f(12,"table")(13,"tr")(14,"td",4),p(15,"Health"),d(),f(16,"td",5)(17,"div",6),V(18,"span"),d()(),f(19,"td",4),p(20,"Stamina"),d(),f(21,"td",7)(22,"div",6),V(23,"span"),d()()(),f(24,"tr")(25,"td",4),p(26,"Nutrition"),d(),f(27,"td",8)(28,"div",6),V(29,"span"),d()(),f(30,"td",4),p(31,"Mana"),d(),f(32,"td",9)(33,"div",6),V(34,"span"),d()()()()),2&e&&(v(4),Xt(" You are ",$(5,25,i.characterService.characterState.age/365)," years, ",Be(6,27,i.characterService.characterState.age%365,"1.0-0")," days old. "),v(3),w("ngIf",i.characterService.characterState.immortal),v(1),w("ngIf",!i.characterService.characterState.immortal),v(2),me("tooltip",i.characterService.lifespanTooltip),v(4),me("tooltip",i.characterService.characterState.status.health.description),v(3),et("value",i.Math.floor(i.characterService.characterState.immortal&&i.characterService.characterState.status.health.value<0?0:i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),v(1),Wn("width",100*i.Math.floor(i.characterService.characterState.immortal&&i.characterService.characterState.status.health.value<0?0:i.characterService.characterState.status.health.value)/i.Math.floor(i.characterService.characterState.status.health.max),"%"),v(1),me("tooltip",i.characterService.characterState.status.stamina.description),v(3),et("value",i.Math.floor(i.characterService.characterState.status.stamina.value))("max",i.Math.floor(i.characterService.characterState.status.stamina.max)),v(1),Wn("width",100*i.Math.floor(i.characterService.characterState.status.stamina.value)/i.Math.floor(i.characterService.characterState.status.stamina.max),"%"),v(2),me("tooltip",i.characterService.characterState.status.nourishment.description),v(3),et("value",i.Math.floor(i.characterService.characterState.status.nourishment.value))("max",i.Math.floor(i.characterService.characterState.status.nourishment.max)),v(1),Wn("width",100*i.Math.floor(i.characterService.characterState.status.nourishment.value)/i.Math.floor(i.characterService.characterState.status.nourishment.max),"%"),v(1),me("tooltip",i.characterService.characterState.status.mana.description),v(3),et("value",i.Math.floor(i.characterService.characterState.status.mana.value))("max",i.Math.floor(i.characterService.characterState.status.mana.max)),v(1),Wn("width",100*i.Math.floor(i.characterService.characterState.status.mana.value)/i.Math.floor(i.characterService.characterState.status.mana.max),"%"))},styles:[".panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--manaColor)}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),w4=(()=>{class n{constructor(e){this.data=e,this.titleText="",this.bodyText="",this.titleText=e.titleText,this.bodyText=e.bodyText}}return n.\u0275fac=function(e){return new(e||n)(_(t1))},n.\u0275cmp=pe({type:n,selectors:[["app-text-panel"]],decls:7,vars:2,consts:[[1,"darkMode"],[1,"textDiv"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2),d(),V(3,"hr"),f(4,"div",1)(5,"span"),p(6),d()()()),2&e&&(v(2),Se(i.titleText),v(4),O(" ",i.bodyText," "))},styles:[".textDiv[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;white-space:pre-line}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function M4(n,t){if(1&n){const e=G();f(0,"span")(1,"button",8),x("click",function(){return F(e),C().JoinTheGodsClick()}),p(2,"Join the Gods"),d()()}}function D4(n,t){1&n&&(f(0,"mat-icon",14),p(1," model_training "),d())}function k4(n,t){if(1&n&&(f(0,"span")(1,"mat-icon",5),P(2,"bigNumber"),p(3," attach_money "),d()()),2&n){const e=C(2).$implicit;v(1),Tn("tooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",$(2,1,e.lastIncome)," taels.")}}function x4(n,t){if(1&n){const e=G();f(0,"tr",10),x("dragstart",function(r){F(e);const o=C().$implicit;return C().drag(o,r)}),f(1,"td")(2,"span",11)(3,"button",12),x("click",function(r){F(e);const o=C().$implicit;return C().onClick(o,r)}),p(4),d(),k(5,D4,2,0,"mat-icon",13),d()(),f(6,"td"),p(7),V(8,"br"),p(9),k(10,k4,4,3,"span",4),d()()}if(2&n){const e=C().$implicit;v(4),O(" ",e.name[e.level]," "),v(1),w("ngIf",e.skipApprenticeshipLevel>0),v(2),O(" ",e.description[e.level]," "),v(2),O(" ",e.consequenceDescription[e.level]," "),v(1),w("ngIf",e.lastIncome&&e.lastIncome>0)}}function T4(n,t){if(1&n&&(Bo(0),k(1,x4,11,5,"tr",9),Vo()),2&n){const e=t.$implicit;v(1),w("ngIf",e.unlocked)}}let zM=(()=>{class n{constructor(e,i,r,o,s){this.gameStateService=e,this.activityService=i,this.characterService=r,this.hellService=o,this.dialog=s,this.character=r.characterState}JoinTheGodsClick(){this.dialog.open(w4,{width:"700px",data:{titleText:"Joining the Gods",bodyText:'You take to the skies, soaring far above the human realms. Over the Kunlun mountains, past Mount Tai, and beyond the Jade Mountains, you find the great sea and finally the island where Mount Penglai stands tall, risiing up into the clouds. Above the pure white slopes, the mountain is crowned with a golden palace surrounded by an orchard of trees that grow the finest jewels and the most delectable fruits that grant perfect health and eternal youth to whoever eats them. Suddenly you feel a twinge of doubt. Your own peaches never looked so inviting, no matter how hard you worked your land to cultivate them.\n\nYou push down your feelings of inadequacy and press onward toward the gates of the golden palace. You are immortal now, after all. You have earned your place here. As you stride into the large courtyard, you find an assembly of gods there, seated on golden thrones. The eight immortals are there, each holding their artifact of power as they laugh raucously at each other\'s jokes. Nuwa and Fuxi, the great ancestors of humanity, sit idly chatting as the Queen Mother of the West exchanges quiet words with Caishen in his most fine of all silks. In the center of them all, Shangti, the Jade Emperor himself, sits on his elevated throne. As you approach, he claps his hands for silence. You were clearly expected.\n\n"Ah. The young upstart who has caused so much trouble in the mortal realm has finally arrived."\n\nThe other gods greet you with nothing but steely stares. You nod in acknowledgement and take another step toward the thrones. You notice that one of them off to the side is empty. A place for you, perhaps?\n\n"I suppose you feel you deserve a place here with us now, do you?" the Jade Emperor continues. "Fight a few monsters, improve yourself a bit, conquer a few of your fellow mortals, and suddenly you\'ve earned the right to call yourself a god, eh?"\n\nYou nod again, preparing to recount the long journey of cultivation and devotion that led you to this pointm, when a towering figure to your right cuts you off before you can begin.\n\n"Nonsense!" the ominous voice thunders. "This upstart destroyed one of my best servants and commited uncountable sins for which no price has been paid."\n\n"And what would you suggest be done with this new immortal, Lord Yama?" the Emperor asks. "This one clearly shows the necessary power, and has no shortage of determination. One way or another, sooner or later that empty throne will be filled."\n\n"Let this one come to my domain," Lord Yama declares. "The eighteen hells will show whether they have the character fitting for a throne in the Penglai Palace."\n\nThe other gods look back and forth at each other for a moment. "That seems only fair." One of them says, a short, hairy man with horns growing from his head. "This new immortal still has much to learn, and much to atone for. Why, they don\'t even understand simple concepts like balancing their yin and yang. They may be ready one day for this company, but a few millenia in Yama\'s realm will do them good."\n\nThe other gods murmer and nod agreement. Shangti rises to his feet. "Your words are wise, as always Pan Gu. Let this one be cast down to the eighteen hells. If they can master yin and yang and prove their worth through the trials of Yama\'s realm, we will welcome them as part of our celestial court."\n\nBefore you can say a word of protest, The Jade emperor waves one hand and you find yourself in a vast, bare, circular stone room. The walls are broken by eighteen open gates, each one leading to a different world of pain and suffering.\n\nIt looks like you have a new challenge ahead: Escape this underworld and prove your worth to the gods.'}}).afterClosed().subscribe(()=>{this.hellService.inHell=!0,this.activityService.reloadActivities()})}onClick(e,i){let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}}return n.\u0275fac=function(e){return new(e||n)(_(Xn),_(rt),_(Pe),_(Bc),_(lr))},n.\u0275cmp=pe({type:n,selectors:[["app-activity-panel"]],decls:12,vars:4,consts:[[1,"panelHeader"],[1,"standardHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"customHeader"],[4,"ngIf"],[3,"tooltip"],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],[3,"click"],["draggable","true",3,"dragstart",4,"ngIf"],["draggable","true",3,"dragstart"],[1,"noWrap"],["tooltip","Add this to your schedule\n\n                    Shift- or Ctrl-click to repeat it 10x\n                    Shift-Ctrl-click to repeat it 100x\n                    Alt-click to add it to the top","tooltipClass","tooltip-break",3,"click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."]],template:function(e,i){1&e&&(f(0,"h3",0)(1,"div",1)(2,"mat-icon",2),p(3," help "),d(),p(4," Activities "),d(),f(5,"div",3),k(6,M4,3,0,"span",4),f(7,"span",5),p(8),d()()(),f(9,"div",6)(10,"table"),k(11,T4,2,1,"ng-container",7),d()()),2&e&&(v(6),w("ngIf",i.characterService.characterState.immortal&&!i.hellService.inHell&&i.activityService.hellEnabled),v(1),me("tooltip",i.activityService.activityHeaderDescription),v(1),Se(i.activityService.activityHeader),v(3),w("ngForOf",i.activityService.activities))},styles:["td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.panelHeader[_ngcontent-%COMP%]{display:flex}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function E4(n,t){if(1&n){const e=G();f(0,"span",11)(1,"input",12),x("change",function(r){return F(e),C(2).manaShieldToggle(r)}),d(),f(2,"label",13),p(3,"Activate Mana Shield"),d()()}if(2&n){const e=C(2);v(1),w("checked",e.battleService.enableManaShield)}}function A4(n,t){if(1&n){const e=G();f(0,"span",14)(1,"input",15),x("change",function(r){return F(e),C(2).manaAttackToggle(r)}),d(),f(2,"label",16),p(3,"Activate Mana Strike"),d()()}if(2&n){const e=C(2);v(1),w("checked",e.battleService.enableManaAttack)}}function P4(n,t){if(1&n&&(f(0,"span"),k(1,E4,4,1,"span",9),k(2,A4,4,1,"span",10),d()),2&n){const e=C();v(1),w("ngIf",e.battleService.manaShieldUnlocked),v(1),w("ngIf",e.battleService.manaAttackUnlocked)}}function I4(n,t){if(1&n){const e=G();f(0,"button",17),x("click",function(){return F(e),C().battleService.trouble()}),p(1,"Look for Trouble"),d()}}function O4(n,t){if(1&n){const e=G();f(0,"input",18),x("change",function(r){return F(e),C().autoTroubleChange(r)}),d()}2&n&&w("checked",C().battleService.autoTroubleEnabled)}function R4(n,t){1&n&&(f(0,"label",19),p(1,"Look for Trouble"),d())}function F4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_forward"),d())}function L4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_forward"),d())}function N4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_forward"),d())}function B4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_forward"),d())}function V4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_forward"),d())}function H4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"crisis_alert"),d())}function U4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_backward"),d())}function j4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_backward"),d())}function q4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_backward"),d())}function $4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_backward"),d())}function z4(n,t){1&n&&(f(0,"mat-icon",22),p(1,"arrow_backward"),d())}function G4(n,t){if(1&n&&(f(0,"table",20)(1,"tr")(2,"td",21),V(3,"mat-icon",22),d(),f(4,"td",21),k(5,F4,2,0,"mat-icon",23),d(),f(6,"td",21),k(7,L4,2,0,"mat-icon",23),d(),f(8,"td",21),k(9,N4,2,0,"mat-icon",23),d(),f(10,"td",21),k(11,B4,2,0,"mat-icon",23),d(),f(12,"td",21),k(13,V4,2,0,"mat-icon",23),d(),f(14,"td",21),k(15,H4,2,0,"mat-icon",23),d(),f(16,"td",21),k(17,U4,2,0,"mat-icon",23),d(),f(18,"td",21),k(19,j4,2,0,"mat-icon",23),d(),f(20,"td",21),k(21,q4,2,0,"mat-icon",23),d(),f(22,"td",21),k(23,$4,2,0,"mat-icon",23),d(),f(24,"td",21),k(25,z4,2,0,"mat-icon",23),d()()()),2&n){const e=C();v(5),w("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter),v(2),w("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),v(2),w("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),v(2),w("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),v(2),w("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),v(2),w("ngIf",10===e.battleService.tickCounter),v(2),w("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),v(2),w("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),v(2),w("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),v(2),w("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),v(2),w("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter)}}function W4(n,t){if(1&n){const e=G();f(0,"button",17),x("click",function(){F(e);const r=C().$implicit;return C().battleService.fight(r)}),p(1,"Fight"),d()}}function Y4(n,t){1&n&&(f(0,"span"),p(1,"Fighting"),d())}function K4(n,t){if(1&n&&(Bo(0),f(1,"tr")(2,"td"),k(3,W4,2,0,"button",3),k(4,Y4,2,0,"span",1),d(),f(5,"td",24),p(6),P(7,"titlecase"),d(),f(8,"td",25)(9,"div",26),P(10,"bigNumber"),P(11,"bigNumber"),V(12,"span"),d()(),f(13,"td",27)(14,"mat-icon"),p(15,"manage_accounts"),d(),p(16),P(17,"percent"),d(),f(18,"td",28)(19,"mat-icon"),p(20,"flare"),d(),p(21),P(22,"bigNumber"),d(),f(23,"td",29)(24,"mat-icon"),p(25,"shield"),d(),p(26),P(27,"bigNumber"),d()(),Vo()),2&n){const e=t.$implicit,i=C();v(3),w("ngIf",i.battleService.currentEnemy!==e),v(1),w("ngIf",i.battleService.currentEnemy===e),v(2),Xt("",$(7,11,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),v(3),et("value",$(10,13,i.Math.floor(e.enemy.health)))("max",$(11,15,i.Math.floor(e.enemy.maxHealth))),v(3),Wn("width",100*i.Math.floor(e.enemy.health)/i.Math.floor(e.enemy.maxHealth),"%"),v(4),Se($(17,17,e.enemy.accuracy)),v(5),Se($(22,19,e.enemy.attack)),v(5),Se($(27,21,e.enemy.defense))}}let GM=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i,this.Math=Math}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}manaShieldToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaShield=e.target.checked)}manaAttackToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaAttack=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(ti),_(Pe))},n.\u0275cmp=pe({type:n,selectors:[["app-battle-panel"]],decls:13,vars:6,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],["tooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],["class","clashTable",4,"ngIf"],[4,"ngFor","ngForOf"],["class","battleOption","tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["class","battleOption","tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",1,"battleOption"],["type","checkbox","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",1,"battleOption"],["type","checkbox","id","manaStrike",3,"checked","change"],["for","manaStrike"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"clashTable"],[1,"fixedCell"],[1,"clashIcon"],["class","clashIcon",4,"ngIf"],[1,"enemyName"],[1,"health"],[1,"progress-bar"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(f(0,"h3")(1,"mat-icon",0),p(2,"fort"),d(),p(3," Battles "),k(4,P4,3,2,"span",1),f(5,"span",2),k(6,I4,2,0,"button",3),k(7,O4,1,1,"input",4),k(8,R4,2,0,"label",5),d()(),f(9,"div",6),k(10,G4,26,11,"table",7),f(11,"table"),k(12,K4,28,23,"ng-container",8),d()()),2&e&&(v(4),w("ngIf",i.characterService.characterState.manaUnlocked),v(2),w("ngIf",!i.battleService.autoTroubleUnlocked),v(1),w("ngIf",i.battleService.autoTroubleUnlocked),v(1),w("ngIf",i.battleService.autoTroubleUnlocked),v(2),w("ngIf",i.battleService.enemies.length>0),v(2),w("ngForOf",i.battleService.enemies))},styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.battleOption[_ngcontent-%COMP%]{margin-left:10px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{min-height:60px}.enemyName[_ngcontent-%COMP%]{min-width:200px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const hs=function(n){return{highlightSlot:n}};let WM=(()=>{class n{constructor(e,i){this.characterService=e,this.inventoryService=i,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();const r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&nr(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();const o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){const a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(_(Pe),_(Z))},n.\u0275cmp=pe({type:n,selectors:[["app-equipment-panel"]],decls:45,vars:63,consts:[[1,"panelHeader"],[1,"equipmentContainer"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","head",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","right",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","body",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","left",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],[2,"grid-area","stats"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons."],["tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor."],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"]],template:function(e,i){1&e&&(f(0,"h3",0),p(1,"Equipment"),d(),f(2,"div",1)(3,"div",2),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)})("dblclick",function(o){return i.slotDoubleClicked("head",o)}),P(4,"titlecase"),p(5),P(6,"titlecase"),d(),f(7,"div",3),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)})("dblclick",function(o){return i.slotDoubleClicked("rightHand",o)}),P(8,"titlecase"),p(9),P(10,"titlecase"),d(),f(11,"div",4),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)})("dblclick",function(o){return i.slotDoubleClicked("body",o)}),P(12,"titlecase"),p(13),P(14,"titlecase"),d(),f(15,"div",5),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)})("dblclick",function(o){return i.slotDoubleClicked("leftHand",o)}),P(16,"titlecase"),p(17),P(18,"titlecase"),d(),f(19,"div",6)(20,"span",7)(21,"mat-icon"),p(22,"manage_accounts"),d(),p(23),P(24,"percent"),d(),V(25,"br"),f(26,"span",8)(27,"mat-icon"),p(28,"flare"),d(),p(29),P(30,"bigNumber"),d(),V(31,"br"),f(32,"span",9)(33,"mat-icon"),p(34,"shield"),d(),p(35),P(36,"bigNumber"),d()(),f(37,"div",10),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)})("dblclick",function(o){return i.slotDoubleClicked("legs",o)}),P(38,"titlecase"),p(39),P(40,"titlecase"),d(),f(41,"div",11),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)})("dblclick",function(o){return i.slotDoubleClicked("feet",o)}),P(42,"titlecase"),p(43),P(44,"titlecase"),d()()),2&e&&(v(3),me("tooltip",null!==i.character.equipment.head?$(4,21,null==i.character.equipment.head?null:i.character.equipment.head.name)+"<hr/>"+(null==i.character.equipment.head?null:i.character.equipment.head.description):""),w("ngClass",tt(51,hs,"head"===i.getSelectedItemSlot())),v(2),O(" ",$(6,23,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),v(2),me("tooltip",null!==i.character.equipment.rightHand?$(8,25,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)+"<hr/>"+(null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description):""),w("ngClass",tt(53,hs,"rightHand"===i.getSelectedItemSlot())),v(2),O(" ",$(10,27,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),v(2),me("tooltip",null!==i.character.equipment.body?$(12,29,null==i.character.equipment.body?null:i.character.equipment.body.name)+"<hr/>"+(null==i.character.equipment.body?null:i.character.equipment.body.description):""),w("ngClass",tt(55,hs,"body"===i.getSelectedItemSlot())),v(2),O(" ",$(14,31,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),v(2),me("tooltip",null!==i.character.equipment.leftHand?$(16,33,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)+"<hr/>"+(null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description):""),w("ngClass",tt(57,hs,"leftHand"===i.getSelectedItemSlot())),v(2),O(" ",$(18,35,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),v(6),Se($(24,37,i.character.accuracy)),v(6),Se($(30,39,i.character.attackPower)),v(6),Se($(36,41,i.character.defense)),v(2),me("tooltip",null!==i.character.equipment.legs?$(38,43,null==i.character.equipment.legs?null:i.character.equipment.legs.name)+"<hr/>"+(null==i.character.equipment.legs?null:i.character.equipment.legs.description):""),w("ngClass",tt(59,hs,"legs"===i.getSelectedItemSlot())),v(2),O(" ",$(40,45,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),v(2),me("tooltip",null!==i.character.equipment.feet?$(42,47,null==i.character.equipment.feet?null:i.character.equipment.feet.name)+"<hr/>"+(null==i.character.equipment.feet?null:i.character.equipment.feet.description):""),w("ngClass",tt(61,hs,"feet"===i.getSelectedItemSlot())),v(2),O(" ",$(44,49,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs ." "stats feet .";grid-template-columns:1fr 1fr 1fr;grid-gap:2px;gap:2px}.itemSlot[_ngcontent-%COMP%]{width:80px;height:48px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function J4(n,t){if(1&n&&(f(0,"div"),p(1),P(2,"number"),d()),2&n){const e=C().$implicit,i=C(2);v(1),O("$ ",Be(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}const Du=function(n){return{ownedItem:n}};function Q4(n,t){if(1&n){const e=G();f(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),d()(),f(5,"div"),p(6),P(7,"titlecase"),d(),k(8,J4,3,4,"div",1),d(),f(9,"button",5),x("click",function(){const o=F(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),d()()}if(2&n){const e=t.$implicit,i=C(2);v(1),me("tooltip",e.description),w("ngClass",tt(8,Du,i.homeService.furniture[e.slot]===e)),v(3),Se(e.slot),v(2),Se($(7,6,e.name)),v(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),v(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function Z4(n,t){if(1&n&&(f(0,"div")(1,"span"),p(2,"Bed"),d(),V(3,"hr"),f(4,"div",2),k(5,Q4,11,10,"div",3),d()()),2&n){const e=C();v(5),w("ngForOf",e.storeService.getFurnitureForSlot("bed"))}}function X4(n,t){if(1&n&&(f(0,"div"),p(1),P(2,"number"),d()),2&n){const e=C().$implicit,i=C(2);v(1),O("$ ",Be(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function eq(n,t){if(1&n){const e=G();f(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),d()(),f(5,"div"),p(6),P(7,"titlecase"),d(),k(8,X4,3,4,"div",1),d(),f(9,"button",5),x("click",function(){const o=F(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),d()()}if(2&n){const e=t.$implicit,i=C(2);v(1),me("tooltip",e.description),w("ngClass",tt(8,Du,i.homeService.furniture[e.slot]===e)),v(3),Se(e.slot),v(2),Se($(7,6,e.name)),v(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),v(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function tq(n,t){if(1&n&&(f(0,"div")(1,"span"),p(2,"Bathtub"),d(),V(3,"hr"),f(4,"div",2),k(5,eq,11,10,"div",3),d()()),2&n){const e=C();v(5),w("ngForOf",e.storeService.getFurnitureForSlot("bathtub"))}}function nq(n,t){if(1&n&&(f(0,"div"),p(1),P(2,"number"),d()),2&n){const e=C().$implicit,i=C(2);v(1),O("$ ",Be(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function iq(n,t){if(1&n){const e=G();f(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),d()(),f(5,"div"),p(6),P(7,"titlecase"),d(),k(8,nq,3,4,"div",1),d(),f(9,"button",5),x("click",function(){const o=F(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),d()()}if(2&n){const e=t.$implicit,i=C(2);v(1),me("tooltip",e.description),w("ngClass",tt(8,Du,i.homeService.furniture[e.slot]===e)),v(3),Se(e.slot),v(2),Se($(7,6,e.name)),v(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),v(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function rq(n,t){if(1&n&&(f(0,"div")(1,"span"),p(2,"Kitchen"),d(),V(3,"hr"),f(4,"div",2),k(5,iq,11,10,"div",3),d()()),2&n){const e=C();v(5),w("ngForOf",e.storeService.getFurnitureForSlot("kitchen"))}}function oq(n,t){if(1&n&&(f(0,"div"),p(1),P(2,"number"),d()),2&n){const e=C().$implicit,i=C(2);v(1),O("$ ",Be(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function sq(n,t){if(1&n){const e=G();f(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),d()(),f(5,"div"),p(6),P(7,"titlecase"),d(),k(8,oq,3,4,"div",1),d(),f(9,"button",5),x("click",function(){const o=F(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),d()()}if(2&n){const e=t.$implicit,i=C(2);v(1),me("tooltip",e.description),w("ngClass",tt(8,Du,i.homeService.furniture[e.slot]===e)),v(3),Se(e.slot),v(2),Se($(7,6,e.name)),v(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),v(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function aq(n,t){if(1&n&&(f(0,"div")(1,"span"),p(2,"Workbench"),d(),V(3,"hr"),f(4,"div",2),k(5,sq,11,10,"div",3),d()()),2&n){const e=C();v(5),w("ngForOf",e.storeService.getFurnitureForSlot("workbench"))}}let lq=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(_(Yr),_(Pe),_(it),_(Z),_(ei),_(Xn))},n.\u0275cmp=pe({type:n,selectors:[["app-furniture-store-modal"]],decls:9,vars:4,consts:[[1,"darkMode","furnitureModal"],[4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["placement","left",1,"itemSlot",3,"ngClass","tooltip"],[3,"click"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"span"),p(2,"Furniture Shop"),d(),V(3,"hr")(4,"br"),k(5,Z4,6,1,"div",1),k(6,tq,6,1,"div",1),k(7,rq,6,1,"div",1),k(8,aq,6,1,"div",1),d()),2&e&&(v(5),w("ngIf",i.storeService.getFurnitureForSlot("bed").length>0),v(1),w("ngIf",i.storeService.getFurnitureForSlot("bathtub").length>0),v(1),w("ngIf",i.storeService.getFurnitureForSlot("kitchen").length>0),v(1),w("ngIf",i.storeService.getFurnitureForSlot("workbench").length>0))},directives:[Ct,Bt,gi,Ht,Kt],pipes:[mn,Or],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow:hidden}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]}),n})();function cq(n,t){if(1&n&&(f(0,"div")(1,"div",7)(2,"div"),p(3),P(4,"titlecase"),d(),f(5,"div"),p(6),d(),f(7,"div"),p(8),P(9,"percent"),d()()()),2&n){const e=t.$implicit;v(1),xr("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),v(2),Se($(4,5,e.cropName)),v(3),Se(e.yield),v(2),Se($(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let YM=(()=>{class n{constructor(e,i,r){this.homeService=e,this.characterService=i,this.gameStateService=r}clearClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.clearField(10):e.ctrlKey?this.homeService.clearField(-1):this.homeService.clearField()}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(_(it),_(Pe),_(Xn))},n.\u0275cmp=pe({type:n,selectors:[["app-farm-panel"]],decls:18,vars:10,consts:[[1,"darkMode"],[1,"yieldText"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Your Farm"),d(),V(3,"hr"),f(4,"div",1)(5,"span"),p(6),P(7,"bigNumber"),P(8,"bigNumber"),d(),f(9,"mat-icon",2),x("click",function(o){return i.buyClicked(o)}),P(10,"bigNumber"),p(11," add "),d(),f(12,"mat-icon",3),x("click",function(o){return i.plowClicked(o)}),p(13," waves "),d(),f(14,"mat-icon",4),x("click",function(o){return i.clearClicked(o)}),p(15," delete_sweep "),d()(),f(16,"div",5),k(17,cq,10,9,"div",6),d()()),2&e&&(v(6),Xt("Your ",$(7,4,i.homeService.fields.length+i.homeService.extraFields)," fields produced an average of ",$(8,6,i.homeService.averageYield)," food per day over the last year."),v(3),Tn("tooltip","Buy a plot of land for ",$(10,8,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),v(8),w("ngForOf",i.homeService.fields))},styles:[".itemSlot[_ngcontent-%COMP%]{width:42px;height:42px;padding:2px;line-height:12px}.farmGrid[_ngcontent-%COMP%]{width:670px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;gap:2px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function uq(n,t){1&n&&V(0,"div",19),2&n&&Tn("tooltip","You don't own a ",C().$implicit,", but your home could hold one.")}function hq(n,t){if(1&n&&(f(0,"div",20),p(1),P(2,"titlecase"),d()),2&n){const e=C().$implicit,i=C(2);me("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),v(1),Se($(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function dq(n,t){if(1&n&&(f(0,"div"),k(1,uq,1,1,"div",17),k(2,hq,3,4,"div",18),d()),2&n){const e=t.$implicit,i=C(2);v(1),w("ngIf",!i.homeService.furniture[e]),v(1),w("ngIf",i.homeService.furniture[e])}}function fq(n,t){if(1&n&&(f(0,"div",15),k(1,dq,3,2,"div",16),d()),2&n){const e=C();v(1),w("ngForOf",e.homeService.home.furnitureSlots)}}function pq(n,t){1&n&&(f(0,"div",15)(1,"span",21),p(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),d()())}function mq(n,t){if(1&n){const e=G();f(0,"mat-icon",9),x("click",function(){return F(e),C().homeService.upgradeToNextHome()}),p(1," add_business "),d()}2&n&&me("tooltip",C().homeService.nextHome.upgradeToTooltip)}function gq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C().storeClicked()}),p(1," shopping_cart "),d()}}function vq(n,t){if(1&n&&(f(0,"div",23),V(1,"span"),d()),2&n){const e=C();v(1),Wn("width",100*e.homeService.houseBuildingProgress,"%")}}let KM=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(lq,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(YM,{width:"800px",data:{someField:"foo"}})}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(_(Pe),_(it),_(lr),_(Yr))},n.\u0275cmp=pe({type:n,selectors:[["app-home-panel"]],decls:30,vars:19,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"overflow"],[1,"homeInfo"],["class","furnitureSlots",4,"ngIf"],[1,"buttons"],[1,"button-group"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","progress-bar","tooltip","Upgrading your home.",4,"ngIf"],["tooltip","View your farm.",1,"iconButton",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton",3,"click"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],["class","itemSlot textOverflow",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"itemSlot","textOverflow",3,"tooltip"],[1,"mouseWarning"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"progress-bar"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3",1)(2,"mat-icon",2),p(3,"home"),d(),f(4,"div",3),p(5),d()(),f(6,"div",4)(7,"div",5)(8,"span"),p(9),d()(),f(10,"div",5)(11,"span"),p(12),P(13,"bigNumber"),P(14,"bigNumber"),d()(),k(15,fq,2,1,"div",6),k(16,pq,3,0,"div",6),d(),f(17,"div",7)(18,"div",8)(19,"mat-icon",9),x("click",function(o){return i.buyClicked(o)}),P(20,"bigNumber"),p(21," add "),d(),k(22,mq,2,1,"mat-icon",10),k(23,gq,2,0,"mat-icon",11),k(24,vq,2,2,"div",12),d(),f(25,"div",8)(26,"mat-icon",13),x("click",function(){return i.farmClicked()}),p(27,"grass"),d(),f(28,"mat-icon",14),x("click",function(o){return i.plowClicked(o)}),p(29," waves "),d()()()()),2&e&&(v(4),me("tooltip",i.homeService.home.description),v(1),O(" You live in a ",i.homeService.home.name," "),v(4),Xt("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),v(3),Hl("You own ",$(13,13,i.homeService.land)," open ",1===i.homeService.land?"plot":"plots"," of land and ",$(14,15,i.homeService.fields.length+i.homeService.extraFields)," fields"),v(3),w("ngIf",i.homeService.home.furnitureSlots.length>0),v(1),w("ngIf",0===i.homeService.home.furnitureSlots.length),v(3),Tn("tooltip","Buy a plot of land for ",$(20,17,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),v(3),w("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),v(1),w("ngIf",i.homeService.home.furnitureSlots.length),v(1),w("ngIf",i.homeService.upgrading))},styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{width:50px;height:50px}.progress-bar[_ngcontent-%COMP%]{width:100px;margin-left:4px}.overflow[_ngcontent-%COMP%]{overflow:auto}.panelHeader[_ngcontent-%COMP%]{display:flex;gap:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function yq(n,t){1&n&&(f(0,"mat-icon",10),p(1," soup_kitchen "),d()),2&n&&me("tooltip",C().inventoryService.autoBuyFood?"You have no food in your inventory. You will spend money on food each day to avoid starvation.":"You have no food in your inventory and have chosen not to buy food to prevent starvation.")}function _q(n,t){if(1&n&&(f(0,"div",14),p(1),d()),2&n){const e=C().$implicit;v(1),O("x",null==e?null:e.quantity,"")}}const bq=function(n,t){return{selectedItem:n,brokenItem:t}};function Sq(n,t){if(1&n){const e=G();f(0,"div",11),x("mousedown",function(r){const s=F(e).$implicit;return C().slotClicked(s,r)})("dblclick",function(r){const s=F(e).$implicit;return C().slotDoubleClicked(s,r)})("contextmenu",function(r){const s=F(e).$implicit;return C().slotRightClicked(s,r)})("dragover",function(r){return F(e),C().allowDrop(r)})("drop",function(r){const s=F(e).index;return C().drop(s,r)})("dragstart",function(r){const s=F(e).index;return C().drag(s,r)}),P(1,"titlecase"),f(2,"div",12),p(3),P(4,"titlecase"),d(),k(5,_q,2,1,"div",13),d()}if(2&n){const e=t.$implicit,i=C();me("tooltip",null!==(null==e?null:e.item)?$(1,4,null==e||null==e.item?null:e.item.name)+"<hr/>"+(null==e||null==e.item?null:e.item.description):""),w("ngClass",Wl(8,bq,null!==e&&e===i.inventoryService.selectedItem,null!==e&&!i.inventoryService.hasDurability(e))),v(3),Se($(4,6,null==e||null==e.item?null:e.item.name)),v(2),w("ngIf",((null==e?null:e.quantity)||0)>1)}}function wq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C(2).sell(1)}),p(1," attach_money "),d()}if(2&n){const e=C(2);xr("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell.")}}function Cq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C(2).sellStack()}),p(1," paid "),d()}if(2&n){const e=C(2);xr("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack.")}}function Mq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C(2).sellAll()}),p(1," shopping_basket "),d()}2&n&&Tn("tooltip","Sell all the ",C(2).inventoryService.selectedItem.item.name," in the whole inventory.")}function Dq(n,t){if(1&n){const e=G();f(0,"mat-icon",23),x("click",function(){return F(e),C(2).autoSell()}),p(1," currency_exchange "),d()}}function kq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C(2).use()}),p(1," auto_awesome "),d()}if(2&n){const e=C(2);xr("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function xq(n,t){if(1&n){const e=G();f(0,"mat-icon",22),x("click",function(){return F(e),C(2).autoUse()}),p(1," auto_mode "),d()}if(2&n){const e=C(2);xr("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function Tq(n,t){if(1&n){const e=G();f(0,"mat-icon",24),x("click",function(){return F(e),C(2).autoBalance()}),p(1," balance "),d()}}function Eq(n,t){if(1&n){const e=G();f(0,"mat-icon",25),x("click",function(){return F(e),C(2).equip()}),p(1," shield "),d()}}function Aq(n,t){if(1&n){const e=G();f(0,"mat-icon",26),x("click",function(){return F(e),C(2).mergeSpiritGem()}),p(1," diamond "),d()}}function Pq(n,t){if(1&n&&(f(0,"div",15),k(1,wq,2,2,"mat-icon",16),k(2,Cq,2,2,"mat-icon",16),k(3,Mq,2,1,"mat-icon",17),k(4,Dq,2,0,"mat-icon",18),k(5,kq,2,2,"mat-icon",17),k(6,xq,2,2,"mat-icon",16),k(7,Tq,2,0,"mat-icon",19),k(8,Eq,2,0,"mat-icon",20),k(9,Aq,2,0,"mat-icon",21),d()),2&n){const e=C();v(1),w("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),v(1),w("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),v(1),w("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),v(1),w("ngIf",e.inventoryService.autoSellUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)),v(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),v(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),v(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)),v(1),w("ngIf","equipment"===e.inventoryService.selectedItem.item.type),v(1),w("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}let JM=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}isFinite(e){return Number.isFinite(e)}slotClicked(e,i){if(i.stopPropagation(),i.shiftKey){let r=null;r!==e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem===e?null:e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0===this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"===(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){const l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c===e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){const u=this.inventoryService.itemStacks[c],h=this.inventoryService.itemStacks[e],m=null==u?void 0:u.item,g=null==h?void 0:h.item;if(m&&g&&nr(m)&&nr(g)&&m.slot===g.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(m,g,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=h}}else if("equipment"===(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){const l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(_(Z),_(Pe))},n.\u0275cmp=pe({type:n,selectors:[["app-inventory-panel"]],decls:15,vars:6,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left",3,"tooltip",4,"ngIf"],[1,"overflow"],[1,"inventoryGrid"],["class","itemSlot","draggable","true","placement","bottom",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left",1,"noFood",3,"tooltip"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart"],[1,"itemName","textOverflow"],["class","itemQuantity",4,"ngIf"],[1,"itemQuantity"],[1,"inventoryButtons"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left",1,"iconButton",3,"tooltip","click"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3",1)(2,"div",2),p(3,"Inventory"),d(),f(4,"div",3),p(5,"Money: "),d(),f(6,"div",4),p(7),P(8,"bigNumber"),d(),f(9,"div"),k(10,yq,2,1,"mat-icon",5),d()(),f(11,"div",6)(12,"div",7),k(13,Sq,6,11,"div",8),d()(),k(14,Pq,10,9,"div",9),d()),2&e&&(v(7),O("",$(8,4,i.characterService.characterState.money)," Taels"),v(3),w("ngIf",i.inventoryService.noFood),v(3),w("ngForOf",i.inventoryService.itemStacks),v(1),w("ngIf",i.inventoryService.selectedItem))},styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;justify-content:center;gap:3px;overflow-anchor:none}.itemSlot[_ngcontent-%COMP%]{width:58px;height:58px;overflow:hidden;position:relative}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryButtons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder)}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.panelHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),Iq=(()=>{class n{constructor(e){this.logService=e}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(rn))},n.\u0275cmp=pe({type:n,selectors:[["app-log-filter-panel"]],decls:25,vars:10,consts:[[1,"darkMode"],[1,"filters"],["type","checkbox","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCrafting",3,"checked","change"],["for","filterCrafting"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],["type","checkbox","id","filterFollower",3,"checked","change"],["for","filterFollower"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3"),p(2,"Log Filters"),d(),f(3,"span",1)(4,"input",2),x("change",function(o){return i.topicFilter(o,"STORY")}),d(),f(5,"label",3),p(6,"Show Story Log Entries "),f(7,"span",4),p(8),d()(),V(9,"br"),f(10,"input",5),x("change",function(o){return i.topicFilter(o,"EVENT")}),d(),f(11,"label",6),p(12),d(),V(13,"br"),f(14,"input",7),x("change",function(o){return i.topicFilter(o,"CRAFTING")}),d(),f(15,"label",8),p(16),d(),V(17,"br"),f(18,"input",9),x("change",function(o){return i.topicFilter(o,"COMBAT")}),d(),f(19,"label",10),p(20),d(),V(21,"br"),f(22,"input",11),x("change",function(o){return i.topicFilter(o,"FOLLOWER")}),d(),f(23,"label",12),p(24),d()()()),2&e&&(v(4),w("checked",i.logService.logTopics.includes("STORY")),v(4),Se(i.logService.newStory),v(2),w("checked",i.logService.logTopics.includes("EVENT")),v(2),O("Show Events Log Entries ",i.logService.newEvents,""),v(2),w("checked",i.logService.logTopics.includes("CRAFTING")),v(2),O("Show Crafting Log Entries ",i.logService.newCrafting,""),v(2),w("checked",i.logService.logTopics.includes("COMBAT")),v(2),O("Show Combat Log Entries ",i.logService.newCombat,""),v(2),w("checked",i.logService.logTopics.includes("FOLLOWER")),v(2),O("Show Followers Log Entries ",i.logService.newFollower,""))},styles:[""]}),n})();function Oq(n,t){if(1&n&&(Bo(0),f(1,"div",6),p(2),d(),Vo()),2&n){const e=t.$implicit;v(1),w("ngClass",e.type),v(1),O(" ",e.message," ")}}let Rq=(()=>{class n{constructor(e,i){this.logService=e,this.dialog=i}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}logFilterClicked(){this.dialog.open(Iq,{width:"700px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(_(rn),_(lr))},n.\u0275cmp=pe({type:n,selectors:[["app-log-panel"]],decls:10,vars:1,consts:[[1,"log"],[1,"panelHeader"],["tooltip","Manage Log Filters",1,"iconButton","optionsIcon",3,"click"],[1,"headerNote"],[1,"logBox"],[4,"ngFor","ngForOf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(f(0,"div",0)(1,"h3",1)(2,"span"),p(3,"Log"),d(),f(4,"mat-icon",2),x("click",function(){return i.logFilterClicked()}),p(5," filter_alt "),d(),f(6,"span",3),p(7,"Newest messages appear at the top, so read from the bottom up."),d()(),f(8,"div",4),k(9,Oq,3,2,"ng-container",5),d()()),2&e&&(v(9),w("ngForOf",i.logService.currentLog))},directives:[Kt,Ht,Bt,gi],styles:[".log[_ngcontent-%COMP%]{flex-direction:column;width:100%;display:flex}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBox[_ngcontent-%COMP%]{overflow:auto;flex:1 1 auto;width:100%}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap;flex:0 1 auto}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function Fq(n,t){if(1&n){const e=G();f(0,"mat-icon",46),x("click",function(){return F(e),C().impossibleTasksClicked()}),p(1," priority_high "),d()}}function Lq(n,t){if(1&n){const e=G();f(0,"span")(1,"mat-icon",47),x("click",function(){return F(e),C().ascensionStoreClicked()}),p(2," keyboard_double_arrow_up "),d()()}}function Nq(n,t){if(1&n&&V(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(40),i=xt(43);w("top",e)("bottom",i)}}function Bq(n,t){if(1&n&&V(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(43),i=xt(46);w("top",e)("bottom",i)}}function Vq(n,t){if(1&n&&V(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(49),i=xt(52);w("top",e)("bottom",i)}}function Hq(n,t){if(1&n&&V(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(55),i=xt(58);w("top",e)("bottom",i)}}function Uq(n,t){if(1&n&&V(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(58),i=xt(61);w("top",e)("bottom",i)}}const jq=function(n){return{darkMode:n}};let qq=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Dt({name:"floor",type:n,pure:!0}),n})(),$q=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Dt({name:"camelToTitle",type:n,pure:!0}),n})(),qi=(()=>{class n{transform(e){return e<1e4?mi(e,"en-US","1.0-0"):e<1e6?mi(e/1e3,"en-US","1.0-2")+"K":e<1e9?mi(e/1e6,"en-US","1.0-2")+"M":e<1e12?mi(e/1e9,"en-US","1.0-2")+"B":e<1e15?mi(e/1e12,"en-US","1.0-2")+"T":e<1e18?mi(e/1e15,"en-US","1.0-2")+"q":mi(e/1e18,"en-US","1.0-2")+"Q"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=Dt({name:"bigNumber",type:n,pure:!0}),n})(),zq=(()=>{class n{constructor(e,i,r,o,s,a,l){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=s,this.hellService=a,this.dialog=l,this.title="immortalityidle",this.applicationVersion=UM.appVersion,this.activateSliders=!1}handleKeyboardEvent(e){"Space"===e.code?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):("Enter"===e.code||"NumpadEnter"===e.code)&&this.mainLoopService.pause&&(this.mainLoopService.tick(),e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}exportClicked(){this.dialog.open($5,{width:"700px",data:{someField:"foo"}})}storeClicked(){this.dialog.open(o1,{width:"700px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(Jj,{width:"700px",data:{someField:"foo"}})}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(o5,{width:"700px",data:{someField:"foo"}})}tutorialClicked(){this.dialog.open(z5,{width:"700px",data:{someField:"foo"}})}statisticsClicked(){this.dialog.open(jM,{width:"700px",data:{someField:"foo"}})}changelogClicked(){this.dialog.open(G5,{width:"700px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(m5,{width:"750px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(q5,{width:"500px",data:{someField:"foo"}})}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}}return n.\u0275fac=function(e){return new(e||n)(_(Wt),_(Xn),_(Yr),_(Pe),_(is),_(Bc),_(lr))},n.\u0275cmp=pe({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&x("keydown",function(o){return i.handleKeyboardEvent(o)},!1,kv)},decls:66,vars:15,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused? Click here.",1,"iconButton",3,"click"],["tooltip","Statistics!",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",1,"iconButton",3,"click"],["type","checkbox","id","darkMode",3,"checked","change"],["for","darkMode"],["tooltip","Import or export your save game file. Sometimes immortals need a different browser.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","tooltip","Have questions? Try the Immortality Idle Discord."],[1,"bodyContainer"],["appResizable","",1,"panelContainer"],["panelContainer","appResizable"],[1,"leftPanel"],["appResizable","",1,"timePanel","panel"],["timePanel","appResizable"],[3,"top","bottom",4,"ngIf"],["appResizable","",1,"attributesPanel","panel"],["attributesPanel","appResizable"],["appResizable","",1,"healthPanel","panel"],["healthPanel","appResizable"],[1,"centerPanel"],["appResizable","",1,"activityPanel","panel"],["activityPanel","appResizable"],["appResizable","",1,"battlePanel","panel"],["battlePanel","appResizable"],[1,"rightPanel"],["appResizable","",1,"equipmentPanel","panel"],["equipmentPanel","appResizable"],["appResizable","",1,"homePanel","panel"],["homePanel","appResizable"],["appResizable","",1,"inventoryPanel","panel"],["inventoryPanel","appResizable"],[3,"top","bottom"],["appResizable","",1,"logContainer"],["logContainer","appResizable"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.",1,"iconButton",3,"click"]],template:function(e,i){if(1&e&&(f(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p(4),f(5,"span",4),x("click",function(){return i.changelogClicked()}),p(6),d()(),f(7,"mat-icon",5),x("click",function(){return i.tutorialClicked()}),p(8," help "),d(),f(9,"mat-icon",6),x("click",function(){return i.statisticsClicked()}),p(10," format_list_numbered_rtl "),d(),f(11,"span")(12,"mat-icon",7),x("click",function(){return i.storeClicked()}),p(13," local_library "),d(),f(14,"mat-icon",8),x("click",function(){return i.storeOptionsClicked()}),p(15," settings "),d()(),f(16,"mat-icon",9),x("click",function(){return i.achievementsClicked()}),p(17," military_tech "),d(),k(18,Fq,2,0,"mat-icon",10),k(19,Lq,3,0,"span",11),f(20,"span")(21,"a",12),x("click",function(o){return i.rebirthClicked(o)}),p(22,"Reincarnate"),d()(),f(23,"mat-icon",13),x("click",function(o){return i.saveClicked(o)}),p(24," save "),d(),f(25,"span")(26,"input",14),x("change",function(){return i.darkModeToggle()}),d(),f(27,"label",15),p(28,"Dark Mode"),d()(),f(29,"mat-icon",16),x("click",function(){return i.exportClicked()}),p(30," upload "),d(),f(31,"a",17),x("click",function(o){return i.hardResetClicked(o)}),p(32,"Hard Reset"),d(),f(33,"a",18),p(34,"Discord"),d()(),f(35,"div",19)(36,"div",20,21)(38,"div",22),V(39,"app-time-panel",23,24),k(41,Nq,1,2,"app-vertical-panel-slider",25),V(42,"app-attributes-panel",26,27),k(44,Bq,1,2,"app-vertical-panel-slider",25),V(45,"app-health-panel",28,29),d(),f(47,"div",30),V(48,"app-activity-panel",31,32),k(50,Vq,1,2,"app-vertical-panel-slider",25),V(51,"app-battle-panel",33,34),d(),f(53,"div",35),V(54,"app-equipment-panel",36,37),k(56,Hq,1,2,"app-vertical-panel-slider",25),V(57,"app-home-panel",38,39),k(59,Uq,1,2,"app-vertical-panel-slider",25),V(60,"app-inventory-panel",40,41),d()(),V(62,"app-vertical-panel-slider",42),f(63,"div",43,44),V(65,"app-log-panel",45),d()()()()),2&e){const r=xt(37),o=xt(64);w("ngClass",tt(13,jq,i.gameStateService.isDarkMode)),v(4),O(" Immortality Idle - ",i.hellService.inHell?"Escape from The Eighteen Hells":i.characterService.characterState.immortal?"You are Immortal!":"Can you become an immortal?"," "),v(2),Se(i.gameStateService.isExperimental?"Experimental":"v"+i.applicationVersion),v(12),w("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),v(1),w("ngIf",i.characterService.characterState.ascensionUnlocked),v(7),w("checked",i.gameStateService.isDarkMode),v(15),w("ngIf",i.activateSliders),v(3),w("ngIf",i.activateSliders),v(6),w("ngIf",i.activateSliders),v(6),w("ngIf",i.activateSliders),v(3),w("ngIf",i.activateSliders),v(3),w("top",r)("bottom",o)}},directives:[gi,Kt,Ht,Ct,W5,c4,h4,qM,$M,zM,GM,WM,KM,JM,Rq],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Gq=[r1,HM,v1];let Wq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=qe({type:n,bootstrap:[zq]}),n.\u0275inj=Ue({providers:[mn],imports:[[o0,v2,_3,Cj,dc,h5.forRoot({"show-delay":500,hideDelay:50,hideDelayAfterClick:50}),...Gq],r1,HM,v1]}),n})();Vn(qM,[Kt,Ht,Bt,Ct,gi],[If,qi,Or,$q,mn]),Vn($M,[Ct,Kt,Ht],[qq,Or]),Vn(KM,[Kt,Ht,Ct,Bt],[qi,mn]),Vn(JM,[Ct,Kt,Ht,Bt,gi],[qi,mn]),Vn(zM,[Kt,Ht,Ct,Bt],[qi]),Vn(WM,[gi,Ht,Kt],[mn,hc,qi]),Vn(o1,[Bt,gi,Ht,Kt,Ct],[mn,qi]),Vn(GM,[Kt,Ht,Ct,Bt],[mn,qi,hc]),Vn(YM,[Kt,Ht,Bt],[qi,mn,hc]),Vn(jM,[],[Or,qi]),UM.production&&function AO(){vS=!1}(),VF().bootstrapModule(Wq).catch(n=>console.error(n))},147:ps=>{ps.exports={i8:"1.0.50"}}},ps=>{ps(ps.s=933)}]);