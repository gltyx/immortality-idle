"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{14:(ts,fm,pm)=>{function Se(n){return"function"==typeof n}function iu(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const ru=iu(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Da(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class St{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(Se(i))try{i()}catch(o){t=o instanceof ru?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{vm(o)}catch(s){t=null!=t?t:[],s instanceof ru?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ru(t)}}add(t){var e;if(t&&t!==this)if(this.closed)vm(t);else{if(t instanceof St){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Da(e,t)}remove(t){const{_finalizers:e}=this;e&&Da(e,t),t instanceof St&&t._removeParent(this)}}St.EMPTY=(()=>{const n=new St;return n.closed=!0,n})();const mm=St.EMPTY;function gm(n){return n instanceof St||n&&"closed"in n&&Se(n.remove)&&Se(n.add)&&Se(n.unsubscribe)}function vm(n){Se(n)?n():n.unsubscribe()}const sr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ma={setTimeout(n,t,...e){const{delegate:i}=Ma;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=Ma;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function ym(n){Ma.setTimeout(()=>{const{onUnhandledError:t}=sr;if(!t)throw n;t(n)})}function ou(){}const w1=su("C",void 0,void 0);function su(n,t,e){return{kind:n,value:t,error:e}}let ar=null;function ka(n){if(sr.useDeprecatedSynchronousErrorHandling){const t=!ar;if(t&&(ar={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=ar;if(ar=null,e)throw i}}else n()}class au extends St{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,gm(t)&&t.add(this)):this.destination=T1}static create(t,e,i){return new Ea(t,e,i)}next(t){this.isStopped?cu(function D1(n){return su("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?cu(function C1(n){return su("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?cu(w1,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k1=Function.prototype.bind;function lu(n,t){return k1.call(n,t)}class E1{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){xa(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){xa(i)}else xa(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){xa(e)}}}class Ea extends au{constructor(t,e,i){let r;if(super(),Se(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&sr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&lu(t.next,o),error:t.error&&lu(t.error,o),complete:t.complete&&lu(t.complete,o)}):r=t}this.destination=new E1(r)}}function xa(n){sr.useDeprecatedSynchronousErrorHandling?function M1(n){sr.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=n)}(n):ym(n)}function cu(n,t){const{onStoppedNotification:e}=sr;e&&Ma.setTimeout(()=>e(n,t))}const T1={closed:!0,next:ou,error:function x1(n){throw n},complete:ou},uu="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(n){return n}let Ue=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function P1(n){return n&&n instanceof au||function A1(n){return n&&Se(n.next)&&Se(n.error)&&Se(n.complete)}(n)&&gm(n)}(e)?e:new Ea(e,i,r);return ka(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Sm(i))((r,o)=>{const s=new Ea({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[uu](){return this}pipe(...e){return function _m(n){return 0===n.length?Ii:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=Sm(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function Sm(n){var t;return null!==(t=null!=n?n:sr.Promise)&&void 0!==t?t:Promise}const I1=iu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Te=(()=>{class n extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new bm(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new I1}next(e){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?mm:(this.currentObservers=null,o.push(e),new St(()=>{this.currentObservers=null,Da(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new Ue;return e.source=this,e}}return n.create=(t,e)=>new bm(t,e),n})();class bm extends Te{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:mm}}function wm(n){return Se(null==n?void 0:n.lift)}function nt(n){return t=>{if(wm(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ze(n,t,e,i,r){return new O1(n,t,e,i,r)}class O1 extends au{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function me(n,t){return nt((e,i)=>{let r=0;e.subscribe(ze(i,o=>{i.next(n.call(t,o,r++))}))})}function lr(n){return this instanceof lr?(this.v=n,this):new lr(n)}function L1(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(f){i[f]&&(r[f]=function(m){return new Promise(function(v,_){o.push([f,m,v,_])>1||a(f,m)})})}function a(f,m){try{!function l(f){f.value instanceof lr?Promise.resolve(f.value.v).then(c,u):h(o[0][2],f)}(i[f](m))}catch(v){h(o[0][3],v)}}function c(f){a("next",f)}function u(f){a("throw",f)}function h(f,m){f(m),o.shift(),o.length&&a(o[0][0],o[0][1])}}function N1(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function Mm(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const du=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function km(n){return Se(null==n?void 0:n.then)}function Em(n){return Se(n[uu])}function xm(n){return Symbol.asyncIterator&&Se(null==n?void 0:n[Symbol.asyncIterator])}function Tm(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Am=function V1(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Pm(n){return Se(null==n?void 0:n[Am])}function Im(n){return L1(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield lr(e.read());if(r)return yield lr(void 0);yield yield lr(i)}}finally{e.releaseLock()}})}function Om(n){return Se(null==n?void 0:n.getReader)}function Jt(n){if(n instanceof Ue)return n;if(null!=n){if(Em(n))return function H1(n){return new Ue(t=>{const e=n[uu]();if(Se(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(du(n))return function j1(n){return new Ue(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(km(n))return function U1(n){return new Ue(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,ym)})}(n);if(xm(n))return Rm(n);if(Pm(n))return function q1(n){return new Ue(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(Om(n))return function $1(n){return Rm(Im(n))}(n)}throw Tm(n)}function Rm(n){return new Ue(t=>{(function z1(n,t){var e,i,r,o;return function R1(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(h){s(h)}}function l(u){try{c(i.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=N1(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function pi(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function ut(n,t,e=1/0){return Se(t)?ut((i,r)=>me((o,s)=>t(i,o,r,s))(Jt(n(i,r))),e):("number"==typeof t&&(e=t),nt((i,r)=>function G1(n,t,e,i,r,o,s,a){const l=[];let c=0,u=0,h=!1;const f=()=>{h&&!l.length&&!c&&t.complete()},m=_=>c<i?v(_):l.push(_),v=_=>{o&&t.next(_),c++;let D=!1;Jt(e(_,u++)).subscribe(ze(t,k=>{null==r||r(k),o?m(k):t.next(k)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const k=l.shift();s?pi(t,s,()=>v(k)):v(k)}f()}catch(k){t.error(k)}}))};return n.subscribe(ze(t,m,()=>{h=!0,f()})),()=>{null==a||a()}}(i,r,n,e)))}function ns(n=1/0){return ut(Ii,n)}const mi=new Ue(n=>n.complete());function Fm(n){return n&&Se(n.schedule)}function fu(n){return n[n.length-1]}function Lm(n){return Se(fu(n))?n.pop():void 0}function is(n){return Fm(fu(n))?n.pop():void 0}function Nm(n,t=0){return nt((e,i)=>{e.subscribe(ze(i,r=>pi(i,n,()=>i.next(r),t),()=>pi(i,n,()=>i.complete(),t),r=>pi(i,n,()=>i.error(r),t)))})}function Bm(n,t=0){return nt((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function Vm(n,t){if(!n)throw new Error("Iterable cannot be null");return new Ue(e=>{pi(e,t,()=>{const i=n[Symbol.asyncIterator]();pi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function gt(n,t){return t?function eM(n,t){if(null!=n){if(Em(n))return function K1(n,t){return Jt(n).pipe(Bm(t),Nm(t))}(n,t);if(du(n))return function Z1(n,t){return new Ue(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(km(n))return function J1(n,t){return Jt(n).pipe(Bm(t),Nm(t))}(n,t);if(xm(n))return Vm(n,t);if(Pm(n))return function X1(n,t){return new Ue(e=>{let i;return pi(e,t,()=>{i=n[Am](),pi(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>Se(null==i?void 0:i.return)&&i.return()})}(n,t);if(Om(n))return function Q1(n,t){return Vm(Im(n),t)}(n,t)}throw Tm(n)}(n,t):Jt(n)}function Hm(...n){const t=is(n),e=function Y1(n,t){return"number"==typeof fu(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?Jt(i[0]):ns(e)(gt(i,t)):mi}function zn(n){return n<=0?()=>mi:nt((t,e)=>{let i=0;t.subscribe(ze(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function jm(n={}){const{connector:t=(()=>new Te),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,c=0,u=!1,h=!1;const f=()=>{null==a||a.unsubscribe(),a=null},m=()=>{f(),s=l=null,u=h=!1},v=()=>{const _=s;m(),null==_||_.unsubscribe()};return nt((_,D)=>{c++,!h&&!u&&f();const k=l=null!=l?l:t();D.add(()=>{c--,0===c&&!h&&!u&&(a=pu(v,r))}),k.subscribe(D),s||(s=new Ea({next:C=>k.next(C),error:C=>{h=!0,f(),a=pu(m,e,C),k.error(C)},complete:()=>{u=!0,f(),a=pu(m,i),k.complete()}}),gt(_).subscribe(s))})(o)}}function pu(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(zn(1)).subscribe(()=>n())}function Ae(n){for(let t in n)if(n[t]===Ae)return t;throw Error("Could not find renamed property on target object.")}function mu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Me(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Me).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function gu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const tM=Ae({__forward_ref__:Ae});function Oe(n){return n.__forward_ref__=Oe,n.toString=function(){return Me(this())},n}function se(n){return Um(n)?n():n}function Um(n){return"function"==typeof n&&n.hasOwnProperty(tM)&&n.__forward_ref__===Oe}class V extends Error{constructor(t,e){super(function vu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function ie(n){return"string"==typeof n?n:null==n?"":String(n)}function Rt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ie(n)}function Ta(n,t){const e=t?` in ${t}`:"";throw new V(-201,`No provider for ${Rt(n)} found${e}`)}function Xt(n,t){null==n&&function Be(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ke(n){return{providers:n.providers||[],imports:n.imports||[]}}function yu(n){return qm(n,Aa)||qm(n,zm)}function qm(n,t){return n.hasOwnProperty(t)?n[t]:null}function $m(n){return n&&(n.hasOwnProperty(_u)||n.hasOwnProperty(lM))?n[_u]:null}const Aa=Ae({\u0275prov:Ae}),_u=Ae({\u0275inj:Ae}),zm=Ae({ngInjectableDef:Ae}),lM=Ae({ngInjectorDef:Ae});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let Su;function Oi(n){const t=Su;return Su=n,t}function Gm(n,t,e){const i=yu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&te.Optional?null:void 0!==t?t:void Ta(Me(n),"Injector")}function Ri(n){return{toString:n}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),An=(()=>{return(n=An||(An={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",An;var n})();const uM="undefined"!=typeof globalThis&&globalThis,hM="undefined"!=typeof window&&window,dM="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xe=uM||"undefined"!=typeof global&&global||hM||dM,Vr={},Pe=[],Pa=Ae({\u0275cmp:Ae}),bu=Ae({\u0275dir:Ae}),wu=Ae({\u0275pipe:Ae}),Wm=Ae({\u0275mod:Ae}),vi=Ae({\u0275fac:Ae}),rs=Ae({__NG_ELEMENT_ID__:Ae});let fM=0;function ke(n){return Ri(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Pe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||An.Emulated,id:"c",styles:n.styles||Pe,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=fM++,i.inputs=Zm(n.inputs,e),i.outputs=Zm(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(Ym):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(Km):null,i})}function Gn(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(Ym),i.pipeDefs=()=>e.map(Km)}function Ym(n){return xt(n)||function Fi(n){return n[bu]||null}(n)}function Km(n){return function cr(n){return n[wu]||null}(n)}const Jm={};function it(n){return Ri(()=>{const t={type:n.type,bootstrap:n.bootstrap||Pe,declarations:n.declarations||Pe,imports:n.imports||Pe,exports:n.exports||Pe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Jm[n.id]=n.type),t})}function Zm(n,t){if(null==n)return Vr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const z=ke;function bt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function xt(n){return n[Pa]||null}function pn(n,t){const e=n[Wm]||null;if(!e&&!0===t)throw new Error(`Type ${Me(n)} does not have '\u0275mod' property.`);return e}function Wn(n){return Array.isArray(n)&&"object"==typeof n[1]}function In(n){return Array.isArray(n)&&!0===n[1]}function Mu(n){return 0!=(8&n.flags)}function Fa(n){return 2==(2&n.flags)}function La(n){return 1==(1&n.flags)}function On(n){return null!==n.template}function yM(n){return 0!=(512&n[2])}function fr(n,t){return n.hasOwnProperty(vi)?n[vi]:null}class bM{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function en(){return Qm}function Qm(n){return n.type.prototype.ngOnChanges&&(n.setInput=CM),wM}function wM(){const n=tg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Vr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function CM(n,t,e,i){const r=tg(n)||function DM(n,t){return n[eg]=t}(n,{previous:Vr,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new bM(l&&l.currentValue,t,s===Vr),n[i]=t}en.ngInherit=!0;const eg="__ngSimpleChanges__";function tg(n){return n[eg]||null}let Au;function Pu(){return void 0!==Au?Au:"undefined"!=typeof document?document:void 0}function Ge(n){return!!n.listen}const ng={createRenderer:(n,t)=>Pu()};function rt(n){for(;Array.isArray(n);)n=n[0];return n}function Na(n,t){return rt(t[n])}function vn(n,t){return rt(t[n.index])}function Iu(n,t){return n.data[t]}function $r(n,t){return n[t]}function tn(n,t){const e=t[n];return Wn(e)?e:e[0]}function ig(n){return 4==(4&n[2])}function Ou(n){return 128==(128&n[2])}function Li(n,t){return null==t?null:n[t]}function rg(n){n[18]=0}function Ru(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ne={lFrame:dg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function og(){return ne.bindingsEnabled}function T(){return ne.lFrame.lView}function ge(){return ne.lFrame.tView}function F(n){return ne.lFrame.contextLView=n,n[8]}function ht(){let n=sg();for(;null!==n&&64===n.type;)n=n.parent;return n}function sg(){return ne.lFrame.currentTNode}function Yn(n,t){const e=ne.lFrame;e.currentTNode=n,e.isParent=t}function Fu(){return ne.lFrame.isParent}function Lu(){ne.lFrame.isParent=!1}function Ba(){return ne.isInCheckNoChangesMode}function Va(n){ne.isInCheckNoChangesMode=n}function Ft(){const n=ne.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function yi(){return ne.lFrame.bindingIndex}function zr(){return ne.lFrame.bindingIndex++}function _i(n){const t=ne.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function jM(n,t){const e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=n,Nu(t)}function Nu(n){ne.lFrame.currentDirectiveIndex=n}function Bu(n){const t=ne.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function cg(){return ne.lFrame.currentQueryIndex}function Vu(n){ne.lFrame.currentQueryIndex=n}function qM(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function ug(n,t,e){if(e&te.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&te.Host||(r=qM(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ne.lFrame=hg();return i.currentTNode=t,i.lView=n,!0}function Ha(n){const t=hg(),e=n[1];ne.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function hg(){const n=ne.lFrame,t=null===n?null:n.child;return null===t?dg(n):t}function dg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function fg(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const pg=fg;function ja(){const n=fg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Lt(){return ne.lFrame.selectedIndex}function Ni(n){ne.lFrame.selectedIndex=n}function We(){const n=ne.lFrame;return Iu(n.tView,n.selectedIndex)}function Ua(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function qa(n,t,e){mg(n,t,3,e)}function $a(n,t,e,i){(3&n[2])===e&&mg(n,t,e,i)}function Hu(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function mg(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(XM(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function XM(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class cs{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function za(n,t,e){const i=Ge(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];Uu(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function gg(n){return 3===n||4===n||6===n}function Uu(n){return 64===n.charCodeAt(0)}function Ga(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||vg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function vg(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function yg(n){return-1!==n}function Gr(n){return 32767&n}function Wr(n,t){let e=function ik(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let qu=!0;function Wa(n){const t=qu;return qu=n,t}let rk=0;function hs(n,t){const e=zu(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,$u(i.data,n),$u(t,null),$u(i.blueprint,null));const r=Ya(n,t),o=n.injectorIndex;if(yg(r)){const s=Gr(r),a=Wr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function $u(n,t){n.push(0,0,0,0,0,0,0,0,t)}function zu(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ya(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ka(n,t,e){!function ok(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(rs)&&(i=e[rs]),null==i&&(i=e[rs]=rk++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function bg(n,t,e){if(e&te.Optional)return n;Ta(t,"NodeInjector")}function wg(n,t,e,i){if(e&te.Optional&&void 0===i&&(i=null),0==(e&(te.Self|te.Host))){const r=n[9],o=Oi(void 0);try{return r?r.get(t,i,e&te.Optional):Gm(t,i,e&te.Optional)}finally{Oi(o)}}return bg(i,t,e)}function Cg(n,t,e,i=te.Default,r){if(null!==n){const o=function ck(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(rs)?n[rs]:void 0;return"number"==typeof t?t>=0?255&t:ak:t}(e);if("function"==typeof o){if(!ug(t,n,i))return i&te.Host?bg(r,e,i):wg(t,e,i,r);try{const s=o(i);if(null!=s||i&te.Optional)return s;Ta(e)}finally{pg()}}else if("number"==typeof o){let s=null,a=zu(n,t),l=-1,c=i&te.Host?t[16][6]:null;for((-1===a||i&te.SkipSelf)&&(l=-1===a?Ya(n,t):t[a+8],-1!==l&&kg(i,!1)?(s=t[1],a=Gr(l),t=Wr(l,t)):a=-1);-1!==a;){const u=t[1];if(Mg(o,a,u.data)){const h=lk(a,t,e,s,i,c);if(h!==Dg)return h}l=t[a+8],-1!==l&&kg(i,t[1].data[a+8]===c)&&Mg(o,a,t)?(s=u,a=Gr(l),t=Wr(l,t)):a=-1}}}return wg(t,e,i,r)}const Dg={};function ak(){return new Yr(ht(),T())}function lk(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],u=Ja(a,s,e,null==i?Fa(a)&&qu:i!=s&&0!=(3&a.type),r&te.Host&&o===a);return null!==u?ds(t,s,u,a):Dg}function Ja(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,u=o>>20,f=r?a+u:n.directiveEnd;for(let m=i?a:a+u;m<f;m++){const v=s[m];if(m<l&&e===v||m>=l&&v.type===e)return m}if(r){const m=s[l];if(m&&On(m)&&m.type===e)return l}return null}function ds(n,t,e,i){let r=n[e];const o=t.data;if(function QM(n){return n instanceof cs}(r)){const s=r;s.resolving&&function nM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${e}`)}(Rt(o[e]));const a=Wa(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Oi(s.injectImpl):null;ug(n,i,te.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function ZM(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=Qm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Oi(l),Wa(a),s.resolving=!1,pg()}}return r}function Mg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function kg(n,t){return!(n&te.Self||n&te.Host&&t)}class Yr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Cg(this._tNode,this._lView,t,i,e)}}function wt(n){return Ri(()=>{const t=n.prototype.constructor,e=t[vi]||Gu(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[vi]||Gu(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Gu(n){return Um(n)?()=>{const t=Gu(se(n));return t&&t()}:fr(n)}function Kr(n){return function sk(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(gg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(ht(),n)}const Zr="__parameters__";function Qr(n,t,e){return Ri(()=>{const i=function Wu(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const h=l.hasOwnProperty(Zr)?l[Zr]:Object.defineProperty(l,Zr,{value:[]})[Zr];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class U{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const hk=new U("AnalyzeForEntryComponents");function yn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),yn(i,t)):t!==n&&t.push(i)}return t}function Kn(n,t){n.forEach(e=>Array.isArray(e)?Kn(e,t):t(e))}function xg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Za(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ms(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function nn(n,t,e){let i=eo(n,t);return i>=0?n[1|i]=e:(i=~i,function pk(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ku(n,t){const e=eo(n,t);if(e>=0)return n[1|e]}function eo(n,t){return function Pg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const gs={},Zu="__NG_DI_FLAG__",Qa="ngTempTokenPath",bk=/\n/gm,Og="__source",Ck=Ae({provide:String,useValue:Ae});let vs;function Rg(n){const t=vs;return vs=n,t}function Dk(n,t=te.Default){if(void 0===vs)throw new V(203,"");return null===vs?Gm(n,void 0,t):vs.get(n,t&te.Optional?null:void 0,t)}function S(n,t=te.Default){return(function cM(){return Su}()||Dk)(se(n),t)}const el=S;function Xu(n){const t=[];for(let e=0;e<n.length;e++){const i=se(n[e]);if(Array.isArray(i)){if(0===i.length)throw new V(900,"");let r,o=te.Default;for(let s=0;s<i.length;s++){const a=i[s],l=Mk(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(S(r,o))}else t.push(S(i))}return t}function ys(n,t){return n[Zu]=t,n.prototype[Zu]=t,n}function Mk(n){return n[Zu]}const tl=ys(Qr("Inject",n=>({token:n})),-1),Rn=ys(Qr("Optional"),8),to=ys(Qr("SkipSelf"),4);let il,rl;function io(n){var t;return(null===(t=function eh(){if(void 0===il&&(il=null,xe.trustedTypes))try{il=xe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return il}())||void 0===t?void 0:t.createHTML(n))||n}function Hg(n){var t;return(null===(t=function th(){if(void 0===rl&&(rl=null,xe.trustedTypes))try{rl=xe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return rl}())||void 0===t?void 0:t.createHTML(n))||n}class pr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bk extends pr{getTypeName(){return"HTML"}}class Vk extends pr{getTypeName(){return"Style"}}class Hk extends pr{getTypeName(){return"Script"}}class jk extends pr{getTypeName(){return"URL"}}class Uk extends pr{getTypeName(){return"ResourceURL"}}function rn(n){return n instanceof pr?n.changingThisBreaksApplicationSecurity:n}function Jn(n,t){const e=qg(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function qg(n){return n instanceof pr&&n.getTypeName()||null}class Yk{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(io(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Kk{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=io(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=io(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Zk=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xk=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ss(n){return(n=String(n)).match(Zk)||n.match(Xk)?n:"unsafe:"+n}function Zn(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function bs(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Gg=Zn("area,br,col,hr,img,wbr"),Wg=Zn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yg=Zn("rp,rt"),nh=bs(Gg,bs(Wg,Zn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),bs(Yg,Zn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bs(Yg,Wg)),ih=Zn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rh=Zn("srcset"),Kg=bs(ih,rh,Zn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Qk=Zn("script,style,template");class eE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nh.hasOwnProperty(e))return this.sanitizedSomething=!0,!Qk.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!Kg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;ih[a]&&(l=Ss(l)),rh[a]&&(n=l,l=(n=String(n)).split(",").map(t=>Ss(t.trim())).join(", ")),this.buf.push(" ",s,'="',Jg(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nh.hasOwnProperty(e)&&!Gg.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Jg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const tE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nE=/([^\#-~ |!])/g;function Jg(n){return n.replace(/&/g,"&amp;").replace(tE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ol;function Zg(n,t){let e=null;try{ol=ol||function $g(n){const t=new Kk(n);return function Jk(){try{return!!(new window.DOMParser).parseFromString(io(""),"text/html")}catch(n){return!1}}()?new Yk(t):t}(n);let i=t?String(t):"";e=ol.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=ol.getInertBodyElement(i)}while(i!==o);return io((new eE).sanitizeChildren(oh(e)||e))}finally{if(e){const i=oh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function oh(n){return"content"in n&&function iE(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var we=(()=>((we=we||{})[we.NONE=0]="NONE",we[we.HTML=1]="HTML",we[we.STYLE=2]="STYLE",we[we.SCRIPT=3]="SCRIPT",we[we.URL=4]="URL",we[we.RESOURCE_URL=5]="RESOURCE_URL",we))();function Xg(n){const t=function ws(){const n=T();return n&&n[12]}();return t?Hg(t.sanitize(we.HTML,n)||""):Jn(n,"HTML")?Hg(rn(n)):Zg(Pu(),ie(n))}const tv="__ngContext__";function At(n,t){n[tv]=t}function lh(n){const t=function Cs(n){return n[tv]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function uh(n){return n.ngOriginalError}function _E(n,...t){n.error(...t)}class Vi{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function yE(n){return n&&n.ngErrorLogger||_E}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&uh(t);for(;e&&uh(e);)e=uh(e);return e||null}}const TE=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xe))();function sv(n){return n.ownerDocument}function Xn(n){return n instanceof Function?n():n}var on=(()=>((on=on||{})[on.Important=1]="Important",on[on.DashCase=2]="DashCase",on))();function dh(n,t){return undefined(n,t)}function Ds(n){const t=n[3];return In(t)?t[3]:t}function fh(n){return hv(n[13])}function ph(n){return hv(n[4])}function hv(n){for(;null!==n&&!In(n);)n=n[4];return n}function oo(n,t,e,i,r){if(null!=i){let o,s=!1;In(i)?o=i:Wn(i)&&(s=!0,i=i[0]);const a=rt(i);0===n&&null!==e?null==r?vv(t,e,a):mr(t,e,a,r||null,!0):1===n&&null!==e?mr(t,e,a,r||null,!0):2===n?function Dv(n,t,e){const i=sl(n,t);i&&function UE(n,t,e,i){Ge(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function zE(n,t,e,i,r){const o=e[7];o!==rt(e)&&oo(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];Ms(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function gh(n,t,e){if(Ge(n))return n.createElement(t,e);{const i=null!==e?function xM(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function fv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,Ru(r,-1)),e.splice(i,1)}function vh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&fv(r,i),t>0&&(n[e-1][4]=i[4]);const o=Za(n,10+t);!function RE(n,t){Ms(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function pv(n,t){if(!(256&t[2])){const e=t[11];Ge(e)&&e.destroyNode&&Ms(n,t,e,3,null,null),function NE(n){let t=n[13];if(!t)return yh(n[1],n);for(;t;){let e=null;if(Wn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Wn(t)&&yh(t[1],t),t=t[3];null===t&&(t=n),Wn(t)&&yh(t[1],t),e=t&&t[4]}t=e}}(t)}}function yh(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function jE(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof cs)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function HE(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):rt(t[s]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?a.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&Ge(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&In(t[3])){e!==t[3]&&fv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function mv(n,t,e){return function gv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===An.None||r===An.Emulated)return null}return vn(i,e)}(n,t.parent,e)}function mr(n,t,e,i,r){Ge(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function vv(n,t,e){Ge(n)?n.appendChild(t,e):t.appendChild(e)}function yv(n,t,e,i,r){null!==i?mr(n,t,e,i,r):vv(n,t,e)}function sl(n,t){return Ge(n)?n.parentNode(t):t.parentNode}function _v(n,t,e){return bv(n,t,e)}let bv=function Sv(n,t,e){return 40&n.type?vn(n,e):null};function al(n,t,e,i){const r=mv(n,i,t),o=t[11],a=_v(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)yv(o,r,e[l],a,!1);else yv(o,r,e,a,!1)}function ll(n,t){if(null!==t){const e=t.type;if(3&e)return vn(t,n);if(4&e)return Sh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return ll(n,i);{const r=n[t.index];return In(r)?Sh(-1,r):rt(r)}}if(32&e)return dh(t,n)()||rt(n[t.index]);{const i=Cv(n,t);return null!==i?Array.isArray(i)?i[0]:ll(Ds(n[16]),i):ll(n,t.next)}}return null}function Cv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Sh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return ll(i,r)}return t[7]}function bh(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&At(rt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)bh(n,t,e.child,i,r,o,!1),oo(t,n,r,a,o);else if(32&l){const c=dh(e,i);let u;for(;u=c();)oo(t,n,r,u,o);oo(t,n,r,a,o)}else 16&l?Mv(n,t,i,e,r,o):oo(t,n,r,a,o);e=s?e.projectionNext:e.next}}function Ms(n,t,e,i,r,o){bh(e,i,n.firstChild,t,r,o,!1)}function Mv(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)oo(t,n,r,l[c],o);else bh(n,t,l,s[3],r,o,!0)}function kv(n,t,e){Ge(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function wh(n,t,e){Ge(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Ev(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const xv="ng-template";function WE(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Ev(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Tv(n){return 4===n.type&&n.value!==xv}function YE(n,t,e){return t===(4!==n.type||e?n.value:xv)}function KE(n,t,e){let i=4;const r=n.attrs||[],o=function XE(n){for(let t=0;t<n.length;t++)if(gg(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!YE(n,l,e)||""===l&&1===t.length){if(Fn(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!WE(n.attrs,c,e)){if(Fn(i))return!1;s=!0}continue}const h=JE(8&i?"class":l,r,Tv(n),e);if(-1===h){if(Fn(i))return!1;s=!0;continue}if(""!==c){let f;f=h>o?"":r[h+1].toLowerCase();const m=8&i?f:null;if(m&&-1!==Ev(m,c,0)||2&i&&c!==f){if(Fn(i))return!1;s=!0}}}}else{if(!s&&!Fn(i)&&!Fn(l))return!1;if(s&&Fn(l))continue;s=!1,i=l|1&i}}return Fn(i)||s}function Fn(n){return 0==(1&n)}function JE(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function QE(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Av(n,t,e=!1){for(let i=0;i<t.length;i++)if(KE(n,t[i],e))return!0;return!1}function ex(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Pv(n,t){return n?":not("+t.trim()+")":t}function tx(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Fn(s)&&(t+=Pv(o,r),r=""),i=s,o=o||!Fn(i);e++}return""!==r&&(t+=Pv(o,r)),t}const re={};function y(n){Iv(ge(),T(),Lt()+n,Ba())}function Iv(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&qa(t,o,e)}else{const o=n.preOrderHooks;null!==o&&$a(t,o,0,e)}Ni(e)}function cl(n,t){return n<<17|t<<2}function Ln(n){return n>>17&32767}function Ch(n){return 2|n}function Si(n){return(131068&n)>>2}function Dh(n,t){return-131069&n|t<<2}function Mh(n){return 1|n}function qv(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];Vu(r),s.contentQueries(2,t[o],o)}}}function ks(n,t,e,i,r,o,s,a,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,rg(u),u[3]=u[15]=n,u[8]=e,u[10]=s||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function so(n,t,e,i,r){let o=n.data[t];if(null===o)o=function Rh(n,t,e,i,r){const o=sg(),s=Fu(),l=n.data[t]=function _x(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function HM(){return ne.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function ls(){const n=ne.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yn(o,!0),o}function ao(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Es(n,t,e){Ha(t);try{const i=n.viewQuery;null!==i&&qh(1,i,e);const r=n.template;null!==r&&$v(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qv(n,t),n.staticViewQueries&&qh(2,n.viewQuery,e);const o=n.components;null!==o&&function gx(n,t){for(let e=0;e<t.length;e++)Nx(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ja()}}function lo(n,t,e,i){const r=t[2];if(256==(256&r))return;Ha(t);const o=Ba();try{rg(t),function ag(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&$v(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const c=n.preOrderCheckHooks;null!==c&&qa(t,c,null)}else{const c=n.preOrderHooks;null!==c&&$a(t,c,0,null),Hu(t,0)}if(function Fx(n){for(let t=fh(n);null!==t;t=ph(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&Ru(o,1),r[2]|=1024}}}(t),function Rx(n){for(let t=fh(n);null!==t;t=ph(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Ou(i)&&lo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&qv(n,t),!o)if(s){const c=n.contentCheckHooks;null!==c&&qa(t,c)}else{const c=n.contentHooks;null!==c&&$a(t,c,1),Hu(t,1)}!function px(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Ni(~r);else{const o=r,s=e[++i],a=e[++i];jM(s,o),a(2,t[o])}}}finally{Ni(-1)}}(n,t);const a=n.components;null!==a&&function mx(n,t){for(let e=0;e<t.length;e++)Lx(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&qh(2,l,i),!o)if(s){const c=n.viewCheckHooks;null!==c&&qa(t,c)}else{const c=n.viewHooks;null!==c&&$a(t,c,2),Hu(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ru(t[3],-1))}finally{ja()}}function vx(n,t,e,i){const r=t[10],o=!Ba(),s=ig(t);try{o&&!s&&r.begin&&r.begin(),s&&Es(n,t,i),lo(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function $v(n,t,e,i,r){const o=Lt(),s=2&i;try{Ni(-1),s&&t.length>20&&Iv(n,t,20,Ba()),e(i,r)}finally{Ni(o)}}function zv(n,t,e){if(Mu(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function Fh(n,t,e){!og()||(function kx(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||hs(e,t),At(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=On(l);c&&Px(t,e,l);const u=ds(t,n,a,e);At(u,t),null!==s&&Ix(0,a-r,u,l,0,s),c&&(tn(e.index,t)[8]=u)}}(n,t,e,vn(e,t)),128==(128&e.flags)&&function Ex(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function UM(){return ne.lFrame.currentDirectiveIndex}();try{Ni(s);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];Nu(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Qv(c,u)}}finally{Ni(-1),Nu(a)}}(n,t,e))}function Lh(n,t,e=vn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function Gv(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=dl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function dl(n,t,e,i,r,o,s,a,l,c){const u=20+i,h=u+r,f=function yx(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:re);return e}(u,h),m="function"==typeof c?c():c;return f[1]={type:n,blueprint:f,template:e,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1}}function Kv(n,t,e,i){const r=oy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&sy(n).push(i,r.length-1))}function Jv(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function sn(n,t,e,i,r,o,s,a){const l=vn(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(cy(n,e,u,i,r),Fa(t)&&function wx(n,t){const e=tn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function bx(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,Ge(o)?o.setProperty(l,i,r):Uu(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Nh(n,t,e,i){let r=!1;if(og()){const o=function xx(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Av(e,s.selectors,!1)&&(r||(r=[]),Ka(hs(e,t),n,s.type),On(s)?(ey(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,ty(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const h=o[u];h.providersResolver&&h.providersResolver(h)}let a=!1,l=!1,c=ao(n,t,o.length,null);for(let u=0;u<o.length;u++){const h=o[u];e.mergedAttrs=Ga(e.mergedAttrs,h.hostAttrs),ny(n,e,t,c,h),Ax(c,h,s),null!==h.contentQueries&&(e.flags|=8),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(e.flags|=128);const f=h.type.prototype;!a&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function Sx(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],h=u.inputs,f=null===o||Tv(t)?null:Ox(h,o);s.push(f),a=Jv(h,c,a),l=Jv(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function Tx(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new V(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Ga(e.mergedAttrs,e.attrs),r}function Xv(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function Mx(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function Qv(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function ey(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function Ax(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;On(t)&&(e[""]=n)}}function ty(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function ny(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=fr(r.type)),s=new cs(o,On(r),null);n.blueprint[i]=s,e[i]=s,Xv(n,t,0,i,ao(n,e,r.hostVars,re),r)}function Px(n,t,e){const i=vn(t,n),r=Gv(e),o=n[10],s=fl(n,ks(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function Qn(n,t,e,i,r,o){const s=vn(n,t);!function Bh(n,t,e,i,r,o,s){if(null==o)Ge(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?ie(o):s(o,i||"",r);Ge(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function Ix(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const c=s[l++],u=s[l++],h=s[l++];null!==a?i.setInput(e,h,c,u):e[u]=h}}}function Ox(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function iy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function Lx(n,t){const e=tn(t,n);if(Ou(e)){const i=e[1];80&e[2]?lo(i,e,i.template,e[8]):e[5]>0&&Vh(e)}}function Vh(n){for(let i=fh(n);null!==i;i=ph(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];lo(s,o,s.template,o[8])}else o[5]>0&&Vh(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=tn(e[i],n);Ou(r)&&r[5]>0&&Vh(r)}}function Nx(n,t){const e=tn(t,n),i=e[1];(function Bx(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Es(i,e,e[8])}function fl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Hh(n){for(;n;){n[2]|=64;const t=Ds(n);if(yM(n)&&!t)return n;n=t}return null}function Uh(n,t,e){const i=t[10];i.begin&&i.begin();try{lo(n,t,n.template,e)}catch(r){throw ly(t,r),r}finally{i.end&&i.end()}}function ry(n){!function jh(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=lh(e),r=i[1];vx(r,i,r.template,e)}}(n[8])}function qh(n,t,e){Vu(0),t(n,e)}const Ux=(()=>Promise.resolve(null))();function oy(n){return n[7]||(n[7]=[])}function sy(n){return n.cleanup||(n.cleanup=[])}function ay(n,t,e){return(null===n||On(n))&&(e=function PM(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function ly(n,t){const e=n[9],i=e?e.get(Vi,null):null;i&&i.handleError(t)}function cy(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],c=n.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function bi(n,t,e){const i=Na(t,n);!function dv(n,t,e){Ge(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function pl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=gu(r,a):2==o&&(i=gu(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const $h=new U("INJECTOR",-1);class uy{get(t,e=gs){if(e===gs){const i=new Error(`NullInjectorError: No provider for ${Me(t)}!`);throw i.name="NullInjectorError",i}return e}}const zh=new U("Set Injector scope."),xs={},zx={};let Gh;function hy(){return void 0===Gh&&(Gh=new uy),Gh}function dy(n,t=null,e=null,i){const r=fy(n,t,e,i);return r._resolveInjectorDefTypes(),r}function fy(n,t=null,e=null,i){return new Gx(n,e,t||hy(),i)}class Gx{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&Kn(e,a=>this.processProvider(a,t,e)),Kn([t],a=>this.processInjectorType(a,[],o)),this.records.set($h,co(void 0,this));const s=this.records.get(zh);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:Me(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=gs,i=te.Default){this.assertNotDestroyed();const r=Rg(this),o=Oi(void 0);try{if(!(i&te.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function eT(n){return"function"==typeof n||"object"==typeof n&&n instanceof U}(t)&&yu(t);a=l&&this.injectableDefInScope(l)?co(Wh(t),xs):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&te.Self?hy():this.parent).get(t,e=i&te.Optional&&e===gs?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[Qa]=s[Qa]||[]).unshift(Me(t)),r)throw s;return function kk(n,t,e,i){const r=n[Qa];throw t[Og]&&r.unshift(t[Og]),n.message=function Ek(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Me(t);if(Array.isArray(t))r=t.map(Me).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Me(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(bk,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Qa]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{Oi(o),Rg(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Me(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processInjectorType(t,e,i){if(!(t=se(t)))return!1;let r=$m(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=$m(o)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(s);try{Kn(r.imports,h=>{this.processInjectorType(h,e,i)&&(void 0===u&&(u=[]),u.push(h))})}finally{}if(void 0!==u)for(let h=0;h<u.length;h++){const{ngModule:f,providers:m}=u[h];Kn(m,v=>this.processProvider(v,f,m||Pe))}}this.injectorDefTypes.add(s);const l=fr(s)||(()=>new s);this.records.set(s,co(l,xs));const c=r.providers;if(null!=c&&!a){const u=t;Kn(c,h=>this.processProvider(h,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=uo(t=se(t))?t:se(t&&t.provide);const o=function Yx(n,t,e){return my(n)?co(void 0,n.useValue):co(py(n),xs)}(t);if(uo(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=co(void 0,xs,!0),s.factory=()=>Xu(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===xs&&(e.value=zx,e.value=e.factory()),"object"==typeof e.value&&e.value&&function Qx(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=se(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Wh(n){const t=yu(n),e=null!==t?t.factory:fr(n);if(null!==e)return e;if(n instanceof U)throw new V(204,!1);if(n instanceof Function)return function Wx(n){const t=n.length;if(t>0)throw ms(t,"?"),new V(204,!1);const e=function sM(n){const t=n&&(n[Aa]||n[zm]);if(t){const e=function aM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new V(204,!1)}function py(n,t,e){let i;if(uo(n)){const r=se(n);return fr(r)||Wh(r)}if(my(n))i=()=>se(n.useValue);else if(function Jx(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Xu(n.deps||[]));else if(function Kx(n){return!(!n||!n.useExisting)}(n))i=()=>S(se(n.useExisting));else{const r=se(n&&(n.useClass||n.provide));if(!function Xx(n){return!!n.deps}(n))return fr(r)||Wh(r);i=()=>new r(...Xu(n.deps))}return i}function co(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function my(n){return null!==n&&"object"==typeof n&&Ck in n}function uo(n){return"function"==typeof n}let Fe=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return dy({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return dy({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=gs,n.NULL=new uy,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>S($h)}),n.__NG_ELEMENT_ID__=-1,n})();function lT(n,t){Ua(lh(n)[1],ht())}function ve(n){let t=function Ey(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(On(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new V(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=Jh(n.inputs),s.declaredInputs=Jh(n.declaredInputs),s.outputs=Jh(n.outputs);const a=r.hostBindings;a&&dT(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&uT(n,l),c&&hT(n,c),mu(n.inputs,r.inputs),mu(n.declaredInputs,r.declaredInputs),mu(n.outputs,r.outputs),On(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===ve&&(e=!1)}}t=Object.getPrototypeOf(t)}!function cT(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ga(r.hostAttrs,e=Ga(e,r.hostAttrs))}}(i)}function Jh(n){return n===Vr?{}:n===Pe?[]:n}function uT(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function hT(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function dT(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let ml=null;function ho(){if(!ml){const n=xe.Symbol;if(n&&n.iterator)ml=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(ml=i)}}}return ml}function Ts(n){return!!Zh(n)&&(Array.isArray(n)||!(n instanceof Map)&&ho()in n)}function Zh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ei(n,t,e){return n[t]=e}function Pt(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function gr(n,t,e,i){const r=Pt(n,t,e);return Pt(n,t+1,i)||r}function _n(n,t,e,i,r,o){const s=gr(n,t,e,i);return gr(n,t+2,r,o)||s}function Ct(n,t,e,i){const r=T();return Pt(r,zr(),t)&&(ge(),Qn(We(),r,n,t,e,i)),Ct}function po(n,t,e,i){return Pt(n,zr(),e)?t+ie(e)+i:re}function mo(n,t,e,i,r,o){const a=gr(n,yi(),e,r);return _i(2),a?t+ie(e)+i+ie(r)+o:re}function go(n,t,e,i,r,o,s,a){const c=function gl(n,t,e,i,r){const o=gr(n,t,e,i);return Pt(n,t+2,r)||o}(n,yi(),e,r,s);return _i(3),c?t+ie(e)+i+ie(r)+o+ie(s)+a:re}function E(n,t,e,i,r,o,s,a){const l=T(),c=ge(),u=n+20,h=c.firstCreatePass?function _T(n,t,e,i,r,o,s,a,l){const c=t.consts,u=so(t,n,4,s||null,Li(c,a));Nh(t,e,u,Li(c,l)),Ua(t,u);const h=u.tViews=dl(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,s):c.data[u];Yn(h,!1);const f=l[11].createComment("");al(c,l,f,h),At(f,l),fl(l,l[u]=iy(f,l,f,h)),La(h)&&Fh(c,l,h),null!=s&&Lh(l,h,a)}function Bt(n){return $r(function VM(){return ne.lFrame.contextLView}(),20+n)}function b(n,t=te.Default){const e=T();return null===e?S(n,t):Cg(ht(),e,se(n),t)}function yl(){throw new Error("invalid")}function w(n,t,e){const i=T();return Pt(i,zr(),t)&&sn(ge(),We(),i,n,t,i[11],e,!1),w}function nd(n,t,e,i,r){const s=r?"class":"style";cy(n,e,t.inputs[s],s,i)}function p(n,t,e,i){const r=T(),o=ge(),s=20+n,a=r[11],l=r[s]=gh(a,t,function JM(){return ne.lFrame.currentNamespace}()),c=o.firstCreatePass?function HT(n,t,e,i,r,o,s){const a=t.consts,c=so(t,n,2,r,Li(a,o));return Nh(t,e,c,Li(a,s)),null!==c.attrs&&pl(c,c.attrs,!1),null!==c.mergedAttrs&&pl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,r,0,t,e,i):o.data[s];Yn(c,!0);const u=c.mergedAttrs;null!==u&&za(a,l,u);const h=c.classes;null!==h&&wh(a,l,h);const f=c.styles;return null!==f&&kv(a,l,f),64!=(64&c.flags)&&al(o,r,l,c),0===function RM(){return ne.lFrame.elementDepthCount}()&&At(l,r),function FM(){ne.lFrame.elementDepthCount++}(),La(c)&&(Fh(o,r,c),zv(o,c,r)),null!==i&&Lh(r,c),p}function d(){let n=ht();Fu()?Lu():(n=n.parent,Yn(n,!1));const t=n;!function LM(){ne.lFrame.elementDepthCount--}();const e=ge();return e.firstCreatePass&&(Ua(e,n),Mu(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function tk(n){return 0!=(16&n.flags)}(t)&&nd(e,t,T(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function nk(n){return 0!=(32&n.flags)}(t)&&nd(e,t,T(),t.stylesWithoutHost,!1),d}function j(n,t,e,i){return p(n,t,e,i),d(),j}function Co(n,t,e){const i=T(),r=ge(),o=n+20,s=r.firstCreatePass?function jT(n,t,e,i,r){const o=t.consts,s=Li(o,i),a=so(t,n,8,"ng-container",s);return null!==s&&pl(a,s,!0),Nh(t,e,a,Li(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Yn(s,!0);const a=i[o]=i[11].createComment("");return al(r,i,a,s),At(a,i),La(s)&&(Fh(r,i,s),zv(r,s,i)),null!=e&&Lh(i,s),Co}function Do(){let n=ht();const t=ge();return Fu()?Lu():(n=n.parent,Yn(n,!1)),t.firstCreatePass&&(Ua(t,n),Mu(n)&&t.queries.elementEnd(n)),Do}function id(n,t,e){return Co(n,t,e),Do(),id}function W(){return T()}function Ps(n){return!!n&&"function"==typeof n.then}const rd=function Wy(n){return!!n&&"function"==typeof n.subscribe};function x(n,t,e,i){const r=T(),o=ge(),s=ht();return Yy(o,r,r[11],s,n,t,!!e,i),x}function od(n,t){const e=ht(),i=T(),r=ge();return Yy(r,i,ay(Bu(r.data),e,i),e,n,t,!1),od}function Yy(n,t,e,i,r,o,s,a){const l=La(i),u=n.firstCreatePass&&sy(n),h=t[8],f=oy(t);let m=!0;if(3&i.type||a){const D=vn(i,t),k=a?a(D):D,C=f.length,P=a?I=>a(rt(I[i.index])):i.index;if(Ge(e)){let I=null;if(!a&&l&&(I=function UT(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==I)(I.__ngLastListenerFn__||I).__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,m=!1;else{o=sd(i,t,h,o,!1);const q=e.listen(k,r,o);f.push(o,q),u&&u.push(r,P,C,C+1)}}else o=sd(i,t,h,o,!0),k.addEventListener(r,o,s),f.push(o),u&&u.push(r,P,C,s)}else o=sd(i,t,h,o,!1);const v=i.outputs;let _;if(m&&null!==v&&(_=v[r])){const D=_.length;if(D)for(let k=0;k<D;k+=2){const be=t[_[k]][_[k+1]].subscribe(o),Ce=f.length;f.push(o,be),u&&u.push(r,i.index,Ce,-(Ce+1))}}}function Ky(n,t,e,i){try{return!1!==e(i)}catch(r){return ly(n,r),!1}}function sd(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?tn(n.index,t):t;0==(32&t[2])&&Hh(a);let l=Ky(t,0,i,s),c=o.__ngNextListenerFn__;for(;c;)l=Ky(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function M(n=1){return function $M(n){return(ne.lFrame.contextLView=function zM(n,t){for(;n>0;)t=t[15],n--;return t}(n,ne.lFrame.contextLView))[8]}(n)}function qT(n,t){let e=null;const i=function ZE(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Av(n,o,!0):ex(i,o))return r}else e=r}return e}function ye(n,t,e){return Ui(n,"",t,"",e),ye}function Ui(n,t,e,i,r){const o=T(),s=po(o,t,e,i);return s!==re&&sn(ge(),We(),o,n,s,o[11],r,!1),Ui}function vr(n,t,e,i,r,o,s){const a=T(),l=mo(a,t,e,i,r,o);return l!==re&&sn(ge(),We(),a,n,l,a[11],s,!1),vr}function ad(n,t,e,i,r,o,s,a,l){const c=T(),u=go(c,t,e,i,r,o,s,a);return u!==re&&sn(ge(),We(),c,n,u,c[11],l,!1),ad}function ld(n,t,e,i,r,o,s,a,l,c,u,h,f,m,v,_,D,k,C){const P=T(),I=function bo(n,t,e,i,r,o,s,a,l,c,u,h,f,m,v,_,D,k){const C=yi();let P=_n(n,C,e,r,s,l);return P=_n(n,C+4,u,f,v,D)||P,_i(8),P?t+ie(e)+i+ie(r)+o+ie(s)+a+ie(l)+c+ie(u)+h+ie(f)+m+ie(v)+_+ie(D)+k:re}(P,t,e,i,r,o,s,a,l,c,u,h,f,m,v,_,D,k);return I!==re&&sn(ge(),We(),P,n,I,P[11],C,!1),ld}function i_(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ln(o):Si(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];GT(n[a],t)&&(l=!0,n[a+1]=i?Mh(u):Ch(u)),a=i?Ln(u):Si(u)}l&&(n[e+1]=i?Ch(o):Mh(o))}function GT(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&eo(n,t)>=0}function Bn(n,t,e){return Vn(n,t,e,!1),Bn}function ko(n,t){return Vn(n,t,null,!0),ko}function Vn(n,t,e,i){const r=T(),o=ge(),s=_i(2);o.firstUpdatePass&&function h_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Lt()],s=function u_(n,t){return t>=n.expandoStartIndex}(n,e);(function m_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!s&&(t=!1),t=function tA(n,t,e,i){const r=Bu(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Is(e=cd(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=cd(r,n,t,e,i),null===o){let l=function nA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Si(i))return n[Ln(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=cd(null,n,t,l[1],i),l=Is(l,t.attrs,i),function iA(n,t,e,i){n[Ln(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function rA(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Is(i,n[o].hostAttrs,e);return Is(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function $T(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ln(s),l=Si(s);n[i]=e;let u,c=!1;if(Array.isArray(e)){const h=e;u=h[1],(null===u||eo(h,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const f=Ln(n[a+1]);n[i+1]=cl(f,a),0!==f&&(n[f+1]=Dh(n[f+1],i)),n[a+1]=function rx(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=cl(a,0),0!==a&&(n[a+1]=Dh(n[a+1],i)),a=i;else n[i+1]=cl(l,0),0===a?a=i:n[l+1]=Dh(n[l+1],i),l=i;c&&(n[i+1]=Ch(n[i+1])),i_(n,u,i,!0),i_(n,u,i,!1),function zT(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&eo(o,t)>=0&&(e[i+1]=Mh(e[i+1]))}(t,u,n,i,o),s=cl(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}(o,n,s,i),t!==re&&Pt(r,s,t)&&function f_(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];_l(function Fv(n){return 1==(1&n)}(c)?p_(l,t,e,r,Si(c),s):void 0)||(_l(o)||function Rv(n){return 2==(2&n)}(c)&&(o=p_(l,null,e,r,a,s)),function GE(n,t,e,i,r){const o=Ge(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:on.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=on.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Na(Lt(),e),r,o))}(o,o.data[Lt()],r,r[11],n,r[s+1]=function aA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Me(rn(n)))),n}(t,e),i,s)}function cd(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=Is(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Is(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),nn(n,s,!!e||t[++o]))}return void 0===n?null:n}function p_(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,h=null===u;let f=e[r+1];f===re&&(f=h?Pe:void 0);let m=h?Ku(f,i):u===i?f:void 0;if(c&&!_l(m)&&(m=Ku(l,i)),_l(m)&&(a=m,s))return a;const v=n[r+1];r=s?Ln(v):Si(v)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=Ku(l,i))}return a}function _l(n){return void 0!==n}function g(n,t=""){const e=T(),i=ge(),r=n+20,o=i.firstCreatePass?so(i,r,1,t,null):i.data[r],s=e[r]=function mh(n,t){return Ge(n)?n.createText(t):n.createTextNode(t)}(e[11],t);al(i,e,s,o),Yn(o,!1)}function De(n){return oe("",n,""),De}function oe(n,t,e){const i=T(),r=po(i,n,t,e);return r!==re&&bi(i,Lt(),r),oe}function Sn(n,t,e,i,r){const o=T(),s=mo(o,n,t,e,i,r);return s!==re&&bi(o,Lt(),s),Sn}function Sl(n,t,e,i,r,o,s){const a=T(),l=go(a,n,t,e,i,r,o,s);return l!==re&&bi(a,Lt(),l),Sl}function ud(n,t,e){const i=T();return Pt(i,zr(),t)&&sn(ge(),We(),i,n,t,i[11],e,!0),ud}function hd(n,t,e){const i=T();if(Pt(i,zr(),t)){const o=ge(),s=We();sn(o,s,i,n,t,ay(Bu(o.data),s,i),e,!0)}return hd}const yr=void 0;var EA=["en",[["a","p"],["AM","PM"],yr],[["AM","PM"],yr,yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yr,"{1} 'at' {0}",yr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kA(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Eo={};function Vt(n){const t=function xA(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=I_(t);if(e)return e;const i=t.split("-")[0];if(e=I_(i),e)return e;if("en"===i)return EA;throw new Error(`Missing locale data for the locale "${n}".`)}function I_(n){return n in Eo||(Eo[n]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[n]),Eo[n]}var B=(()=>((B=B||{})[B.LocaleId=0]="LocaleId",B[B.DayPeriodsFormat=1]="DayPeriodsFormat",B[B.DayPeriodsStandalone=2]="DayPeriodsStandalone",B[B.DaysFormat=3]="DaysFormat",B[B.DaysStandalone=4]="DaysStandalone",B[B.MonthsFormat=5]="MonthsFormat",B[B.MonthsStandalone=6]="MonthsStandalone",B[B.Eras=7]="Eras",B[B.FirstDayOfWeek=8]="FirstDayOfWeek",B[B.WeekendRange=9]="WeekendRange",B[B.DateFormat=10]="DateFormat",B[B.TimeFormat=11]="TimeFormat",B[B.DateTimeFormat=12]="DateTimeFormat",B[B.NumberSymbols=13]="NumberSymbols",B[B.NumberFormats=14]="NumberFormats",B[B.CurrencyCode=15]="CurrencyCode",B[B.CurrencySymbol=16]="CurrencySymbol",B[B.CurrencyName=17]="CurrencyName",B[B.Currencies=18]="Currencies",B[B.Directionality=19]="Directionality",B[B.PluralCase=20]="PluralCase",B[B.ExtraData=21]="ExtraData",B))();const bl="en-US";let O_=bl;function pd(n,t,e,i,r){if(n=se(n),Array.isArray(n))for(let o=0;o<n.length;o++)pd(n[o],t,e,i,r);else{const o=ge(),s=T();let a=uo(n)?n:se(n.provide),l=py(n);const c=ht(),u=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(uo(n)||!n.multi){const m=new cs(l,r,b),v=gd(a,t,r?u:u+f,h);-1===v?(Ka(hs(c,s),o,a),md(o,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(m),s.push(m)):(e[v]=m,s[v]=m)}else{const m=gd(a,t,u+f,h),v=gd(a,t,u,u+f),_=m>=0&&e[m],D=v>=0&&e[v];if(r&&!D||!r&&!_){Ka(hs(c,s),o,a);const k=function kP(n,t,e,i,r){const o=new cs(n,e,b);return o.multi=[],o.index=t,o.componentProviders=0,r0(o,r,i&&!e),o}(r?MP:DP,e.length,r,i,l);!r&&D&&(e[v].providerFactory=k),md(o,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(k),s.push(k)}else md(o,n,m>-1?m:v,r0(e[r?v:m],l,!r&&i));!r&&i&&D&&e[v].componentProviders++}}}function md(n,t,e,i){const r=uo(t),o=function Zx(n){return!!n.useClass}(t);if(r||o){const l=(o?se(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function r0(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function gd(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function DP(n,t,e,i){return vd(this.multi,[])}function MP(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ds(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),vd(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],vd(r,o);return o}function vd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function je(n,t=[]){return e=>{e.providersResolver=(i,r)=>function CP(n,t,e){const i=ge();if(i.firstCreatePass){const r=On(n);pd(e,i.data,i.blueprint,r,!0),pd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class o0{}class TP{resolveComponentFactory(t){throw function xP(n){const t=Error(`No component factory found for ${Me(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let qi=(()=>{class n{}return n.NULL=new TP,n})();function AP(){return To(ht(),T())}function To(n,t){return new Ze(vn(n,t))}let Ze=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=AP,n})();function PP(n){return n instanceof Ze?n.nativeElement:n}class Ns{}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function OP(){const n=T(),e=tn(ht().index,n);return function IP(n){return n[11]}(Wn(e)?e:n)}(),n})(),RP=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class _r{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const FP=new _r("13.3.3"),yd={};function kl(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(rt(o)),In(o))for(let a=10;a<o.length;a++){const l=o[a],c=l[1].firstChild;null!==c&&kl(l[1],l,c,i)}const s=e.type;if(8&s)kl(n,t,e.child,i);else if(32&s){const a=dh(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Cv(t,e);if(Array.isArray(a))i.push(...a);else{const l=Ds(t[16]);kl(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Bs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return kl(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(In(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(vh(t,i),Za(e,i))}this._attachedToViewContainer=!1}pv(this._lView[1],this._lView)}onDestroy(t){Kv(this._lView[1],this._lView,null,t)}markForCheck(){Hh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Uh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Hx(n,t,e){Va(!0);try{Uh(n,t,e)}finally{Va(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new V(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function LE(n,t){Ms(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new V(902,"");this._appRef=t}}class LP extends Bs{constructor(t){super(t),this._view=t}detectChanges(){ry(this._view)}checkNoChanges(){!function jx(n){Va(!0);try{ry(n)}finally{Va(!1)}}(this._view)}get context(){return null}}class a0 extends qi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=xt(t);return new _d(e,this.ngModule)}}function l0(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class _d extends o0{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function nx(n){return n.map(tx).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return l0(this.componentDef.inputs)}get outputs(){return l0(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function BP(n,t){return{get:(e,i,r)=>{const o=n.get(e,yd,r);return o!==yd||i===yd?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(Ns,ng),a=o.get(RP,null),l=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function Yv(n,t,e){if(Ge(n))return n.selectRootElement(t,e===An.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):gh(s.createRenderer(null,this.componentDef),c,function NP(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),h=this.componentDef.onPush?576:528,f=function ky(n,t){return{components:[],scheduler:n||TE,clean:Ux,playerHandler:t||null,flags:0}}(),m=dl(0,null,null,1,0,null,null,null,null,null),v=ks(null,m,f,h,null,null,s,l,a,o);let _,D;Ha(v);try{const k=function Dy(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=so(s,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(pl(l,c,!0),null!==n&&(za(r,n,c),null!==l.classes&&wh(r,n,l.classes),null!==l.styles&&kv(r,n,l.styles)));const u=i.createRenderer(n,t),h=ks(e,Gv(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return s.firstCreatePass&&(Ka(hs(l,e),s,t.type),ey(s,l),ty(l,e.length,1)),fl(e,h),e[20]=h}(u,this.componentDef,v,s,l);if(u)if(i)za(l,u,["ng-version",FP.full]);else{const{attrs:C,classes:P}=function ix(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Fn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&za(l,u,C),P&&P.length>0&&wh(l,u,P.join(" "))}if(D=Iu(m,20),void 0!==e){const C=D.projection=[];for(let P=0;P<this.ngContentSelectors.length;P++){const I=e[P];C.push(null!=I?Array.from(I):null)}}_=function My(n,t,e,i,r){const o=e[1],s=function Dx(n,t,e){const i=ht();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),ny(n,i,t,ao(n,t,1,null),e));const r=ds(t,n,i.directiveStart,i);At(r,t);const o=vn(i,t);return o&&At(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=ht();t.contentQueries(1,s,l.directiveStart)}const a=ht();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Ni(a.index),Xv(e[1],a,0,a.directiveStart,a.directiveEnd,t),Qv(t,s)),s}(k,this.componentDef,v,f,[lT]),Es(m,v,null)}finally{ja()}return new HP(this.componentType,_,To(D,v),v,D)}}class HP extends class EP{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new LP(r),this.componentType=t}get injector(){return new Yr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class wi{}class c0{}const Ao=new Map;class d0 extends wi{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new a0(this);const i=pn(t);this._bootstrapComponents=Xn(i.bootstrap),this._r3Injector=fy(t,e,[{provide:wi,useValue:this},{provide:qi,useValue:this.componentFactoryResolver}],Me(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Fe.THROW_IF_NOT_FOUND,i=te.Default){return t===Fe||t===wi||t===$h?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sd extends c0{constructor(t){super(),this.moduleType=t,null!==pn(t)&&function UP(n){const t=new Set;!function e(i){const r=pn(i,!0),o=r.id;null!==o&&(function u0(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Me(t)} vs ${Me(t.name)}`)}(o,Ao.get(o),i),Ao.set(o,i));const s=Xn(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new d0(this.moduleType,t)}}function ot(n,t,e,i){return f0(T(),Ft(),n,t,e,i)}function bd(n,t,e,i,r){return p0(T(),Ft(),n,t,e,i,r)}function Vs(n,t){const e=n[t];return e===re?void 0:e}function f0(n,t,e,i,r,o){const s=t+e;return Pt(n,s,r)?ei(n,s+1,o?i.call(o,r):i(r)):Vs(n,s+1)}function p0(n,t,e,i,r,o,s){const a=t+e;return gr(n,a,r,o)?ei(n,a+2,s?i.call(s,r,o):i(r,o)):Vs(n,a+2)}function L(n,t){const e=ge();let i;const r=n+20;e.firstCreatePass?(i=function ZP(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=fr(i.type)),s=Oi(b);try{const a=Wa(!1),l=o();return Wa(a),function ST(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,T(),r,l),l}finally{Oi(s)}}function $(n,t,e){const i=n+20,r=T(),o=$r(r,i);return Hs(r,i)?f0(r,Ft(),t,o.transform,e,o):o.transform(e)}function yt(n,t,e,i){const r=n+20,o=T(),s=$r(o,r);return Hs(o,r)?p0(o,Ft(),t,s.transform,e,i,s):s.transform(e,i)}function Hs(n,t){return n[1].data[t].pure}function wd(n){return t=>{setTimeout(n,void 0,t)}}const Ie=class tI extends Te{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),l=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(l=wd(l),a&&(a=wd(a)),c&&(c=wd(c)));const u=super.subscribe({next:a,error:l,complete:c});return t instanceof St&&t.add(u),u}};function nI(){return this._results[ho()]()}class Cd{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=ho(),i=Cd.prototype;i[e]||(i[e]=nI)}get changes(){return this._changes||(this._changes=new Ie)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=yn(t);(this._changesDetected=!function dk(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ri=(()=>{class n{}return n.__NG_ELEMENT_ID__=oI,n})();const iI=ri,rI=class extends iI{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=ks(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Es(e,i,t),new Bs(i)}};function oI(){return El(ht(),T())}function El(n,t){return 4&n.type?new rI(t,n,To(n,t)):null}let bn=(()=>{class n{}return n.__NG_ELEMENT_ID__=sI,n})();function sI(){return S0(ht(),T())}const aI=bn,y0=class extends aI{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return To(this._hostTNode,this._hostLView)}get injector(){return new Yr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ya(this._hostTNode,this._hostLView);if(yg(t)){const e=Wr(t,this._hostLView),i=Gr(t);return new Yr(e[1].data[i+8],e)}return new Yr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=_0(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function ps(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const h=e||{};a=h.index,i=h.injector,r=h.projectableNodes,o=h.ngModuleRef}const l=s?t:new _d(xt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const f=(s?c:this.parentInjector).get(wi,null);f&&(o=f)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,a),u}insert(t,e){const i=t._lView,r=i[1];if(function OM(n){return In(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const h=i[3],f=new y0(h,h[6],h[3]);f.detach(f.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function BE(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],xg(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function VE(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=Sh(o,s),l=i[11],c=sl(l,s[7]);return null!==c&&function FE(n,t,e,i,r,o){i[0]=r,i[6]=t,Ms(n,i,e,1,r,o)}(r,s[6],l,i,c,a),t.attachToViewContainerRef(),xg(Dd(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=_0(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=vh(this._lContainer,e);i&&(Za(Dd(this._lContainer),e),pv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=vh(this._lContainer,e);return i&&null!=Za(Dd(this._lContainer),e)?new Bs(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function _0(n){return n[8]}function Dd(n){return n[8]||(n[8]=[])}function S0(n,t){let e;const i=t[n.index];if(In(i))e=i;else{let r;if(8&n.type)r=rt(i);else{const o=t[11];r=o.createComment("");const s=vn(n,t);mr(o,sl(o,s),r,function qE(n,t){return Ge(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=iy(i,t,r,n),fl(t,e)}return new y0(e,n,t)}class Md{constructor(t){this.queryList=t,this.matches=null}clone(){return new Md(this.queryList)}setDirty(){this.queryList.setDirty()}}class kd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new kd(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==k0(t,e).matches&&this.queries[e].setDirty()}}class b0{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Ed{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new Ed(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xd{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,uI(e,o)),this.matchTNodeWithReadOption(t,e,Ja(e,t,o,!1,!1))}else i===ri?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ja(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ze||r===bn||r===ri&&4&e.type)this.addMatch(e.index,-2);else{const o=Ja(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function uI(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function dI(n,t,e,i){return-1===e?function hI(n,t){return 11&n.type?To(n,t):4&n.type?El(n,t):null}(t,n):-2===e?function fI(n,t,e){return e===Ze?To(t,n):e===ri?El(t,n):e===bn?S0(t,n):void 0}(n,t,i):ds(n,n[1],e,t)}function w0(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:dI(t,o[c],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function Td(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=w0(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=t[-l];for(let h=10;h<u.length;h++){const f=u[h];f[17]===f[3]&&Td(f[1],f,c,i)}if(null!==u[9]){const h=u[9];for(let f=0;f<h.length;f++){const m=h[f];Td(m[1],m,c,i)}}}}}return i}function xl(n){const t=T(),e=ge(),i=cg();Vu(i+1);const r=k0(e,i);if(n.dirty&&ig(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?Td(e,t,i,[]):w0(e,t,r,i);n.reset(o,PP),n.notifyOnChanges()}return!0}return!1}function C0(n,t,e){const i=ge();i.firstCreatePass&&(function M0(n,t,e){null===n.queries&&(n.queries=new Ed),n.queries.track(new xd(t,e))}(i,new b0(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),function D0(n,t,e){const i=new Cd(4==(4&e));Kv(n,t,i,i.destroy),null===t[19]&&(t[19]=new kd),t[19].queries.push(new Md(i))}(i,T(),t)}function k0(n,t){return n.queries.getByIndex(t)}function E0(n,t){return El(n,t)}function Il(...n){}const Ld=new U("Application Initializer");let Nd=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Il,this.reject=Il,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(Ps(o))e.push(o);else if(rd(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(S(Ld,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Us=new U("AppId",{providedIn:"root",factory:function $0(){return`${Bd()}${Bd()}${Bd()}`}});function Bd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new U("Platform Initializer"),Vd=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),G0=new U("appBootstrapListener");let II=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ci=new U("LocaleId",{providedIn:"root",factory:()=>el(Ci,te.Optional|te.SkipSelf)||function OI(){return"undefined"!=typeof $localize&&$localize.locale||bl}()});class FI{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let W0=(()=>{class n{compileModuleSync(e){return new Sd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Xn(pn(e).declarations).reduce((s,a)=>{const l=xt(a);return l&&s.push(new _d(l)),s},[]);return new FI(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NI=(()=>Promise.resolve(0))();function Hd(n){"undefined"==typeof Zone?NI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ee{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ie(!1),this.onMicrotaskEmpty=new Ie(!1),this.onStable=new Ie(!1),this.onError=new Ie(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function BI(){let n=xe.requestAnimationFrame,t=xe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function jI(n){const t=()=>{!function HI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Ud(n),n.isCheckStableRunning=!0,jd(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Ud(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return Y0(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),K0(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return Y0(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),K0(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Ud(n),jd(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ee.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ee.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,VI,Il,Il);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const VI={};function jd(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ud(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Y0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function K0(n){n._nesting--,jd(n)}class UI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ie,this.onMicrotaskEmpty=new Ie,this.onStable=new Ie,this.onError=new Ie}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let qd=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ee.assertNotInAngularZone(),Hd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hd(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(S(Ee))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),qI=(()=>{class n{constructor(){this._applications=new Map,$d.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return $d.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class $I{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let jn,$d=new $I;const J0=new U("AllowMultipleToken");class Z0{constructor(t,e){this.name=t,this.token=e}}function X0(n,t,e=[]){const i=`Platform: ${t}`,r=new U(i);return(o=[])=>{let s=Q0();if(!s||s.injector.get(J0,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:zh,useValue:"platform"});!function YI(n){if(jn&&!jn.destroyed&&!jn.injector.get(J0,!1))throw new V(400,"");jn=n.get(JI);const t=n.get(z0,null);t&&t.forEach(e=>e())}(Fe.create({providers:a,name:i}))}return function KI(n){const t=Q0();if(!t)throw new V(401,"");return t}()}}function Q0(){return jn&&!jn.destroyed?jn:null}let JI=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function ZI(n,t){let e;return e="noop"===n?new UI:("zone.js"===n?void 0:n)||new Ee({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:Ee,useValue:a}];return a.run(()=>{const c=Fe.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),h=u.injector.get(Vi,null);if(!h)throw new V(402,"");return a.runOutsideAngular(()=>{const f=a.onError.subscribe({next:m=>{h.handleError(m)}});u.onDestroy(()=>{zd(this._modules,u),f.unsubscribe()})}),function XI(n,t,e){try{const i=e();return Ps(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(h,a,()=>{const f=u.injector.get(Nd);return f.runInitializers(),f.donePromise.then(()=>(function IA(n){Xt(n,"Expected localeId to be defined"),"string"==typeof n&&(O_=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Ci,bl)||bl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=eS({},i);return function GI(n,t,e){const i=new Sd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(qs);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new V(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function eS(n,t){return Array.isArray(t)?t.reduce(eS,n):Object.assign(Object.assign({},n),t)}let qs=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Ue(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),a=new Ue(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),Hd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Hm(s,a.pipe(jm()))}bootstrap(e,i){if(!this._initStatus.done)throw new V(405,"");let r;r=e instanceof o0?e:this._injector.get(qi).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function WI(n){return n.isBoundToModule}(r)?void 0:this._injector.get(wi),a=r.create(Fe.NULL,[],i||r.selector,o),l=a.location.nativeElement,c=a.injector.get(qd,null),u=c&&a.injector.get(qI);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),zd(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new V(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;zd(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(G0,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(S(Ee),S(Fe),S(Vi),S(Nd))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zd(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let nS=!0,$s=(()=>{class n{}return n.__NG_ELEMENT_ID__=tO,n})();function tO(n){return function nO(n,t,e){if(Fa(n)&&!e){const i=tn(n.index,t);return new Bs(i,i)}return 47&n.type?new Bs(t[16],t):null}(ht(),T(),16==(16&n))}class aS{constructor(){}supports(t){return Ts(t)}create(t){return new lO(t)}}const aO=(n,t)=>t;class lO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||aO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<cS(i,r,o)?e:i,a=cS(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){const m=f<o.length?o[f]:o[f]=0,v=m+f;u<=v&&v<c&&(o[f]=m+1)}o[s.previousIndex]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ts(t))throw new V(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function yT(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[ho()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new cO(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new lS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new lS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class cO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class uO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class lS{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new uO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cS(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class uS{constructor(){}supports(t){return t instanceof Map||Zh(t)}create(){return new hO}}class hO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Zh(t)))throw new V(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new dO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class dO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function hS(){return new Fl([new aS])}let Fl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||hS()),deps:[[n,new to,new Rn]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new V(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:hS}),n})();function dS(){return new zs([new uS])}let zs=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||dS()),deps:[[n,new to,new Rn]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new V(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:dS}),n})();const mO=X0(null,"core",[]);let gO=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(S(qs))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),Ll=null;function oi(){return Ll}const de=new U("DocumentToken");let br=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function SO(){return S(fS)}()},providedIn:"platform"}),n})();const bO=new U("Location Initialized");let fS=(()=>{class n extends br{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oi().getBaseHref(this._doc)}onPopState(e){const i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=oi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){pS()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){pS()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:function(){return function wO(){return new fS(S(de))}()},providedIn:"platform"}),n})();function pS(){return!!window.history.pushState}function Jd(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function mS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Di(n){return n&&"?"!==n[0]?"?"+n:n}let Io=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function CO(n){const t=S(de).location;return new gS(S(br),t&&t.origin||"")}()},providedIn:"root"}),n})();const Zd=new U("appBaseHref");let gS=(()=>{class n extends Io{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Jd(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Di(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Di(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Di(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(br),S(Zd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),DO=(()=>{class n extends Io{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Jd(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Di(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(br),S(Zd,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Gs=(()=>{class n{constructor(e,i){this._subject=new Ie,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=mS(vS(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Di(i))}normalize(e){return n.stripTrailingSlash(function kO(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,vS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Di(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Di(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Di,n.joinWithSlash=Jd,n.stripTrailingSlash=mS,n.\u0275fac=function(e){return new(e||n)(S(Io),S(br))},n.\u0275prov=R({token:n,factory:function(){return function MO(){return new Gs(S(Io),S(br))}()},providedIn:"root"}),n})();function vS(n){return n.replace(/\/index.html$/,"")}var Gt=(()=>((Gt=Gt||{})[Gt.Decimal=0]="Decimal",Gt[Gt.Percent=1]="Percent",Gt[Gt.Currency=2]="Currency",Gt[Gt.Scientific=3]="Scientific",Gt))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function wn(n,t){const e=Vt(n),i=e[B.NumberSymbols][t];if(void 0===i){if(t===K.CurrencyDecimal)return e[B.NumberSymbols][K.Decimal];if(t===K.CurrencyGroup)return e[B.NumberSymbols][K.Group]}return i}function Xd(n,t){return Vt(n)[B.NumberFormats][t]}const XO=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function rf(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let c=function oR(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(c=function rR(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,h=t.minFrac,f=t.maxFrac;if(o){const C=o.match(XO);if(null===C)throw new Error(`${o} is not a valid digit info`);const P=C[1],I=C[3],q=C[5];null!=P&&(u=af(P)),null!=I&&(h=af(I)),null!=q?f=af(q):null!=I&&h>f&&(f=h)}!function sR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let h=s;h<i.length;h++)i[h]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let h=1;h<s;h++)i[h]=0}if(a>=5)if(s-1<0){for(let h=0;h>s;h--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(h,f,m,v){return v[m]=(f+=h)<10?f:f-10,l&&(0===v[m]&&m>=c?v.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,h,f);let m=c.digits,v=c.integerLen;const _=c.exponent;let D=[];for(l=m.every(C=>!C);v<u;v++)m.unshift(0);for(;v<0;v++)m.unshift(0);v>0?D=m.splice(v,m.length):(D=m,m=[0]);const k=[];for(m.length>=t.lgSize&&k.unshift(m.splice(-t.lgSize,m.length).join(""));m.length>t.gSize;)k.unshift(m.splice(-t.gSize,m.length).join(""));m.length&&k.unshift(m.join("")),a=k.join(wn(e,i)),D.length&&(a+=wn(e,r)+D.join("")),_&&(a+=wn(e,K.Exponential)+"+"+_)}else a=wn(e,K.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function si(n,t,e){return rf(n,sf(Xd(t,Gt.Decimal),wn(t,K.MinusSign)),t,K.Group,K.Decimal,e)}function sf(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const h=l.charAt(u);"0"===h?e.minFrac=e.maxFrac=u+1:"#"===h?e.maxFrac=u+1:e.posSuf+=h}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,h=o.indexOf("#");e.negPre=o.substr(0,h).replace(/'/g,""),e.negSuf=o.substr(h+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function af(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let $i=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Ts(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Me(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(b(Fl),b(zs),b(Ze),b(ii))},n.\u0275dir=z({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class uR{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jt=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new uR(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),kS(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{kS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(bn),b(ri),b(Fl))},n.\u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function kS(n,t){n.context.$implicit=t.item}let Dt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new hR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ES("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ES("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(b(bn),b(ri))},n.\u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class hR{constructor(){this.$implicit=null,this.ngIf=null}}function ES(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Me(t)}'.`)}let TS=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(b(bn))},n.\u0275dir=z({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[en]}),n})();function qn(n,t){return new V(2100,"")}const wR=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let an=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw qn();return e.replace(wR,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bt({name:"titlecase",type:n,pure:!0}),n})(),hf=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=AS}transform(e,i=AS){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(function AR(n,t){return{key:n,value:t}}(s.key,s.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(b(zs,16))},n.\u0275pipe=bt({name:"keyvalue",type:n,pure:!1}),n})();function AS(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Oo=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!df(e))return null;r=r||this._locale;try{return si(ff(e),r,i)}catch(o){throw qn()}}}return n.\u0275fac=function(e){return new(e||n)(b(Ci,16))},n.\u0275pipe=bt({name:"number",type:n,pure:!0}),n})(),Gl=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!df(e))return null;r=r||this._locale;try{return function iR(n,t,e){return rf(n,sf(Xd(t,Gt.Percent),wn(t,K.MinusSign)),t,K.Group,K.Decimal,e,!0).replace(new RegExp("%","g"),wn(t,K.PercentSign))}(ff(e),r,i)}catch(o){throw qn()}}}return n.\u0275fac=function(e){return new(e||n)(b(Ci,16))},n.\u0275pipe=bt({name:"percent",type:n,pure:!0}),n})();function df(n){return!(null==n||""===n||n!=n)}function ff(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let pf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();const PS="browser";let NR=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>new BR(S(de),window)}),n})();class BR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function VR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=IS(this.window.history)||IS(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function IS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mf extends class jR extends class _O{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function yO(n){Ll||(Ll=n)}(new mf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function UR(){return Ks=Ks||document.querySelector("base"),Ks?Ks.getAttribute("href"):null}();return null==e?null:function qR(n){Wl=Wl||document.createElement("a"),Wl.setAttribute("href",n);const t=Wl.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ks=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function lR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Wl,Ks=null;const OS=new U("TRANSITION_ID"),zR=[{provide:Ld,useFactory:function $R(n,t,e){return()=>{e.get(Nd).donePromise.then(()=>{const i=oi(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[OS,de,Fe],multi:!0}];class gf{static init(){!function zI(n){$d=n}(new gf)}addToWindow(t){xe.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},xe.getAllAngularTestabilities=()=>t.getAllTestabilities(),xe.getAllAngularRootElements=()=>t.getAllRootElements(),xe.frameworkStabilizers||(xe.frameworkStabilizers=[]),xe.frameworkStabilizers.push(i=>{const r=xe.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?oi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let GR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Yl=new U("EventManagerPlugins");let Kl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(S(Yl),S(Ee))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class RS{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=oi().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let FS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends FS{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(LS),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(LS))}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function LS(n){oi().remove(n)}const vf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yf=/%COMP%/g;function Jl(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Jl(n,r,e):(r=r.replace(yf,n),e.push(r))}return e}function VS(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new _f(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case An.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new XR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case An.ShadowDom:return new QR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Jl(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(S(Kl),S(Js),S(Us))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class _f{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(vf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=vf[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=vf[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(on.DashCase|on.Important)?t.style.setProperty(e,i,r&on.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&on.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,VS(i)):this.eventManager.addEventListener(t,e,VS(i))}}class XR extends _f{constructor(t,e,i,r){super(t),this.component=i;const o=Jl(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function KR(n){return"_ngcontent-%COMP%".replace(yf,n)}(r+"-"+i.id),this.hostAttr=function JR(n){return"_nghost-%COMP%".replace(yf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class QR extends _f{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Jl(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let eF=(()=>{class n extends RS{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const jS=["alt","control","meta","shift"],nF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},US={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},iF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let rF=(()=>{class n extends RS{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oi().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(jS.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function oF(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&US.hasOwnProperty(t)&&(t=US[t]))}return nF[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),jS.forEach(o=>{o!=r&&iF[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const cF=X0(mO,"browser",[{provide:Vd,useValue:PS},{provide:z0,useValue:function sF(){mf.makeCurrent(),gf.init()},multi:!0},{provide:de,useFactory:function lF(){return function TM(n){Au=n}(document),document},deps:[]}]),uF=[{provide:zh,useValue:"root"},{provide:Vi,useFactory:function aF(){return new Vi},deps:[]},{provide:Yl,useClass:eF,multi:!0,deps:[de,Ee,Vd]},{provide:Yl,useClass:rF,multi:!0,deps:[de]},{provide:Zl,useClass:Zl,deps:[Kl,Js,Us]},{provide:Ns,useExisting:Zl},{provide:FS,useExisting:Js},{provide:Js,useClass:Js,deps:[de]},{provide:qd,useClass:qd,deps:[Ee]},{provide:Kl,useClass:Kl,deps:[Yl,Ee]},{provide:class HR{},useClass:GR,deps:[]}];let qS=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Us,useValue:e.appId},{provide:OS,useExisting:Us},zR]}}}return n.\u0275fac=function(e){return new(e||n)(S(n,12))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:uF,imports:[pf,gO]}),n})();"undefined"!=typeof window&&window;let bf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new(e||n):S(GS),i},providedIn:"root"}),n})(),GS=(()=>{class n extends bf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case we.NONE:return i;case we.HTML:return Jn(i,"HTML")?rn(i):Zg(this._doc,String(i)).toString();case we.STYLE:return Jn(i,"Style")?rn(i):i;case we.SCRIPT:if(Jn(i,"Script"))return rn(i);throw new Error("unsafe value used in a script context");case we.URL:return qg(i),Jn(i,"URL")?rn(i):Ss(String(i));case we.RESOURCE_URL:if(Jn(i,"ResourceURL"))return rn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function qk(n){return new Bk(n)}(e)}bypassSecurityTrustStyle(e){return function $k(n){return new Vk(n)}(e)}bypassSecurityTrustScript(e){return function zk(n){return new Hk(n)}(e)}bypassSecurityTrustUrl(e){return function Gk(n){return new jk(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Wk(n){return new Uk(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new e:function SF(n){return new GS(n.get(de))}(S(Fe)),i},providedIn:"root"}),n})();function J(...n){return gt(n,is(n))}class Dn extends Te{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:bF}=Array,{getPrototypeOf:wF,prototype:CF,keys:DF}=Object;function WS(n){if(1===n.length){const t=n[0];if(bF(t))return{args:t,keys:null};if(function MF(n){return n&&"object"==typeof n&&wF(n)===CF}(t)){const e=DF(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:kF}=Array;function wf(n){return me(t=>function EF(n,t){return kF(t)?n(...t):n(t)}(n,t))}function YS(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function KS(n,t,e){n?pi(e,n,t):t()}function Zs(n,t){const e=Se(n)?n:()=>n,i=r=>r.error(e());return new Ue(t?r=>t.schedule(i,0,r):i)}const Xl=iu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Cf(...n){return function AF(){return ns(1)}()(gt(n,is(n)))}function Df(n){return new Ue(t=>{Jt(n()).subscribe(t)})}function JS(){return nt((n,t)=>{let e=null;n._refCount++;const i=ze(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class PF extends Ue{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,wm(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new St;const e=this.getSubject();t.add(this.source.subscribe(ze(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=St.EMPTY)}return t}refCount(){return JS()(this)}}function wr(n,t){return nt((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ze(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;Jt(n(l,u)).subscribe(r=ze(i,h=>i.next(t?t(l,h,u,c++):h),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function ZS(...n){const t=is(n);return nt((e,i)=>{(t?Cf(n,e,t):Cf(n,e)).subscribe(i)})}function IF(n,t,e,i,r){return(o,s)=>{let a=e,l=t,c=0;o.subscribe(ze(s,u=>{const h=c++;l=a?n(l,u,h):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function XS(n,t){return nt(IF(n,t,arguments.length>=2,!0))}function ln(n,t){return nt((e,i)=>{let r=0;e.subscribe(ze(i,o=>n.call(t,o,r++)&&i.next(o)))})}function ki(n){return nt((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ze(e,void 0,void 0,s=>{o=Jt(n(s,ki(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Ro(n,t){return Se(t)?ut(n,t,1):ut(n,1)}function Mf(n){return n<=0?()=>mi:nt((t,e)=>{let i=[];t.subscribe(ze(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function QS(n=OF){return nt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function OF(){return new Xl}function eb(n){return nt((t,e)=>{let i=!1;t.subscribe(ze(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Fo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):Ii,zn(1),e?eb(t):QS(()=>new Xl))}function It(n,t,e){const i=Se(n)||t||e?{next:n,error:t,complete:e}:n;return i?nt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ze(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ii}function tb(n){return nt((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class Ei{constructor(t,e){this.id=t,this.url=e}}class kf extends Ei{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xs extends Ei{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nb extends Ei{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class FF extends Ei{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LF extends Ei{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NF extends Ei{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BF extends Ei{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class VF extends Ei{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HF extends Ei{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ib{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class jF{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UF{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qF{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $F{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ob{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ue="primary";class zF{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Lo(n){return new zF(n)}const sb="ngNavigationCancelingError";function Ef(n){const t=Error("NavigationCancelingError: "+n);return t[sb]=!0,t}function WF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function ai(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!ab(n[r],t[r]))return!1;return!0}function ab(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function lb(n){return Array.prototype.concat.apply([],n)}function cb(n){return n.length>0?n[n.length-1]:null}function Mt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function li(n){return rd(n)?n:Ps(n)?gt(Promise.resolve(n)):J(n)}const JF={exact:function db(n,t,e){if(!Dr(n.segments,t.segments)||!Ql(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!db(n.children[i],t.children[i],e))return!1;return!0},subset:fb},ub={exact:function ZF(n,t){return ai(n,t)},subset:function XF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ab(n[e],t[e]))},ignored:()=>!0};function hb(n,t,e){return JF[e.paths](n.root,t.root,e.matrixParams)&&ub[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function fb(n,t,e){return pb(n,t,t.segments,e)}function pb(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Dr(r,e)||t.hasChildren()||!Ql(r,e,i))}if(n.segments.length===e.length){if(!Dr(n.segments,e)||!Ql(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!fb(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Dr(n.segments,r)&&Ql(n.segments,r,i)&&n.children[ue])&&pb(n.children[ue],t,o,i)}}function Ql(n,t,e){return t.every((i,r)=>ub[e](n[r].parameters,i.parameters))}class Cr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return tL.serialize(this)}}class fe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ec(this)}}class Qs{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Lo(this.parameters)),this._parameterMap}toString(){return _b(this)}}function Dr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class mb{}class gb{parse(t){const e=new uL(t);return new Cr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ea(t.root,!0)}`,i=function rL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${tc(e)}=${tc(r)}`).join("&"):`${tc(e)}=${tc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function nL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const tL=new gb;function ec(n){return n.segments.map(t=>_b(t)).join("/")}function ea(n,t){if(!n.hasChildren())return ec(n);if(t){const e=n.children[ue]?ea(n.children[ue],!1):"",i=[];return Mt(n.children,(r,o)=>{o!==ue&&i.push(`${o}:${ea(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function eL(n,t){let e=[];return Mt(n.children,(i,r)=>{r===ue&&(e=e.concat(t(i,r)))}),Mt(n.children,(i,r)=>{r!==ue&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ue?[ea(n.children[ue],!1)]:[`${r}:${ea(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ue]?`${ec(n)}/${e[0]}`:`${ec(n)}/(${e.join("//")})`}}function vb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(n){return vb(n).replace(/%3B/gi,";")}function xf(n){return vb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nc(n){return decodeURIComponent(n)}function yb(n){return nc(n.replace(/\+/g,"%20"))}function _b(n){return`${xf(n.path)}${function iL(n){return Object.keys(n).map(t=>`;${xf(t)}=${xf(n[t])}`).join("")}(n.parameters)}`}const oL=/^[^\/()?;=#]+/;function ic(n){const t=n.match(oL);return t?t[0]:""}const sL=/^[^=?&#]+/,lL=/^[^&#]+/;class uL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ue]=new fe(t,e)),i}parseSegment(){const t=ic(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Qs(nc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ic(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ic(this.remaining);r&&(i=r,this.capture(i))}t[nc(e)]=nc(i)}parseQueryParam(t){const e=function aL(n){const t=n.match(sL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function cL(n){const t=n.match(lL);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=yb(e),o=yb(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ic(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ue);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[ue]:new fe([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Sb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Tf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Tf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Af(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Af(t,this._root).map(e=>e.value)}}function Tf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Tf(n,e);if(i)return i}return null}function Af(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Af(n,e);if(i.length)return i.unshift(t),i}return[]}class xi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function No(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class bb extends Sb{constructor(t,e){super(t),this.snapshot=e,Pf(this,t)}toString(){return this.snapshot.toString()}}function wb(n,t){const e=function hL(n,t){const s=new rc([],{},{},"",{},ue,t,null,n.root,-1,{});return new Db("",new xi(s,[]))}(n,t),i=new Dn([new Qs("",{})]),r=new Dn({}),o=new Dn({}),s=new Dn({}),a=new Dn(""),l=new Bo(i,r,s,a,o,ue,t,e.root);return l.snapshot=e.root,new bb(new xi(l,[]),e)}class Bo{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(t=>Lo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(t=>Lo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cb(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function dL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rc{constructor(t,e,i,r,o,s,a,l,c,u,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Lo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Lo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Db extends Sb{constructor(t,e){super(e),this.url=t,Pf(this,e)}toString(){return Mb(this._root)}}function Pf(n,t){t.value._routerState=n,t.children.forEach(e=>Pf(n,e))}function Mb(n){const t=n.children.length>0?` { ${n.children.map(Mb).join(", ")} } `:"";return`${n.value}${t}`}function If(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ai(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ai(t.params,e.params)||n.params.next(e.params),function YF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ai(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ai(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Of(n,t){const e=ai(n.params,t.params)&&function QF(n,t){return Dr(n,t)&&n.every((e,i)=>ai(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Of(n.parent,t.parent))}function ta(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function pL(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ta(n,i,r);return ta(n,i)})}(n,t,e);return new xi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>ta(n,a)),s}}const i=function mL(n){return new Bo(new Dn(n.url),new Dn(n.params),new Dn(n.queryParams),new Dn(n.fragment),new Dn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>ta(n,o));return new xi(i,r)}}function oc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function na(n){return"object"==typeof n&&null!=n&&n.outlets}function Rf(n,t,e,i,r){let o={};if(i&&Mt(i,(a,l)=>{o[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===t)return new Cr(e,o,r);const s=kb(n,t,e);return new Cr(s,o,r)}function kb(n,t,e){const i={};return Mt(n.children,(r,o)=>{i[o]=r===t?e:kb(r,t,e)}),new fe(n.segments,i)}class Eb{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&oc(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(na);if(r&&r!==cb(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ff{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function xb(n,t,e){if(n||(n=new fe([],{})),0===n.segments.length&&n.hasChildren())return sc(n,t,e);const i=function bL(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(na(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ab(l,c,s))return o;i+=2}else{if(!Ab(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new fe(n.segments.slice(0,i.pathIndex),{});return o.children[ue]=new fe(n.segments.slice(i.pathIndex),n.children),sc(o,0,r)}return i.match&&0===r.length?new fe(n.segments,{}):i.match&&!n.hasChildren()?Lf(n,t,e):i.match?sc(n,0,r):Lf(n,t,e)}function sc(n,t,e){if(0===e.length)return new fe(n.segments,{});{const i=function SL(n){return na(n[0])?n[0].outlets:{[ue]:n}}(e),r={};return Mt(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=xb(n.children[s],t,o))}),Mt(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new fe(n.segments,r)}}function Lf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(na(o)){const l=wL(o.outlets);return new fe(i,l)}if(0===r&&oc(e[0])){i.push(new Qs(n.segments[t].path,Tb(e[0]))),r++;continue}const s=na(o)?o.outlets[ue]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&oc(a)?(i.push(new Qs(s,Tb(a))),r+=2):(i.push(new Qs(s,{})),r++)}return new fe(i,{})}function wL(n){const t={};return Mt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Lf(new fe([],{}),0,e))}),t}function Tb(n){const t={};return Mt(n,(e,i)=>t[i]=`${e}`),t}function Ab(n,t,e){return n==e.path&&ai(t,e.parameters)}class DL{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),If(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=No(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Mt(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=No(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=No(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=No(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new $F(o.value.snapshot))}),t.children.length&&this.forwardEvent(new UF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(If(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),If(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function ML(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class Nf{constructor(t,e){this.routes=t,this.module=e}}function Gi(n){return"function"==typeof n}function Mr(n){return n instanceof Cr}const ia=Symbol("INITIAL_VALUE");function ra(){return wr(n=>function xF(...n){const t=is(n),e=Lm(n),{args:i,keys:r}=WS(n);if(0===i.length)return gt([],t);const o=new Ue(function TF(n,t,e=Ii){return i=>{KS(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)KS(t,()=>{const c=gt(n[l],t);let u=!1;c.subscribe(ze(i,h=>{o[l]=h,u||(u=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>YS(r,s):Ii));return e?o.pipe(wf(e)):o}(n.map(t=>t.pipe(zn(1),ZS(ia)))).pipe(XS((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==ia?r:(o===ia&&(i=!0),i||!1!==o&&s!==e.length-1&&!Mr(o)?r:o),t)},ia),ln(t=>t!==ia),me(t=>Mr(t)?t:!0===t),zn(1)))}class PL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new oa,this.attachRef=null}}class oa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new PL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Pb=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ie,this.deactivateEvents=new Ie,this.attachEvents=new Ie,this.detachEvents=new Ie,this.name=o||ue,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new IL(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(b(oa),b(bn),b(qi),Kr("name"),b($s))},n.\u0275dir=z({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class IL{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Bo?this.route:t===oa?this.childContexts:this.parent.get(t,e)}}let Ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ke({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&j(0,"router-outlet")},directives:[Pb],encapsulation:2}),n})();function Ob(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];OL(i,RL(t,i))}}function OL(n,t){n.children&&Ob(n.children,t)}function RL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Bf(n){const t=n.children&&n.children.map(Bf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ue&&(e.component=Ib),e}function Mn(n){return n.outlet||ue}function Rb(n,t){const e=n.filter(i=>Mn(i)===t);return e.push(...n.filter(i=>Mn(i)!==t)),e}const Fb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ac(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Fb):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||WF)(e,n,t);if(!o)return Object.assign({},Fb);const s={};Mt(o.posParams,(l,c)=>{s[c]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function lc(n,t,e,i,r="corrected"){if(e.length>0&&function NL(n,t,e){return e.some(i=>cc(n,t,i)&&Mn(i)!==ue)}(n,e,i)){const s=new fe(t,function LL(n,t,e,i){const r={};r[ue]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Mn(o)!==ue){const s=new fe([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[Mn(o)]=s}return r}(n,t,i,new fe(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function BL(n,t,e){return e.some(i=>cc(n,t,i))}(n,e,i)){const s=new fe(n.segments,function FL(n,t,e,i,r,o){const s={};for(const a of i)if(cc(n,e,a)&&!r[Mn(a)]){const l=new fe([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[Mn(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new fe(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function cc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Lb(n,t,e,i){return!!(Mn(n)===i||i!==ue&&cc(t,e,n))&&("**"===n.path||ac(t,n,e).matched)}function Nb(n,t,e){return 0===t.length&&!n.children[e]}class uc{constructor(t){this.segmentGroup=t||null}}class Bb{constructor(t){this.urlTree=t}}function sa(n){return Zs(new uc(n))}function Vb(n){return Zs(new Bb(n))}class UL{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(wi)}apply(){const t=lc(this.urlTree.root,[],[],this.config).segmentGroup,e=new fe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ue).pipe(me(o=>this.createUrlTree(Vf(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ki(o=>{if(o instanceof Bb)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof uc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ue).pipe(me(r=>this.createUrlTree(Vf(r),t.queryParams,t.fragment))).pipe(ki(r=>{throw r instanceof uc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new fe([],{[ue]:t}):t;return new Cr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(me(o=>new fe([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return gt(r).pipe(Ro(o=>{const s=i.children[o],a=Rb(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(me(l=>({segment:l,outlet:o})))}),XS((o,s)=>(o[s.outlet]=s.segment,o),{}),function RF(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ln((r,o)=>n(r,o,i)):Ii,Mf(1),e?eb(t):QS(()=>new Xl))}())}expandSegment(t,e,i,r,o,s){return gt(i).pipe(Ro(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(ki(c=>{if(c instanceof uc)return J(null);throw c}))),Fo(a=>!!a),ki((a,l)=>{if(a instanceof Xl||"EmptyError"===a.name)return Nb(e,r,o)?J(new fe([],{})):sa(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return Lb(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):sa(e):sa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Vb(o):this.lineralizeSegments(i,o).pipe(ut(s=>{const a=new fe(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=ac(e,r,o);if(!a)return sa(e);const h=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?Vb(h):this.lineralizeSegments(r,h).pipe(ut(f=>this.expandSegment(t,e,i,f.concat(c),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?J(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(me(h=>(i._loadedConfig=h,new fe(r,{})))):J(new fe(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=ac(e,i,r);return s?this.getChildConfig(t,i,r).pipe(ut(u=>{const h=u.module,f=u.routes,{segmentGroup:m,slicedSegments:v}=lc(e,a,l,f),_=new fe(m.segments,m.children);if(0===v.length&&_.hasChildren())return this.expandChildren(h,f,_).pipe(me(P=>new fe(a,P)));if(0===f.length&&0===v.length)return J(new fe(a,{}));const D=Mn(i)===o;return this.expandSegment(h,_,f,v,D?ue:o,!0).pipe(me(C=>new fe(a.concat(C.segments),C.children)))})):sa(e)}getChildConfig(t,e,i){return e.children?J(new Nf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?J(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(ut(r=>r?this.configLoader.load(t.injector,e).pipe(me(o=>(e._loadedConfig=o,o))):function HL(n){return Zs(Ef(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):J(new Nf([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?J(r.map(s=>{const a=t.get(s);let l;if(function EL(n){return n&&Gi(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!Gi(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return li(l)})).pipe(ra(),It(s=>{if(!Mr(s))return;const a=Ef(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),me(s=>!0===s)):J(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return J(i);if(r.numberOfChildren>1||!r.children[ue])return Zs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ue]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Cr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Mt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return Mt(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new fe(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function Vf(n){const t={};for(const i of Object.keys(n.children)){const o=Vf(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function qL(n){if(1===n.numberOfChildren&&n.children[ue]){const t=n.children[ue];return new fe(n.segments.concat(t.segments),t.children)}return n}(new fe(n.segments,t))}class Hb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hc{constructor(t,e){this.component=t,this.route=e}}function zL(n,t,e){const i=n._root;return aa(i,t?t._root:null,e,[i.value])}function dc(n,t,e){const i=function WL(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function aa(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=No(t);return n.children.forEach(s=>{(function YL(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function KL(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Dr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Dr(n.url,t.url)||!ai(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Of(n,t)||!ai(n.queryParams,t.queryParams);default:return!Of(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Hb(i)):(o.data=s.data,o._resolvedData=s._resolvedData),aa(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new hc(a.outlet.component,s))}else s&&la(t,a,r),r.canActivateChecks.push(new Hb(i)),aa(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),Mt(o,(s,a)=>la(s,e.getContext(a),r)),r}function la(n,t,e){const i=No(n),r=n.value;Mt(i,(o,s)=>{la(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new hc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class rN{}function jb(n){return new Ue(t=>t.error(n))}class sN{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=lc(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ue);if(null===e)return null;const i=new rc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ue,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xi(i,e),o=new Db(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=Cb(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=Rb(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=Ub(i);return function aN(n){n.sort((t,e)=>t.value.outlet===ue?-1:e.value.outlet===ue?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return Nb(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!Lb(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const m=i.length>0?cb(i).parameters:{};o=new rc(i,m,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zb(t),Mn(t),t.component,t,qb(e),$b(e)+i.length,Gb(t))}else{const m=ac(e,t,i);if(!m.matched)return null;s=m.consumedSegments,a=m.remainingSegments,o=new rc(s,m.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zb(t),Mn(t),t.component,t,qb(e),$b(e)+s.length,Gb(t))}const l=function lN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=lc(e,s,a,l.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const m=this.processChildren(l,c);return null===m?null:[new xi(o,m)]}if(0===l.length&&0===u.length)return[new xi(o,[])];const h=Mn(t)===r,f=this.processSegment(l,c,u,h?ue:r);return null===f?null:[new xi(o,f)]}}function cN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ub(n){const t=[],e=new Set;for(const i of n){if(!cN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ub(i.children);t.push(new xi(i.value,r))}return t.filter(i=>!e.has(i))}function qb(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function $b(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function zb(n){return n.data||{}}function Gb(n){return n.resolve||{}}function Wb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hf(n){return wr(t=>{const e=n(t);return e?gt(e).pipe(me(()=>t)):J(t)})}class vN extends class gN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const jf=new U("ROUTES");class Yb{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(me(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new Nf(lb(s.injector.get(jf,void 0,te.Self|te.Optional)).map(Bf),s)}),ki(o=>{throw e._loader$=void 0,o}));return e._loader$=new PF(r,()=>new Te).pipe(JS()),e._loader$}loadModuleFactory(t){return li(t()).pipe(ut(e=>e instanceof c0?J(e):gt(this.compiler.compileModuleAsync(e))))}}class _N{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function SN(n){throw n}function bN(n,t,e){return t.parse("/")}function Kb(n,t){return J(null)}const wN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cn=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Te,this.errorHandler=SN,this.malformedUriErrorHandler=bN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kb,afterPreactivation:Kb},this.urlHandlingStrategy=new _N,this.routeReuseStrategy=new vN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(wi),this.console=s.get(II);const h=s.get(Ee);this.isNgZoneEnabled=h instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function KF(){return new Cr(new fe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Yb(s,a,f=>this.triggerEvent(new ib(f)),f=>this.triggerEvent(new rb(f))),this.routerState=wb(this.currentUrlTree,this.rootComponentType),this.transitions=new Dn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ln(r=>0!==r.id),me(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),wr(r=>{let o=!1,s=!1;return J(r).pipe(It(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),wr(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Jb(a.source)&&(this.browserUrlTree=a.extractedUrl),J(a).pipe(wr(h=>{const f=this.transitions.getValue();return i.next(new kf(h.id,this.serializeUrl(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions.getValue()?mi:Promise.resolve(h)}),function $L(n,t,e,i){return wr(r=>function jL(n,t,e,i,r){return new UL(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(me(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),It(h=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:h.urlAfterRedirects})}),function uN(n,t,e,i,r){return ut(o=>function oN(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new sN(n,t,e,i,r,o).recognize();return null===s?jb(new rN):J(s)}catch(s){return jb(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(me(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,h=>this.serializeUrl(h),this.paramsInheritanceStrategy,this.relativeLinkResolution),It(h=>{if("eager"===this.urlUpdateStrategy){if(!h.extras.skipLocationChange){const m=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl);this.setBrowserUrl(m,h)}this.browserUrlTree=h.urlAfterRedirects}const f=new LF(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);i.next(f)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:f,extractedUrl:m,source:v,restoredState:_,extras:D}=a,k=new kf(f,this.serializeUrl(m),v,_);i.next(k);const C=wb(m,this.rootComponentType).snapshot;return J(Object.assign(Object.assign({},a),{targetSnapshot:C,urlAfterRedirects:m,extras:Object.assign(Object.assign({},D),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),mi}),Hf(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:f,replaceUrl:m}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!f,replaceUrl:!!m})}),It(a=>{const l=new NF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),me(a=>Object.assign(Object.assign({},a),{guards:zL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function JL(n,t){return ut(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?J(Object.assign(Object.assign({},e),{guardsResult:!0})):function ZL(n,t,e,i){return gt(n).pipe(ut(r=>function iN(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?J(o.map(a=>{const l=dc(a,t,r);let c;if(function AL(n){return n&&Gi(n.canDeactivate)}(l))c=li(l.canDeactivate(n,t,e,i));else{if(!Gi(l))throw new Error("Invalid CanDeactivate guard");c=li(l(n,t,e,i))}return c.pipe(Fo())})).pipe(ra()):J(!0)}(r.component,r.route,e,t,i)),Fo(r=>!0!==r,!0))}(s,i,r,n).pipe(ut(a=>a&&function kL(n){return"boolean"==typeof n}(a)?function XL(n,t,e,i){return gt(t).pipe(Ro(r=>Cf(function eN(n,t){return null!==n&&t&&t(new jF(n)),J(!0)}(r.route.parent,i),function QL(n,t){return null!==n&&t&&t(new qF(n)),J(!0)}(r.route,i),function nN(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function GL(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>Df(()=>J(s.guards.map(l=>{const c=dc(l,s.node,e);let u;if(function TL(n){return n&&Gi(n.canActivateChild)}(c))u=li(c.canActivateChild(i,n));else{if(!Gi(c))throw new Error("Invalid CanActivateChild guard");u=li(c(i,n))}return u.pipe(Fo())})).pipe(ra())));return J(o).pipe(ra())}(n,r.path,e),function tN(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return J(!0);const r=i.map(o=>Df(()=>{const s=dc(o,t,e);let a;if(function xL(n){return n&&Gi(n.canActivate)}(s))a=li(s.canActivate(t,n));else{if(!Gi(s))throw new Error("Invalid CanActivate guard");a=li(s(t,n))}return a.pipe(Fo())}));return J(r).pipe(ra())}(n,r.route,e))),Fo(r=>!0!==r,!0))}(i,o,n,t):J(a)),me(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),It(a=>{if(Mr(a.guardsResult)){const c=Ef(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new BF(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),ln(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Hf(a=>{if(a.guards.canActivateChecks.length)return J(a).pipe(It(l=>{const c=new VF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),wr(l=>{let c=!1;return J(l).pipe(function hN(n,t){return ut(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return J(e);let o=0;return gt(r).pipe(Ro(s=>function dN(n,t,e,i){return function fN(n,t,e,i){const r=Wb(n);if(0===r.length)return J({});const o={};return gt(r).pipe(ut(s=>function pN(n,t,e,i){const r=dc(n,t,i);return li(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(It(a=>{o[s]=a}))),Mf(1),ut(()=>Wb(o).length===r.length?J(o):mi))}(n._resolve,n,t,i).pipe(me(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),Cb(n,e).resolve),null)))}(s.route,i,n,t)),It(()=>o++),Mf(1),ut(s=>o===r.length?J(e):mi))})}(this.paramsInheritanceStrategy,this.ngModule.injector),It({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),It(l=>{const c=new HF(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Hf(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:h,extras:{skipLocationChange:f,replaceUrl:m}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:h,skipLocationChange:!!f,replaceUrl:!!m})}),me(a=>{const l=function fL(n,t,e){const i=ta(n,t._root,e?e._root:void 0);return new bb(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),It(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>me(i=>(new DL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),It({next(){o=!0},complete(){o=!0}}),tb(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),ki(a=>{if(s=!0,function GF(n){return n&&n[sb]}(a)){const l=Mr(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new nb(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jb(r.source)};this.scheduleNavigation(u,"imperative",null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new FF(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return mi}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ob(e),this.config=e.map(Bf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:s;let h=null;switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}return null!==h&&(h=this.removeEmptyProps(h)),function gL(n,t,e,i,r){if(0===e.length)return Rf(t.root,t.root,t.root,i,r);const o=function vL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Eb(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Mt(o.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new Eb(e,t,i)}(e);if(o.toRoot())return Rf(t.root,t.root,new fe([],{}),i,r);const s=function yL(n,t,e){if(n.isAbsolute)return new Ff(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new Ff(o,o===t.root,0)}const i=oc(n.commands[0])?0:1;return function _L(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new Ff(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?sc(s.segmentGroup,s.index,o.commands):xb(s.segmentGroup,s.index,o.commands);return Rf(t.root,s.segmentGroup,a,i,r)}(c,this.currentUrlTree,e,h,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Mr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function DN(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},wN):!1===i?Object.assign({},CN):i,Mr(e))return hb(this.currentUrlTree,e,r);const o=this.parseUrl(e);return hb(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Xs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,h;s?(c=s.resolve,u=s.reject,h=s.promise):h=new Promise((v,_)=>{c=v,u=_});const f=++this.navigationId;let m;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),m=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):m=0,this.setTransition({id:f,targetPageId:m,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(v=>Promise.reject(v))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new nb(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){yl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function Jb(n){return"imperative"!==n}class Zb{}class Xb{preload(t,e){return J(null)}}let Qb=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new Yb(r,i,l=>e.triggerEvent(new ib(l)),l=>e.triggerEvent(new rb(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(ln(e=>e instanceof Xs),Ro(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(wi);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return gt(r).pipe(ns(),me(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?J(i._loadedConfig):this.loader.load(e.injector,i)).pipe(ut(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(S(cn),S(W0),S(Fe),S(Zb))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),$f=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ob&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new ob(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){yl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const kr=new U("ROUTER_CONFIGURATION"),ew=new U("ROUTER_FORROOT_GUARD"),xN=[Gs,{provide:mb,useClass:gb},{provide:cn,useFactory:function ON(n,t,e,i,r,o,s={},a,l){const c=new cn(null,n,t,e,i,r,lb(o));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function RN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,c),s.enableTracing&&c.events.subscribe(u=>{var h,f;null===(h=console.group)||void 0===h||h.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(f=console.groupEnd)||void 0===f||f.call(console)}),c},deps:[mb,oa,Gs,Fe,W0,jf,kr,[class yN{},new Rn],[class mN{},new Rn]]},oa,{provide:Bo,useFactory:function FN(n){return n.routerState.root},deps:[cn]},Qb,Xb,class EN{preload(t,e){return e().pipe(ki(()=>J(null)))}},{provide:kr,useValue:{enableTracing:!1}}];function TN(){return new Z0("Router",cn)}let tw=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[xN,nw(e),{provide:ew,useFactory:IN,deps:[[cn,new Rn,new to]]},{provide:kr,useValue:i||{}},{provide:Io,useFactory:PN,deps:[br,[new tl(Zd),new Rn],kr]},{provide:$f,useFactory:AN,deps:[cn,NR,kr]},{provide:Zb,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Xb},{provide:Z0,multi:!0,useFactory:TN},[zf,{provide:Ld,multi:!0,useFactory:LN,deps:[zf]},{provide:iw,useFactory:NN,deps:[zf]},{provide:G0,multi:!0,useExisting:iw}]]}}static forChild(e){return{ngModule:n,providers:[nw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(S(ew,8),S(cn,8))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();function AN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new $f(n,t,e)}function PN(n,t,e={}){return e.useHash?new DO(n,t):new gS(n,t)}function IN(n){return"guarded"}function nw(n){return[{provide:hk,multi:!0,useValue:n},{provide:jf,multi:!0,useValue:n}]}let zf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Te}appInitializer(){return this.injector.get(bO,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(cn),s=this.injector.get(kr);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?J(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(kr),r=this.injector.get(Qb),o=this.injector.get($f),s=this.injector.get(cn),a=this.injector.get(qs);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function LN(n){return n.appInitializer.bind(n)}function NN(n){return n.bootstrapListener.bind(n)}const iw=new U("Router Initializer"),VN=[];let HN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[tw.forRoot(VN)],tw]}),n})();const rw=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberh","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],jN=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],UN=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],qN=["helmet","helm","mask","faceguard","cap","hat","hood"],$N=["sandals","boots","shoes","footwear","slippers"],ci=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],Ho=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],fc=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],jo=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],pc=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],Uo=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],mc=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];let kn=(()=>{class n{constructor(){this.logTopics=["STORY","EVENT"],this.newStory="",this.newEvents="",this.newCombat="",this.newCrafting="",this.storyLog=[],this.eventLog=[],this.combatLog=[],this.craftingLog=[],this.currentLog=[],this.addLogMessage("Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.","STANDARD","STORY"),this.addLogMessage("Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.","STANDARD","STORY"),this.addLogMessage("It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.","STANDARD","STORY"),this.addLogMessage("Be careful, the world can be a dangerous place.","STANDARD","STORY")}addLogMessage(e,i,r){let o=this.eventLog;"COMBAT"===r?o=this.combatLog:"STORY"===r?o=this.storyLog:"CRAFTING"===r&&(o=this.craftingLog);const s={message:e,type:i,topic:r,timestamp:Date.now()};if(0===o.length||s.timestamp-o[0].timestamp>1e3||!o[0].message.includes(s.message))o.unshift(s),this.logTopics.includes(r)&&this.addToCurrentLog(s);else{const a=/\((\d+)\)$/.exec(o[0].message);let l=2;a&&(l=parseInt(a[1])+1),o[0].message=`${s.message} (${l})`}o.length>100&&"STORY"!==r&&o.splice(100,1),this.logTopics.includes(r)||("STORY"===r?this.newStory=" (new)":"EVENT"===r?this.newEvents=" (new)":"CRAFTING"===r?this.newCrafting=" (new)":this.newCombat=" (new)")}addToCurrentLog(e){this.currentLog.length>=300&&this.currentLog.pop(),this.currentLog.unshift(e)}getProperties(){return{logTopics:this.logTopics,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.logTopics=e.logTopics||["STORY","EVENT"],this.updateLogTopics()}enableLogTopic(e,i){if(!i&&this.logTopics.includes(e)){for(let r=0;r<this.logTopics.length;r++)this.logTopics[r]===e&&this.logTopics.splice(r,1);this.updateLogTopics()}else i&&!this.logTopics.includes(e)&&(this.logTopics.push(e),this.updateLogTopics())}updateLogTopics(){const e=[];if(this.logTopics.includes("COMBAT")&&(this.newCombat="",e.push([...this.combatLog])),this.logTopics.includes("STORY")&&(this.newStory="",e.push([...this.storyLog])),this.logTopics.includes("EVENT")&&(this.newEvents="",e.push([...this.eventLog])),this.logTopics.includes("CRAFTING")&&(this.newCrafting="",e.push([...this.craftingLog])),this.currentLog=[],0===e.length)return;const i=r=>Array.isArray(r)&&r.every(i);for(;!i(e);){let r=Number.MAX_VALUE,o=e[0];for(let s=0;s<e.length;s++){const a=e[s];if(0===a.length)continue;const l=a[a.length-1].timestamp||0;l<r&&(r=l,o=a)}this.addToCurrentLog(o[o.length-1]),o.splice(o.length-1,1)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class GN{constructor(t,e){this.logService=t,this.titlecasePipe=e,this.maxMoney=1e24,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=100,this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=100,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=0,this.accuracyExponentMultiplier=.01,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.empowermentFactor=1,this.immortal=!1,this.ascensionUnlocked=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,icon:"pets"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.manaUnlocked?(this.status.mana.max=1,this.status.mana.value=1):(this.status.mana.max=0,this.status.mana.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let t=0;t+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(t/5),this.bloodlineRank<5&&(this.statLifespan*=.1);const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){const r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;r>0&&(this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+this.titlecasePipe.transform(e[i])+" increased by "+si(r,"en-US","1.0-3"),"STANDARD","EVENT")),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money<0&&(this.money=0),this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.recalculateDerivedStats(),0===this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<0&&(t=0),e<0&&(e=0),t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,s;this.status.health.max=100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+Math.floor(5*Math.log2(this.attributes.toughness.value+2)),this.money>this.maxMoney&&(this.money=this.maxMoney),this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.accuracy=1-Math.exp(0-this.getAptitudeMultipier(this.attributes.speed.value)*this.accuracyExponentMultiplier),this.defense=Math.floor(Math.log10(this.attributes.toughness.value)),this.attackPower=Math.floor(Math.log10(this.attributes.strength.value))||1,this.equipment.leftHand&&(this.attackPower+=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||0),this.equipment.rightHand&&(this.attackPower+=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||0),this.equipment.head&&(this.defense+=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||0),this.equipment.body&&(this.defense+=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||0),this.equipment.legs&&(this.defense+=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||0),this.equipment.feet&&(this.defense+=(null===(s=this.equipment.feet.armorStats)||void 0===s?void 0:s.defense)||0)}getEmpowermentMult(){return 1+198/(1+Math.pow(1.02,-this.empowermentFactor/3))-99}getAptitudeMultipier(t){t<0&&(t=0);const e=this.getEmpowermentMult();return t<this.attributeScalingLimit?t*e:t<10*this.attributeScalingLimit?(this.attributeScalingLimit+(t-this.attributeScalingLimit)/4)*e:t<100*this.attributeScalingLimit?(this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20)*e:t<this.attributeSoftCap?(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100)*e:(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(this.attributeSoftCap-100*this.attributeScalingLimit)/100+Math.pow(t-this.attributeSoftCap,.5)*this.attributeScalingLimit/5120)*e}increaseAttribute(t,e){let i=e*this.getAptitudeMultipier(this.attributes[t].aptitude);return i<e&&(i=e),this.attributes[t].value+=i,i}increaseBaseLifespan(t,e){return this.baseLifespan+t<365*e?(this.baseLifespan+=t,!0):(this.baseLifespan<365*e&&(this.baseLifespan=365*e),!1)}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3),this.healthBonusMagic>1e4&&(this.healthBonusMagic=1e4),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,equipment:this.equipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineCost:this.bloodlineCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,empowermentFactor:this.empowermentFactor,immortal:this.immortal}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.equipment=t.equipment,this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.magicLifespan=t.magicLifespan||0,this.attributeScalingLimit=t.attributeScalingLimit,this.attributeSoftCap=t.attributeSoftCap,this.aptitudeGainDivider=t.aptitudeGainDivider,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.bloodlineCost=t.bloodlineCost,this.bloodlineRank=t.bloodlineRank,this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.healthBonusFood=t.healthBonusFood||0,this.healthBonusBath=t.healthBonusBath||0,this.healthBonusMagic=t.healthBonusMagic||0,this.empowermentFactor=t.empowermentFactor||1,this.immortal=t.immortal||!1,this.recalculateDerivedStats()}}var O=(()=>{return(n=O||(O={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.BodyCultivation=15]="BodyCultivation",n[n.MindCultivation=16]="MindCultivation",n[n.CoreCultivation=17]="CoreCultivation",n[n.InfuseBody=18]="InfuseBody",n[n.ExtendLife=19]="ExtendLife",n[n.Recruiting=20]="Recruiting",n[n.TrainingFollowers=21]="TrainingFollowers",n[n.Swim=22]="Swim",n[n.ForgeChains=23]="ForgeChains",n[n.AttachChains=24]="AttachChains",n[n.MakeBrick=25]="MakeBrick",n[n.MakeMortar=26]="MakeMortar",n[n.MakeScaffold=27]="MakeScaffold",n[n.BuildTower=28]="BuildTower",n[n.ResearchWind=29]="ResearchWind",n[n.TameWinds=30]="TameWinds",n[n.LearnToFly=31]="LearnToFly",n[n.OfferDragonFood=32]="OfferDragonFood",n[n.OfferDragonWealth=33]="OfferDragonWealth",n[n.TalkToDragon=34]="TalkToDragon",n[n.GatherArmies=35]="GatherArmies",n[n.ConquerTheWorld=36]="ConquerTheWorld",n[n.MoveStars=37]="MoveStars",O;var n})();let un=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new Te,this.longTickSubject=new Te,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useBankedTicks=!0}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks}}setProperties(e){this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.tickDivider=e.tickDivider,this.pause=e.pause,this.lastTime=e.lastTime;const i=(new Date).getTime();this.bankedTicks=e.bankedTicks+Math.floor((i-this.lastTime)/(25*this.offlineDivider)),this.lastTime=i,this.totalTicks=e.totalTicks||0,this.useBankedTicks=void 0===e.useBankedTicks||e.useBankedTicks}start(){this.characterService||(this.characterService=this.injector.get(Ve)),window.setInterval(()=>{this.longTickSubject.next(!0)},500),window.setInterval(()=>{const e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=Math.floor(i/25)||1;if(this.pause)this.bankedTicks++;else{this.bankedTicks>0&&this.useBankedTicks&&(r+=10/this.tickDivider,this.bankedTicks-=10/this.tickDivider),this.characterService&&(this.characterService.characterState.lifespan>36500&&r++,this.characterService.characterState.lifespan>365e3&&r++,r+=Math.min(Math.floor(this.totalTicks/1825e3),100));for(let o=0;o<r;o++)this.tickCount++,this.tickCount>=this.tickDivider&&(this.tickCount=0,this.pause?this.bankedTicks++:this.tick())}},25)}tick(){this.totalTicks++,this.tickSubject.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(S(Fe))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wi=(()=>{class n{constructor(){this.reincarnateSubject=new Te}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Y=(()=>{return(n=Y||(Y={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.TameWinds=3]="TameWinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",Y;var n})();let qo=(()=>{class n{constructor(e,i,r,o,s,a){this.injector=e,this.logService=i,this.characterService=r,this.battleService=a,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:Y.Swim,progressRequired:1e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:Y.RaiseIsland,progressRequired:1e4},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:Y.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:Y.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:Y.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:Y.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:Y.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:Y.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:Y.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],o.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let l=0;l<this.tasks.length;l++)if(this.taskProgress[l].complete&&this.tasks[l].taskType===this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){for(let e=0;e<this.tasks.length;e++)this.taskProgress[e].progress<this.tasks[e].progressRequired&&e!==Y.BuildTower&&(this.taskProgress[e].progress=this.taskProgress[e].complete?this.tasks[e].progressRequired:0);this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=void 0===e.activeTaskIndex?-1:e.activeTaskIndex,this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.reloadActivities(),this.activeTaskIndex===Y.OvercomeDeath&&this.battleService.addEnemy(this.battleService.enemyRepo.death)}stopTask(){this.activeTaskIndex===Y.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(S(Fe),S(kn),S(Ve),S(un),S(Wi),S(Ti))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ow=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let Yi=(()=>{class n{constructor(e,i,r,o,s,a,l,c){this.logService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.battleService=c,this.followersUnlocked=!1,this.followers=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.followerCap=0,this.jobs={builder:{work:u=>{this.homeService.nextHomeCostReduction+=u.power,this.homeService.upgrading&&this.homeService.upgradeTick(u.power)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster."},hunter:{work:u=>{this.inventoryService.addItem(this.itemRepoService.items.meat,u.power),this.inventoryService.addItem(this.itemRepoService.items.hide,u.power)},description:"Hunters collect meat and hides for you."},farmer:{work:u=>{this.homeService.workFields(u.power)},description:"Farmers work your fields, helping your crops to grow."},weaponsmith:{work:u=>{this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.rightHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.rightHand.value+=Math.floor(u.power/10)),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability+=u.power,this.characterService.characterState.equipment.leftHand.weaponStats.baseDamage+=Math.floor(u.power/10),this.characterService.characterState.equipment.leftHand.value+=Math.floor(u.power/10))},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day. Higher levels can also help improve them."},armorer:{work:u=>{this.characterService.characterState.equipment.head&&this.characterService.characterState.equipment.head.armorStats&&(this.characterService.characterState.equipment.head.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.head.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.head.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.body&&this.characterService.characterState.equipment.body.armorStats&&(this.characterService.characterState.equipment.body.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.body.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.body.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.legs&&this.characterService.characterState.equipment.legs.armorStats&&(this.characterService.characterState.equipment.legs.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.legs.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.legs.value+=Math.ceil(Math.floor(u.power/10)/2)),this.characterService.characterState.equipment.feet&&this.characterService.characterState.equipment.feet.armorStats&&(this.characterService.characterState.equipment.feet.armorStats.durability+=Math.ceil(u.power/2),this.characterService.characterState.equipment.feet.armorStats.defense+=Math.ceil(Math.floor(u.power/10)/2),this.characterService.characterState.equipment.feet.value+=Math.ceil(Math.floor(u.power/10)/2))},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day. Higher levels can also help improve them."},brawler:{work:u=>{this.characterService.characterState.increaseAttribute("strength",u.power)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength."},sprinter:{work:u=>{this.characterService.characterState.increaseAttribute("speed",u.power)},description:"Sprinters challenge you to footraces and help you increase your speed."},trainer:{work:u=>{this.characterService.characterState.increaseAttribute("toughness",u.power)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness."},tutor:{work:u=>{this.characterService.characterState.increaseAttribute("intelligence",u.power)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence."},mediator:{work:u=>{this.characterService.characterState.increaseAttribute("charisma",u.power)},description:"Mediators teach you how to persuade others, increasing your charisma."},priest:{work:u=>{this.characterService.characterState.increaseAttribute("spirituality",u.power)},description:"Priests help you get closer to the divine, increasing your sprituality."},gemologist:{work:u=>{let h=0;for(const f of this.followers)"gemologist"===f.job&&(h+=f.power);h=Math.floor(h/50),h>4&&(h=4);for(let f=0;f<u.power;f++)this.inventoryService.mergeAnySpiritGem(h)},description:"Gemologists combine monster gems into higher grades."},scout:{work:u=>{this.battleService.tickCounter+=u.power},description:"Scouts help you track down and fight monsters faster."}},a.tickSubject.subscribe(()=>{if(this.followersUnlocked&&!this.characterService.characterState.dead){this.followerCap=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank,this.characterService.characterState.age%18250==0&&this.generateFollower();for(let u=this.followers.length-1;u>=0;u--)this.followerWorks(this.followers[u]),this.followers[u].age++,this.followers[u].age>=this.followers[u].lifespan?(this.logService.addLogMessage("Your follower "+this.followers[u].name+" passed away from old age.","STANDARD","EVENT"),this.followers.splice(u,1)):this.characterService.characterState.money<this.followers[u].cost?(this.logService.addLogMessage("You didn't have enough money to suppport your follower "+this.followers[u].name+" so they left your service.","STANDARD","EVENT"),this.followers.splice(u,1)):this.characterService.characterState.money-=this.followers[u].cost}}),l.reincarnateSubject.subscribe(()=>{this.reset()})}followerWorks(e){this.jobs[e.job].work(e)}reset(){this.followers.splice(0,this.followers.length),this.followersRecruited=0}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType}}setProperties(e){this.followers=e.followers||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.maxFollowerByType=e.maxFollowerByType||{}}generateFollower(){if(this.followersRecruited++,this.followers.length>=this.followerCap)return void this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","EVENT");const e=this.generateFollowerJob();let i=1e3,r=0;void 0!==this.maxFollowerByType[e]&&(i=this.maxFollowerByType[e]);for(const o of this.followers)o.job===e&&r++;r>=i?this.logService.addLogMessage("A new follower shows up, but they were a "+e+" and you don't want any more of those.","STANDARD","EVENT"):(this.logService.addLogMessage("A new follower has come to learn at your feet.","STANDARD","EVENT"),this.followers.push({name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/10,job:e,power:1,cost:100}))}generateFollowerName(){return ow[Math.floor(Math.random()*ow.length)]}generateFollowerJob(){const e=Object.keys(this.jobs);return e[Math.floor(Math.random()*e.length)]}dismissFollower(e){const i=this.followers.indexOf(e);this.followers.splice(i,1)}dismissFollowerAll(e){for(let i=this.followers.length-1;i>=0;i--)this.followers[i].job===e.job&&this.followers.splice(i,1);this.maxFollowerByType[e.job]=0}limitFollower(e){let i=0;for(let r=this.followers.length-1;r>=0;r--)this.followers[r].job===e.job&&i++;this.maxFollowerByType[e.job]=i}setMaxFollowers(e,i){this.maxFollowerByType[e]=i}}return n.\u0275fac=function(e){return new(e||n)(S(kn),S(Ve),S(lt),S(ee),S($n),S(un),S(Wi),S(Ti))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yf{constructor(t,e,i){this.autoBuyerService=t,this.homeService=e,this.characterService=i}}class YN extends Yf{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(t){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){const e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){const i=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),e.landRequired-this.homeService.land);i>0&&this.homeService.buyLand(i)}}}else{const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+t&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}}class KN extends Yf{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.homeService.autoFieldUnlocked}run(t){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+t){const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.autoBuyLandLimit-(this.homeService.land+this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.homeService.autoFieldUnlocked)for(;this.homeService.land>0&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit;)this.homeService.addField()}isBlocked(){return!(!this.homeService.autoFieldUnlocked||this.homeService.autoBuyLandUnlocked)&&0===this.homeService.land&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit}isWaiting(){return!1}isComplete(){let t=!0;this.homeService.autoBuyLandUnlocked&&(t=this.homeService.land+this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.homeService.autoFieldUnlocked&&(e=this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoFieldLimit),t&&e}}class JN extends Yf{shouldRun(){return this.homeService.autoBuyFurnitureUnlocked}run(t){var e;for(const i of this.homeService.furniturePositionsArray)if(this.homeService.home.furnitureSlots.includes(i)&&null===this.homeService.furniture[i]){const r=this.homeService.autoBuyFurniture[i];r&&(null===(e=this.homeService.furniture[i])||void 0===e?void 0:e.id)!==r.id&&this.characterService.characterState.money>r.value+t&&this.homeService.buyFurniture(r.id)}return!0}isBlocked(){var t;let e=!0,i=!0;for(const r of this.homeService.furniturePositionsArray){const o=this.homeService.autoBuyFurniture[r];o&&(this.homeService.home.furnitureSlots.includes(r)?(null===(t=this.homeService.furniture[r])||void 0===t?void 0:t.id)!==o.id&&(i=!1):e=!1)}return!this.homeService.upgrading&&i&&!e}isWaiting(){let t=!1;for(const e of this.homeService.furniturePositionsArray)this.homeService.autoBuyFurniture[e]&&!this.homeService.home.furnitureSlots.includes(e)&&this.homeService.nextHome.furnitureSlots.includes(e)&&(t=!1);return this.homeService.upgrading&&t}isComplete(){var t;for(const e of this.homeService.furniturePositionsArray){const i=this.homeService.autoBuyFurniture[e];if(i&&(!this.homeService.home.furnitureSlots.includes(e)||(null===(t=this.homeService.furniture[e])||void 0===t?void 0:t.id)!==i.id))return!1}return!0}}let gc=(()=>{class n{constructor(e,i,r){this.characterService=e,this.homeService=i,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new YN(this,this.homeService,this.characterService),land:new KN(this,this.homeService,this.characterService),furniture:new JN(this,this.homeService,this.characterService)},r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Furniture",type:"furniture",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){const e=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:10*(this.homeService.home.costPerDay+1);for(const i of this.autoBuyerSettings){const r=this.autobuyers[i.type];if(i.enabled&&r.shouldRun()&&!r.isBlocked()&&!r.isComplete()){if(r.isWaiting()&&i.waitForFinish)break;if(r.isWaiting())continue;if(r.run(e),!r.isComplete()&&i.waitForFinish)break}}}}return n.\u0275fac=function(e){return new(e||n)(S(Ve),S(lt),S(un))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$n=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.01&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.02&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=1825?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan=1825)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.05&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=3650?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan=3650)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.08&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=5475?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan=5475)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=7300?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan=7300)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.12&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=9125?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan=9125)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.15&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=10950?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan=10950)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.18&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=12775?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan=12775)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.2&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=s,this.characterService.characterState.foodLifespan+s<=14600?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan=14600)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.22&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=2*s,this.characterService.characterState.foodLifespan+s<=26280?this.characterService.characterState.foodLifespan+=s:this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan=26280)),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=2*s,this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.health.value+=10*s,this.characterService.characterState.status.stamina.max+=s,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:(s=1)=>{this.characterService.characterState.status.nourishment.value+=s,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=s,this.characterService.characterState.status.stamina.max+=s),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"hide",type:"hide",value:1,description:"A basic animal hide."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:1,description:"A terrible quality log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:2,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:3,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:4,description:"A nice quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:5,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:6,description:"A great quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:7,description:"An excellent quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:8,description:"An amazing quality log."},peachwoodLog:{id:"peachwoodLog",name:"peachwood log",type:"wood",value:9,description:"A spiritual quality log."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:10,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:11,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:12,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:13,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:14,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong."},everlastingBrick:{id:"everlastingBrick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",name:"Essence of Immortality",type:"immortality",value:1,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(qo)),this.impossibleTaskService.taskProgress[Y.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=Y.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.OvercomeDeath].complete&&(this.logService.addLogMessage("YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!","INJURY","STORY"),this.logService.addLogMessage("You won this game in "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes. I wonder if other immortals have ever done it faster?","STANDARD","STORY"),this.characterService.characterState.immortal=!0)}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>!!this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.activityService||(this.activityService=this.injector.get(Wt)),!!(null===(s=this.activityService)||void 0===s?void 0:s.autoRestart)}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock Autosell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock Autouse button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock Autobalance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoBuyFurnitureUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(gc)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(gc)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(lt)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock autodrinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPotionUnlocked=!0;for(let s=this.inventoryService.autoUseEntries.length-1;s>=0;s--)this.inventoryService.autoUseEntries[s].name.includes("Potion")&&this.inventoryService.autoUseEntries.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoswallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPillUnlocked=!0;for(let s=this.inventoryService.autoUseEntries.length-1;s>=0;s--)this.inventoryService.autoUseEntries[s].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(s,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(Ti)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var s;return this.battleService||(this.battleService=this.injector.get(Ti)),null===(s=this.battleService)||void 0===s?void 0:s.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldHerbs=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldWood=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock autoselling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldOre=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldOre)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock autoequipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(Yi)),this.followerService.autoDismissUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.followerService||(this.followerService=this.injector.get(Yi)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem autoselling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(ee)),this.inventoryService.autoSellOldGemsUnlocked)},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.autoPauseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.autoPauseUnlocked)}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(S(Ve),S(Fe),S(kn),S(un))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ti=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.itemRepoService=r,this.inventoryService=o,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.ticksPerFight=10,this.highestGem=0,this.enemyRepo={mouse:{name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]},wolf:{name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:5,loot:[this.itemRepoService.items.hide]},army:{name:"an angry army",health:2e7,maxHealth:2e7,accuracy:.9,attack:1e7,defense:1e7,loot:[]},death:{name:"Death itself",health:1e15,maxHealth:1e15,accuracy:.99,attack:1e8,defense:1e8,loot:[this.itemRepoService.items.immortality],unique:!0}},this.monsterNames=["spider","rat","lizard","snake","imp","ooze","jackalope","goblin","monkey","redcap","skeleton","zombie","hobgoblin","kobold","chupacabra","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","troll","manticore","merlion","landshark","bugbear","yeti","dreameater","unicorn","ogre","banshee","harpy","werewolf","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","thunderbird","vampire","beholder","hydra","roc","giant","kraken","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a pathetic","a sickly","a starving","a wimpy","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a typical","an average","a healthy","a big","a tough","a strong","a fearsome","a gutsy","a quick","a hefty","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a devious","a mighty","a powerful","a noble","a magical","a dangerous","a terrifying","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null===this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack}enemiesAttack(){for(const e of this.enemies)for(let i=0;i<e.quantity;i++)if(Math.random()<e.enemy.accuracy){let r=e.enemy.attack;const o=this.characterService.characterState.defense;o>=1&&(r/=Math.pow(o,.2)+Math.pow(2e4,(-r+o)/o)),r<this.enemyRepo.mouse.attack&&(r=this.enemyRepo.mouse.attack),this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(r/=2,this.characterService.characterState.status.mana.value-=10),this.logService.addLogMessage("Ow! "+e.enemy.name+" hit you for "+si(r,"en-US","1.0-2")+" damage","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=r,this.characterService.characterState.increaseAttribute("toughness",.01);const s=[];if(this.characterService.characterState.equipment.head&&s.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&s.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&s.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&s.push(this.characterService.characterState.equipment.feet),s.length>0&&this.degradeArmor(s[Math.floor(Math.random()*s.length)]),this.characterService.characterState.status.health.value<=0)return this.logService.addLogMessage("Death itself"===e.enemy.name?e.enemy.name+" overkilled you by "+Math.floor(-this.characterService.characterState.status.health.value)+" damage. You were defeated.":"You were defeated by "+e.enemy.name,"INJURY","EVENT"),void(this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0))}else this.logService.addLogMessage("Miss! "+e.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.currentEnemy){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower;const i=this.currentEnemy.enemy.defense;if(i>=1&&(e/=Math.pow(i,.2)+Math.pow(2e4,(-e+i)/i)),e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10),this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.inventoryService.updateWeaponDescription(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null)),this.currentEnemy.enemy.health<=0){this.kills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(const r of this.currentEnemy.enemy.loot){const o=this.itemRepoService.getItemById(r.id);this.inventoryService.addItem(o||r)}if(this.currentEnemy.quantity--,this.currentEnemy.quantity<=0){const r=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(r,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth}else this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" for "+e+" damage","STANDARD","COMBAT")}}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name===e.name)return void(e.unique||i.quantity++);this.enemies.push({enemy:JSON.parse(JSON.stringify(e)),quantity:1}),null===this.currentEnemy&&(this.currentEnemy=this.enemies[0])}trouble(){if(0!==this.enemies.length)return;const e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length);let s=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(s+=" "+(e+1));const a=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)));this.addEnemy({name:s,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:this.troubleKills/5,loot:[a]}),this.troubleKills++}degradeArmor(e){e.armorStats&&(e.armorStats.durability--,this.inventoryService.updateArmorDescription(e),e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null))}}return n.\u0275fac=function(e){return new(e||n)(S(kn),S(Ve),S($n),S(ee),S(un),S(Wi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ne=(()=>{return(n=Ne||(Ne={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",Ne;var n})();let lt=(()=>{class n{constructor(e,i,r,o,s,a,l){if(this.characterService=e,this.inventoryService=i,this.logService=r,this.battleService=o,this.itemRepoService=l,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.homesList=[{name:"Squatter Tent",type:Ne.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"Get a better house.",consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse)},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Ne.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,upgradeToTooltip:"Get a better house. A better home will cost 100 taels and take up 1 land. The new home will restore 1 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy(this.battleService.enemyRepo.mouse),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Ne.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,upgradeToTooltip:"Get a better house. A better home will cost 1,000 taels and take up 5 land. The new home will restore 3 stamina and a bit of health each night. It also has walls and space to properly sleep.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Ne.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,upgradeToTooltip:"Get a better house. A better home will cost 10,000 taels and take up 10 land. The new home will restore 5 stamina and a bit of health each night. It has enough room to properly bathe.",consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Ne.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina, 1 health and a bit of mana each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,upgradeToTooltip:"Get a better house. A better home will cost 100,000 taels and take up 20 land. The new home will restore 10 stamina and 1 health and a bit of mana each night. It also has room to let you cook.",consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Ne.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina, 2 health, and a bit of mana each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,upgradeToTooltip:"Get a better house. A better home will cost 1M taels and take up 50 land. The new home will restore 15 stamina, 2 health, and a bit of mana each night. It has room to practice your craft.",consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Ne.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina, 3 health, and a bit of mana each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,upgradeToTooltip:"Get a better house. A better home will cost 10m taels and take up 80 land. The new home will restore 20 stamina, 3 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Ne.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina, 4 health, and a bit of mana each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,upgradeToTooltip:"Get a better house. A better home will cost 100m taels and take up 100 land. The new home will restore 25 stamina, 4 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Ne.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina, 5 health, and a bit of mana each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,upgradeToTooltip:"Get a better house. A better home will cost 1B taels and take up 120 land. The new home will restore 30 stamina, 5 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Ne.Palace,description:"A lavish palace. Automatically restores 35 stamina, 10 health, and 1 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,upgradeToTooltip:"Get a better house. A better home will cost 10B taels and take up 150 land. The new home will restore 35 stamina, 10 health, and 1 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Ne.Castle,description:"An imposing castle. Automatically restores 40 stamina, 15 health, and 2 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:40,upgradeToTooltip:"Get a better house. A better home will cost 100B taels and take up 150 land. The new home will restore 40 stamina, 15 health, and 2 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Ne.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina, 20 health, and 3 mana each night.",cost:1e11,costPerDay:180,landRequired:180,maxInventory:50,upgradeToTooltip:"Get a better house. A better home will cost 1T taels and take up 180 land. The new home will restore 50 stamina, 20 health, and 3 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Ne.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina, 30 health, and 4 mana each night.",cost:1e12,costPerDay:500,landRequired:500,maxInventory:60,upgradeToTooltip:"Get a better house. A better home will cost 10T taels and take up 500 land. The new home will restore 100 stamina, 30 health, and 4 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Ne.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina, 50 health, and 5 mana each night.",cost:1e13,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house. A better home will cost 100T taels and take up 1,000 land. The new home will restore 200 stamina, 50 health, and 5 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Ne.Capital,description:"The entire empire is yours now. Automatically restores 300 stamina, 80 health, and 10 mana each night.",cost:1e14,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house. A better home will cost 1Q taels and take up 10,000 land. The new home will restore 300 stamina, 80 health, and 10 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),this.home.consequence();for(const c of this.furniturePositionsArray){const u=this.furniture[c];(null==u?void 0:u.use)&&(null==u||u.use())}this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay}}),a.reincarnateSubject.subscribe(()=>{this.reset(),this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on  it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(const i of this.furniturePositionsArray){const r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[]}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.nextHomeCostReduction=0,this.setCurrentHome(this.homesList[0]),this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.upgrading=!1,this.houseBuildingProgress=1,this.ownedFurniture=[]}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(e=1){for(e<0&&(e=this.land);e>0&&this.land>0;){if(this.fields.length>=300)return this.extraFields+=e,void(this.land-=e);this.fields.push(this.getCrop()),this.land--,e--}}clearField(e=1){return e<0?(this.land+=this.extraFields,this.extraFields=0,this.land+=this.fields.length,void this.fields.splice(0)):this.extraFields>0&&e<=this.extraFields?(this.extraFields-=e,void(this.land+=e)):(e-=this.extraFields,this.extraFields=0,void(this.fields.length>0&&(e>this.fields.length&&(e=this.fields.length),this.land+=e,this.fields.splice(this.fields.length-e))))}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){const r=this.fields[i];r.yield<r.maxYield&&(r.yield+=e)}}ageFields(){let e=this.fields.length-1;e>299&&(e=299);let i=0;for(let r=e;r>=0;r--)if(this.fields[r].daysToHarvest<=0){let o=this.fields[r].yield;this.fields.length+this.extraFields>300&&(o=Math.floor((this.fields.length+this.extraFields)/300)),i+=o,this.inventoryService.addItem(this.itemRepoService.items[this.fields[r].cropName],o),this.fields[r]=this.getCrop()}else this.fields[r].daysToHarvest--;this.averageYield=(364*this.averageYield+i)/365}buyLand(e){const i=this.calculateAffordableLand(this.characterService.characterState.money);if(!i||!e)return 0;let r=0,o=0;return r=(e=e>0?Math.min(e,i):Math.floor(i/2))*(e+1)/2*10,o=this.landPrice*e+r,this.characterService.characterState.money>=o&&(this.characterService.characterState.money-=o,this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){const i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}buyFurniture(e){const i=this.itemRepoService.getFurnitureById(e);i&&this.characterService.characterState.money>=i.value&&(this.characterService.characterState.money-=i.value,this.ownedFurniture.push(i.name),this.furniture[i.slot]=i)}}return n.\u0275fac=function(e){return new(e||n)(S(Ve),S(ee),S(kn),S(Ti),S(un),S(Wi),S($n))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wt=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this.characterService=e,this.inventoryService=i,this.homeService=r,this.mainLoopService=s,this.itemRepoService=a,this.battleService=l,this.logService=c,this.followerService=u,this.impossibleTaskService=h,this.activityLoop=[],this.savedActivityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnDeath=!0,this.pauseBeforeDeath=!0,this.activities=this.getActivityList(),this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=O.Resting,o.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{if(0!==this.activityLoop.length){if(!this.characterService.characterState.dead){if(this.pauseBeforeDeath&&this.characterService.characterState.age>=this.characterService.characterState.lifespan-1&&(this.logService.addLogMessage("The end of your natural life is imminent. Game paused.","INJURY","EVENT"),this.mainLoopService.pause=!0),this.exhaustionDays>0)return void this.exhaustionDays--;if(this.currentIndex<this.activityLoop.length){if(this.currentLoopEntry=this.activityLoop[this.currentIndex],0===this.currentLoopEntry.repeatTimes){let m=0;for(this.currentIndex<this.activityLoop.length-1&&(m=this.currentIndex+1);m!==this.currentIndex&&0===this.activityLoop[m].repeatTimes;)m++,m>=this.activityLoop.length&&(m=0);if(m===this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=m,this.currentLoopEntry=this.activityLoop[this.currentIndex],this.currentTickCount=0}const f=this.getActivityByType(this.currentLoopEntry.activity);f.consequence[f.level](),this.characterService.characterState.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100),this.characterService.characterState.status.mana.value<0&&(this.logService.addLogMessage("You overextend your mana and damage your mana channels. It takes you 10 days to recover.","INJURY","EVENT"),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes&&(this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0))}else this.currentIndex=0;if(this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){const f=this.getActivityByType(this.spiritActivity);f.consequence[f.level](),this.characterService.characterState.status.mana.value-=5}}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}getProperties(){const e=[];for(const i of this.activities)i.unlocked&&e.push(i.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop}}setProperties(e){this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];const i=e.unlockedActivities||[O.OddJobs,O.Resting];for(const r of this.activities)r.unlocked=i.includes(r.activityType);this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.activityLoop=e.activityLoop,this.spiritActivity=e.spiritActivity||null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship||O.Resting,this.savedActivityLoop=e.savedActivityLoop||[];for(let r=0;r<5;r++)this.upgradeActivities(!0)}meetsRequirements(e){return!!this.meetsRequirementsByLevel(e,e.level,!0)&&(e.unlocked=!0,!0)}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const s in o){const a=o[s];let l=0;if(void 0!==e.requirements[i][a]&&(l=e.requirements[i][a]),this.characterService.characterState.attributes[a].value<=l)return!1}return!0}checkRequirements(e){for(const i of this.activities)!i.unlocked&&this.meetsRequirements(i)&&(i.unlocked=!0,e||this.logService.addLogMessage("A new activity is available. Maybe you should try "+i.name[i.level]+".","STANDARD","EVENT"));for(let i=this.activityLoop.length-1;i>=0;i--)this.getActivityByType(this.activityLoop[i].activity).unlocked||this.activityLoop.splice(i,1)}upgradeActivities(e){for(const i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1,!1)&&(!e&&i.unlocked&&this.logService.addLogMessage("Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1],"STANDARD","EVENT"),i.level++,i.unlocked&&i.skipApprenticeshipLevel===i.level&&(this.completedApprenticeships.includes(i.activityType)||this.completedApprenticeships.push(i.activityType)))}reset(){this.openApprenticeships=1,this.currentApprenticeship=O.Resting,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==Y.Swim&&(this.getActivityByType(O.Resting).unlocked=!0,this.getActivityByType(O.OddJobs).unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;throw Error("Could not find activity from type")}checkApprenticeship(e){if(0!==this.openApprenticeships){this.openApprenticeships--,this.currentApprenticeship=e;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity===i.activityType&&this.activityLoop.splice(r,1)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(const r of this.activities)r.activityType===this.activityLoop[e].activity&&(i=!0);i||this.activityLoop.splice(e,1)}this.spiritActivity=null;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(){this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop))}loadActivityLoop(){this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)),this.checkRequirements(!0)}getActivityList(){this.defineActivities();const e=[];return this.impossibleTaskService.activeTaskIndex===Y.Swim?(e.push(this.Swim),e):(this.impossibleTaskService.activeTaskIndex===Y.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex===Y.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex===Y.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex===Y.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex===Y.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex===Y.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex===Y.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.OddJobs),e.push(this.Resting),e.push(this.Begging),e.push(this.Farming),e.push(this.GatherHerbs),e.push(this.ChopWood),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.Woodworking),e.push(this.Leatherworking),e.push(this.Alchemy),e.push(this.Hunting),e.push(this.Fishing),e.push(this.BodyCultivation),e.push(this.MindCultivation),e.push(this.CoreCultivation),e.push(this.InfuseBody),e.push(this.ExtendLife),e.push(this.Recruiting),e.push(this.TrainingFollowers),e.push(this.Burning),e)}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],activityType:O.Swim,description:["Swim down further into the depths."],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[Y.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.Swim].complete&&this.logService.addLogMessage("You have acheived the impossible and dived all the way to the bottom of the ocean.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],activityType:O.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Uses 100 Stamina. If you have the right facilities and materials you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&e>=150?Math.random()<.1&&(this.logService.addLogMessage("Your anvil rings with power. A new chain is forged!","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],activityType:O.AttachChains,description:["Swim deep and attach one of your chains to the island."],consequenceDescription:["Uses 1000 Stamina. Requires an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.inventoryService.consume("chain")>0?(this.logService.addLogMessage("You attach a chain to the island. and give your chains a tug.","STANDARD","EVENT"),this.impossibleTaskService.taskProgress[Y.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull, the island comes loose. You haul it to the surface.","STANDARD","STORY")):(this.logService.addLogMessage("You fumble around in the depths without a chain until a shark comes by and takes a bite.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],activityType:O.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=10;for(let r=0;r<200;r++)e=this.inventoryService.consume("ore");for(const r of this.followerService.followers)"builder"===r.job&&(i+=r.power);i=Math.floor(i/10),e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingBrick.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],activityType:O.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(let i=0;i<200;i++)e=this.inventoryService.consume("wood");e>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.addLogMessage("You made "+this.itemRepoService.items.scaffolding.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],activityType:O.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0,i=100;for(const r of this.followerService.followers)"builder"===r.job&&(i+=r.power);i=Math.floor(i/100),e=this.inventoryService.consume("ore"),this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingMortar.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],activityType:O.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(const r of this.followerService.followers)"builder"===r.job&&e++;if(e<10)return this.logService.addLogMessage("You fumble without the proper help and hurt yourself.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max);let i=0;if(i=this.inventoryService.consume("scaffolding"),i<1)return this.logService.addLogMessage("You try building without a scaffolding, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<100;r++)i=this.inventoryService.consume("mortar");if(i<1)return this.logService.addLogMessage("You try building without enough mortar, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);i=0;for(let r=0;r<1e3;r++)i=this.inventoryService.consume("brick");if(i<1)return this.logService.addLogMessage("You try building without enough bricks, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max);this.impossibleTaskService.taskProgress[Y.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.BuildTower].complete&&this.logService.addLogMessage("You have acheived the impossible and built a tower beyond the heavens.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],activityType:O.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Uses 100 Stamina and Mana. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value<0||this.characterService.characterState.status.mana.value<0?this.logService.addLogMessage("You try to research, but you just don't have the energy.","STANDARD","EVENT"):this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.addLogMessage("Research breakthrough! You produce a tome!.","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],activityType:O.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Uses 100 Stamina. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0;e=this.inventoryService.consume("windTome"),e>0?(this.impossibleTaskService.taskProgress[Y.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.TameWinds].complete&&this.logService.addLogMessage("You acheived the impossible and tamed a hurricane.","STANDARD","STORY")):(this.logService.addLogMessage("You try to tame the winds, but without the proper preparation you are blown off the top of the tower.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max)}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],activityType:O.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[Y.LearnToFly].progress++,this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<2222?(this.logService.addLogMessage("Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<4444?(this.logService.addLogMessage("You feel like you might have flown a litte bit, somewhere near the time you hit the ground.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[Y.LearnToFly].progress<6666?(this.logService.addLogMessage("You definitely did better that time. You did some great flying but sticking the landing is still tricky.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=100):(this.logService.addLogMessage("Almost there! Perfect landings are so hard.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.LearnToFly].complete&&this.logService.addLogMessage("You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],activityType:O.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let e=0;for(let i=0;i<1e3;i++)e=this.inventoryService.consume("food");if(e<1)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more food.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],activityType:O.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.characterService.characterState.money-=1e9,this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more money.","STANDARD","EVENT")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],activityType:O.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.addLogMessage("The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e3);this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress<3500?this.logService.addLogMessage("The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.","STANDARD","EVENT"):(this.impossibleTaskService.taskProgress[Y.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.BefriendDragon].complete&&this.logService.addLogMessage("You did the impossible and made friends with a dragon!","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],activityType:O.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Ne.Capital){this.logService.addLogMessage("You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.","INJURY","EVENT");for(let i=0;i<3;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);return}let e=0;for(let i=0;i<1e4;i++)e=this.inventoryService.consume("food");return e<1?(this.logService.addLogMessage("You don't have enough food to feed your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):this.characterService.characterState.money<1e10?(this.logService.addLogMessage("You don't have enough money to pay your army, so they revolt and fight you instead.","INJURY","EVENT"),void this.battleService.addEnemy(this.battleService.enemyRepo.army)):(this.characterService.characterState.money-=1e10,void this.inventoryService.addItem(this.itemRepoService.items.army))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],activityType:O.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let e=0;for(let i=0;i<this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].progress+1;i++)e=this.inventoryService.consume("army");if(e<1)for(let i=0;i<5;i++)this.battleService.addEnemy(this.battleService.enemyRepo.army);else this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.ConquerTheWorld].complete&&this.logService.addLogMessage("You did the impossible and conquered the world! Under your wise rule all human suffering ceases.","STANDARD","STORY")}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],activityType:O.MoveStars,description:["Extend your vast magical powers into the heavens and force the starts into alignment."],consequenceDescription:["Uses 1000 Stamina and Mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[Y.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[Y.RearrangeTheStars].complete&&this.logService.addLogMessage("You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches.","STANDARD","STORY"))}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],activityType:O.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 Stamina. Increases a random attribute and provides a little money."],consequence:[()=>{const i=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())];this.characterService.characterState.increaseAttribute(i,.1),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.getActivityByType(O.OddJobs).lastIncome=3,this.oddJobDays++}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity"],activityType:O.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Mana (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Mana (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage()},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage()}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4}],unlocked:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:O.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder what any of this means for your immortal progression."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;const e=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;const e=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;const e=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;const e=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.getActivityByType(O.Begging).lastIncome=e,this.beggingDays++}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:O.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(O.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.increaseAttribute("metalLore",.1))},()=>{this.checkApprenticeship(O.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.2),this.characterService.characterState.increaseAttribute("fireLore",.02),this.inventoryService.openInventorySlots()>0)){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.05;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.3),this.characterService.characterState.increaseAttribute("fireLore",.05),this.inventoryService.openInventorySlots()>0)){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/10+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Blacksmithing).lastIncome=e;let i=.2;if(this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.2),Math.random()<i&&(this.characterService.characterState.increaseAttribute("metalLore",.5),this.characterService.characterState.increaseAttribute("fireLore",.1),this.inventoryService.openInventorySlots()>0)){const r=this.inventoryService.consume("metal");r>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(r/5+Math.floor(Math.log2(this.characterService.characterState.attributes.metalLore.value)),"metal"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillMold)}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],activityType:O.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"===this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003)}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:O.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(O.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.05),this.characterService.characterState.increaseAttribute("waterLore",.1))},()=>{this.checkApprenticeship(O.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("waterLore",.2),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e;let i=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),Math.random()<i&&(this.characterService.characterState.increaseAttribute("woodLore",.15),this.characterService.characterState.increaseAttribute("waterLore",.3),this.inventoryService.openInventorySlots()>0)){let r=this.inventoryService.consume("ingredient");r>=1&&(r+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(r+1,!1))}},()=>{this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Alchemy).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("ingredient");i>=1&&(i+=Math.floor(Math.log2(this.characterService.characterState.attributes.waterLore.value)),this.inventoryService.generatePotion(i+1,!0))}}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],activityType:O.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01)}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],activityType:O.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(O.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("woodLore",.1)},()=>{this.checkApprenticeship(O.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.02&&(this.characterService.characterState.increaseAttribute("woodLore",.25),this.inventoryService.openInventorySlots()>0)){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,Math.random()<.05&&(this.characterService.characterState.increaseAttribute("woodLore",.4),this.inventoryService.openInventorySlots()>0)){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Woodworking).lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value)),"wood"))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillBox)}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],activityType:O.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(O.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&this.characterService.characterState.increaseAttribute("animalHandling",.1)},()=>{this.checkApprenticeship(O.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.2),this.inventoryService.openInventorySlots()>0)){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.01&&(this.characterService.characterState.increaseAttribute("animalHandling",.3),this.inventoryService.openInventorySlots()>0)){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(2*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}},()=>{this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.getActivityByType(O.Leatherworking).lastIncome=e,Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.5),this.inventoryService.openInventorySlots()>0)){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(5*i+Math.floor(Math.log2(this.characterService.characterState.attributes.animalHandling.value)),"leather",this.inventoryService.randomArmorSlot()))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillPouch)}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],activityType:O.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),Math.random()<.01&&(this.characterService.characterState.increaseAttribute("woodLore",.1),this.characterService.characterState.increaseAttribute("earthLore",.1))}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],activityType:O.Mining,description:["Dig in the ground for usable minerals."],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),Math.random()<.5&&(this.characterService.characterState.increaseAttribute("earthLore",.1),this.inventoryService.addItem(this.inventoryService.getOre()))}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],activityType:O.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){const e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],activityType:O.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"===this.homeService.furniture.workbench.id&&(e+=.4),Math.random()<e&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.itemRepoService.items.hide)),Math.random()<.01&&this.battleService.addEnemy(this.battleService.enemyRepo.wolf)}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],activityType:O.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),Math.random()<.2&&(this.characterService.characterState.increaseAttribute("animalHandling",.1),this.characterService.characterState.increaseAttribute("waterLore",.05),this.inventoryService.addItem(this.itemRepoService.items.carp))}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],activityType:O.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;const e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0)}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],activityType:O.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],activityType:O.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,Math.random()<.01&&this.characterService.characterState.increaseAttribute("spirituality",.1)}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],activityType:O.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked?Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at cultivating your core and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],activityType:O.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["Uses 10 Mana and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10?(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to infuse your body. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],activityType:O.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["Uses 20 Mana and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20?(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)):(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("Your magic is too weak to extend your life. You fail miserably and hurt yourself badly.","INJURY","EVENT"))}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],activityType:O.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.money-=1e6,this.characterService.characterState.money<0?this.characterService.characterState.money=0:this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():(this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.max,this.logService.addLogMessage("You fail miserably at your attempt to recruit followers. An angry mob chases you down and gives you a beating for your arrogance.","INJURY","EVENT"))}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],activityType:O.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Uses 1000 Stamina. Gives you a small chance for each follower of increasing their power. You probably should not try this if you have no followers."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.followerService.followersUnlocked){let e=!0;for(const i of this.followerService.followers)i.power>=100?i.power=100:(e=!1,Math.random()<(1-Math.pow(i.power/100,.5))/(365e5/(3650+i.age))&&(i.power++,i.cost=100*i.power,this.logService.addLogMessage(i.name+" gains additional power as a "+i.job,"STANDARD","EVENT")));e&&this.logService.addLogMessage("You try to train your followers, but they are all already as powerful as they can be. You pat them each on the back and tell them they are great.","STANDARD","EVENT")}}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0}}}return n.\u0275fac=function(e){return new(e||n)(S(Ve),S(ee),S(lt),S(Wi),S(un),S($n),S(Ti),S(kn),S(Yi),S(qo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ve=(()=>{class n{constructor(e,i,r,o,s){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",this.characterState=new GN(r,s),i.tickSubject.subscribe(()=>{this.mainLoopService.totalTicks%3650==0&&this.characterState.increaseBaseLifespan(1,70),this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let a="";this.forceRebirth?a="You release your soul from your body at the age of "+this.formatAge()+".":this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal?a="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".":this.characterState.status.nourishment.value<=0&&!this.characterState.immortal?this.characterState.attributes.spirituality.value>0?(this.characterState.status.health.value-=20,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&(a="You starve to death at the age of "+this.formatAge()+".")):a="You starve to death at the age of "+this.formatAge()+".":this.characterState.status.health.value<=0&&!this.characterState.immortal&&(a="You succumb to your wounds and die at the age of "+this.formatAge()+"."),""!==a&&(this.characterState.immortal||(this.logService.addLogMessage(a,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT")),this.characterState.dead=!0,this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{var l;this.characterState.dead=!1,null===(l=this.deathSubscriber)||void 0===l||l.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.addLogMessage("You are born anew, still an immortal but with the fresh vigor of youth.","STANDARD","EVENT"):(this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT")))}),i.longTickSubject.subscribe(()=>{this.characterState.dead||(this.characterState.recalculateDerivedStats(),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.immortal)return void(this.lifespanTooltip="You are immortal.");if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":Math.floor(e/365)+" years"}resetAptitudes(){const e=Object.keys(this.characterState.attributes);for(const i in e){const r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1+r.aptitude*(1-this.characterState.aptitudeGainDivider/100)/10,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(Wt)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=10||(this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain additional aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider-=10,this.resetAptitudes())}soulCoreRank(){let e=0,i=this.characterState.condenseSoulCoreOriginalCost;for(;i<this.characterState.condenseSoulCoreCost;)i*=10,e++;return e}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){let e=0,i=this.characterState.reinforceMeridiansOriginalCost;for(;i<this.characterState.reinforceMeridiansCost;)i*=10,e++;return e}upgradeBloodline(){this.characterState.bloodlineRank>=5||(this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=1e3,this.characterState.bloodlineRank++,this.resetAptitudes())}}return n.\u0275fac=function(e){return new(e||n)(S(Fe),S(un),S(kn),S(Wi),S(an))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ee=(()=>{class n{constructor(e,i,r,o,s){this.logService=e,this.characterService=i,this.itemRepoService=s,this.itemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.autoequipBestEnabled=!0,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellEntries=[],this.autoUseUnlocked=!1,this.autoUseEntries=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1;for(let a=0;a<this.maxItems;a++)this.itemStacks.push(null);r.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),r.longTickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.autoequipBestWeapon&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoequipBestEnabled&&this.autoequipArmor())}),o.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled}}setProperties(e){this.itemStacks=e.itemStacks,this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellEntries=e.autoSellEntries||[],this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseEntries=e.autoUseEntries||[],this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.autoequipBestEnabled=e.autoequipBestEnabled||!0,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}generateWeapon(e,i,r){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons){const _=this.consume("spiritGem");_>0&&(e+=_)}let s=e%ci.length;e>=ci.length*Ho.length*fc.length&&(s=ci.length-1);let a=Math.floor(e/ci.length);const l=ci[s];let c="";if(a>0){let _=Math.floor(a/Ho.length);_>0?(_>fc.length?(_=fc.length,a=Ho.length-1):a%=Ho.length,c=" of "+fc[_-1]+" "+Ho[a]):c=" of "+Ho[a-1]}let u=i,h="rightHand";"wood"===i&&(h="leftHand",u="wooden");let f=r;null==f&&(f=rw[Math.floor(Math.random()*rw.length)]);const m=l+" "+u+" "+f+c;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+m+"!","STANDARD","CRAFTING");const v=10*e+Math.floor(Math.random()*e*5);return{id:"weapon",name:m,type:"equipment",slot:h,value:e,weaponStats:{baseDamage:e,material:i,durability:v,baseName:f},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+e+"<br/>Durability: "+v}}updateWeaponDescription(e){var i,r,o;e.description="A unique weapon made of "+(null===(i=e.weaponStats)||void 0===i?void 0:i.material)+".<br/>Base Damage: "+(null===(r=e.weaponStats)||void 0===r?void 0:r.baseDamage)+"<br/>Durability: "+(null===(o=e.weaponStats)||void 0===o?void 0:o.durability)}updateArmorDescription(e){var i,r,o;e.description="A unique piece of armor made of "+(null===(i=e.armorStats)||void 0===i?void 0:i.material)+"<br/>Defense: "+(null===(r=e.armorStats)||void 0===r?void 0:r.defense)+"<br/>Durability: "+(null===(o=e.armorStats)||void 0===o?void 0:o.durability)}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){const a=this.consume("spiritGem");if(a>0&&(e+=a),Math.random()<.1)return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())],s="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:s,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",s=10*e,a=i+" Pill  +"+e;this.checkFor("pillBox")>0&&this.checkFor("pillMold")>0&&this.checkFor("pillPouch")>0?(this.consume("pillBox"),this.consume("pillMold"),this.consume("pillPouch"),i="Empowerment",r="A pill that permanently empowers the increase of your attributes based on your aptitudes.",o="Use to permanently empower the increase of your attributes based on your aptitudes.",s=1,a="Empowerment Pill",this.logService.addLogMessage("Alchemy Success! Created a "+a+". Its effect gets worse the more you take.","STANDARD","CRAFTING")):this.logService.addLogMessage("Alchemy Success! Created a "+a+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:a,id:"pill",type:"pill",value:s,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:i,power:e})}generateHerb(){let e=0;const i=this.characterService.characterState.attributes.woodLore.value;let r,o;if(e=i<1e4?Math.floor(Math.sqrt(i)):100+Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value-1e4)),e>=Uo.length*mc.length)r=Uo[Uo.length-1],o=mc[mc.length-1];else{const a=e%Uo.length,l=Math.floor(e/Uo.length);r=Uo[a],o=mc[l]}const s=e+1;if(this.addItem({id:"herb",name:o+" "+r,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbs)for(let a=0;a<this.itemStacks.length;a++){const l=this.itemStacks[a];l&&"herb"===l.item.id&&l.item.value<s&&this.sell(l,l.quantity)}}generateSpiritGem(e){return{id:"spiritGemGrade"+e,name:"monster gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r,o){let a=e%ci.length;e>=ci.length*jo.length*pc.length&&(a=ci.length-1);let l=Math.floor(e/ci.length);const c=ci[a];let u="";if(l>0){let D=Math.floor(l/jo.length);D>0?(D>pc.length?(D=pc.length,l=jo.length-1):l%=jo.length,u=" of "+pc[D-1]+" "+jo[l]):u=" of "+jo[l-1]}const h=i;let f=jN;"legs"===r?f=UN:"head"===r?f=qN:"feet"===r&&(f=$N);let m=o;null==m&&(m=f[Math.floor(Math.random()*f.length)]);const v=c+" "+h+" "+m+u;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+v+"!","STANDARD","CRAFTING");const _=5*e+Math.floor(Math.random()*e*5);return{id:"armor",name:v,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:_,baseName:m},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+e+"<br/>Durability: "+_}}randomArmorSlot(){const e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){let e;e=this.characterService.characterState.attributes.earthLore.value<20?1+Math.floor(this.characterService.characterState.attributes.earthLore.value/5):this.characterService.characterState.attributes.earthLore.value<70?5+Math.floor((this.characterService.characterState.attributes.earthLore.value-20)/10):9+Math.floor(Math.log10(this.characterService.characterState.attributes.earthLore.value-60));let i=this.itemRepoService.items.copperOre;for(const r in this.itemRepoService.items){const o=this.itemRepoService.items[r];"ore"===o.type&&o.value>i.value&&o.value<=e&&(i=o)}if(this.autoSellOldOre)for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];o&&"ore"===o.item.type&&o.item.value<i.value&&this.sell(o,o.quantity)}return i}getBar(e){const i=10*e;let r=this.itemRepoService.items.copperBar;for(const o in this.itemRepoService.items){const s=this.itemRepoService.items[o];if("metal"===s.type&&s.value===i){r=s;break}}if(this.autoSellOldOre)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];s&&"metal"===s.item.type&&s.item.value<r.value&&this.sell(s,s.quantity)}return r}getWood(){let e;if(e=this.characterService.characterState.attributes.woodLore.value>5e8&&this.characterService.characterState.attributes.spirituality.value>5e7?this.itemRepoService.items.divinewoodLog:this.characterService.characterState.attributes.woodLore.value>1e7&&this.characterService.characterState.attributes.spirituality.value>1e6?this.itemRepoService.items.devilwoodLog:this.characterService.characterState.attributes.woodLore.value>2e5&&this.characterService.characterState.attributes.spirituality.value>2e4?this.itemRepoService.items.dragonwoodLog:this.characterService.characterState.attributes.woodLore.value>1e4&&this.characterService.characterState.attributes.spirituality.value>1e3?this.itemRepoService.items.titanwoodLog:this.characterService.characterState.attributes.woodLore.value>1e3&&this.characterService.characterState.attributes.spirituality.value>100?this.itemRepoService.items.diamondwoodLog:this.characterService.characterState.attributes.woodLore.value>300&&this.characterService.characterState.attributes.spirituality.value>10?this.itemRepoService.items.peachwoodLog:this.characterService.characterState.attributes.woodLore.value>200&&this.characterService.characterState.attributes.spirituality.value>1?this.itemRepoService.items.blackwoodLog:this.characterService.characterState.attributes.woodLore.value>100?this.itemRepoService.items.zitanLog:this.characterService.characterState.attributes.woodLore.value>50?this.itemRepoService.items.rosewoodLog:this.characterService.characterState.attributes.woodLore.value>40?this.itemRepoService.items.pearwoodLog:this.characterService.characterState.attributes.woodLore.value>30?this.itemRepoService.items.laurelwoodLog:this.characterService.characterState.attributes.woodLore.value>20?this.itemRepoService.items.walnutLog:this.characterService.characterState.attributes.woodLore.value>10?this.itemRepoService.items.cypressLog:this.itemRepoService.items.elmLog,this.autoSellOldWood)for(let i=0;i<this.itemStacks.length;i++){const r=this.itemStacks[i];r&&"wood"===r.item.type&&r.item.value<e.value&&this.sell(r,r.quantity)}return e}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.maxItems=10;for(let e=0;e<this.maxItems;e++)this.itemStacks.push(null);this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),this.grandmotherGift&&this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){if(this.fed)return this.noFood=!1,void(this.fed=!1);let e=null;for(const r of this.itemStacks)null!==r&&"food"===r.item.type&&r.item.value>0&&(e=r);e?(this.useItemStack(e),this.noFood=!1):(this.noFood=!0,this.characterService.characterState.money>0&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItem(e,i=1){i<1&&(i=1);for(const o of this.autoBalanceItems)if(o.name===e.name){if(o.useNumber<1){if(o.sellNumber<1)break;return this.characterService.characterState.money+=e.value*i,-1}if(o.sellNumber<1)return this.useItem(e,i*o.useNumber),-1;let s=i%(o.useNumber+o.sellNumber);for(i-=s;s>0;){if(o.index<o.useNumber){if(s+o.index<=o.useNumber){this.useItem(e,s),o.index+=s;break}this.useItem(e,o.useNumber-o.index),s-=o.useNumber-o.index,o.index=o.useNumber}if(o.index<o.useNumber+o.sellNumber){if(s+o.index<o.useNumber+o.sellNumber){this.characterService.characterState.money+=e.value*s,o.index+=s;break}this.characterService.characterState.money+=e.value*(o.useNumber+o.sellNumber-o.index),s-=o.useNumber+o.sellNumber-o.index,o.index=0}o.index>=o.useNumber+o.sellNumber&&(o.index-=o.useNumber+o.sellNumber)}if(i&&(this.useItem(e,(i/=o.useNumber+o.sellNumber)*o.useNumber),this.characterService.characterState.money+=e.value*i,i=0),i<1)return-1;break}if(this.autoPotionUnlocked&&"potion"===e.type)return this.useItem(e,i),-1;if(this.autoPillUnlocked&&"pill"===e.type)return this.useItem(e,i),-1;for(const o of this.autoUseEntries)if(o.name===e.name){let s=this.getQuantityByName(e.name)+i-o.reserve;if(s>i&&(s=i),s>0&&(this.useItem(e,i),0==(i-=s)))return-1}if(this.autoSellOldGemsEnabled&&"spiritGem"===e.type)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];null!==s&&"spiritGem"===s.item.type&&s.item.value<e.value&&(this.characterService.characterState.money+=s.item.value*s.quantity,this.itemStacks[o]=null)}for(const o of this.autoSellEntries)if(o.name===e.name){let s=this.getQuantityByName(e.name)+i-o.reserve;if(s>i&&(s=i),s>0&&(this.characterService.characterState.money+=e.value*s,0==(i-=s)))return-1}let r=-1;if("equipment"!==e.type)for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];if(null!==s&&s.item.name===e.name){if(s.quantity+i<=this.maxStackSize)return s.quantity+=i,-1===r&&(r=o),r;-1===r&&(r=o),i-=this.maxStackSize-s.quantity,s.quantity=this.maxStackSize}}for(let o=0;o<this.itemStacks.length;o++)if(null===this.itemStacks[o]){if(-1===r&&(r=o),i<=this.maxStackSize)return this.itemStacks[o]={item:e,quantity:i},r;this.itemStacks[o]={item:e,quantity:this.maxStackSize},i-=this.maxStackSize}return this.autoSellUnlocked?(this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you sold it.`,"STANDARD","EVENT"),this.characterService.characterState.money+=e.value):this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems+=i,r}sell(e,i){this.lifetimeSoldItems+=i,"spiritGem"===e.item.type&&(this.lifetimeGemsSold+=i);const r=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[r]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e===this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(const i of this.itemStacks)null!==i&&i.item.name===e.name&&this.sell(i,i.quantity)}autoSell(e){!this.autoSellUnlocked||(this.autoSellEntries.some(i=>i.name===e.name)||this.autoSellEntries.push({name:e.name,reserve:0}),this.sellAll(e))}unAutoSell(e){const i=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(i,1)}useItemStack(e,i=1){if(i<1&&(i=1),i>e.quantity&&(i=e.quantity),this.useItem(e.item,i),e.item.useConsumes&&(e.quantity-=i,e.quantity<=0)){const r=this.itemStacks.indexOf(e);this.itemStacks[r]=null,e===this.selectedItem&&(this.selectedItem=null)}}useItem(e,i=1){i<1&&(i=1),this.lifetimeUsedItems++,"potion"===e.type&&function ZN(n){return"attribute"in n}(e)?this.usePotion(e,i):"pill"===e.type&&function XN(n){return"effect"in n}(e)?this.usePill(e,i):e.use&&(e.use(i),"food"===e.type&&(this.fed=!0))}autoUse(e){if(this.autoUseUnlocked&&("potion"===e.type||"pill"===e.type||e.use)&&(this.autoUseEntries.some(i=>i.name===e.name)||this.autoUseEntries.push({name:e.name,reserve:0}),e.useConsumes))for(let i=0;i<this.itemStacks.length;i++){let r=this.itemStacks[i];null!=r&&r.item.name==e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){const i=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(i,1)}autoBalance(e){for(const i of this.autoBalanceItems)if(i.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name===e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!Ki(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const s=this.characterService.characterState.equipment[o.slot];s&&this.addItem(s),this.characterService.characterState.equipment[o.slot]=o;const a=this.itemStacks.indexOf(e);this.itemStacks[a]=null}equipBest(e){var i,r,o,s,a,l,c,u;let h=0,f=!0;"leftHand"===e||"rightHand"===e?h=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(f=!1,h=(null===(s=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===s?void 0:s.defense)||0);for(let m=0;m<this.itemStacks.length;m++){const v=this.itemStacks[m];if(null!==v){const _=v.item;if(Ki(_)&&_.slot===e){let D=0;f&&_.weaponStats&&(null===(a=_.weaponStats)||void 0===a?void 0:a.durability)>0?D=null===(l=_.weaponStats)||void 0===l?void 0:l.baseDamage:!f&&_.armorStats&&(null===(c=_.armorStats)||void 0===c?void 0:c.durability)>0&&(D=null===(u=_.armorStats)||void 0===u?void 0:u.defense),D>h&&this.equip(v)}}}}consume(e){let i=-1,r=-1;for(let o=0;o<this.itemStacks.length;o++){const s=this.itemStacks[o];null!==s&&s.item.type===e&&i<s.item.value&&(i=s.item.value,r=o)}if(r>=0){const o=this.itemStacks[r];null!==o&&(o.quantity--,o.quantity<=0&&(this.itemStacks[r]=null))}return i}checkFor(e){let i=-1;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!==o&&o.item.type===e&&i<o.item.value&&(i=o.item.value)}return i}getQuantityByName(e){let i=0;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!=o&&o.item.name==e&&(i+=o.quantity)}return i}hasDurability(e){var i,r;const o=e.item;return!Ki(o)||0!==(null===(i=o.armorStats)||void 0===i?void 0:i.durability)&&0!==(null===(r=o.weaponStats)||void 0===r?void 0:r.durability)}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i,this.characterService.characterState.attributes[e.attribute].value+=e.increase*i}usePill(e,i=1){i<1&&(i=1),this.lifetimePillsUsed+=i,"Longevity"===e.effect?(this.characterService.characterState.alchemyLifespan+=e.power*i,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):"Empowerment"===e.effect&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(const i of this.itemStacks)null===i&&e++;return e}mergeEquipment(e,i,r){var o,s,a,l;if(e.slot!==i.slot)return;let c=0;c=this.addItem("rightHand"===e.slot||"leftHand"===e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+"",null===(s=e.weaponStats)||void 0===s?void 0:s.baseName):this.generateArmor(e.value+i.value,(null===(a=e.armorStats)||void 0===a?void 0:a.material)+"",e.slot,null===(l=e.armorStats)||void 0===l?void 0:l.baseName)),c!==r&&null===this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[c],this.itemStacks[c]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i,r,o,s,a,l;let c=-1,u=null,h=null,f=-1;for(let m=0;m<this.itemStacks.length;m++){let v=null===(i=this.itemStacks[m])||void 0===i?void 0:i.item;v&&Ki(v)&&v.slot===e&&(-1===c?(c=m,f=m,u=v):(h=v,u&&((this.selectedItem===this.itemStacks[c]||this.selectedItem===this.itemStacks[m])&&(this.selectedItem=null),this.itemStacks[c]=null,this.itemStacks[m]=null,this.mergeEquipment(u,h,c),v=null===(r=this.itemStacks[c])||void 0===r?void 0:r.item,v?Ki(v)&&v.slot===e&&(u=v):c=-1)))}if(null!==u&&this.autoequipBestWeapon&&this.autoequipBestArmor){if(h=this.characterService.characterState.equipment[e],null===h)return;u="rightHand"===e||"leftHand"===e?this.generateWeapon(h.value+u.value,(null===(o=h.weaponStats)||void 0===o?void 0:o.material)+"",null===(s=h.weaponStats)||void 0===s?void 0:s.baseName):this.generateArmor(h.value+u.value,(null===(a=h.armorStats)||void 0===a?void 0:a.material)+"",e,null===(l=h.armorStats)||void 0===l?void 0:l.baseName),this.characterService.characterState.equipment[e]=u,this.itemStacks[f]=null}}mergeSpiritGem(e,i=0){if(!(e.quantity<10-i)&&(e.quantity-=10-i,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0===e.quantity))for(let r=0;r<this.itemStacks.length;r++)if(this.itemStacks[r]===e)return void(this.itemStacks[r]=null)}mergeAnySpiritGem(e=0){const i=this.characterService.meridianRank();e>i-5&&(e=i-5);for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];if(null!==o&&"spiritGem"===o.item.type&&o.quantity>=10-e)return void this.mergeSpiritGem(o,e)}}}return n.\u0275fac=function(e){return new(e||n)(S(kn),S(Ve),S(un),S(Wi),S($n))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ki(n){return"slot"in n}function sw(n){return Array.isArray(n)?n:[n]}function ct(n){return null==n?"":"string"==typeof n?n:`${n}px`}function vc(n){return n instanceof Ze?n.nativeElement:n}const n2=["addListener","removeListener"],r2=["addEventListener","removeEventListener"],o2=["on","off"];function Kf(n,t,e,i){if(Se(e)&&(i=e,e=void 0),i)return Kf(n,t,e).pipe(wf(i));const[r,o]=function l2(n){return Se(n.addEventListener)&&Se(n.removeEventListener)}(n)?r2.map(s=>a=>n[s](t,a,e)):function s2(n){return Se(n.addListener)&&Se(n.removeListener)}(n)?n2.map(aw(n,t)):function a2(n){return Se(n.on)&&Se(n.off)}(n)?o2.map(aw(n,t)):[];if(!r&&du(n))return ut(s=>Kf(s,t,e))(Jt(n));if(!r)throw new TypeError("Invalid event target");return new Ue(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function aw(n,t){return e=>i=>n[e](t,i)}class c2 extends St{constructor(t,e){super()}schedule(t,e=0){return this}}const yc={setInterval(n,t,...e){const{delegate:i}=yc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=yc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Jf extends c2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return yc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;yc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Da(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const ca={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ca;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new St(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=ca;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ca;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},lw={now:()=>(lw.delegate||Date).now(),delegate:void 0};class ua{constructor(t,e=ua.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}ua.now=lw.now;class Zf extends ua{constructor(t,e=ua.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class h2 extends Zf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class u2 extends Jf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ca.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ca.cancelAnimationFrame(e),t._scheduled=void 0)}});let Xf,f2=1;const _c={};function cw(n){return n in _c&&(delete _c[n],!0)}const p2={setImmediate(n){const t=f2++;return _c[t]=!0,Xf||(Xf=Promise.resolve()),Xf.then(()=>cw(t)&&n()),t},clearImmediate(n){cw(n)}},{setImmediate:m2,clearImmediate:g2}=p2,Sc={setImmediate(...n){const{delegate:t}=Sc;return((null==t?void 0:t.setImmediate)||m2)(...n)},clearImmediate(n){const{delegate:t}=Sc;return((null==t?void 0:t.clearImmediate)||g2)(n)},delegate:void 0},uw=(new class y2 extends Zf{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class v2 extends Jf{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Sc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Sc.clearImmediate(e),t._scheduled=void 0)}}),new Zf(Jf)),S2=uw;function hw(n,t=uw){return function b2(n){return nt((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ze(e,c=>{i=!0,r=c,o||Jt(n(c)).subscribe(o=ze(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function C2(n=0,t,e=S2){let i=-1;return null!=t&&(Fm(t)?e=t:i=t),new Ue(r=>{let o=function w2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}let Qf;try{Qf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Qf=!1}let ha,Er,tp,Ai=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function LR(n){return n===PS}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Qf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(S(Vd))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ep(n){return function D2(){if(null==ha&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ha=!0}))}finally{ha=ha||!1}return ha}()?n:!!n.capture}function M2(){if(null==Er){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Er=!1,Er;if("scrollBehavior"in document.documentElement.style)Er=!0;else{const n=Element.prototype.scrollTo;Er=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Er}function np(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function xr(n){return n.composedPath?n.composedPath()[0]:n.target}function ip(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const x2=new U("cdk-dir-doc",{providedIn:"root",factory:function T2(){return el(de)}}),A2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rp=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new Ie,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function P2(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?A2.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(S(x2,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),O2=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Ue(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(hw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):J()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ln(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=vc(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Kf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(S(Ee),S(Ai),S(de,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fw=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Te,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(hw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(S(Ai),S(Ee),S(de,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})(),mw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[da,pw],da,pw]}),n})();class op{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class sp extends op{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class gw extends op{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class F2 extends op{constructor(t){super(),this.element=t instanceof Ze?t.nativeElement:t}}class ap{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof sp?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof gw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof F2?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class L2 extends ap{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||Fe.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let vw=(()=>{class n extends ap{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Ie,this.attachDomPortal=o=>{const s=o.element,a=this._document.createComment("dom-portal");o.setAttachedHost(this),s.parentNode.insertBefore(a,s),this._getRootNode().appendChild(s),this._attachedPortal=o,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(s,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(s.hostView.rootNodes[0]),super.setDisposeFn(()=>s.destroy()),this._attachedPortal=e,this._attachedRef=s,this.attached.emit(s),s}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(b(qi),b(bn),b(de))},n.\u0275dir=z({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ve]}),n})(),yw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();function _w(n){return nt((t,e)=>{Jt(n).subscribe(ze(e,()=>e.complete(),ou)),!e.closed&&t.subscribe(e)})}const Sw=M2();class N2{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ct(-this._previousScrollPosition.left),t.style.top=ct(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Sw&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Sw&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class B2{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bw{enable(){}disable(){}attach(){}}function lp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ww(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class V2{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();lp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let H2=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new bw,this.close=s=>new B2(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new N2(this._viewportRuler,this._document),this.reposition=s=>new V2(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(S(O2),S(fw),S(Ee),S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cw{constructor(t){if(this.scrollStrategy=new bw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class j2{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class U2{constructor(t,e,i,r,o,s,a,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Te,this._attachments=new Te,this._detachments=new Te,this._locationChanges=St.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new Te,this._outsidePointerEvents=new Te,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(zn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ct(this._config.width),t.height=ct(this._config.height),t.minWidth=ct(this._config.minWidth),t.minHeight=ct(this._config.minHeight),t.maxWidth=ct(this._config.maxWidth),t.maxHeight=ct(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=sw(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(_w(Hm(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let cp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||ip()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),ip()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(S(de),S(Ai))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dw="cdk-overlay-connected-position-bounding-box",q2=/([A-Za-z%]+)$/;class $2{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Te,this._resizeSubscription=St.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Dw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const s=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?s:a}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=kw(e);let{x:s,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let f=0-a,m=a+o.height-i.height,v=this._subtractOverflows(o.width,0-s,s+o.width-i.width),_=this._subtractOverflows(o.height,f,m),D=v*_;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:_===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,s=Mw(this._overlayRef.getConfig().minHeight),a=Mw(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=a&&a<=o;return(t.fitsInViewportVertically||null!=s&&s<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=kw(e),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),a=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,h=0;return u=r.width<=o.width?c||-s:t.x<this._viewportMargin?o.left-i.left-t.x:0,h=r.height<=o.height?l||-a:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:h},{x:t.x+u,y:t.y+h}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new j2(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,h,f;if("top"===e.overlayY)s=t.y,o=i.height-s+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const m=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=2*m,s=t.y-m,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-v/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)f=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)h=t.x,u=i.right-t.x;else{const m=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;u=2*m,h=t.x-m,u>v&&!this._isInitialRender&&!this._growAfterOpen&&(h=t.x-v/2)}return{top:s,left:h,bottom:a,right:f,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ct(i.height),r.top=ct(i.top),r.bottom=ct(i.bottom),r.width=ct(i.width),r.left=ct(i.left),r.right=ct(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=ct(o)),s&&(r.maxWidth=ct(s))}this._lastBoundingBoxSize=i,Tr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Tr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Tr(i,this._getExactOverlayY(e,t,u)),Tr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=ct(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=ct(s.maxWidth):o&&(i.maxWidth="")),Tr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=ct(o.y),r}_getExactOverlayX(t,e,i){let s,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=ct(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ww(t,i),isOriginOutsideView:lp(t,i),isOverlayClipped:ww(e,i),isOverlayOutsideView:lp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&sw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ze)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Tr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Mw(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(q2);return e&&"px"!==e?null:parseFloat(t)}return n||null}function kw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Ew="cdk-global-overlay-wrapper";class z2{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ew),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Ew),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let G2=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new z2}flexibleConnectedTo(e){return new $2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(S(fw),S(de),S(Ai),S(cp))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W2=(()=>{class n extends xw{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(S(de),S(Ee,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y2=(()=>{class n extends xw{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=xr(o)},this._clickListener=o=>{const s=xr(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const h=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>h.next(o)):h.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(S(de),S(Ai),S(Ee,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),K2=0,wc=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,f){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=h,this._outsideClickDispatcher=f}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Cw(e);return s.direction=s.direction||this._directionality.value,new U2(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+K2++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(qs)),new L2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(S(H2),S(cp),S(qi),S(G2),S(W2),S(Fe),S(Ee),S(de),S(rp),S(Gs),S(Y2))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const X2={provide:new U("cdk-connected-overlay-scroll-strategy"),deps:[wc],useFactory:function Z2(n){return()=>n.scrollStrategies.reposition()}};let Q2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:[wc,X2],imports:[[da,yw,mw],mw]}),n})();function cB(n,t){return n===t}let Iw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function fB(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function dB(n){try{return n.frameElement}catch(t){return null}}(function bB(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Rw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Rw(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function _B(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function SB(n){return!function mB(n){return function vB(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function pB(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function gB(n){return function yB(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ow(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(S(Ai))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ow(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Rw(n){if(!Ow(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class wB{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(zn(1)).subscribe(t)}}let CB=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new wB(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(S(Iw),S(Ee),S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kB=new U("cdk-input-modality-detector-options"),EB={ignoreKeys:[18,17,224,91,16]},zo=ep({passive:!0,capture:!0});let xB=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Dn(null),this._lastTouchMs=0,this._onKeydown=s=>{var a,l;(null===(l=null===(a=this._options)||void 0===a?void 0:a.ignoreKeys)||void 0===l?void 0:l.some(c=>c===s.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=xr(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(function DB(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}(s)?"keyboard":"mouse"),this._mostRecentTarget=xr(s))},this._onTouchstart=s=>{!function MB(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}(s)?(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=xr(s)):this._modality.next("keyboard")},this._options=Object.assign(Object.assign({},EB),o),this.modalityDetected=this._modality.pipe(function aB(n){return ln((t,e)=>n<=e)}(1)),this.modalityChanged=this.modalityDetected.pipe(function lB(n,t=Ii){return n=null!=n?n:cB,nt((e,i)=>{let r,o=!0;e.subscribe(ze(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,zo),r.addEventListener("mousedown",this._onMousedown,zo),r.addEventListener("touchstart",this._onTouchstart,zo)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zo),document.removeEventListener("mousedown",this._onMousedown,zo),document.removeEventListener("touchstart",this._onTouchstart,zo))}}return n.\u0275fac=function(e){return new(e||n)(S(Ai),S(Ee),S(de),S(kB,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const AB=new U("cdk-focus-monitor-default-options"),Cc=ep({passive:!0,capture:!0});let PB=(()=>{class n{constructor(e,i,r,o,s){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Te,this._rootNodeFocusAndBlurListener=a=>{const l=xr(a),c="focus"===a.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,a,u)},this._document=o,this._detectionMode=(null==s?void 0:s.detectionMode)||0}monitor(e,i=!1){const r=vc(e);if(!this._platform.isBrowser||1!==r.nodeType)return J(null);const o=function E2(n){if(function k2(){if(null==tp){const n="undefined"!=typeof document?document.head:null;tp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return tp}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new Te,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=vc(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=vc(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=xr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Cc),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Cc)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_w(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Cc),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Cc),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(S(Ee),S(Ai),S(xB),S(de,8),S(AB,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lw="cdk-high-contrast-black-on-white",Nw="cdk-high-contrast-white-on-black",up="cdk-high-contrast-active";let IB=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(up),e.remove(Lw),e.remove(Nw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(up),e.add(Lw)):2===i&&(e.add(up),e.add(Nw))}}}return n.\u0275fac=function(e){return new(e||n)(S(Ai),S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RB=new U("mat-sanity-checks",{providedIn:"root",factory:function OB(){return!0}});let Dc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!ip()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(S(IB),S(RB,8),S(de))},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[da],da]}),n})();function FB(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}class Uw{}const Pi="*";function UB(n,t){return{type:7,name:n,definitions:t,options:{}}}function qw(n,t=null){return{type:4,styles:t,timings:n}}function $w(n,t=null){return{type:3,steps:n,options:t}}function zw(n,t=null){return{type:2,steps:n,options:t}}function Go(n){return{type:6,styles:n,offset:null}}function Gw(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ww(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Yw(n=null){return{type:9,options:n}}function Kw(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Jw(n){Promise.resolve(null).then(n)}class pa{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Jw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Zw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Jw(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const pe=!1;function Xw(n){return new V(3e3,pe)}function wV(){return"undefined"!=typeof window&&void 0!==window.document}function fp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ji(n){switch(n.length){case 0:return new pa;case 1:return n[0];default:return new Zw(n)}}function Qw(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const h=u.offset,f=h==l,m=f&&c||{};Object.keys(u).forEach(v=>{let _=v,D=u[v];if("offset"!==v)switch(_=t.normalizePropertyName(_,s),D){case"!":D=r[v];break;case Pi:D=o[v];break;default:D=t.normalizeStyleValue(v,_,D,s)}m[_]=D}),f||a.push(m),c=m,l=h}),s.length)throw function hV(n){return new V(3502,pe)}();return a}function pp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&mp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&mp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&mp(e,"destroy",n)))}}function mp(n,t,e){const i=e.totalTime,o=gp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function gp(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function hn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function eC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let vp=(n,t)=>!1,tC=(n,t,e)=>[],nC=null;function yp(n){const t=n.parentNode||n.host;return t===nC?null:t}(fp()||"undefined"!=typeof Element)&&(wV()?(nC=(()=>document.documentElement)(),vp=(n,t)=>{for(;t;){if(t===n)return!0;t=yp(t)}return!1}):vp=(n,t)=>n.contains(t),tC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Ar=null,iC=!1;function rC(n){Ar||(Ar=function DV(){return"undefined"!=typeof document?document.body:null}()||{},iC=!!Ar.style&&"WebkitAppearance"in Ar.style);let t=!0;return Ar.style&&!function CV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Ar.style,!t&&iC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ar.style)),t}const oC=vp,sC=tC;let aC=(()=>{class n{validateStyleProperty(e){return rC(e)}matchesElement(e,i){return!1}containsElement(e,i){return oC(e,i)}getParentElement(e){return yp(e)}query(e,i,r){return sC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new pa(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),_p=(()=>{class n{}return n.NOOP=new aC,n})();const Sp="ng-enter",kc="ng-leave",Ec="ng-trigger",xc=".ng-trigger",cC="ng-animating",bp=".ng-animating";function Pr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wp(parseFloat(t[1]),t[2])}function wp(n,t){return"s"===t?1e3*n:n}function Tc(n,t,e){return n.hasOwnProperty("duration")?n:function EV(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Xw()),{duration:0,delay:0,easing:""};r=wp(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=wp(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function qB(){return new V(3100,pe)}()),a=!0),o<0&&(t.push(function $B(){return new V(3101,pe)}()),a=!0),a&&t.splice(l,0,Xw())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Wo(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Zi(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Wo(n,e);return e}function hC(n,t,e){return e?t+":"+e+";":""}function dC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=hC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=hC(0,AV(e),n.style[e]));n.setAttribute("style",t)}function ui(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Dp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),fp()&&dC(n))}function Ir(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Dp(e);n.style[i]=""}),fp()&&dC(n))}function ma(n){return Array.isArray(n)?1==n.length?n[0]:zw(n):n}const Cp=new RegExp("{{\\s*(.+?)\\s*}}","g");function fC(n){let t=[];if("string"==typeof n){let e;for(;e=Cp.exec(n);)t.push(e[1]);Cp.lastIndex=0}return t}function Ac(n,t,e){const i=n.toString(),r=i.replace(Cp,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function GB(n){return new V(3003,pe)}()),a=""),a.toString()});return r==i?n:r}function Pc(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const TV=/-+([a-z0-9])/g;function Dp(n){return n.replace(TV,(...t)=>t[1].toUpperCase())}function AV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function WB(n){return new V(3004,pe)}()}}function pC(n,t){return window.getComputedStyle(n)[t]}function LV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function NV(n,t,e){if(":"==n[0]){const l=function BV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function aV(n){return new V(3016,pe)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function sV(n){return new V(3015,pe)}()),t;const r=i[1],o=i[2],s=i[3];t.push(mC(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(mC(s,r))}(i,e,t)):e.push(n),e}const Fc=new Set(["true","1"]),Lc=new Set(["false","0"]);function mC(n,t){const e=Fc.has(n)||Lc.has(n),i=Fc.has(t)||Lc.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?Fc.has(n):Lc.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Fc.has(t):Lc.has(t)),s&&a}}const VV=new RegExp("s*:selfs*,?","g");function Mp(n,t,e,i){return new HV(n).build(t,e,i)}class HV{constructor(t){this._driver=t}build(t,e,i){const r=new qV(e);this._resetContextStyleTimingState(r);const o=dn(this,ma(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function KB(){return new V(3006,pe)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function JB(){return new V(3007,pe)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Nc(a)){const l=a;Object.keys(l).forEach(c=>{fC(l[c]).forEach(u=>{s.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(Pc(o.values()),e.errors.push(function ZB(n,t){return new V(3008,pe)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=dn(this,ma(t.animation),e);return{type:1,matchers:LV(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Or(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>dn(this,i,e)),options:Or(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=dn(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:Or(t.options)}}visitAnimate(t,e){const i=function zV(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kp(Tc(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=kp(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=Tc(e,t);return kp(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Go({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=Go(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==Pi?i.push(s):e.errors.push(function XB(n){return new V(3002,pe)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Nc(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],c=l[a];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function QB(n,t,e,i,r){return new V(3010,pe)}()),u=!1),o=c.startTime),u&&(l[a]={startTime:o,endTime:r}),e.options&&function xV(n,t,e){const i=t.params||{},r=fC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function zB(n){return new V(3001,pe)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function eV(){return new V(3011,pe)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=t.steps.map(k=>{const C=this._makeStyleAst(k,e);let P=null!=C.offset?C.offset:function $V(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Nc(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Nc(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(C.styles),I=0;return null!=P&&(o++,I=C.offset=P),l=l||I<0||I>1,a=a||I<c,c=I,s.push(I),C});l&&e.errors.push(function tV(){return new V(3012,pe)}()),a&&e.errors.push(function nV(){return new V(3200,pe)}());const h=t.steps.length;let f=0;o>0&&o<h?e.errors.push(function iV(){return new V(3202,pe)}()):0==o&&(f=1/(h-1));const m=h-1,v=e.currentTime,_=e.currentAnimateTimings,D=_.duration;return u.forEach((k,C)=>{const P=f>0?C==m?1:f*C:s[C],I=P*D;e.currentTime=v+_.delay+I,_.duration=I,this._validateStyleAst(k,e),k.offset=P,i.styles.push(k)}),i}visitReference(t,e){return{type:8,animation:dn(this,ma(t.animation),e),options:Or(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Or(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Or(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function jV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(VV,"")),n=n.replace(/@\*/g,xc).replace(/@\w+/g,e=>xc+"-"+e.substr(1)).replace(/:animating/g,bp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,hn(e.collectedStyles,e.currentQuerySelector,{});const a=dn(this,ma(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:Or(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function rV(){return new V(3013,pe)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Tc(t.timings,e.errors,!0);return{type:12,animation:dn(this,ma(t.animation),e),timings:i,options:null}}}class qV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Nc(n){return!Array.isArray(n)&&"object"==typeof n}function Or(n){return n?(n=Wo(n)).params&&(n.params=function UV(n){return n?Wo(n):null}(n.params)):n={},n}function kp(n,t,e){return{duration:n,delay:t,easing:e}}function Ep(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Bc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const YV=new RegExp(":enter","g"),JV=new RegExp(":leave","g");function xp(n,t,e,i,r,o={},s={},a,l,c=[]){return(new ZV).buildKeyframes(n,t,e,i,r,o,s,a,l,c)}class ZV{buildKeyframes(t,e,i,r,o,s,a,l,c,u=[]){c=c||new Bc;const h=new Tp(t,e,c,r,o,u,[]);h.options=l,h.currentTimeline.setStyles([s],null,h.errors,l),dn(this,i,h);const f=h.timelines.filter(m=>m.containsAnimation());if(Object.keys(a).length){let m;for(let v=f.length-1;v>=0;v--){const _=f[v];if(_.element===e){m=_;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,h.errors,l)}return f.length?f.map(m=>m.buildKeyframes()):[Ep(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?Pr(i.duration):null,a=null!=i.delay?Pr(i.delay):null;return 0!==s&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),dn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Vc);const s=Pr(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>dn(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Pr(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),dn(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Tc(e.params?Ac(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Pr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Vc);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const h=e.createSubContext(t.options,c);o&&h.delayNextStep(o),c===e.element&&(l=h.currentTimeline),dn(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,h.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const h=u.currentTime;dn(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-h+(r.startTime-i.currentTimeline.startTime)}}const Vc={};class Tp{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Hc(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Pr(i.duration)),null!=i.delay&&(r.delay=Pr(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=Ac(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Tp(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=Vc,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new XV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(YV,"."+this._enterClassName)).replace(JV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function oV(n){return new V(3014,pe)}()),a}}class Hc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Hc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Pi,this._currentKeyframe[e]=Pi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function QV(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=Pi})):Zi(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=Ac(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Pi),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Zi(a,!0);Object.keys(c).forEach(u=>{const h=c[u];"!"==h?t.add(u):h==Pi&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?Pc(t.values()):[],s=e.size?Pc(e.values()):[];if(i){const a=r[0],l=Wo(a);a.offset=0,l.offset=1,r=[a,l]}return Ep(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class XV extends Hc{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=Zi(t[0],!1);l.offset=0,o.push(l);const c=Zi(t[0],!1);c.offset=yC(a),o.push(c);const u=t.length-1;for(let h=1;h<=u;h++){let f=Zi(t[h],!1);f.offset=yC((e+f.offset*i)/s),o.push(f)}i=s,e=0,r="",t=o}return Ep(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function yC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Ap{}class eH extends Ap{normalizePropertyName(t,e){return Dp(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(tH[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function YB(n,t){return new V(3005,pe)}())}return s+o}}const tH=(()=>function nH(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _C(n,t,e,i,r,o,s,a,l,c,u,h,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:f}}const Pp={};class SC{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function iH(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,c,u){const h=[],f=this.ast.options&&this.ast.options.params||Pp,v=this.buildStyles(i,a&&a.params||Pp,h),_=l&&l.params||Pp,D=this.buildStyles(r,_,h),k=new Set,C=new Map,P=new Map,I="void"===r,q={params:Object.assign(Object.assign({},f),_)},be=u?[]:xp(t,e,this.ast.animation,o,s,v,D,q,c,h);let Ce=0;if(be.forEach(et=>{Ce=Math.max(et.duration+et.delay,Ce)}),h.length)return _C(e,this._triggerName,i,r,I,v,D,[],[],C,P,Ce,h);be.forEach(et=>{const tt=et.element,Kt=hn(C,tt,{});et.preStyleProps.forEach(mt=>Kt[mt]=!0);const Et=hn(P,tt,{});et.postStyleProps.forEach(mt=>Et[mt]=!0),tt!==e&&k.add(tt)});const Qe=Pc(k.values());return _C(e,this._triggerName,i,r,I,v,D,be,Qe,C,P,Ce)}}class rH{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Wo(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=Ac(l,r,e));const c=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,c,l,e),i[c]=l})}}),i}}class sH{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new rH(r.style,r.options&&r.options.params||{},i)}),bC(this.states,"true","1"),bC(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new SC(t,r,this.states))}),this.fallbackTransition=function aH(n,t,e){return new SC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function bC(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const lH=new Bc;class cH{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Mp(this._driver,e,i,[]);if(i.length)throw function dV(n){return new V(3503,pe)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=Qw(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=xp(this._driver,e,o,Sp,kc,{},{},i,lH,r),s.forEach(u=>{const h=hn(a,u.element,{});u.postStyleProps.forEach(f=>h[f]=null)})):(r.push(function fV(){return new V(3300,pe)}()),s=[]),r.length)throw function pV(n){return new V(3504,pe)}();a.forEach((u,h)=>{Object.keys(u).forEach(f=>{u[f]=this._driver.computeStyle(h,f,Pi)})});const c=Ji(s.map(u=>{const h=a.get(u.element);return this._buildPlayer(u,{},h)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function mV(n){return new V(3301,pe)}();return e}listen(t,e,i,r){const o=gp(e,"","","");return pp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const wC="ng-animate-queued",Ip="ng-animate-disabled",pH=[],CC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},En="__ng_removed";class Op{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function _H(n){return null!=n?n:null}(i?t.value:t),i){const o=Wo(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ga="void",Rp=new Op(ga);class gH{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function gV(n,t){return new V(3302,pe)}();if(null==i||0==i.length)throw function vV(n){return new V(3303,pe)}();if(!function SH(n){return"start"==n||"done"==n}(i))throw function yV(n,t){return new V(3400,pe)}();const o=hn(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=hn(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(xn(t,Ec),xn(t,Ec+"-"+e),a[e]=Rp),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function _V(n){return new V(3401,pe)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new Fp(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(xn(t,Ec),xn(t,Ec+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const c=new Op(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[e]=c,l||(l=Rp),c.value!==ga&&l.value===c.value){if(!function CH(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const _=[],D=o.matchStyles(l.value,l.params,_),k=o.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Ir(t,D),ui(t,k)})}return}const f=hn(this._engine.playersByElement,t,[]);f.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let m=o.matchTransition(l.value,c.value,t,c.params),v=!1;if(!m){if(!r)return;m=o.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:v}),v||(xn(t,wC),s.onStart(()=>{Yo(t,wC)})),s.onDone(()=>{let _=this.players.indexOf(s);_>=0&&this.players.splice(_,1);const D=this._engine.playersByElement.get(t);if(D){let k=D.indexOf(s);k>=0&&D.splice(k,1)}}),this.players.push(s),f.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,xc,!0);i.forEach(r=>{if(r[En])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,ga,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&Ji(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,c=i[s]||Rp,u=new Op(ga),h=new Fp(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[En];(!o||o===CC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){xn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=gp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,pp(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class vH{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new gH(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(jc(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!jc(e))return;const o=e[En];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xn(t,Ip)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yo(t,Ip))}removeNode(t,e,i,r){if(jc(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[En]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return jc(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,xc,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,bp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ji(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[En];if(i&&i.setForRemoval){if(t[En]=CC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(Ip))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)xn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ji(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function SV(n){return new V(3402,pe)}()}_flushAnimations(t,e){const i=new Bc,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(H=>{u.add(H);const G=this.driver.query(H,".ng-animate-queued",!0);for(let Q=0;Q<G.length;Q++)u.add(G[Q])});const h=this.bodyNode,f=Array.from(this.statesByElement.keys()),m=kC(f,this.collectedEnterElements),v=new Map;let _=0;m.forEach((H,G)=>{const Q=Sp+_++;v.set(G,Q),H.forEach(_e=>xn(_e,Q))});const D=[],k=new Set,C=new Set;for(let H=0;H<this.collectedLeaveElements.length;H++){const G=this.collectedLeaveElements[H],Q=G[En];Q&&Q.setForRemoval&&(D.push(G),k.add(G),Q.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(_e=>k.add(_e)):C.add(G))}const P=new Map,I=kC(f,Array.from(k));I.forEach((H,G)=>{const Q=kc+_++;P.set(G,Q),H.forEach(_e=>xn(_e,Q))}),t.push(()=>{m.forEach((H,G)=>{const Q=v.get(G);H.forEach(_e=>Yo(_e,Q))}),I.forEach((H,G)=>{const Q=P.get(G);H.forEach(_e=>Yo(_e,Q))}),D.forEach(H=>{this.processLeaveNode(H)})});const q=[],be=[];for(let H=this._namespaceList.length-1;H>=0;H--)this._namespaceList[H].drainQueuedTransitions(e).forEach(Q=>{const _e=Q.player,_t=Q.element;if(q.push(_e),this.collectedEnterElements.length){const $t=_t[En];if($t&&$t.setForMove){if($t.previousTriggersValues&&$t.previousTriggersValues.has(Q.triggerName)){const Nr=$t.previousTriggersValues.get(Q.triggerName),or=this.statesByElement.get(Q.element);or&&or[Q.triggerName]&&(or[Q.triggerName].value=Nr)}return void _e.destroy()}}const fi=!h||!this.driver.containsElement(h,_t),fn=P.get(_t),rr=v.get(_t),$e=this._buildInstruction(Q,i,rr,fn,fi);if($e.errors&&$e.errors.length)return void be.push($e);if(fi)return _e.onStart(()=>Ir(_t,$e.fromStyles)),_e.onDestroy(()=>ui(_t,$e.toStyles)),void r.push(_e);if(Q.isFallbackTransition)return _e.onStart(()=>Ir(_t,$e.fromStyles)),_e.onDestroy(()=>ui(_t,$e.toStyles)),void r.push(_e);const b1=[];$e.timelines.forEach($t=>{$t.stretchStartingKeyframe=!0,this.disabledNodes.has($t.element)||b1.push($t)}),$e.timelines=b1,i.append(_t,$e.timelines),s.push({instruction:$e,player:_e,element:_t}),$e.queriedElements.forEach($t=>hn(a,$t,[]).push(_e)),$e.preStyleProps.forEach(($t,Nr)=>{const or=Object.keys($t);if(or.length){let Br=l.get(Nr);Br||l.set(Nr,Br=new Set),or.forEach(dm=>Br.add(dm))}}),$e.postStyleProps.forEach(($t,Nr)=>{const or=Object.keys($t);let Br=c.get(Nr);Br||c.set(Nr,Br=new Set),or.forEach(dm=>Br.add(dm))})});if(be.length){const H=[];be.forEach(G=>{H.push(function bV(n,t){return new V(3505,pe)}())}),q.forEach(G=>G.destroy()),this.reportError(H)}const Ce=new Map,Qe=new Map;s.forEach(H=>{const G=H.element;i.has(G)&&(Qe.set(G,G),this._beforeAnimationBuild(H.player.namespaceId,H.instruction,Ce))}),r.forEach(H=>{const G=H.element;this._getPreviousPlayers(G,!1,H.namespaceId,H.triggerName,null).forEach(_e=>{hn(Ce,G,[]).push(_e),_e.destroy()})});const et=D.filter(H=>xC(H,l,c)),tt=new Map;MC(tt,this.driver,C,c,Pi).forEach(H=>{xC(H,l,c)&&et.push(H)});const Et=new Map;m.forEach((H,G)=>{MC(Et,this.driver,new Set(H),l,"!")}),et.forEach(H=>{const G=tt.get(H),Q=Et.get(H);tt.set(H,Object.assign(Object.assign({},G),Q))});const mt=[],Qo=[],es={};s.forEach(H=>{const{element:G,player:Q,instruction:_e}=H;if(i.has(G)){if(u.has(G))return Q.onDestroy(()=>ui(G,_e.toStyles)),Q.disabled=!0,Q.overrideTotalTime(_e.totalTime),void r.push(Q);let _t=es;if(Qe.size>1){let fn=G;const rr=[];for(;fn=fn.parentNode;){const $e=Qe.get(fn);if($e){_t=$e;break}rr.push(fn)}rr.forEach($e=>Qe.set($e,_t))}const fi=this._buildAnimation(Q.namespaceId,_e,Ce,o,Et,tt);if(Q.setRealPlayer(fi),_t===es)mt.push(Q);else{const fn=this.playersByElement.get(_t);fn&&fn.length&&(Q.parentPlayer=Ji(fn)),r.push(Q)}}else Ir(G,_e.fromStyles),Q.onDestroy(()=>ui(G,_e.toStyles)),Qo.push(Q),u.has(G)&&r.push(Q)}),Qo.forEach(H=>{const G=o.get(H.element);if(G&&G.length){const Q=Ji(G);H.setRealPlayer(Q)}}),r.forEach(H=>{H.parentPlayer?H.syncPlayerEvents(H.parentPlayer):H.destroy()});for(let H=0;H<D.length;H++){const G=D[H],Q=G[En];if(Yo(G,kc),Q&&Q.hasAnimation)continue;let _e=[];if(a.size){let fi=a.get(G);fi&&fi.length&&_e.push(...fi);let fn=this.driver.query(G,bp,!0);for(let rr=0;rr<fn.length;rr++){let $e=a.get(fn[rr]);$e&&$e.length&&_e.push(...$e)}}const _t=_e.filter(fi=>!fi.destroyed);_t.length?bH(this,G,_t):this.processLeaveNode(G)}return D.length=0,mt.forEach(H=>{this.players.push(H),H.onDone(()=>{H.destroy();const G=this.players.indexOf(H);this.players.splice(G,1)}),H.play()}),mt}elementContainsData(t,e){let i=!1;const r=e[En];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==ga;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,h=hn(i,c,[]);this._getPreviousPlayers(c,u,s,a,e.toState).forEach(m=>{const v=m.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),m.destroy(),h.push(m)})}Ir(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,f=e.timelines.map(v=>{const _=v.element;u.add(_);const D=_[En];if(D&&D.removedBeforeQueried)return new pa(v.duration,v.delay);const k=_!==l,C=function wH(n){const t=[];return EC(n,t),t}((i.get(_)||pH).map(Ce=>Ce.getRealPlayer())).filter(Ce=>!!Ce.element&&Ce.element===_),P=o.get(_),I=s.get(_),q=Qw(0,this._normalizer,0,v.keyframes,P,I),be=this._buildPlayer(v,q,C);if(v.subTimeline&&r&&h.add(_),k){const Ce=new Fp(t,a,_);Ce.setRealPlayer(be),c.push(Ce)}return be});c.forEach(v=>{hn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>function yH(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,v.element,v))}),u.forEach(v=>xn(v,cC));const m=Ji(f);return m.onDestroy(()=>{u.forEach(v=>Yo(v,cC)),ui(l,e.toStyles)}),h.forEach(v=>{hn(r,v,[]).push(m)}),m}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new pa(t.duration,t.delay)}}class Fp{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new pa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>pp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function jc(n){return n&&1===n.nodeType}function DC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function MC(n,t,e,i,r){const o=[];e.forEach(l=>o.push(DC(l)));const s=[];i.forEach((l,c)=>{const u={};l.forEach(h=>{const f=u[h]=t.computeStyle(c,h,r);(!f||0==f.length)&&(c[En]=mH,s.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>DC(l,o[a++])),s}function kC(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function xn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Yo(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function bH(n,t,e){Ji(e).onDone(()=>n.processLeaveNode(t))}function EC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Zw?EC(i.players,t):t.push(i)}}function xC(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Uc{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new vH(t,e,i),this._timelineEngine=new cH(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=Mp(this._driver,o,l,[]);if(l.length)throw function uV(n,t){return new V(3404,pe)}();a=function oH(n,t,e){return new sH(n,t,e)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=eC(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=eC(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let MH=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ui(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ui(this._element,this._initialStyles),this._endStyles&&(ui(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Ir(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ir(this._element,this._endStyles),this._endStyles=null),ui(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Lp(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];kH(r)&&(t=t||{},t[r]=n[r])}return t}function kH(n){return"display"===n||"position"===n}class TC{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:pC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class EH{validateStyleProperty(t){return rC(t)}matchesElement(t,e){return!1}containsElement(t,e){return oC(t,e)}getParentElement(t){return yp(t)}query(t,e,i){return sC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=s.filter(f=>f instanceof TC);(function PV(n,t){return 0===n||0===t})(i,r)&&u.forEach(f=>{let m=f.currentSnapshot;Object.keys(m).forEach(v=>c[v]=m[v])}),e=function IV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=pC(n,l)})}}return t}(t,e=e.map(f=>Zi(f,!1)),c);const h=function DH(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Lp(t[0]),t.length>1&&(i=Lp(t[t.length-1]))):t&&(e=Lp(t)),e||i?new MH(n,e,i):null}(t,e);return new TC(t,e,l,h)}}let xH=(()=>{class n extends Uw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:An.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?zw(e):e;return AC(this._renderer,null,i,"register",[r]),new TH(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(S(Ns),S(de))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class TH extends class jB{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new AH(this._id,t,e||{},this._renderer)}}class AH{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return AC(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function AC(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const PC="@.disabled";let PH=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new IC("",o,this.engine),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,e,u.name,u)};return i.data.animation.forEach(l),new IH(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(S(Ns),S(Uc),S(Ee))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class IC{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==PC?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class IH extends IC{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==PC?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function OH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function RH(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let FH=(()=>{class n extends Uc{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(S(de),S(_p),S(Ap))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Np=new U("AnimationModuleType"),OC=[{provide:Uw,useClass:xH},{provide:Ap,useFactory:function LH(){return new eH}},{provide:Uc,useClass:FH},{provide:Ns,useFactory:function NH(n,t,e){return new PH(n,t,e)},deps:[Zl,Uc,Ee]}],RC=[{provide:_p,useFactory:()=>new EH},{provide:Np,useValue:"BrowserAnimations"},...OC],BH=[{provide:_p,useClass:aC},{provide:Np,useValue:"NoopAnimations"},...OC];let VH=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?BH:RC}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:RC,imports:[qS]}),n})();function HH(n,t){}class Bp{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const jH={dialogContainer:UB("dialogContainer",[Gw("void, exit",Go({opacity:0,transform:"scale(0.7)"})),Gw("enter",Go({transform:"none"})),Ww("* => enter",$w([qw("150ms cubic-bezier(0, 0, 0.2, 1)",Go({transform:"none",opacity:1})),Kw("@*",Yw(),{optional:!0})])),Ww("* => void, * => exit",$w([qw("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Go({opacity:0})),Kw("@*",Yw(),{optional:!0})]))])};let UH=(()=>{class n extends ap{constructor(e,i,r,o,s,a,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=s,this._interactivityChecker=a,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new Ie,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=np())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=np(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=np();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(CB),b($s),b(de,8),b(Bp),b(Iw),b(Ee),b(PB))},n.\u0275dir=z({type:n,viewQuery:function(e,i){if(1&e&&C0(vw,7),2&e){let r;xl(r=function Tl(){return function pI(n,t){return n[19].queries[t].queryList}(T(),cg())}())&&(i._portalOutlet=r.first)}},features:[ve]}),n})(),qH=(()=>{class n extends UH{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=wt(n)))(i||n)}}(),n.\u0275cmp=ke({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&od("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(ud("id",i._id),Ct("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),hd("@dialogContainer",i._state))},features:[ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&E(0,HH,0,0,"ng-template",0)},directives:[vw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[jH.dialogContainer]}}),n})(),$H=0;class zH{constructor(t,e,i="mat-dialog-"+$H++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Te,this._afterClosed=new Te,this._beforeClosed=new Te,this._state=0,e._id=i,e._animationStateChanged.pipe(ln(r=>"opened"===r.state),zn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ln(r=>"closed"===r.state),zn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ln(r=>27===r.keyCode&&!this.disableClose&&!function sB(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}(r))).subscribe(r=>{r.preventDefault(),FC(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():FC(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ln(e=>"closing"===e.state),zn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function FC(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const GH=new U("MatDialogData"),WH=new U("mat-dialog-default-options"),LC=new U("mat-dialog-scroll-strategy"),KH={provide:LC,deps:[wc],useFactory:function YH(n){return()=>n.scrollStrategies.block()}};let JH=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=s,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Te,this._afterOpenedAtThisLevel=new Te,this._ariaHiddenElements=new Map,this.afterAllClosed=Df(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ZS(void 0))),this._scrollStrategy=a}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function ZH(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new Bp),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),s=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(s),s.afterClosed().subscribe(()=>this._removeOpenDialog(s)),this.afterOpened.next(s),o._initializeWithAttachedContent(),s}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Cw({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=Fe.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:Bp,useValue:i}]}),s=new sp(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(s).instance}_attachDialogContent(e,i,r,o){const s=new this._dialogRefConstructor(r,i,o.id);if(e instanceof ri)i.attachTemplatePortal(new gw(e,null,{$implicit:o.data,dialogRef:s}));else{const a=this._createInjector(o,s,i),l=i.attachComponentPortal(new sp(e,o.viewContainerRef,a,o.componentFactoryResolver));s.componentInstance=l.instance}return s.updateSize(o.width,o.height).updatePosition(o.position),s}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(rp,null,te.Optional))&&s.push({provide:rp,useValue:{value:e.direction,change:J()}}),Fe.create({parent:o||this._injector,providers:s})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){yl()},n.\u0275dir=z({type:n}),n})(),Ko=(()=>{class n extends JH{constructor(e,i,r,o,s,a,l,c){super(e,i,o,a,l,s,zH,qH,GH,c)}}return n.\u0275fac=function(e){return new(e||n)(S(wc),S(Fe),S(Gs,8),S(WH,8),S(LC),S(n,12),S(cp),S(Np,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),NC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({providers:[Ko,KH],imports:[[Q2,yw,Dc],Dc]}),n})(),Jo=(()=>{class n{constructor(e,i,r,o,s,a){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=s,this.dialog=a,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(const e in this.itemRepoService.furniture){const i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&(this.furniture.push(i),this.furniturePrices[i.name]=this.homeService.ownedFurniture.includes(i.name)?0:i.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"===this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}getFurnitureForSlot(e=null){return null===e?this.furniture:this.furniture.filter(i=>i.slot===e)}buyFurniture(e=null){if(null===e&&(e=this.selectedItem),e){if(!function QN(n){return"slot"in n}(e))return;let i=e.slot;(e.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(e.name))&&(this.homeService.ownedFurniture.includes(e.name)||(this.characterService.characterState.money-=e.value,this.homeService.ownedFurniture.push(e.name),this.furniturePrices[e.name]=0),this.homeService.furniture[i]=e,this.homeService.autoBuyFurniture[i]=e)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0===this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Mansion]):1===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Palace]):2===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Castle]):3===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Fortress]):4===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Ne.Mountain]):5===this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.")}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=5?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(S(kn),S(Ve),S(ee),S($n),S(lt),S(Ko))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BC=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,f,m){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=s,this.itemRepoService=a,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=h,this.followerService=f,this.impossibleTaskService=m,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persitent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(O.Woodworking),effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0===this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Ne.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!==this.homeService.furniture.bathtub&&null!==this.homeService.furniture.bed&&null!==this.homeService.furniture.kitchen&&null!==this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.homeService.autoFieldUnlocked&&this.homeService.autoBuyFurnitureUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>{var v,_,D,k,C,P,I,q;return!!((null===(_=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.rightHand)||void 0===_?void 0:_.weaponStats)&&(null===(k=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===k?void 0:k.weaponStats.baseDamage)>=131&&(null===(P=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.leftHand)||void 0===P?void 0:P.weaponStats)&&(null===(q=null===(I=this.characterService.characterState.equipment)||void 0===I?void 0:I.leftHand)||void 0===q?void 0:q.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>{var v,_,D,k,C,P,I,q,be,Ce,Qe,et,tt,Kt,Et,mt;return!!((null===(_=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.head)||void 0===_?void 0:_.armorStats)&&(null===(k=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===k?void 0:k.armorStats.defense)>=131&&(null===(P=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.body)||void 0===P?void 0:P.armorStats)&&(null===(q=null===(I=this.characterService.characterState.equipment)||void 0===I?void 0:I.body)||void 0===q?void 0:q.armorStats.defense)>=131&&(null===(Ce=null===(be=this.characterService.characterState.equipment)||void 0===be?void 0:be.legs)||void 0===Ce?void 0:Ce.armorStats)&&(null===(et=null===(Qe=this.characterService.characterState.equipment)||void 0===Qe?void 0:Qe.legs)||void 0===et?void 0:et.armorStats.defense)>=131&&(null===(Kt=null===(tt=this.characterService.characterState.equipment)||void 0===tt?void 0:tt.feet)||void 0===Kt?void 0:Kt.armorStats)&&(null===(mt=null===(Et=this.characterService.characterState.equipment)||void 0===Et?void 0:Et.feet)||void 0===mt?void 0:mt.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",description:"You achieved a deep understanding of metal ore and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>{var v,_,D,k,C,P,I,q;return!!((null===(_=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.rightHand)||void 0===_?void 0:_.weaponStats)&&(null===(k=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===k?void 0:k.weaponStats.baseDamage)>=8888&&(null===(P=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.leftHand)||void 0===P?void 0:P.weaponStats)&&(null===(q=null===(I=this.characterService.characterState.equipment)||void 0===I?void 0:I.leftHand)||void 0===q?void 0:q.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>{var v,_,D,k,C,P,I,q,be,Ce,Qe,et,tt,Kt,Et,mt;return!!((null===(_=null===(v=this.characterService.characterState.equipment)||void 0===v?void 0:v.head)||void 0===_?void 0:_.armorStats)&&(null===(k=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===k?void 0:k.armorStats.defense)>=8888&&(null===(P=null===(C=this.characterService.characterState.equipment)||void 0===C?void 0:C.body)||void 0===P?void 0:P.armorStats)&&(null===(q=null===(I=this.characterService.characterState.equipment)||void 0===I?void 0:I.body)||void 0===q?void 0:q.armorStats.defense)>=8888&&(null===(Ce=null===(be=this.characterService.characterState.equipment)||void 0===be?void 0:be.legs)||void 0===Ce?void 0:Ce.armorStats)&&(null===(et=null===(Qe=this.characterService.characterState.equipment)||void 0===Qe?void 0:Qe.legs)||void 0===et?void 0:et.armorStats.defense)>=8888&&(null===(Kt=null===(tt=this.characterService.characterState.equipment)||void 0===tt?void 0:tt.feet)||void 0===Kt?void 0:Kt.armorStats)&&(null===(mt=null===(Et=this.characterService.characterState.equipment)||void 0===Et?void 0:Et.feet)||void 0===mt?void 0:mt.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{const v=this.characterService.characterState.attributes.fireLore.value,_=this.characterService.characterState.attributes.earthLore.value,D=this.characterService.characterState.attributes.woodLore.value,k=this.characterService.characterState.attributes.waterLore.value,C=this.characterService.characterState.attributes.metalLore.value,P=Math.min(C,k,D,_,v),I=Math.max(C,k,D,_,v);return P>=1e3&&I<=1.21*P},effect:()=>{this.characterService.characterState.manaUnlocked=!0,0===this.characterService.characterState.status.mana.max&&(this.characterService.characterState.status.mana.max=1,this.characterService.characterState.status.mana.value=1)},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can achieve this. It can't be done.",check:()=>this.characterService.soulCoreRank()>=4&&this.characterService.meridianRank()>=4&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const v=this.characterService.characterState.attributes.speed.value,_=this.characterService.characterState.attributes.toughness.value,D=this.characterService.characterState.attributes.charisma.value,k=this.characterService.characterState.attributes.intelligence.value,C=this.characterService.characterState.attributes.strength.value,P=Math.min(v,_,D,k,C),I=Math.max(v,_,D,k,C);return P>=1e6&&I<=1.21*P},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const v=this.characterService.characterState.attributes.spirituality.value,_=this.characterService.characterState.attributes.speed.value,D=this.characterService.characterState.attributes.toughness.value,k=this.characterService.characterState.attributes.charisma.value,C=this.characterService.characterState.attributes.intelligence.value,P=this.characterService.characterState.attributes.strength.value,I=Math.min(_,D,k,C,P,v),q=Math.max(_,D,k,C,P,v);return I>=1e6&&q<=1.21*I},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"",check:()=>this.characterService.characterState.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(const v of this.achievements)this.unlockedAchievements.includes(v.name)||v.check()&&this.unlockAchievement(v,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(hi)),this.gameStateService.savetoLocalStorage()),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(const i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(S(un),S(Fe),S(kn),S(Ve),S(ee),S($n),S(Jo),S(Ti),S(lt),S(Wt),S(Yi),S(qo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vp="immortalityIdleGameState";let hi=(()=>{class n{constructor(e,i,r,o,s,a,l,c,u,h,f,m,v){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=s,this.activityService=a,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.autoBuyerService=h,this.mainLoopService=f,this.achievementService=m,this.impossibleTaskService=v,this.lastSaved=0,this.isDarkMode=!1,this.isExperimental=window.location.href.includes("experimental"),window.GameStateService=this,window.setInterval(this.savetoLocalStorage.bind(this),1e4)}savetoLocalStorage(){window.localStorage.setItem(Vp,this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(){const e=window.localStorage.getItem(Vp);!e||this.importGame(e)}importGame(e){let i;i="iig"===e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(i);this.achievementService.setProperties(r.achievements),this.impossibleTaskService.setProperties(r.impossibleTasks),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(null===o)continue;const s=this.itemRepoService.getItemById(o.item.id);s&&(o.item=s)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.isDarkMode=r.darkMode||!1}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode};let i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(Vp),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(const i in this.itemRepoService.items){const r=this.itemRepoService.items[i];"manual"===r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){const r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}}return n.\u0275fac=function(e){return new(e||n)(S(Ve),S(lt),S(ee),S(kn),S(Wi),S(Wt),S($n),S(Ti),S(Yi),S(gc),S(un),S(BC),S(qo))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function XH(n,t){if(1&n&&(p(0,"div"),g(1),L(2,"bigNumber"),d()),2&n){const e=M().$implicit;y(1),oe("$ ",$(2,1,e.value),"")}}const QH=function(n,t){return{selectedItem:n,ownedItem:t}};function e3(n,t){if(1&n){const e=W();p(0,"div")(1,"div",4),x("click",function(){const o=F(e).$implicit;return M().slotClicked(o)}),p(2,"div")(3,"mat-icon"),g(4,"menu_book"),d()(),p(5,"div"),g(6),L(7,"titlecase"),d(),E(8,XH,3,3,"div",5),d()()}if(2&n){const e=t.$implicit,i=M();y(1),ye("tooltip",e.description),w("ngClass",bd(6,QH,e===i.storeService.selectedItem,e.owned&&e.owned())),y(5),De($(7,4,e.name)),y(2),w("ngIf",e.owned&&!e.owned())}}let VC=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(Jo),b(Ve),b(lt),b(ee),b($n),b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[4,"ngIf"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Manuals Shop"),d(),j(3,"hr"),p(4,"div",1),E(5,e3,9,9,"div",2),d(),p(6,"button",3),x("click",function(){return i.storeService.buyManual()}),g(7," Buy "),d()()),2&e&&(y(5),w("ngForOf",i.storeService.manuals),y(1),w("disabled",i.buyDisabled))},styles:[".inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();let jC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(b(ii),b(Ze))},n.\u0275dir=z({type:n}),n})(),Rr=(()=>{class n extends jC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=wt(n)))(i||n)}}(),n.\u0275dir=z({type:n,features:[ve]}),n})();const di=new U("NgValueAccessor");let TD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({}),n})();const V3={provide:di,useExisting:Oe(()=>sm),multi:!0};function LD(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let sm=(()=>{class n extends Rr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=LD(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function H3(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=wt(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([V3]),ve]}),n})(),ND=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(LD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ii),b(sm,9))},n.\u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const j3={provide:di,useExisting:Oe(()=>am),multi:!0};function BD(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let am=(()=>{class n extends Rr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);r.push(c)}}else{const s=i.options;for(let a=0;a<s.length;a++){const l=s[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function U3(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=wt(n)))(i||n)}}(),n.\u0275dir=z({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[je([j3]),ve]}),n})(),VD=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(BD(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(BD(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ii),b(am,9))},n.\u0275dir=z({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),X3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[TD]]}),n})(),Q3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[X3]}),n})();function ej(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span"),g(2," Automatically buy up to "),p(3,"input",3),x("change",function(r){return F(e),M().autoBuyLandLimitChanged(r)}),d(),g(4," land (including fields) "),d()()}if(2&n){const e=M();y(3),ye("value",e.homeService.autoBuyLandLimit)}}function tj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span"),g(2," Automatically plow up to "),p(3,"input",3),x("change",function(r){return F(e),M().autoFieldLimitChanged(r)}),d(),g(4," fields "),d()()}if(2&n){const e=M();y(3),ye("value",e.homeService.autoFieldLimit)}}function nj(n,t){if(1&n&&(p(0,"option",6),g(1),d()),2&n){const e=t.$implicit,i=M(2);ye("value",e.type),w("selected",i.homeService.autoBuyHomeLimit===e.type),y(1),oe(" ",e.name," ")}}function ij(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span"),g(2," Automatically upgrade your home up to a "),p(3,"select",4),x("change",function(r){return F(e),M().autoBuyHomeLimitChanged(r)}),E(4,nj,2,3,"option",5),d()()()}if(2&n){const e=M();y(4),w("ngForOf",e.homeService.homesList)}}function rj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span")(2,"input",7),x("change",function(r){return F(e),M().useAutoBuyReserveChanged(r)}),d(),p(3,"label",8),g(4,"Auto-buying should always reserve "),d(),p(5,"input",3),x("change",function(r){return F(e),M().autoBuyReserveAmountChanged(r)}),d(),g(6," taels "),d()()}if(2&n){const e=M();y(2),w("checked",e.homeService.useAutoBuyReserve),y(3),ye("value",e.homeService.autoBuyReserveAmount)}}function oj(n,t){if(1&n){const e=W();p(0,"tr")(1,"td")(2,"button",12),x("click",function(){const o=F(e).index;return M(2).autoBuySettingsPriorityChanged(o,!0)}),g(3,"\u25b2"),d()(),p(4,"td")(5,"button",12),x("click",function(){const o=F(e).index;return M(2).autoBuySettingsPriorityChanged(o,!1)}),g(6,"\u25bc"),d()(),p(7,"td",13),g(8),d(),p(9,"td",14)(10,"input",15),x("change",function(r){const s=F(e).$implicit;return M(2).autoBuySettingsEnabledChange(r,s)}),d()(),p(11,"td",14)(12,"input",15),x("change",function(r){const s=F(e).$implicit;return M(2).autoBuySettingsWaitForFinishChange(r,s)}),d()()()}if(2&n){const e=t.$implicit,i=t.first,r=t.last;y(2),w("disabled",i),y(3),w("disabled",r),y(3),De(e.label),y(2),w("checked",e.enabled),y(2),w("checked",e.waitForFinish)}}function sj(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2," Auto-Buyer Options: "),p(3,"table",9)(4,"tr")(5,"th",10),g(6,"Priority Order"),d(),p(7,"th"),g(8,"Enabled"),d(),p(9,"th"),g(10,"Wait For Finish"),d()(),E(11,oj,13,5,"tr",11),d()()()),2&n){const e=M();y(11),w("ngForOf",e.autoBuyerService.autoBuyerSettings)}}function aj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span")(2,"input",16),x("change",function(r){return F(e),M().autoequipEnableChange(r)}),d(),p(3,"label",17),g(4,"Automatically equip best equipment"),d()()()}if(2&n){const e=M();y(2),w("checked",e.inventoryService.autoequipBestEnabled)}}function lj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span")(2,"input",18),x("change",function(r){return F(e),M().autosellOldGems(r)}),d(),p(3,"label",19),g(4,"Automatically sell lower grade gems than what current monsters drop"),d()()()}if(2&n){const e=M();y(2),w("checked",e.inventoryService.autoSellOldGemsEnabled)}}function cj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span")(2,"input",20),x("change",function(r){return F(e),M().useSpiritGemWeaponsChange(r)}),d(),p(3,"label",21),g(4,"Use spirit gem when crafting weapons"),d()()()}if(2&n){const e=M();y(2),w("checked",e.inventoryService.useSpiritGemWeapons)}}function uj(n,t){if(1&n){const e=W();p(0,"div",2)(1,"span")(2,"input",22),x("change",function(r){return F(e),M().useSpiritGemPotionsChange(r)}),d(),p(3,"label",23),g(4,"Use spirit gem when crafting potions"),d()()()}if(2&n){const e=M();y(2),w("checked",e.inventoryService.useSpiritGemPotions)}}function hj(n,t){if(1&n){const e=W();p(0,"div")(1,"span"),g(2),L(3,"titlecase"),d(),p(4,"span"),g(5," - Reserve \xa0"),p(6,"input",3),x("change",function(r){const s=F(e).$implicit;return M(2).autoSellReserveChange(r,s)}),d(),g(7,"\xa0 "),p(8,"button",25),x("click",function(){const o=F(e).$implicit;return M(2).inventoryService.unAutoSell(o.name)}),g(9,"Stop Selling"),d()()()}if(2&n){const e=t.$implicit;y(2),oe(" - ",$(3,2,e.name)," "),y(4),ye("value",e.reserve)}}function dj(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2," Automatically Sold Items: "),d(),p(3,"div",24),E(4,hj,10,4,"div",11),d()()),2&n){const e=M();y(4),w("ngForOf",e.inventoryService.autoSellEntries)}}function fj(n,t){if(1&n){const e=W();p(0,"div")(1,"span"),g(2),L(3,"titlecase"),d(),p(4,"span"),g(5," - Reserve \xa0"),p(6,"input",3),x("change",function(r){const s=F(e).$implicit;return M(2).autoUseReserveChange(r,s)}),d(),g(7,"\xa0 "),p(8,"button",25),x("click",function(){const o=F(e).$implicit;return M(2).inventoryService.unAutoUse(o.name)}),g(9,"Stop Using"),d()()()}if(2&n){const e=t.$implicit;y(2),oe(" - ",$(3,2,e.name)," "),y(4),ye("value",e.reserve)}}function pj(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2,"Automatically Used Items:"),d(),p(3,"div",24),E(4,fj,10,4,"div",11),d()()),2&n){const e=M();y(4),w("ngForOf",e.inventoryService.autoUseEntries)}}function mj(n,t){if(1&n){const e=W();p(0,"div")(1,"span"),g(2),L(3,"titlecase"),p(4,"input",3),x("change",function(r){const s=F(e).$implicit;return M(2).autoBalanceUseChanged(r,s)}),d(),g(5," then Sell "),p(6,"input",3),x("change",function(r){const s=F(e).$implicit;return M(2).autoBalanceSellChanged(r,s)}),d(),p(7,"button",25),x("click",function(){const o=F(e).$implicit;return M(2).inventoryService.unAutoBalance(o.name)}),g(8,"Stop Balancing"),d()()()}if(2&n){const e=t.$implicit;y(2),oe(" -",$(3,3,e.name)," Use "),y(2),ye("value",e.useNumber),y(2),ye("value",e.sellNumber)}}function gj(n,t){if(1&n&&(p(0,"div",2)(1,"span"),g(2,"Automatically Balanced Items:"),d(),p(3,"div",24),E(4,mj,9,5,"div",11),d()()),2&n){const e=M();y(4),w("ngForOf",e.inventoryService.autoBalanceItems)}}let vj=(()=>{class n{constructor(e,i,r,o,s){this.homeService=e,this.inventoryService=i,this.gameStateService=r,this.followerService=o,this.autoBuyerService=s}autoSellReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=parseInt(e.target.value))}autoUseReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=parseInt(e.target.value))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=parseInt(e.target.value))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=parseInt(e.target.value))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseInt(e.target.value))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=parseInt(e.target.value))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=parseInt(e.target.value))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}autosellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,i){this.autoBuyerService.autoBuyerSettings.splice(e+(i?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,i){e.target instanceof HTMLInputElement&&(i.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,i){e.target instanceof HTMLInputElement&&(i.waitForFinish=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(lt),b(ee),b(hi),b(Yi),b(gc))},n.\u0275cmp=ke({type:n,selectors:[["app-options-modal"]],decls:16,vars:12,consts:[[1,"darkMode","optionsDiv"],["class","optionField",4,"ngIf"],[1,"optionField"],["type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","useAutoBuyReserve",3,"checked","change"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[4,"ngFor","ngForOf"],[1,"reorderListButton",3,"disabled","click"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"checked","change"],["type","checkbox","id","autoequipEnable",3,"checked","change"],["for","autoequipEnable"],["type","checkbox","id","autosellOldGems",3,"checked","change"],["for","autosellOldGems"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],[1,"scrollingDiv"],[3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Manuals Options"),d(),j(3,"hr"),E(4,ej,5,1,"div",1),E(5,tj,5,1,"div",1),E(6,ij,5,1,"div",1),E(7,rj,7,2,"div",1),E(8,sj,12,1,"div",1),E(9,aj,5,1,"div",1),E(10,lj,5,1,"div",1),E(11,cj,5,1,"div",1),E(12,uj,5,1,"div",1),E(13,dj,5,1,"div",1),E(14,pj,5,1,"div",1),E(15,gj,5,1,"div",1),d()),2&e&&(y(4),w("ngIf",i.homeService.autoBuyLandUnlocked),y(1),w("ngIf",i.homeService.autoFieldUnlocked),y(1),w("ngIf",i.homeService.autoBuyHomeUnlocked),y(1),w("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoBuyHomeUnlocked||i.homeService.autoBuyFurnitureUnlocked),y(1),w("ngIf",i.autoBuyerService.autoBuyerSettingsUnlocked),y(1),w("ngIf",i.inventoryService.autoequipBestArmor||i.inventoryService.autoequipBestWeapon),y(1),w("ngIf",i.inventoryService.autoSellOldGemsUnlocked),y(1),w("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),w("ngIf",i.inventoryService.useSpiritGemUnlocked),y(1),w("ngIf",i.inventoryService.autoSellUnlocked),y(1),w("ngIf",i.inventoryService.autoUseUnlocked),y(1),w("ngIf",i.inventoryService.autoBalanceUnlocked))},directives:[Dt,jt,ND,VD],pipes:[an],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}"]}),n})();function yj(n,t){if(1&n&&(p(0,"span"),g(1),L(2,"number"),d()),2&n){const e=M();y(1),Sn(" Next rank requires ",$(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster gem. ")}}function _j(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),d())}function Sj(n,t){if(1&n&&(p(0,"span"),g(1),L(2,"number"),d()),2&n){const e=M();y(1),Sn(" Next rank requires ",$(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster gem. ")}}function bj(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),d())}function wj(n,t){if(1&n&&(p(0,"span"),g(1),L(2,"number"),d()),2&n){const e=M();y(1),Sn(" Next rank requires ",$(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function Cj(n,t){1&n&&(p(0,"span"),g(1," Max Rank "),d())}function Dj(n,t){if(1&n&&(p(0,"span"),g(1),L(2,"number"),L(3,"number"),d()),2&n){const e=M();y(1),Sn(" You have consumed ",yt(2,2,100*(e.characterService.characterState.empowermentFactor-1),"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",yt(3,5,e.characterService.characterState.getEmpowermentMult(),"1.0-3"),". You will always keep this bonus, even after ascending. ")}}let Mj=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a}}return n.\u0275fac=function(e){return new(e||n)(b(Jo),b(Ve),b(lt),b(ee),b($n),b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-ascension-store-modal"]],decls:39,vars:15,consts:[[1,"darkMode"],[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Ascension Techniques"),d(),j(3,"hr"),p(4,"table")(5,"tr")(6,"td")(7,"button",1),x("click",function(){return i.storeService.condenseSoulCore()}),g(8,"Condense Soul Core"),d()(),p(9,"td"),g(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),j(11,"br"),g(12),j(13,"br"),E(14,yj,3,4,"span",2),E(15,_j,2,0,"span",2),d()(),p(16,"tr")(17,"td")(18,"button",1),x("click",function(){return i.storeService.reinforceMeridians()}),g(19,"Reinforce Meridians"),d()(),p(20,"td"),g(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),j(22,"br"),g(23),j(24,"br"),E(25,Sj,3,4,"span",2),E(26,bj,2,0,"span",2),d()(),p(27,"tr")(28,"td")(29,"button",1),x("click",function(){return i.storeService.upgradeBloodline()}),g(30),d()(),p(31,"td"),g(32),j(33,"br"),g(34),j(35,"br"),E(36,wj,3,4,"span",2),E(37,Cj,2,0,"span",2),d()()(),E(38,Dj,4,8,"span",2),d()),2&e&&(y(7),w("disabled",i.storeService.soulCoreRank>8),y(5),oe(" Current Rank: ",i.storeService.soulCoreRank," "),y(2),w("ngIf",i.storeService.soulCoreRank<9),y(1),w("ngIf",i.storeService.soulCoreRank>=9),y(3),w("disabled",i.storeService.meridianRank>8),y(5),oe(" Current Rank: ",i.storeService.meridianRank," "),y(2),w("ngIf",i.storeService.meridianRank<9),y(1),w("ngIf",i.storeService.meridianRank>=9),y(3),w("disabled",i.characterService.characterState.bloodlineRank>=5),y(1),De(i.storeService.bloodlineLabel),y(2),oe(" ",i.storeService.bloodlineDescription," "),y(2),oe(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),y(2),w("ngIf",i.characterService.characterState.bloodlineRank<5),y(1),w("ngIf",i.characterService.characterState.bloodlineRank>=5),y(1),w("ngIf",i.characterService.characterState.empowermentFactor>1))},directives:[Dt],pipes:[Oo],styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function kj(n,t){1&n&&j(0,"div",3)}function Ej(n,t){1&n&&id(0)}function xj(n,t){if(1&n&&(p(0,"div"),E(1,Ej,1,0,"ng-container",4),d()),2&n){const e=M();y(1),w("ngTemplateOutlet",e.value)}}function Tj(n,t){1&n&&j(0,"div",5),2&n&&w("innerHTML",M().value,Xg)}let Aj=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new Ie}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,s=!this.elementPosition.right;let a=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,h=window.pageYOffset;let f,m;if(s&&(a=0,l=0),"top"===e&&(f=this.elementPosition.top+h-(c+this.tooltipOffset)),"bottom"===e&&(f=this.elementPosition.top+h+a+this.tooltipOffset),("top"===e||"bottom"===e)&&(m=this.elementPosition.left+l/2-u/2),"left"===e&&(m=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(m=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(f=this.elementPosition.top+h+a/2-o.clientHeight/2),this.autoPlacement&&!i){const _=f+c,D=m,k=m+u,C=window.innerHeight+h,P=document.body.clientWidth;if(f<0||_>C||D<0||k>P)return!1}return this.hostStyleTop=f+"px",this.hostStyleLeft=m+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(ii))},n.\u0275cmp=ke({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&x("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(Bn("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),ko("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(E(0,kj,1,0,"div",0),E(1,xj,2,1,"div",1),E(2,Tj,1,1,"ng-template",null,2,E0)),2&e){const r=Bt(3);w("ngIf",i.isThemeLight),y(1),w("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[Dt,TS],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const KD=new U("TooltipOptions"),JD={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},ZD={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let qt=(()=>{class n{constructor(e,i,r,o,s){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=s,this._options={},this._contentType="string",this.events=new Ie}set options(e){e&&JD&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(JD,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var s in e)"options"!==s&&"tooltipValue"!==s&&(i[s]=e[s].currentValue),"options"===s&&(r=e[s].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)ZD[i]&&(e[ZD[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(Aj)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(b(KD,8),b(Ze),b(qi),b(qs),b(Fe))},n.\u0275dir=z({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&x("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[en]}),n})(),Pj=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:KD,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[pf]]}),n})();function Ij(n,t){if(1&n&&(p(0,"div",4),g(1),d()),2&n){const e=M().$implicit;ye("tooltip",e.description),y(1),oe(" ",e.name," ")}}function Oj(n,t){1&n&&(p(0,"div",4),g(1," ? "),d()),2&n&&ye("tooltip",M().$implicit.hint)}function Rj(n,t){if(1&n&&(p(0,"div"),E(1,Ij,2,2,"div",3),E(2,Oj,2,1,"div",3),d()),2&n){const e=t.$implicit;y(1),w("ngIf",e.unlocked),y(1),w("ngIf",!e.unlocked)}}let Fj=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(b(BC))},n.\u0275cmp=ke({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"darkMode"],[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Achievements"),d(),j(3,"hr"),p(4,"div",1),E(5,Rj,3,2,"div",2),d()()),2&e&&(y(5),w("ngForOf",i.achievementService.achievements))},directives:[jt,Dt,qt],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class Lj{}class tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new tr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof tr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Nj{encodeKey(t){return XD(t)}encodeValue(t){return XD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Vj=/%(\d[a-f0-9])/gi,Hj={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function XD(n){return encodeURIComponent(n).replace(Vj,(t,e)=>{var i;return null!==(i=Hj[e])&&void 0!==i?i:t})}function QD(n){return`${n}`}class nr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Nj,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Bj(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(QD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(QD(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class jj{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function e1(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function t1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function n1(n){return"undefined"!=typeof FormData&&n instanceof FormData}class ba{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Uj(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new tr),this.context||(this.context=new jj),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new nr,this.urlWithParams=e}serializeBody(){return null===this.body?null:e1(this.body)||t1(this.body)||n1(this.body)||function qj(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||n1(this.body)?null:t1(this.body)?this.body.type||null:e1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const h=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((f,m)=>f.set(m,t.setHeaders[m]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,m)=>f.set(m,t.setParams[m]),u)),new ba(i,r,s,{params:u,headers:c,context:h,reportProgress:l,responseType:o,withCredentials:a})}}var kt=(()=>((kt=kt||{})[kt.Sent=0]="Sent",kt[kt.UploadProgress=1]="UploadProgress",kt[kt.ResponseHeader=2]="ResponseHeader",kt[kt.DownloadProgress=3]="DownloadProgress",kt[kt.Response=4]="Response",kt[kt.User=5]="User",kt))();class cm extends class $j{constructor(t,e=200,i="OK"){this.headers=t.headers||new tr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=kt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function um(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let o1=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof ba)o=e;else{let l,c;l=r.headers instanceof tr?r.headers:new tr(r.headers),r.params&&(c=r.params instanceof nr?r.params:new nr({fromObject:r.params})),o=new ba(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=J(o).pipe(Ro(l=>this.handler.handle(l)));if(e instanceof ba||"events"===r.observe)return s;const a=s.pipe(ln(l=>l instanceof cm));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(me(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(me(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(me(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new nr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,um(r,i))}post(e,i,r={}){return this.request("POST",e,um(r,i))}put(e,i,r={}){return this.request("PUT",e,um(r,i))}}return n.\u0275fac=function(e){return new(e||n)(S(Lj))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const Gj=["*"];let Qc;function wa(n){var t;return(null===(t=function Wj(){if(void 0===Qc&&(Qc=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Qc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Qc}())||void 0===t?void 0:t.createHTML(n))||n}function s1(n){return Error(`Unable to find icon with the name "${n}"`)}function a1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function l1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Lr{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let eu=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Lr(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const s=this._sanitizer.sanitize(we.HTML,r);if(!s)throw l1(r);const a=wa(s);return this._addSvgIconConfig(e,i,new Lr("",a,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Lr(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(we.HTML,i);if(!o)throw l1(i);const s=wa(o);return this._addSvgIconSetConfig(e,new Lr("",s,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(we.RESOURCE_URL,e);if(!i)throw a1(e);const r=this._cachedIconsByUrl.get(i);return r?J(tu(r)):this._loadSvgIconFromConfig(new Lr(e,null)).pipe(It(o=>this._cachedIconsByUrl.set(i,o)),me(o=>tu(o)))}getNamedSvgIcon(e,i=""){const r=c1(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(e,s):Zs(s1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?J(tu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(me(i=>tu(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?J(r):function HC(...n){const t=Lm(n),{args:e,keys:i}=WS(n),r=new Ue(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let h=!1;Jt(e[u]).subscribe(ze(o,f=>{h||(h=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!h)&&(c||o.next(i?YS(i,a):a),o.complete())}))}});return t?r.pipe(wf(t)):r}(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(ki(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(we.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),J(null)})))).pipe(me(()=>{const s=this._extractIconWithNameFromAnySet(e,i);if(!s)throw s1(e);return s}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,e,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(It(i=>e.svgText=i),me(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?J(null):this._fetchIcon(e).pipe(It(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(wa("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(wa("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,s=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function Yj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const a=this._sanitizer.sanitize(we.RESOURCE_URL,r);if(!a)throw a1(r);const l=this._inProgressUrlFetches.get(a);if(l)return l;const c=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(me(u=>wa(u)),tb(()=>this._inProgressUrlFetches.delete(a)),jm());return this._inProgressUrlFetches.set(a,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(c1(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return Jj(o)?new Lr(o.url,null,o.options):new Lr(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(S(o1,8),S(bf),S(de,8),S(Vi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tu(n){return n.cloneNode(!0)}function c1(n,t){return n+":"+t}function Jj(n){return!(!n.url||!n.options)}const Zj=FB(class{constructor(n){this._elementRef=n}}),Xj=new U("mat-icon-location",{providedIn:"root",factory:function Qj(){const n=el(de),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),u1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eU=u1.map(n=>`[${n}]`).join(", "),tU=/^url\(['"]?#(.*?)['"]?\)$/;let Yt=(()=>{class n extends Zj{constructor(e,i,r,o,s){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._currentIconFetch=St.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=function e2(n){return null!=n&&"false"!=`${n}`}(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${e}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(eU),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)u1.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(tU):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(zn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(b(Ze),b(eu),Kr("aria-hidden"),b(Xj),b(Vi))},n.\u0275cmp=ke({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(Ct("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),ko("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ve],ngContentSelectors:Gj,decls:1,vars:0,template:function(e,i){1&e&&(function Jy(n){const t=T()[16][6];if(!t.projection){const i=t.projection=ms(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?qT(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}(),function Zy(n,t=0,e){const i=T(),r=ge(),o=so(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Lu(),64!=(64&o.flags)&&function $E(n,t,e){Mv(t[11],0,t,e,mv(n,e,t),_v(e.parent||t[6],e,t))}(r,i,o)}(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),h1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n}),n.\u0275inj=Ke({imports:[[Dc],Dc]}),n})();function nU(n,t){if(1&n&&(p(0,"span")(1,"mat-icon",4),g(2," help "),d(),g(3),d()),2&n){const e=M().$implicit;y(1),ye("tooltip",e.description),y(2),oe(" ",e.name," ")}}function iU(n,t){1&n&&(p(0,"span"),g(1," ???????????? "),d())}function rU(n,t){1&n&&(p(0,"span")(1,"mat-icon"),g(2," done "),d()())}function oU(n,t){if(1&n){const e=W();p(0,"span")(1,"button",5),x("click",function(){return F(e),M(2).impossibleTaskService.stopTask()}),g(2,"Stop"),d()()}}function sU(n,t){if(1&n){const e=W();p(0,"span")(1,"button",5),x("click",function(){return F(e),M(2).impossibleTaskService.startTask()}),g(2,"Start"),d()()}}function aU(n,t){if(1&n&&(p(0,"tr")(1,"td"),E(2,nU,4,2,"span",2),E(3,iU,2,0,"span",2),d(),p(4,"td")(5,"div",3),j(6,"span"),d()(),p(7,"td"),E(8,rU,3,0,"span",2),E(9,oU,3,0,"span",2),E(10,sU,3,0,"span",2),d()()),2&n){const e=t.$implicit,i=M();y(2),w("ngIf",i.impossibleTaskService.nextTask>=e.taskType),y(1),w("ngIf",i.impossibleTaskService.nextTask<e.taskType),y(3),Bn("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%"),y(2),w("ngIf",i.impossibleTaskService.taskProgress[e.taskType].complete),y(1),w("ngIf",i.impossibleTaskService.activeTaskIndex===e.taskType),y(1),w("ngIf",-1===i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask===e.taskType)}}let lU=(()=>{class n{constructor(e,i){this.impossibleTaskService=e,this.gameStateService=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(b(qo),b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-impossible-task-panel"]],decls:7,vars:1,consts:[[1,"darkMode"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"progress-bar"],[3,"tooltip"],[3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Impossible Tasks"),d(),j(3,"hr"),p(4,"div")(5,"table"),E(6,aU,11,7,"tr",1),d()()()),2&e&&(y(6),w("ngForOf",i.impossibleTaskService.tasks))},directives:[jt,Dt,Yt,qt],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const d1={appVersion:pm(147).i8,production:!0};let cU=(()=>{class n{constructor(e){this.gameStateService=e}importClick(e){this.gameStateService.importGame(e)}exportClick(){document.getElementById("saveFileTextArea").value=this.gameStateService.getGameExport()}}return n.\u0275fac=function(e){return new(e||n)(b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-export-panel"]],decls:12,vars:0,consts:[[1,"darkMode"],["id","saveFileTextArea"],["saveFileTextArea",""],[3,"click"]],template:function(e,i){if(1&e){const r=W();p(0,"div",0)(1,"h3"),g(2,"Import/Export Save File"),d(),j(3,"hr"),p(4,"div")(5,"textarea",1,2),g(7,"To export a game, press the Export button then copy and paste the contents of this box to wherever you want to store the save data. To import a game, paste save data into this box and press the Import button. Make sure that the only thing in the box is your save data or the save may be corrupted. The best way to do this is have the game data in your clipboard, then click on this box and press Ctrl-a then Ctrl-v."),d()(),p(8,"button",3),x("click",function(){F(r);const s=Bt(6);return i.importClick(s.value)}),g(9,"Import"),d(),p(10,"button",3),x("click",function(){return i.exportClick()}),g(11,"Export"),d()()}},styles:["textarea[_ngcontent-%COMP%]{width:450px;height:450px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),uU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ke({type:n,selectors:[["app-tutorial-panel"]],decls:28,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Tutorial"),d(),j(3,"hr"),p(4,"div",1)(5,"span"),g(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),d(),j(7,"hr"),p(8,"span"),g(9," The game is intended to be played on a laptop or desktop computer using the Chrome browser. "),d(),j(10,"hr"),p(11,"span"),g(12," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),d(),j(13,"hr"),p(14,"span"),g(15," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),d(),j(16,"hr"),p(17,"span"),g(18," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),d(),j(19,"hr"),p(20,"span"),g(21," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),d(),j(22,"hr"),p(23,"span"),g(24," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),d(),j(25,"hr"),p(26,"span"),g(27," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. Now, it's time to develop your potential for immortality. Get to it! "),d()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:500px}"]}),n})(),hU=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ke({type:n,selectors:[["app-changelog-panel"]],decls:176,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Change Log"),d(),j(3,"hr"),p(4,"div",1)(5,"table")(6,"tr")(7,"td"),g(8,"v1.0.48"),d(),p(9,"td"),g(10,"Better follower management. Item names stay more consistent when merged and upgraded. Balance and bug fixes."),d()(),p(11,"tr")(12,"td"),g(13,"v1.0.47"),d(),p(14,"td"),g(15,"Better inventory slots that don't jiggle around. Auto-sell and auto-use can now reserve some of the items (set value in the options panel). Bug and balance fixes."),d()(),p(16,"tr")(17,"td"),g(18,"v1.0.46"),d(),p(19,"td"),g(20,"Condensing your Soul Core now provides greater benefits."),d()(),p(21,"tr")(22,"td"),g(23,"v1.0.45"),d(),p(24,"td"),g(25,"A powerful new pill can now be created by aspiring immortals who have mastered many jobs."),d()(),p(26,"tr")(27,"td"),g(28,"v1.0.44"),d(),p(29,"td"),g(30,"Autobuy options are now configurable if you have found the secret knowledge needed."),d()(),p(31,"tr")(32,"td"),g(33,"v1.0.43"),d(),p(34,"td"),g(35,"When the game is paused you can advance a day with the Enter key. Time now moves faster the older you are starting at 5,000 years old. Base lifespan now increases based on total days lived, not number of lives lived. Balance changes to attributes and aptitudes."),d()(),p(36,"tr")(37,"td"),g(38,"v1.0.42"),d(),p(39,"td"),g(40,"Gaining large numbers of items at once is now much more efficient, so having obscenely huge farms no longer breaks the game."),d()(),p(41,"tr")(42,"td"),g(43,"v1.0.41"),d(),p(44,"td"),g(45,"Panel size fixes. Bloodline ascension rank 5. Fixed log line duplication bug. Pause on death should no longer allow extra days to pass before pausing."),d()(),p(46,"tr")(47,"td"),g(48,"v1.0.40"),d(),p(49,"td"),g(50,"Changed the way damage and armor work. Late-game fights should now be more epic and interesting."),d()(),p(51,"tr")(52,"td"),g(53,"v1.0.39"),d(),p(54,"td"),g(55,"Better descriptions for resting activities. Shift-click activities to load them onto the schedule 10 at a time. Canopy beds give more health."),d()(),p(56,"tr")(57,"td"),g(58,"v1.0.38"),d(),p(59,"td"),g(60,"Better performance for aspiring immortals who want to buy vast tracts of land."),d()(),p(61,"tr")(62,"td"),g(63,"v1.0.37"),d(),p(64,"td"),g(65,"New status bars that show values on non-chrome browsers."),d()(),p(66,"tr")(67,"td"),g(68,"v1.0.36"),d(),p(69,"td"),g(70,"You can now choose how much money to reserve when doing automatic purchases."),d()(),p(71,"tr")(72,"td"),g(73,"v1.0.35"),d(),p(74,"td"),g(75,"The log panel can now be resized by sliding the slider up and down. The Ascension Techniques panel stays unlocked once unlocked. Old junky gems can now be easily removed if you know how."),d()(),p(76,"tr")(77,"td"),g(78,"v1.0.34"),d(),p(79,"td"),g(80,"Style fix, clear schedule button, and auto-equip can now be turned off in the options."),d()(),p(81,"tr")(82,"td"),g(83,"v1.0.33"),d(),p(84,"td"),g(85,"Some styling improvements and a fix to very late game reward loot."),d()(),p(86,"tr")(87,"td"),g(88,"v1.0.32"),d(),p(89,"td"),g(90,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),d()(),p(91,"tr")(92,"td"),g(93,"v1.0.31"),d(),p(94,"td"),g(95,"Some balance changes."),d()(),p(96,"tr")(97,"td"),g(98,"v1.0.30"),d(),p(99,"td"),g(100,"A certain impossible task is now slightly less impossible."),d()(),p(101,"tr")(102,"td"),g(103,"v1.0.29"),d(),p(104,"td"),g(105,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),d()(),p(106,"tr")(107,"td"),g(108,"v1.0.28"),d(),p(109,"td"),g(110,"Improvements to automatic home purchasing."),d()(),p(111,"tr")(112,"td"),g(113,"v1.0.27"),d(),p(114,"td"),g(115,"You can now save and load an activity schedule."),d()(),p(116,"tr")(117,"td"),g(118,"v1.0.26"),d(),p(119,"td"),g(120,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),d()(),p(121,"tr")(122,"td"),g(123,"v1.0.25"),d(),p(124,"td"),g(125,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),d()(),p(126,"tr")(127,"td"),g(128,"v1.0.24"),d(),p(129,"td"),g(130,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),d()(),p(131,"tr")(132,"td"),g(133,"v1.0.23"),d(),p(134,"td"),g(135,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),d()(),p(136,"tr")(137,"td"),g(138,"v1.0.22"),d(),p(139,"td"),g(140,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),d()(),p(141,"tr")(142,"td"),g(143,"v1.0.21"),d(),p(144,"td"),g(145,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),d()(),p(146,"tr")(147,"td"),g(148,"v1.0.20"),d(),p(149,"td"),g(150,"Added Discord link."),d()(),p(151,"tr")(152,"td"),g(153,"v1.0.19"),d(),p(154,"td"),g(155,"Added changelog."),d()(),p(156,"tr")(157,"td"),g(158,"v1.0.18"),d(),p(159,"td"),g(160,"New follower types are now available."),d()(),p(161,"tr")(162,"td"),g(163,"v1.0.17"),d(),p(164,"td"),g(165,"Crafting log entries can now be filtered out."),d()(),p(166,"tr")(167,"td"),g(168,"v1.0.16"),d(),p(169,"td"),g(170,"Added tutorial help button."),d()(),p(171,"tr")(172,"td"),g(173,"v0.0.0 - v1.0.15"),d(),p(174,"td"),g(175,"Created and launched the game."),d()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}"]}),n})(),dU=(()=>{class n{constructor(e){this.nativeElement=e.nativeElement}setMaxHeight(e){this.nativeElement.setAttribute("style",`max-height: ${e}px;`)}getSize(){return{width:this.nativeElement.clientWidth,height:this.nativeElement.clientHeight}}}return n.\u0275fac=function(e){return new(e||n)(b(Ze))},n.\u0275dir=z({type:n,selectors:[["","appResizable",""]],exportAs:["appResizable"]}),n})();function fU(n,t){if(1&n){const e=W();p(0,"input",4),x("change",function(r){return F(e),M().pauseOnDeath(r)}),d()}2&n&&w("checked",M().activityService.pauseOnDeath)}function pU(n,t){1&n&&(p(0,"label",5),g(1,"Pause on Death"),d())}function mU(n,t){if(1&n){const e=W();p(0,"input",8),x("change",function(r){return F(e),M(2).pauseBeforeDeath(r)}),d()}2&n&&w("checked",M(2).activityService.pauseBeforeDeath)}function gU(n,t){1&n&&(p(0,"label",9),g(1,"Pause Before Death - This will pause one day before the end of your expected lifespan."),d())}function vU(n,t){if(1&n&&(p(0,"div")(1,"span"),E(2,mU,1,1,"input",6),E(3,gU,2,0,"label",7),d()()),2&n){const e=M();y(2),w("ngIf",e.activityService.autoRestart),y(1),w("ngIf",e.activityService.autoRestart)}}let yU=(()=>{class n{constructor(e){this.activityService=e}ngOnInit(){}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Wt))},n.\u0275cmp=ke({type:n,selectors:[["app-time-options-panel"]],decls:9,vars:3,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change",4,"ngIf"],["for","pauseBeforeDeath",4,"ngIf"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change"],["for","pauseBeforeDeath"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Schedule Options"),d(),j(3,"hr"),p(4,"div")(5,"span"),E(6,fU,1,1,"input",1),E(7,pU,2,0,"label",2),d()(),E(8,vU,4,2,"div",3),d()),2&e&&(y(6),w("ngIf",i.activityService.autoRestart),y(1),w("ngIf",i.activityService.autoRestart),y(1),w("ngIf",i.activityService.autoPauseUnlocked))},directives:[Dt],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Ca=function(n){return{iconActive:n}};function _U(n,t){if(1&n){const e=W();p(0,"mat-icon",16),x("click",function(){return F(e),M().fastClick()}),g(1," fast_forward "),d()}if(2&n){const e=M();w("ngClass",ot(1,Ca,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function SU(n,t){if(1&n){const e=W();p(0,"mat-icon",17),x("click",function(){return F(e),M().fasterClick()}),g(1," skip_next "),d()}if(2&n){const e=M();w("ngClass",ot(1,Ca,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function bU(n,t){if(1&n){const e=W();p(0,"mat-icon",18),x("click",function(){return F(e),M().fastestClick()}),g(1," bolt "),d()}if(2&n){const e=M();w("ngClass",ot(1,Ca,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function wU(n,t){if(1&n){const e=W();p(0,"mat-icon",19),x("click",function(){return F(e),M().timeOptions()}),g(1," settings "),d()}}function CU(n,t){if(1&n){const e=W();p(0,"h6")(1,"input",20),x("change",function(r){return F(e),M().useSavedTicks(r)}),d(),p(2,"label",21),g(3),L(4,"number"),d()()}if(2&n){const e=M();y(1),w("checked",e.mainLoopService.useBankedTicks),y(2),oe("Use banked time to accelerate reality. ",yt(4,2,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}const hm=function(n){return{currentRow:n}};function DU(n,t){if(1&n){const e=W();p(0,"tr",22),x("dragover",function(r){return F(e),M().allowDrop(r)})("drop",function(r){const s=F(e).index;return M().drop(s,r)})("dragstart",function(r){const s=F(e).index;return M().drag(s,r)}),p(1,"td",23),g(2),d(),p(3,"td",23)(4,"div",24),j(5,"span"),d()(),p(6,"td",23)(7,"mat-icon",25),x("click",function(r){const s=F(e).$implicit;return M().onMinusClick(s,r)}),g(8,"remove"),d(),p(9,"mat-icon",26),x("click",function(r){const s=F(e).$implicit;return M().onPlusClick(s,r)}),g(10,"add"),d(),p(11,"mat-icon",27),x("click",function(){const o=F(e).$implicit;return M().onRemoveClick(o)}),g(12,"clear"),d()()()}if(2&n){const e=t.$implicit,i=t.index,r=M();y(1),w("ngClass",ot(8,hm,i===r.activityService.currentIndex)),y(1),Sl("",r.activityService.getActivityByType(e.activity).name[r.activityService.getActivityByType(e.activity).level]," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),y(1),w("ngClass",ot(10,hm,i===r.activityService.currentIndex)),y(2),Bn("width",100*(i!==r.activityService.currentIndex?e.repeatTimes:r.activityService.currentTickCount)/e.repeatTimes,"%"),y(1),w("ngClass",ot(12,hm,i===r.activityService.currentIndex))}}function MU(n,t){if(1&n){const e=W();p(0,"tr")(1,"td"),g(2),d(),p(3,"td")(4,"div",30),j(5,"span"),d()(),p(6,"td")(7,"mat-icon",27),x("click",function(){return F(e),M(2).removeSpiritActivity()}),g(8,"clear"),d()()()}if(2&n){const e=M(2);y(2),De(e.activityService.getActivityByType(e.activityService.spiritActivity).name[e.activityService.getActivityByType(e.activityService.spiritActivity).level])}}function kU(n,t){if(1&n){const e=W();p(0,"table",28),x("drop",function(r){return F(e),M().spiritActivityDrop(r)})("dragover",function(r){return F(e),M().allowDrop(r)}),p(1,"tr")(2,"td",29),g(3," Spiritual Projection "),d()(),E(4,MU,9,1,"tr",9),d()}if(2&n){const e=M();y(4),w("ngIf",e.activityService.spiritActivity)}}let EU=(()=>{class n{constructor(e,i,r,o){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.dialog=o,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1}ngOnInit(){}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}timeOptions(){this.dialog.open(yU,{width:"700px",data:{someField:"foo"}})}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){const i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}allowDrop(e){var i,r;("activityloop"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let s=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""===s){if(s=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""===s)return;const l={activity:parseInt(s),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{const a=parseInt(s);if(a>=0&&a<this.activityService.activityLoop.length){const l=this.activityService.activityLoop.splice(a,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault(),e.stopPropagation();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""===o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""===o)return;const s=parseInt(o);this.activityService.spiritActivity=s}else{const s=parseInt(o);s>=0&&s<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[s].activity)}}}return n.\u0275fac=function(e){return new(e||n)(b(un),b(Wt),b(Ve),b(Ko))},n.\u0275cmp=ke({type:n,selectors:[["app-time-panel"]],decls:27,vars:13,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar). Clicking this again while paused will step time forward a single day. When paused, you can also advance one day by pressing the Enter key.",1,"iconButton",3,"ngClass","click"],["tooltip","Standard Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fast Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Faster Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Fastest Game Speed","class","iconButton",3,"ngClass","click",4,"ngIf"],["tooltip","Options","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],[1,"overflow"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Save your current schedule of actviities.",1,"iconButton",3,"click"],["tooltip","Load your saved schedule of actviities. Note that activities that you cannot do right now will not be loaded.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Clear your current schedule.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Fast Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Faster Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Fastest Game Speed",1,"iconButton",3,"ngClass","click"],["tooltip","Options",1,"iconButton",3,"click"],["type","checkbox","id","useSavedTicks",3,"checked","change"],["for","useSavedTicks"],["draggable","true",3,"dragover","drop","dragstart"],[3,"ngClass"],[1,"progress-bar"],["tooltip","Spend fewer days on this.\n\n          Shift- or Ctrl-click to remove 10x\n          Shift-Ctrl-click to remove 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Spend more days on this.\n\n          Shift- or Ctrl-click to add 10x\n          Shift-Ctrl-click to add 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"progress-bar","indeterminate"]],template:function(e,i){1&e&&(p(0,"div",0),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),p(1,"h3",1)(2,"span",2)(3,"mat-icon"),g(4," calendar_month "),d(),g(5," How will you spend your days? "),d(),p(6,"mat-icon",3),x("click",function(){return i.pauseClick()}),g(7," pause "),d(),p(8,"mat-icon",4),x("click",function(){return i.standardClick()}),g(9," play_arrow "),d(),E(10,_U,2,3,"mat-icon",5),E(11,SU,2,3,"mat-icon",6),E(12,bU,2,3,"mat-icon",7),E(13,wU,2,0,"mat-icon",8),E(14,CU,5,5,"h6",9),d(),p(15,"div",10)(16,"table"),E(17,DU,13,14,"tr",11),d(),E(18,kU,5,1,"table",12),d(),p(19,"div")(20,"span")(21,"mat-icon",13),x("click",function(){return i.activityService.saveActivityLoop()}),g(22," content_paste "),d(),p(23,"mat-icon",14),x("click",function(){return i.activityService.loadActivityLoop()}),g(24," content_paste_go "),d(),p(25,"mat-icon",15),x("click",function(){return i.activityService.activityLoop=[]}),g(26," delete_sweep "),d()()()()),2&e&&(y(6),w("ngClass",ot(9,Ca,i.mainLoopService.pause)),y(2),w("ngClass",ot(11,Ca,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),y(2),w("ngIf",i.mainLoopService.unlockFastSpeed),y(1),w("ngIf",i.mainLoopService.unlockFasterSpeed),y(1),w("ngIf",i.mainLoopService.unlockFastestSpeed),y(1),w("ngIf",i.activityService.autoRestart),y(1),w("ngIf",i.mainLoopService.bankedTicks>0),y(3),w("ngForOf",i.activityService.activityLoop),y(1),w("ngIf",i.characterService.characterState.manaUnlocked))},directives:[qt,Yt,$i,Dt,jt],pipes:[Oo],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})(),TU=(()=>{class n extends class xU{constructor(){this.mouseMoveListener=this.handleMouseMove.bind(this),this.mouseUpListener=this.handleMouseUp.bind(this)}handleMouseDown(t){window.addEventListener("mousemove",this.mouseMoveListener),window.addEventListener("mouseup",this.mouseUpListener)}handleMouseUp(){window.removeEventListener("mousemove",this.mouseMoveListener),window.removeEventListener("mouseup",this.mouseUpListener)}}{constructor(){super(),this.dragBeginY=0}handleMouseDown(e){var i,r;super.handleMouseDown(e),this.dragBeginY=e.y,this.topInitialSize=null===(i=this.top)||void 0===i?void 0:i.getSize(),this.bottomInitialSize=null===(r=this.bottom)||void 0===r?void 0:r.getSize()}handleMouseMove(e){var i,r;if(void 0===this.topInitialSize||void 0===this.bottomInitialSize)throw new Error("initial size was not defined");const o=this.topInitialSize.height-this.dragBeginY+e.y,s=this.bottomInitialSize.height+this.dragBeginY-e.y;o>0&&s>0&&(null===(i=this.top)||void 0===i||i.setMaxHeight(o),null===(r=this.bottom)||void 0===r||r.setMaxHeight(s))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ke({type:n,selectors:[["app-vertical-panel-slider"]],inputs:{top:"top",bottom:"bottom"},features:[ve],decls:3,vars:0,consts:[[1,"handle"],[1,"resize-vertical",3,"mousedown"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"mat-icon",1),x("mousedown",function(o){return i.handleMouseDown(o)}),g(2,"drag_handle"),d()())},directives:[Yt],styles:[".handle[_ngcontent-%COMP%]{display:flex;justify-content:center}.resize-vertical[_ngcontent-%COMP%]{color:var(--bodyText);cursor:ns-resize;font-size:20px;height:20px;width:20px}"]}),n})();function AU(n,t){if(1&n){const e=W();p(0,"tr")(1,"td"),g(2),L(3,"titlecase"),d(),p(4,"td"),g(5),d(),p(6,"td",3),g(7,"Keep up to "),p(8,"input",4),x("change",function(r){const s=F(e).$implicit;return M().keepValueChanged(r,s.key)}),d()()()}if(2&n){const e=t.$implicit,i=M();y(2),De($(3,3,e.key)),y(3),De(e.value.description),y(3),ye("value",void 0===i.followerService.maxFollowerByType[e.key]?1e3:i.followerService.maxFollowerByType[e.key])}}let PU=(()=>{class n{constructor(e){this.followerService=e}ngOnInit(){}keepValueChanged(e,i){e.target instanceof HTMLInputElement&&this.followerService.setMaxFollowers(i,parseInt(e.target.value))}}return n.\u0275fac=function(e){return new(e||n)(b(Yi))},n.\u0275cmp=ke({type:n,selectors:[["app-follower-management-panel"]],decls:11,vars:4,consts:[[1,"darkMode"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],["tooltip","This value will only apply to new followers who seek to join you. You'll have to dismiss current followers yourself."],["type","number",1,"inputBox",3,"value","change"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Manage Followers"),d(),j(3,"hr"),p(4,"span"),g(5),d(),j(6,"hr"),p(7,"div",1)(8,"table"),E(9,AU,9,5,"tr",2),L(10,"keyvalue"),d()()()),2&e&&(y(5),oe("You can support up to ",i.followerService.followerCap," total followers."),y(4),w("ngForOf",$(10,2,i.followerService.jobs)))},directives:[jt,qt],pipes:[hf,an],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[_ngcontent-%COMP%]{width:80px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function IU(n,t){if(1&n&&(p(0,"span",7),L(1,"bigNumber"),L(2,"number"),L(3,"bigNumber"),L(4,"number"),p(5,"mat-icon"),g(6),d(),g(7),L(8,"camelToTitle"),L(9,"bigNumber"),L(10,"number"),L(11,"number"),d()),2&n){const e=M().$implicit,i=M();ad("tooltip","",e.value.description," Your aptitude of \n        ",e.value.aptitude>1e7?$(1,6,e.value.aptitude):yt(2,8,e.value.aptitude,"1.0-2"),"\n        multiplies your gains by \n        ",i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)>1e7?$(3,11,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude)):yt(4,13,i.characterService.characterState.getAptitudeMultipier(e.value.aptitude),"1.0-2"),"."),y(6),De(e.value.icon),y(1),Sn(" ",$(8,16,e.key),": ",e.value.value>1e7?$(9,18,e.value.value):e.value.value>1e3?yt(10,20,e.value.value,"1.0-0"):yt(11,23,e.value.value,"1.0-1")," ")}}function OU(n,t){if(1&n&&(p(0,"div"),E(1,IU,12,26,"span",6),d()),2&n){const e=t.$implicit;y(1),w("ngIf",0!==e.value.value)}}function RU(n,t){if(1&n){const e=W();p(0,"mat-icon",8),x("click",function(){return F(e),M().followerOptionsClicked()}),g(1," settings "),d()}}function FU(n,t){if(1&n){const e=W();p(0,"div",11)(1,"span",12),L(2,"titlecase"),L(3,"number"),L(4,"number"),L(5,"number"),g(6),L(7,"titlecase"),L(8,"titlecase"),d(),p(9,"mat-icon",13),x("click",function(r){const s=F(e).$implicit;return M(2).dismissFollower(r,s)}),g(10," cancel "),d()()}if(2&n){const e=t.$implicit,i=M(2);y(1),ld("tooltip","",e.name," is a level ",e.power," ",$(2,11,e.job),". ",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",yt(3,13,e.age/365,"1.0-1")," years and will serve for another ",yt(4,16,(e.lifespan-e.age)/365,"1.0-1")," more years. Daily cost: ",yt(5,19,e.cost,"1.0-0"),""),y(5),Sn(" ",$(7,22,e.name)," the ",$(8,24,e.job)," "),y(3),w("tooltip",i.followerService.autoDismissUnlocked?"Dismiss this follower.\n\nShift-click to automatically dismiss everyone of this job type.\n\nCtrl-click to set the current number as the limit without dismissing.":"Dismiss this follower.")}}function LU(n,t){if(1&n&&(p(0,"div",9),E(1,FU,11,26,"div",10),d()),2&n){const e=M();y(1),w("ngForOf",e.followerService.followers)}}let f1=(()=>{class n{constructor(e,i,r){this.characterService=e,this.dialog=i,this.followerService=r,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(PU,{width:"700px",data:{someField:"foo"}})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),e.ctrlKey&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissFollowerAll(i):this.followerService.dismissFollower(i)}}return n.\u0275fac=function(e){return new(e||n)(b(Ve),b(Ko),b(Yi))},n.\u0275cmp=ke({type:n,selectors:[["app-attributes-panel"]],decls:16,vars:6,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],["class","iconButton optionsIcon","tooltip","Manage your followers.",3,"click",4,"ngIf"],["class","followerPanel",4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],["tooltip","Manage your followers.",1,"iconButton","optionsIcon",3,"click"],[1,"followerPanel"],["class","attributeLine",4,"ngFor","ngForOf"],[1,"attributeLine"],[1,"followerName",3,"tooltip"],["tooltipClass","tooltip-break",1,"smallerIcon",3,"tooltip","click"]],template:function(e,i){1&e&&(p(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),g(5," bar_chart "),d(),g(6," Attributes "),d(),E(7,OU,2,1,"div",2),L(8,"keyvalue"),d(),p(9,"td")(10,"h3",0)(11,"mat-icon",3),g(12," person "),d(),g(13," Followers "),E(14,RU,2,0,"mat-icon",4),d(),E(15,LU,2,1,"div",5),d()()()),2&e&&(y(7),w("ngForOf",yt(8,3,i.character.attributes,i.originalOrder)),y(7),w("ngIf",i.followerService.followersUnlocked&&i.followerService.autoDismissUnlocked),y(1),w("ngIf",i.followerService.followersUnlocked))},styles:["h3[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.optionsIcon[_ngcontent-%COMP%]{float:right}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function NU(n,t){1&n&&(p(0,"td",1),g(1," You expect to live forever. "),d())}function BU(n,t){if(1&n&&(p(0,"td",1),g(1),L(2,"number"),d()),2&n){const e=M();y(1),oe(" You expect to live ",yt(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}let p1=(()=>{class n{constructor(e){this.characterService=e,this.Math=Math}}return n.\u0275fac=function(e){return new(e||n)(b(Ve))},n.\u0275cmp=ke({type:n,selectors:[["app-health-panel"]],decls:35,vars:30,consts:[[1,"panelHeader"],[1,"headerCell"],["class","headerCell",4,"ngIf"],[3,"tooltip"],["placement","right",3,"tooltip"],[1,"health"],[1,"progress-bar"],[1,"stamina"],[1,"nourishment"],[1,"mana"]],template:function(e,i){1&e&&(p(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),g(4),L(5,"floor"),L(6,"number"),d(),E(7,NU,2,0,"td",2),E(8,BU,3,4,"td",2),p(9,"td")(10,"mat-icon",3),g(11,"timer"),d()()()()(),p(12,"table")(13,"tr")(14,"td",4),g(15,"Health"),d(),p(16,"td",5)(17,"div",6),j(18,"span"),d()(),p(19,"td",4),g(20,"Stamina"),d(),p(21,"td",7)(22,"div",6),j(23,"span"),d()()(),p(24,"tr")(25,"td",4),g(26,"Nutrition"),d(),p(27,"td",8)(28,"div",6),j(29,"span"),d()(),p(30,"td",4),g(31,"Mana"),d(),p(32,"td",9)(33,"div",6),j(34,"span"),d()()()()),2&e&&(y(4),Sn(" You are ",$(5,25,i.characterService.characterState.age/365)," years, ",yt(6,27,i.characterService.characterState.age%365,"1.0-0")," days old. "),y(3),w("ngIf",i.characterService.characterState.immortal),y(1),w("ngIf",!i.characterService.characterState.immortal),y(2),ye("tooltip",i.characterService.lifespanTooltip),y(4),ye("tooltip",i.characterService.characterState.status.health.description),y(3),Ct("value",i.Math.floor(i.characterService.characterState.status.health.value))("max",i.Math.floor(i.characterService.characterState.status.health.max)),y(1),Bn("width",100*i.Math.floor(i.characterService.characterState.status.health.value)/i.Math.floor(i.characterService.characterState.status.health.max),"%"),y(1),ye("tooltip",i.characterService.characterState.status.stamina.description),y(3),Ct("value",i.Math.floor(i.characterService.characterState.status.stamina.value))("max",i.Math.floor(i.characterService.characterState.status.stamina.max)),y(1),Bn("width",100*i.Math.floor(i.characterService.characterState.status.stamina.value)/i.Math.floor(i.characterService.characterState.status.stamina.max),"%"),y(2),ye("tooltip",i.characterService.characterState.status.nourishment.description),y(3),Ct("value",i.Math.floor(i.characterService.characterState.status.nourishment.value))("max",i.Math.floor(i.characterService.characterState.status.nourishment.max)),y(1),Bn("width",100*i.Math.floor(i.characterService.characterState.status.nourishment.value)/i.Math.floor(i.characterService.characterState.status.nourishment.max),"%"),y(1),ye("tooltip",i.characterService.characterState.status.mana.description),y(3),Ct("value",i.Math.floor(i.characterService.characterState.status.mana.value))("max",i.Math.floor(i.characterService.characterState.status.mana.max)),y(1),Bn("width",100*i.Math.floor(i.characterService.characterState.status.mana.value)/i.Math.floor(i.characterService.characterState.status.mana.max),"%"))},styles:[".panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--manaColor)}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function VU(n,t){1&n&&(p(0,"mat-icon",10),g(1," model_training "),d())}function HU(n,t){if(1&n&&(p(0,"span")(1,"mat-icon",11),L(2,"bigNumber"),g(3," attach_money "),d()()),2&n){const e=M(2).$implicit;y(1),Ui("tooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",$(2,1,e.lastIncome)," taels.")}}function jU(n,t){if(1&n){const e=W();p(0,"tr",5),x("dragstart",function(r){F(e);const o=M().$implicit;return M().drag(o,r)}),p(1,"td")(2,"span",6)(3,"button",7),x("click",function(r){F(e);const o=M().$implicit;return M().onClick(o,r)}),g(4),d(),E(5,VU,2,0,"mat-icon",8),d()(),p(6,"td"),g(7),j(8,"br"),g(9),E(10,HU,4,3,"span",9),d()()}if(2&n){const e=M().$implicit;y(4),oe(" ",e.name[e.level]," "),y(1),w("ngIf",e.skipApprenticeshipLevel>0),y(2),oe(" ",e.description[e.level]," "),y(2),oe(" ",e.consequenceDescription[e.level]," "),y(1),w("ngIf",e.lastIncome&&e.lastIncome>0)}}function UU(n,t){if(1&n&&(Co(0),E(1,jU,11,5,"tr",4),Do()),2&n){const e=t.$implicit;y(1),w("ngIf",e.unlocked)}}let m1=(()=>{class n{constructor(e,i,r){this.gameStateService=e,this.activityService=i,this.character=r.characterState}onClick(e,i){let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}}return n.\u0275fac=function(e){return new(e||n)(b(hi),b(Wt),b(Ve))},n.\u0275cmp=ke({type:n,selectors:[["app-activity-panel"]],decls:7,vars:1,consts:[[1,"panelHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],["draggable","true",3,"dragstart",4,"ngIf"],["draggable","true",3,"dragstart"],[1,"noWrap"],["tooltip","Add this to your schedule\n\n                    Shift- or Ctrl-click to repeat it 10x\n                    Shift-Ctrl-click to repeat it 100x\n                    Alt-click to add it to the top","tooltipClass","tooltip-break",3,"click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],[4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."],[3,"tooltip"]],template:function(e,i){1&e&&(p(0,"h3",0)(1,"mat-icon",1),g(2," help "),d(),g(3," Activities\n"),d(),p(4,"div",2)(5,"table"),E(6,UU,2,1,"ng-container",3),d()()),2&e&&(y(6),w("ngForOf",i.activityService.activities))},styles:["td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function qU(n,t){if(1&n){const e=W();p(0,"span",11)(1,"input",12),x("change",function(r){return F(e),M(2).manaShieldToggle(r)}),d(),p(2,"label",13),g(3,"Activate Mana Shield"),d()()}if(2&n){const e=M(2);y(1),w("checked",e.battleService.enableManaShield)}}function $U(n,t){if(1&n){const e=W();p(0,"span",14)(1,"input",15),x("change",function(r){return F(e),M(2).manaAttackToggle(r)}),d(),p(2,"label",16),g(3,"Activate Mana Strike"),d()()}if(2&n){const e=M(2);y(1),w("checked",e.battleService.enableManaAttack)}}function zU(n,t){if(1&n&&(p(0,"span"),E(1,qU,4,1,"span",9),E(2,$U,4,1,"span",10),d()),2&n){const e=M();y(1),w("ngIf",e.battleService.manaShieldUnlocked),y(1),w("ngIf",e.battleService.manaAttackUnlocked)}}function GU(n,t){if(1&n){const e=W();p(0,"button",17),x("click",function(){return F(e),M().battleService.trouble()}),g(1,"Look for Trouble"),d()}}function WU(n,t){if(1&n){const e=W();p(0,"input",18),x("change",function(r){return F(e),M().autoTroubleChange(r)}),d()}2&n&&w("checked",M().battleService.autoTroubleEnabled)}function YU(n,t){1&n&&(p(0,"label",19),g(1,"Look for Trouble"),d())}function KU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),d())}function JU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),d())}function ZU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),d())}function XU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),d())}function QU(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_forward"),d())}function e4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"crisis_alert"),d())}function t4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),d())}function n4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),d())}function i4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),d())}function r4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),d())}function o4(n,t){1&n&&(p(0,"mat-icon",22),g(1,"arrow_backward"),d())}function s4(n,t){if(1&n&&(p(0,"table",20)(1,"tr")(2,"td",21),j(3,"mat-icon",22),d(),p(4,"td",21),E(5,KU,2,0,"mat-icon",23),d(),p(6,"td",21),E(7,JU,2,0,"mat-icon",23),d(),p(8,"td",21),E(9,ZU,2,0,"mat-icon",23),d(),p(10,"td",21),E(11,XU,2,0,"mat-icon",23),d(),p(12,"td",21),E(13,QU,2,0,"mat-icon",23),d(),p(14,"td",21),E(15,e4,2,0,"mat-icon",23),d(),p(16,"td",21),E(17,t4,2,0,"mat-icon",23),d(),p(18,"td",21),E(19,n4,2,0,"mat-icon",23),d(),p(20,"td",21),E(21,i4,2,0,"mat-icon",23),d(),p(22,"td",21),E(23,r4,2,0,"mat-icon",23),d(),p(24,"td",21),E(25,o4,2,0,"mat-icon",23),d()()()),2&n){const e=M();y(5),w("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter),y(2),w("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),y(2),w("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),y(2),w("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),y(2),w("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),y(2),w("ngIf",10===e.battleService.tickCounter),y(2),w("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),y(2),w("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),y(2),w("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),y(2),w("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),y(2),w("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter)}}function a4(n,t){if(1&n){const e=W();p(0,"button",17),x("click",function(){F(e);const r=M().$implicit;return M().battleService.fight(r)}),g(1,"Fight"),d()}}function l4(n,t){1&n&&(p(0,"span"),g(1,"Fighting"),d())}function c4(n,t){if(1&n&&(Co(0),p(1,"tr")(2,"td"),E(3,a4,2,0,"button",3),E(4,l4,2,0,"span",1),d(),p(5,"td",24),g(6),L(7,"titlecase"),d(),p(8,"td",25)(9,"div",26),L(10,"bigNumber"),L(11,"bigNumber"),j(12,"span"),d()(),p(13,"td",27)(14,"mat-icon"),g(15,"manage_accounts"),d(),g(16),L(17,"percent"),d(),p(18,"td",28)(19,"mat-icon"),g(20,"flare"),d(),g(21),L(22,"bigNumber"),d(),p(23,"td",29)(24,"mat-icon"),g(25,"shield"),d(),g(26),L(27,"bigNumber"),d()(),Do()),2&n){const e=t.$implicit,i=M();y(3),w("ngIf",i.battleService.currentEnemy!==e),y(1),w("ngIf",i.battleService.currentEnemy===e),y(2),Sn("",$(7,11,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),y(3),Ct("value",$(10,13,i.Math.floor(e.enemy.health)))("max",$(11,15,i.Math.floor(e.enemy.maxHealth))),y(3),Bn("width",100*i.Math.floor(e.enemy.health)/i.Math.floor(e.enemy.maxHealth),"%"),y(4),De($(17,17,e.enemy.accuracy)),y(5),De($(22,19,e.enemy.attack)),y(5),De($(27,21,e.enemy.defense))}}let g1=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i,this.Math=Math}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}manaShieldToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaShield=e.target.checked)}manaAttackToggle(e){e.target instanceof HTMLInputElement&&this.characterService.characterState.manaUnlocked&&(this.battleService.enableManaAttack=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(Ti),b(Ve))},n.\u0275cmp=ke({type:n,selectors:[["app-battle-panel"]],decls:13,vars:6,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],["tooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],["class","clashTable",4,"ngIf"],[4,"ngFor","ngForOf"],["class","battleOption","tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["class","battleOption","tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",1,"battleOption"],["type","checkbox","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",1,"battleOption"],["type","checkbox","id","manaStrike",3,"checked","change"],["for","manaStrike"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"clashTable"],[1,"fixedCell"],[1,"clashIcon"],["class","clashIcon",4,"ngIf"],[1,"enemyName"],[1,"health"],[1,"progress-bar"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(p(0,"h3")(1,"mat-icon",0),g(2,"fort"),d(),g(3," Battles "),E(4,zU,3,2,"span",1),p(5,"span",2),E(6,GU,2,0,"button",3),E(7,WU,1,1,"input",4),E(8,YU,2,0,"label",5),d()(),p(9,"div",6),E(10,s4,26,11,"table",7),p(11,"table"),E(12,c4,28,23,"ng-container",8),d()()),2&e&&(y(4),w("ngIf",i.characterService.characterState.manaUnlocked),y(2),w("ngIf",!i.battleService.autoTroubleUnlocked),y(1),w("ngIf",i.battleService.autoTroubleUnlocked),y(1),w("ngIf",i.battleService.autoTroubleUnlocked),y(2),w("ngIf",i.battleService.enemies.length>0),y(2),w("ngForOf",i.battleService.enemies))},styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.battleOption[_ngcontent-%COMP%]{margin-left:10px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{min-height:60px}.enemyName[_ngcontent-%COMP%]{min-width:200px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const Xo=function(n){return{highlightSlot:n}};let v1=(()=>{class n{constructor(e,i){this.characterService=e,this.inventoryService=i,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();const r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Ki(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();const o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",s=parseInt(o);if(s>=0&&s<this.inventoryService.itemStacks.length){const a=this.inventoryService.itemStacks[s];a&&(this.inventoryService.equip(a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(Ve),b(ee))},n.\u0275cmp=ke({type:n,selectors:[["app-equipment-panel"]],decls:45,vars:63,consts:[[1,"panelHeader"],[1,"equipmentContainer"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","head",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","right",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","body",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","left",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],[2,"grid-area","stats"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],["tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons."],["tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor."],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"]],template:function(e,i){1&e&&(p(0,"h3",0),g(1,"Equipment"),d(),p(2,"div",1)(3,"div",2),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)})("dblclick",function(o){return i.slotDoubleClicked("head",o)}),L(4,"titlecase"),g(5),L(6,"titlecase"),d(),p(7,"div",3),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)})("dblclick",function(o){return i.slotDoubleClicked("rightHand",o)}),L(8,"titlecase"),g(9),L(10,"titlecase"),d(),p(11,"div",4),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)})("dblclick",function(o){return i.slotDoubleClicked("body",o)}),L(12,"titlecase"),g(13),L(14,"titlecase"),d(),p(15,"div",5),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)})("dblclick",function(o){return i.slotDoubleClicked("leftHand",o)}),L(16,"titlecase"),g(17),L(18,"titlecase"),d(),p(19,"div",6)(20,"span",7)(21,"mat-icon"),g(22,"manage_accounts"),d(),g(23),L(24,"percent"),d(),j(25,"br"),p(26,"span",8)(27,"mat-icon"),g(28,"flare"),d(),g(29),L(30,"bigNumber"),d(),j(31,"br"),p(32,"span",9)(33,"mat-icon"),g(34,"shield"),d(),g(35),L(36,"bigNumber"),d()(),p(37,"div",10),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)})("dblclick",function(o){return i.slotDoubleClicked("legs",o)}),L(38,"titlecase"),g(39),L(40,"titlecase"),d(),p(41,"div",11),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)})("dblclick",function(o){return i.slotDoubleClicked("feet",o)}),L(42,"titlecase"),g(43),L(44,"titlecase"),d()()),2&e&&(y(3),ye("tooltip",null!==i.character.equipment.head?$(4,21,null==i.character.equipment.head?null:i.character.equipment.head.name)+"<hr/>"+(null==i.character.equipment.head?null:i.character.equipment.head.description):""),w("ngClass",ot(51,Xo,"head"===i.getSelectedItemSlot())),y(2),oe(" ",$(6,23,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),y(2),ye("tooltip",null!==i.character.equipment.rightHand?$(8,25,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)+"<hr/>"+(null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description):""),w("ngClass",ot(53,Xo,"rightHand"===i.getSelectedItemSlot())),y(2),oe(" ",$(10,27,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),y(2),ye("tooltip",null!==i.character.equipment.body?$(12,29,null==i.character.equipment.body?null:i.character.equipment.body.name)+"<hr/>"+(null==i.character.equipment.body?null:i.character.equipment.body.description):""),w("ngClass",ot(55,Xo,"body"===i.getSelectedItemSlot())),y(2),oe(" ",$(14,31,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),y(2),ye("tooltip",null!==i.character.equipment.leftHand?$(16,33,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)+"<hr/>"+(null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description):""),w("ngClass",ot(57,Xo,"leftHand"===i.getSelectedItemSlot())),y(2),oe(" ",$(18,35,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),y(6),De($(24,37,i.character.accuracy)),y(6),De($(30,39,i.character.attackPower)),y(6),De($(36,41,i.character.defense)),y(2),ye("tooltip",null!==i.character.equipment.legs?$(38,43,null==i.character.equipment.legs?null:i.character.equipment.legs.name)+"<hr/>"+(null==i.character.equipment.legs?null:i.character.equipment.legs.description):""),w("ngClass",ot(59,Xo,"legs"===i.getSelectedItemSlot())),y(2),oe(" ",$(40,45,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),y(2),ye("tooltip",null!==i.character.equipment.feet?$(42,47,null==i.character.equipment.feet?null:i.character.equipment.feet.name)+"<hr/>"+(null==i.character.equipment.feet?null:i.character.equipment.feet.description):""),w("ngClass",ot(61,Xo,"feet"===i.getSelectedItemSlot())),y(2),oe(" ",$(44,49,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs ." "stats feet .";grid-template-columns:1fr 1fr 1fr;grid-gap:2px;gap:2px}.itemSlot[_ngcontent-%COMP%]{width:80px;height:48px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function u4(n,t){if(1&n&&(p(0,"div"),g(1),L(2,"number"),d()),2&n){const e=M().$implicit,i=M(2);y(1),oe("$ ",yt(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}const nu=function(n){return{ownedItem:n}};function h4(n,t){if(1&n){const e=W();p(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),g(4),d()(),p(5,"div"),g(6),L(7,"titlecase"),d(),E(8,u4,3,4,"div",1),d(),p(9,"button",5),x("click",function(){const o=F(e).$implicit;return M(2).storeService.buyFurniture(o)}),g(10),d()()}if(2&n){const e=t.$implicit,i=M(2);y(1),ye("tooltip",e.description),w("ngClass",ot(8,nu,i.homeService.furniture[e.slot]===e)),y(3),De(e.slot),y(2),De($(7,6,e.name)),y(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),y(2),oe(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function d4(n,t){if(1&n&&(p(0,"div")(1,"span"),g(2,"Bed"),d(),j(3,"hr"),p(4,"div",2),E(5,h4,11,10,"div",3),d()()),2&n){const e=M();y(5),w("ngForOf",e.storeService.getFurnitureForSlot("bed"))}}function f4(n,t){if(1&n&&(p(0,"div"),g(1),L(2,"number"),d()),2&n){const e=M().$implicit,i=M(2);y(1),oe("$ ",yt(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function p4(n,t){if(1&n){const e=W();p(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),g(4),d()(),p(5,"div"),g(6),L(7,"titlecase"),d(),E(8,f4,3,4,"div",1),d(),p(9,"button",5),x("click",function(){const o=F(e).$implicit;return M(2).storeService.buyFurniture(o)}),g(10),d()()}if(2&n){const e=t.$implicit,i=M(2);y(1),ye("tooltip",e.description),w("ngClass",ot(8,nu,i.homeService.furniture[e.slot]===e)),y(3),De(e.slot),y(2),De($(7,6,e.name)),y(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),y(2),oe(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function m4(n,t){if(1&n&&(p(0,"div")(1,"span"),g(2,"Bathtub"),d(),j(3,"hr"),p(4,"div",2),E(5,p4,11,10,"div",3),d()()),2&n){const e=M();y(5),w("ngForOf",e.storeService.getFurnitureForSlot("bathtub"))}}function g4(n,t){if(1&n&&(p(0,"div"),g(1),L(2,"number"),d()),2&n){const e=M().$implicit,i=M(2);y(1),oe("$ ",yt(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function v4(n,t){if(1&n){const e=W();p(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),g(4),d()(),p(5,"div"),g(6),L(7,"titlecase"),d(),E(8,g4,3,4,"div",1),d(),p(9,"button",5),x("click",function(){const o=F(e).$implicit;return M(2).storeService.buyFurniture(o)}),g(10),d()()}if(2&n){const e=t.$implicit,i=M(2);y(1),ye("tooltip",e.description),w("ngClass",ot(8,nu,i.homeService.furniture[e.slot]===e)),y(3),De(e.slot),y(2),De($(7,6,e.name)),y(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),y(2),oe(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function y4(n,t){if(1&n&&(p(0,"div")(1,"span"),g(2,"Kitchen"),d(),j(3,"hr"),p(4,"div",2),E(5,v4,11,10,"div",3),d()()),2&n){const e=M();y(5),w("ngForOf",e.storeService.getFurnitureForSlot("kitchen"))}}function _4(n,t){if(1&n&&(p(0,"div"),g(1),L(2,"number"),d()),2&n){const e=M().$implicit,i=M(2);y(1),oe("$ ",yt(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function S4(n,t){if(1&n){const e=W();p(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),g(4),d()(),p(5,"div"),g(6),L(7,"titlecase"),d(),E(8,_4,3,4,"div",1),d(),p(9,"button",5),x("click",function(){const o=F(e).$implicit;return M(2).storeService.buyFurniture(o)}),g(10),d()()}if(2&n){const e=t.$implicit,i=M(2);y(1),ye("tooltip",e.description),w("ngClass",ot(8,nu,i.homeService.furniture[e.slot]===e)),y(3),De(e.slot),y(2),De($(7,6,e.name)),y(2),w("ngIf",i.storeService.furniturePrices[e.name]||!1),y(2),oe(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function b4(n,t){if(1&n&&(p(0,"div")(1,"span"),g(2,"Workbench"),d(),j(3,"hr"),p(4,"div",2),E(5,S4,11,10,"div",3),d()()),2&n){const e=M();y(5),w("ngForOf",e.storeService.getFurnitureForSlot("workbench"))}}let w4=(()=>{class n{constructor(e,i,r,o,s,a){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=s,this.gameStateService=a,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(b(Jo),b(Ve),b(lt),b(ee),b($n),b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-furniture-store-modal"]],decls:9,vars:4,consts:[[1,"darkMode","furnitureModal"],[4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["placement","left",1,"itemSlot",3,"ngClass","tooltip"],[3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"span"),g(2,"Furniture Shop"),d(),j(3,"hr")(4,"br"),E(5,d4,6,1,"div",1),E(6,m4,6,1,"div",1),E(7,y4,6,1,"div",1),E(8,b4,6,1,"div",1),d()),2&e&&(y(5),w("ngIf",i.storeService.getFurnitureForSlot("bed").length>0),y(1),w("ngIf",i.storeService.getFurnitureForSlot("bathtub").length>0),y(1),w("ngIf",i.storeService.getFurnitureForSlot("kitchen").length>0),y(1),w("ngIf",i.storeService.getFurnitureForSlot("workbench").length>0))},directives:[Dt,jt,$i,qt,Yt],pipes:[an,Oo],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow:hidden}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]}),n})();function C4(n,t){if(1&n&&(p(0,"div")(1,"div",7)(2,"div"),g(3),L(4,"titlecase"),d(),p(5,"div"),g(6),d(),p(7,"div"),g(8),L(9,"percent"),d()()()),2&n){const e=t.$implicit;y(1),vr("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),y(2),De($(4,5,e.cropName)),y(3),De(e.yield),y(2),De($(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let y1=(()=>{class n{constructor(e,i,r){this.homeService=e,this.characterService=i,this.gameStateService=r}clearClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.clearField(10):e.ctrlKey?this.homeService.clearField(-1):this.homeService.clearField()}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(lt),b(Ve),b(hi))},n.\u0275cmp=ke({type:n,selectors:[["app-farm-panel"]],decls:18,vars:10,consts:[[1,"darkMode"],[1,"yieldText"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3"),g(2,"Your Farm"),d(),j(3,"hr"),p(4,"div",1)(5,"span"),g(6),L(7,"bigNumber"),L(8,"bigNumber"),d(),p(9,"mat-icon",2),x("click",function(o){return i.buyClicked(o)}),L(10,"bigNumber"),g(11," add "),d(),p(12,"mat-icon",3),x("click",function(o){return i.plowClicked(o)}),g(13," waves "),d(),p(14,"mat-icon",4),x("click",function(o){return i.clearClicked(o)}),g(15," delete_sweep "),d()(),p(16,"div",5),E(17,C4,10,9,"div",6),d()()),2&e&&(y(6),Sn("Your ",$(7,4,i.homeService.fields.length+i.homeService.extraFields)," fields produced an average of ",$(8,6,i.homeService.averageYield)," food per day over the last year."),y(3),Ui("tooltip","Buy a plot of land for ",$(10,8,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),y(8),w("ngForOf",i.homeService.fields))},styles:[".itemSlot[_ngcontent-%COMP%]{width:42px;height:42px;padding:2px;line-height:12px}.farmGrid[_ngcontent-%COMP%]{width:670px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;gap:2px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function D4(n,t){1&n&&j(0,"div",19),2&n&&Ui("tooltip","You don't own a ",M().$implicit,", but your home could hold one.")}function M4(n,t){if(1&n&&(p(0,"div",20),g(1),L(2,"titlecase"),d()),2&n){const e=M().$implicit,i=M(2);ye("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),y(1),De($(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function k4(n,t){if(1&n&&(p(0,"div"),E(1,D4,1,1,"div",17),E(2,M4,3,4,"div",18),d()),2&n){const e=t.$implicit,i=M(2);y(1),w("ngIf",!i.homeService.furniture[e]),y(1),w("ngIf",i.homeService.furniture[e])}}function E4(n,t){if(1&n&&(p(0,"div",15),E(1,k4,3,2,"div",16),d()),2&n){const e=M();y(1),w("ngForOf",e.homeService.home.furnitureSlots)}}function x4(n,t){1&n&&(p(0,"div",15)(1,"span",21),g(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),d()())}function T4(n,t){if(1&n){const e=W();p(0,"mat-icon",9),x("click",function(){return F(e),M().homeService.upgradeToNextHome()}),g(1," add_business "),d()}2&n&&ye("tooltip",M().homeService.nextHome.upgradeToTooltip)}function A4(n,t){if(1&n){const e=W();p(0,"mat-icon",22),x("click",function(){return F(e),M().storeClicked()}),g(1," shopping_cart "),d()}}function P4(n,t){if(1&n&&(p(0,"div",23),j(1,"span"),d()),2&n){const e=M();y(1),Bn("width",100*e.homeService.houseBuildingProgress,"%")}}let _1=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.homeService=i,this.dialog=r,this.storeService=o,this.character=e.characterState}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(w4,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(y1,{width:"800px",data:{someField:"foo"}})}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(b(Ve),b(lt),b(Ko),b(Jo))},n.\u0275cmp=ke({type:n,selectors:[["app-home-panel"]],decls:30,vars:19,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"overflow"],[1,"homeInfo"],["class","furnitureSlots",4,"ngIf"],[1,"buttons"],[1,"button-group"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","progress-bar","tooltip","Upgrading your home.",4,"ngIf"],["tooltip","View your farm.",1,"iconButton",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton",3,"click"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],["class","itemSlot textOverflow",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"itemSlot","textOverflow",3,"tooltip"],[1,"mouseWarning"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"progress-bar"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"mat-icon",2),g(3,"home"),d(),p(4,"div",3),g(5),d()(),p(6,"div",4)(7,"div",5)(8,"span"),g(9),d()(),p(10,"div",5)(11,"span"),g(12),L(13,"bigNumber"),L(14,"bigNumber"),d()(),E(15,E4,2,1,"div",6),E(16,x4,3,0,"div",6),d(),p(17,"div",7)(18,"div",8)(19,"mat-icon",9),x("click",function(o){return i.buyClicked(o)}),L(20,"bigNumber"),g(21," add "),d(),E(22,T4,2,1,"mat-icon",10),E(23,A4,2,0,"mat-icon",11),E(24,P4,2,2,"div",12),d(),p(25,"div",8)(26,"mat-icon",13),x("click",function(){return i.farmClicked()}),g(27,"grass"),d(),p(28,"mat-icon",14),x("click",function(o){return i.plowClicked(o)}),g(29," waves "),d()()()()),2&e&&(y(4),ye("tooltip",i.homeService.home.description),y(1),oe(" You live in a ",i.homeService.home.name," "),y(4),Sn("It costs ",i.homeService.home.costPerDay," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),y(3),Sl("You own ",$(13,13,i.homeService.land)," open ",1===i.homeService.land?"plot":"plots"," of land and ",$(14,15,i.homeService.fields.length+i.homeService.extraFields)," fields"),y(3),w("ngIf",i.homeService.home.furnitureSlots.length>0),y(1),w("ngIf",0===i.homeService.home.furnitureSlots.length),y(3),Ui("tooltip","Buy a plot of land for ",$(20,17,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),y(3),w("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),y(1),w("ngIf",i.homeService.home.furnitureSlots.length),y(1),w("ngIf",i.homeService.upgrading))},styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{width:50px;height:50px}.progress-bar[_ngcontent-%COMP%]{width:100px;margin-left:4px}.overflow[_ngcontent-%COMP%]{overflow:auto}.panelHeader[_ngcontent-%COMP%]{display:flex;gap:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function I4(n,t){1&n&&(p(0,"mat-icon",10),g(1," soup_kitchen "),d())}function O4(n,t){if(1&n&&(p(0,"div",14),g(1),d()),2&n){const e=M().$implicit;y(1),oe("x",null==e?null:e.quantity,"")}}const R4=function(n,t){return{selectedItem:n,brokenItem:t}};function F4(n,t){if(1&n){const e=W();p(0,"div",11),x("mousedown",function(r){const s=F(e).$implicit;return M().slotClicked(s,r)})("dblclick",function(r){const s=F(e).$implicit;return M().slotDoubleClicked(s,r)})("contextmenu",function(r){const s=F(e).$implicit;return M().slotRightClicked(s,r)})("dragover",function(r){return F(e),M().allowDrop(r)})("drop",function(r){const s=F(e).index;return M().drop(s,r)})("dragstart",function(r){const s=F(e).index;return M().drag(s,r)}),L(1,"titlecase"),p(2,"div",12),g(3),L(4,"titlecase"),d(),E(5,O4,2,1,"div",13),d()}if(2&n){const e=t.$implicit,i=M();ye("tooltip",null!==(null==e?null:e.item)?$(1,4,null==e||null==e.item?null:e.item.name)+"<hr/>"+(null==e||null==e.item?null:e.item.description):""),w("ngClass",bd(8,R4,null!==e&&e===i.inventoryService.selectedItem,null!==e&&!i.inventoryService.hasDurability(e))),y(3),De($(4,6,null==e||null==e.item?null:e.item.name)),y(2),w("ngIf",((null==e?null:e.quantity)||0)>1)}}function L4(n,t){if(1&n){const e=W();p(0,"mat-icon",23),x("click",function(){return F(e),M(2).autoSell()}),g(1," currency_exchange "),d()}}function N4(n,t){if(1&n){const e=W();p(0,"mat-icon",16),x("click",function(){return F(e),M(2).use()}),g(1," auto_awesome "),d()}if(2&n){const e=M(2);vr("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function B4(n,t){if(1&n){const e=W();p(0,"mat-icon",16),x("click",function(){return F(e),M(2).autoUse()}),g(1," auto_mode "),d()}if(2&n){const e=M(2);vr("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function V4(n,t){if(1&n){const e=W();p(0,"mat-icon",24),x("click",function(){return F(e),M(2).autoBalance()}),g(1," balance "),d()}}function H4(n,t){if(1&n){const e=W();p(0,"mat-icon",25),x("click",function(){return F(e),M(2).equip()}),g(1," shield "),d()}}function j4(n,t){if(1&n){const e=W();p(0,"mat-icon",26),x("click",function(){return F(e),M(2).mergeSpiritGem()}),g(1," diamond "),d()}}function U4(n,t){if(1&n){const e=W();p(0,"div",15)(1,"mat-icon",16),x("click",function(){return F(e),M().sell(1)}),g(2," attach_money "),d(),p(3,"mat-icon",16),x("click",function(){return F(e),M().sellStack()}),g(4," paid "),d(),p(5,"mat-icon",16),x("click",function(){return F(e),M().sellAll()}),g(6," shopping_basket "),d(),E(7,L4,2,0,"mat-icon",17),E(8,N4,2,2,"mat-icon",18),E(9,B4,2,2,"mat-icon",19),E(10,V4,2,0,"mat-icon",20),E(11,H4,2,0,"mat-icon",21),E(12,j4,2,0,"mat-icon",22),d()}if(2&n){const e=M();y(1),vr("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell."),y(2),vr("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack."),y(2),Ui("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in the whole inventory."),y(2),w("ngIf",e.inventoryService.autoSellUnlocked),y(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),y(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),y(1),w("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked),y(1),w("ngIf","equipment"===e.inventoryService.selectedItem.item.type),y(1),w("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}let S1=(()=>{class n{constructor(e,i){this.inventoryService=e,this.characterService=i,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}slotClicked(e,i){if(i.stopPropagation(),i.shiftKey){let r=null;r!==e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem===e?null:e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0===this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,s,a;if(i.preventDefault(),"inventory"===(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){const l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c===e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){const u=this.inventoryService.itemStacks[c],h=this.inventoryService.itemStacks[e],f=null==u?void 0:u.item,m=null==h?void 0:h.item;if(f&&m&&Ki(f)&&Ki(m)&&f.slot===m.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(f,m,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=h}}else if("equipment"===(null===(s=i.dataTransfer)||void 0===s?void 0:s.types[0])){const l=(null===(a=i.dataTransfer)||void 0===a?void 0:a.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(b(ee),b(Ve))},n.\u0275cmp=ke({type:n,selectors:[["app-inventory-panel"]],decls:15,vars:6,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyColumn"],["class","noFood","placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",4,"ngIf"],[1,"overflow"],[1,"inventoryGrid"],["class","itemSlot","draggable","true","placement","bottom",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["placement","left","tooltip","You have no food in your inventory. You will spend money on food each day to avoid starvation.",1,"noFood"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart"],[1,"itemName","textOverflow"],["class","itemQuantity",4,"ngIf"],[1,"itemQuantity"],[1,"inventoryButtons"],["placement","left",1,"iconButton",3,"tooltip","click"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"div",2),g(3,"Inventory"),d(),p(4,"div",3),g(5,"Money: "),d(),p(6,"div",4),g(7),L(8,"bigNumber"),d(),p(9,"div"),E(10,I4,2,0,"mat-icon",5),d()(),p(11,"div",6)(12,"div",7),E(13,F4,6,11,"div",8),d()(),E(14,U4,13,11,"div",9),d()),2&e&&(y(7),oe("",$(8,4,i.characterService.characterState.money)," Taels"),y(3),w("ngIf",i.inventoryService.noFood),y(3),w("ngForOf",i.inventoryService.itemStacks),y(1),w("ngIf",i.inventoryService.selectedItem))},styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;justify-content:center;gap:3px}.itemSlot[_ngcontent-%COMP%]{width:58px;height:58px;overflow:hidden;position:relative}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryButtons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder)}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.panelHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function q4(n,t){if(1&n&&(Co(0),p(1,"div",15),g(2),d(),Do()),2&n){const e=t.$implicit;y(1),w("ngClass",e.type),y(1),oe(" ",e.message," ")}}let $4=(()=>{class n{constructor(e){this.logService=e}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(b(kn))},n.\u0275cmp=ke({type:n,selectors:[["app-log-panel"]],decls:23,vars:9,consts:[[1,"log"],[1,"panelHeader"],[1,"headerNote"],[1,"filters"],["type","checkbox","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCrafting",3,"checked","change"],["for","filterCrafting"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],[1,"logBox"],[4,"ngFor","ngForOf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(p(0,"div",0)(1,"h3",1)(2,"span"),g(3,"Log"),d(),p(4,"span",2),g(5,"Newest messages appear at the top, so read from the bottom up."),d(),p(6,"span",3)(7,"input",4),x("change",function(o){return i.topicFilter(o,"STORY")}),d(),p(8,"label",5),g(9,"Show Story Messages "),p(10,"span",6),g(11),d()(),p(12,"input",7),x("change",function(o){return i.topicFilter(o,"EVENT")}),d(),p(13,"label",8),g(14),d(),p(15,"input",9),x("change",function(o){return i.topicFilter(o,"CRAFTING")}),d(),p(16,"label",10),g(17),d(),p(18,"input",11),x("change",function(o){return i.topicFilter(o,"COMBAT")}),d(),p(19,"label",12),g(20),d()()(),p(21,"div",13),E(22,q4,3,2,"ng-container",14),d()()),2&e&&(y(7),w("checked",i.logService.logTopics.includes("STORY")),y(4),De(i.logService.newStory),y(1),w("checked",i.logService.logTopics.includes("EVENT")),y(2),oe("Show Event Messages ",i.logService.newEvents,""),y(1),w("checked",i.logService.logTopics.includes("CRAFTING")),y(2),oe("Show Crafting Messages ",i.logService.newCrafting,""),y(1),w("checked",i.logService.logTopics.includes("COMBAT")),y(2),oe("Show Combat Messages ",i.logService.newCombat,""),y(2),w("ngForOf",i.logService.currentLog))},directives:[jt,$i],styles:[".log[_ngcontent-%COMP%]{flex-direction:column;width:100%;display:flex}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBox[_ngcontent-%COMP%]{overflow:auto;flex:1 1 auto;width:100%}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap;flex:0 1 auto}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();function z4(n,t){if(1&n){const e=W();p(0,"mat-icon",45),x("click",function(){return F(e),M().impossibleTasksClicked()}),g(1," priority_high "),d()}}function G4(n,t){if(1&n){const e=W();p(0,"span")(1,"mat-icon",46),x("click",function(){return F(e),M().ascensionStoreClicked()}),g(2," keyboard_double_arrow_up "),d()()}}function W4(n,t){if(1&n&&j(0,"app-vertical-panel-slider",41),2&n){M();const e=Bt(38),i=Bt(41);w("top",e)("bottom",i)}}function Y4(n,t){if(1&n&&j(0,"app-vertical-panel-slider",41),2&n){M();const e=Bt(41),i=Bt(44);w("top",e)("bottom",i)}}function K4(n,t){if(1&n&&j(0,"app-vertical-panel-slider",41),2&n){M();const e=Bt(47),i=Bt(50);w("top",e)("bottom",i)}}function J4(n,t){if(1&n&&j(0,"app-vertical-panel-slider",41),2&n){M();const e=Bt(53),i=Bt(56);w("top",e)("bottom",i)}}function Z4(n,t){if(1&n&&j(0,"app-vertical-panel-slider",41),2&n){M();const e=Bt(56),i=Bt(59);w("top",e)("bottom",i)}}const X4=function(n){return{darkMode:n}};let Q4=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bt({name:"floor",type:n,pure:!0}),n})(),e5=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bt({name:"camelToTitle",type:n,pure:!0}),n})(),ir=(()=>{class n{transform(e){return e<1e4?si(e,"en-US","1.0-0"):e<1e6?si(e/1e3,"en-US","1.0-2")+"K":e<1e9?si(e/1e6,"en-US","1.0-2")+"M":e<1e12?si(e/1e9,"en-US","1.0-2")+"B":e<1e15?si(e/1e12,"en-US","1.0-2")+"T":e<1e18?si(e/1e15,"en-US","1.0-2")+"q":si(e/1e18,"en-US","1.0-2")+"Q"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=bt({name:"bigNumber",type:n,pure:!0}),n})(),t5=(()=>{class n{constructor(e,i,r,o,s,a){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=s,this.dialog=a,this.title="immortalityidle",this.applicationVersion=d1.appVersion,this.activateSliders=!1}handleKeyboardEvent(e){"Space"===e.code?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):("Enter"===e.code||"NumpadEnter"===e.code)&&this.mainLoopService.pause&&(this.mainLoopService.tick(),e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),this.gameStateService.savetoLocalStorage()}exportClicked(){this.dialog.open(cU,{width:"700px",data:{someField:"foo"}})}storeClicked(){this.dialog.open(VC,{width:"700px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(vj,{width:"700px",data:{someField:"foo"}})}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open(Mj,{width:"700px",data:{someField:"foo"}})}tutorialClicked(){this.dialog.open(uU,{width:"700px",data:{someField:"foo"}})}changelogClicked(){this.dialog.open(hU,{width:"700px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(Fj,{width:"750px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(lU,{width:"500px",data:{someField:"foo"}})}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}}return n.\u0275fac=function(e){return new(e||n)(b(un),b(hi),b(Jo),b(Ve),b(qo),b(Ko))},n.\u0275cmp=ke({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&x("keydown",function(o){return i.handleKeyboardEvent(o)},!1,sv)},decls:64,vars:15,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused? Click here.",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip","Autosaves fire every couple of minutes, but sometimes an immortal needs to save right now.",1,"iconButton",3,"click"],["type","checkbox","id","darkMode",3,"checked","change"],["for","darkMode"],["tooltip","Import or export your save game file. Sometimes immortals need a different browser.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","tooltip","Have questions? Try the Immortality Idle Discord."],[1,"bodyContainer"],["appResizable","",1,"panelContainer"],["panelContainer","appResizable"],[1,"leftPanel"],["appResizable","",1,"timePanel","panel"],["timePanel","appResizable"],[3,"top","bottom",4,"ngIf"],["appResizable","",1,"attributesPanel","panel"],["attributesPanel","appResizable"],["appResizable","",1,"healthPanel","panel"],["healthPanel","appResizable"],[1,"centerPanel"],["appResizable","",1,"activityPanel","panel"],["activityPanel","appResizable"],["appResizable","",1,"battlePanel","panel"],["battlePanel","appResizable"],[1,"rightPanel"],["appResizable","",1,"equipmentPanel","panel"],["equipmentPanel","appResizable"],["appResizable","",1,"homePanel","panel"],["homePanel","appResizable"],["appResizable","",1,"inventoryPanel","panel"],["inventoryPanel","appResizable"],[3,"top","bottom"],["appResizable","",1,"logContainer"],["logContainer","appResizable"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.",1,"iconButton",3,"click"]],template:function(e,i){if(1&e&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),g(4),p(5,"span",4),x("click",function(){return i.changelogClicked()}),g(6),d()(),p(7,"mat-icon",5),x("click",function(){return i.tutorialClicked()}),g(8," help "),d(),p(9,"span")(10,"mat-icon",6),x("click",function(){return i.storeClicked()}),g(11," local_library "),d(),p(12,"mat-icon",7),x("click",function(){return i.storeOptionsClicked()}),g(13," settings "),d()(),p(14,"mat-icon",8),x("click",function(){return i.achievementsClicked()}),g(15," military_tech "),d(),E(16,z4,2,0,"mat-icon",9),E(17,G4,3,0,"span",10),p(18,"span")(19,"a",11),x("click",function(o){return i.rebirthClicked(o)}),g(20,"Reincarnate"),d()(),p(21,"mat-icon",12),x("click",function(o){return i.saveClicked(o)}),g(22," save "),d(),p(23,"span")(24,"input",13),x("change",function(){return i.darkModeToggle()}),d(),p(25,"label",14),g(26,"Dark Mode"),d()(),p(27,"mat-icon",15),x("click",function(){return i.exportClicked()}),g(28," upload "),d(),p(29,"a",16),x("click",function(o){return i.hardResetClicked(o)}),g(30,"Hard Reset"),d(),p(31,"a",17),g(32,"Discord"),d()(),p(33,"div",18)(34,"div",19,20)(36,"div",21),j(37,"app-time-panel",22,23),E(39,W4,1,2,"app-vertical-panel-slider",24),j(40,"app-attributes-panel",25,26),E(42,Y4,1,2,"app-vertical-panel-slider",24),j(43,"app-health-panel",27,28),d(),p(45,"div",29),j(46,"app-activity-panel",30,31),E(48,K4,1,2,"app-vertical-panel-slider",24),j(49,"app-battle-panel",32,33),d(),p(51,"div",34),j(52,"app-equipment-panel",35,36),E(54,J4,1,2,"app-vertical-panel-slider",24),j(55,"app-home-panel",37,38),E(57,Z4,1,2,"app-vertical-panel-slider",24),j(58,"app-inventory-panel",39,40),d()(),j(60,"app-vertical-panel-slider",41),p(61,"div",42,43),j(63,"app-log-panel",44),d()()()()),2&e){const r=Bt(35),o=Bt(62);w("ngClass",ot(13,X4,i.gameStateService.isDarkMode)),y(4),oe(" Immortality Idle - ",i.characterService.characterState.immortal?"You are Immortal!":"Can you become an immortal?"," "),y(2),De(i.gameStateService.isExperimental?"Experimental":"v"+i.applicationVersion),y(10),w("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),y(1),w("ngIf",i.characterService.characterState.ascensionUnlocked),y(7),w("checked",i.gameStateService.isDarkMode),y(15),w("ngIf",i.activateSliders),y(3),w("ngIf",i.activateSliders),y(6),w("ngIf",i.activateSliders),y(6),w("ngIf",i.activateSliders),y(3),w("ngIf",i.activateSliders),y(3),w("top",r)("bottom",o)}},directives:[$i,Yt,qt,Dt,dU,EU,TU,f1,p1,m1,g1,v1,_1,S1,$4],styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}"]}),n})();const n5=[NC,h1];let r5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=it({type:n,bootstrap:[t5]}),n.\u0275inj=Ke({providers:[an],imports:[[qS,HN,VH,Q3,pf,Pj.forRoot({"show-delay":500,hideDelay:50,hideDelayAfterClick:50}),...n5],NC,h1]}),n})();Gn(f1,[Yt,qt,jt,Dt],[hf,ir,Oo,e5,an]),Gn(p1,[Dt,Yt,qt],[Q4,Oo]),Gn(_1,[Yt,qt,Dt,jt],[ir,an]),Gn(S1,[Dt,Yt,qt,jt,$i],[ir,an]),Gn(m1,[Yt,qt,jt,Dt],[ir]),Gn(v1,[$i,qt,Yt],[an,Gl,ir]),Gn(VC,[jt,$i,qt,Yt,Dt],[an,ir]),Gn(g1,[Yt,qt,Dt,jt],[an,ir,Gl]),Gn(y1,[Yt,qt,jt],[ir,an,Gl]),d1.production&&function eO(){nS=!1}(),cF().bootstrapModule(r5).catch(n=>console.error(n))},147:ts=>{ts.exports={i8:"1.0.48"}}},ts=>{ts(ts.s=14)}]);