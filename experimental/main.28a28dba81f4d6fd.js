"use strict";(self.webpackChunkimmortalityidle=self.webpackChunkimmortalityidle||[]).push([[179],{498:(wa,Gm,Wm)=>{function xe(n){return"function"==typeof n}function Hu(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Vu=Hu(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function Xs(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ke{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(xe(i))try{i()}catch(o){t=o instanceof Vu?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Qm(o)}catch(a){t=null!=t?t:[],a instanceof Vu?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Vu(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Qm(t);else{if(t instanceof Ke){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&Xs(e,t)}remove(t){const{_finalizers:e}=this;e&&Xs(e,t),t instanceof Ke&&t._removeParent(this)}}Ke.EMPTY=(()=>{const n=new Ke;return n.closed=!0,n})();const Km=Ke.EMPTY;function Jm(n){return n instanceof Ke||n&&"closed"in n&&xe(n.remove)&&xe(n.add)&&xe(n.unsubscribe)}function Qm(n){xe(n)?n():n.unsubscribe()}const yr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},el={setTimeout(n,t,...e){const{delegate:i}=el;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=el;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function Zm(n){el.setTimeout(()=>{const{onUnhandledError:t}=yr;if(!t)throw n;t(n)})}function Uu(){}const uM=ju("C",void 0,void 0);function ju(n,t,e){return{kind:n,value:t,error:e}}let _r=null;function tl(n){if(yr.useDeprecatedSynchronousErrorHandling){const t=!_r;if(t&&(_r={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=_r;if(_r=null,e)throw i}}else n()}class qu extends Ke{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jm(t)&&t.add(this)):this.destination=vM}static create(t,e,i){return new nl(t,e,i)}next(t){this.isStopped?Yu(function dM(n){return ju("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Yu(function hM(n){return ju("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Yu(uM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pM=Function.prototype.bind;function zu(n,t){return pM.call(n,t)}class mM{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){il(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){il(i)}else il(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){il(e)}}}class nl extends qu{constructor(t,e,i){let r;if(super(),xe(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&yr.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&zu(t.next,o),error:t.error&&zu(t.error,o),complete:t.complete&&zu(t.complete,o)}):r=t}this.destination=new mM(r)}}function il(n){yr.useDeprecatedSynchronousErrorHandling?function fM(n){yr.useDeprecatedSynchronousErrorHandling&&_r&&(_r.errorThrown=!0,_r.error=n)}(n):Zm(n)}function Yu(n,t){const{onStoppedNotification:e}=yr;e&&el.setTimeout(()=>e(n,t))}const vM={closed:!0,next:Uu,error:function gM(n){throw n},complete:Uu},$u="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ji(n){return n}let ze=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function _M(n){return n&&n instanceof qu||function yM(n){return n&&xe(n.next)&&xe(n.error)&&xe(n.complete)}(n)&&Jm(n)}(e)?e:new nl(e,i,r);return tl(()=>{const{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=eg(i))((r,o)=>{const a=new nl({next:s=>{try{e(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[$u](){return this}pipe(...e){return function Xm(n){return 0===n.length?Ji:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=eg(e))((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return n.create=t=>new n(t),n})();function eg(n){var t;return null!==(t=null!=n?n:yr.Promise)&&void 0!==t?t:Promise}const bM=Hu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ae=(()=>{class n extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new tg(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new bM}next(e){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){tl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?Km:(this.currentObservers=null,o.push(e),new Ke(()=>{this.currentObservers=null,Xs(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new ze;return e.source=this,e}}return n.create=(t,e)=>new tg(t,e),n})();class tg extends ae{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:Km}}function ng(n){return xe(null==n?void 0:n.lift)}function it(n){return t=>{if(ng(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Je(n,t,e,i,r){return new SM(n,t,e,i,r)}class SM extends qu{constructor(t,e,i,r,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=e?function(s){try{e(s)}catch(l){t.error(l)}}:super._next,this._error=r?function(s){try{r(s)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function de(n,t){return it((e,i)=>{let r=0;e.subscribe(Je(i,o=>{i.next(n.call(t,o,r++))}))})}function br(n){return this instanceof br?(this.v=n,this):new br(n)}function kM(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(m){i[m]&&(r[m]=function(v){return new Promise(function(y,w){o.push([m,v,y,w])>1||s(m,v)})})}function s(m,v){try{!function l(m){m.value instanceof br?Promise.resolve(m.value.v).then(c,u):f(o[0][2],m)}(i[m](v))}catch(y){f(o[0][3],y)}}function c(m){s("next",m)}function u(m){s("throw",m)}function f(m,v){m(v),o.shift(),o.length&&s(o[0][0],o[0][1])}}function MM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function og(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(a){return new Promise(function(s,l){!function r(o,a,s,l){Promise.resolve(l).then(function(c){o({value:c,done:s})},a)}(s,l,(a=n[o](a)).done,a.value)})}}}const Wu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function ag(n){return xe(null==n?void 0:n.then)}function sg(n){return xe(n[$u])}function lg(n){return Symbol.asyncIterator&&xe(null==n?void 0:n[Symbol.asyncIterator])}function cg(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ug=function xM(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hg(n){return xe(null==n?void 0:n[ug])}function dg(n){return kM(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield br(e.read());if(r)return yield br(void 0);yield yield br(i)}}finally{e.releaseLock()}})}function fg(n){return xe(null==n?void 0:n.getReader)}function mn(n){if(n instanceof ze)return n;if(null!=n){if(sg(n))return function TM(n){return new ze(t=>{const e=n[$u]();if(xe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Wu(n))return function EM(n){return new ze(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(ag(n))return function AM(n){return new ze(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Zm)})}(n);if(lg(n))return pg(n);if(hg(n))return function PM(n){return new ze(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(fg(n))return function IM(n){return pg(dg(n))}(n)}throw cg(n)}function pg(n){return new ze(t=>{(function OM(n,t){var e,i,r,o;return function wM(n,t,e,i){return new(e||(e=Promise))(function(o,a){function s(u){try{c(i.next(u))}catch(f){a(f)}}function l(u){try{c(i.throw(u))}catch(f){a(f)}}function c(u){u.done?o(u.value):function r(o){return o instanceof e?o:new e(function(a){a(o)})}(u.value).then(s,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=MM(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function xi(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function vt(n,t,e=1/0){return xe(t)?vt((i,r)=>de((o,a)=>t(i,o,r,a))(mn(n(i,r))),e):("number"==typeof t&&(e=t),it((i,r)=>function RM(n,t,e,i,r,o,a,s){const l=[];let c=0,u=0,f=!1;const m=()=>{f&&!l.length&&!c&&t.complete()},v=w=>c<i?y(w):l.push(w),y=w=>{o&&t.next(w),c++;let D=!1;mn(e(w,u++)).subscribe(Je(t,T=>{null==r||r(T),o?v(T):t.next(T)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<i;){const T=l.shift();a?xi(t,a,()=>y(T)):y(T)}m()}catch(T){t.error(T)}}))};return n.subscribe(Je(t,v,()=>{f=!0,m()})),()=>{null==s||s()}}(i,r,n,e)))}function Ca(n=1/0){return vt(Ji,n)}const Ti=new ze(n=>n.complete());function mg(n){return n&&xe(n.schedule)}function Ku(n){return n[n.length-1]}function gg(n){return xe(Ku(n))?n.pop():void 0}function ka(n){return mg(Ku(n))?n.pop():void 0}function vg(n,t=0){return it((e,i)=>{e.subscribe(Je(i,r=>xi(i,n,()=>i.next(r),t),()=>xi(i,n,()=>i.complete(),t),r=>xi(i,n,()=>i.error(r),t)))})}function yg(n,t=0){return it((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function _g(n,t){if(!n)throw new Error("Iterable cannot be null");return new ze(e=>{xi(e,t,()=>{const i=n[Symbol.asyncIterator]();xi(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Mt(n,t){return t?function jM(n,t){if(null!=n){if(sg(n))return function NM(n,t){return mn(n).pipe(yg(t),vg(t))}(n,t);if(Wu(n))return function HM(n,t){return new ze(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(ag(n))return function BM(n,t){return mn(n).pipe(yg(t),vg(t))}(n,t);if(lg(n))return _g(n,t);if(hg(n))return function VM(n,t){return new ze(e=>{let i;return xi(e,t,()=>{i=n[ug](),xi(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){return void e.error(a)}o?e.complete():e.next(r)},0,!0)}),()=>xe(null==i?void 0:i.return)&&i.return()})}(n,t);if(fg(n))return function UM(n,t){return _g(dg(n),t)}(n,t)}throw cg(n)}(n,t):mn(n)}function Ma(...n){const t=ka(n),e=function LM(n,t){return"number"==typeof Ku(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?mn(i[0]):Ca(e)(Mt(i,t)):Ti}function on(n){return n<=0?()=>Ti:it((t,e)=>{let i=0;t.subscribe(Je(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function bg(n={}){const{connector:t=(()=>new ae),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let a=null,s=null,l=null,c=0,u=!1,f=!1;const m=()=>{null==s||s.unsubscribe(),s=null},v=()=>{m(),a=l=null,u=f=!1},y=()=>{const w=a;v(),null==w||w.unsubscribe()};return it((w,D)=>{c++,!f&&!u&&m();const T=l=null!=l?l:t();D.add(()=>{c--,0===c&&!f&&!u&&(s=Ju(y,r))}),T.subscribe(D),a||(a=new nl({next:k=>T.next(k),error:k=>{f=!0,m(),s=Ju(v,e,k),T.error(k)},complete:()=>{u=!0,m(),s=Ju(v,i),T.complete()}}),Mt(w).subscribe(a))})(o)}}function Ju(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe(on(1)).subscribe(()=>n())}function Re(n){for(let t in n)if(n[t]===Re)return t;throw Error("Could not find renamed property on target object.")}function Qu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Pe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Zu(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const qM=Re({__forward_ref__:Re});function Fe(n){return n.__forward_ref__=Fe,n.toString=function(){return Pe(this())},n}function se(n){return Sg(n)?n():n}function Sg(n){return"function"==typeof n&&n.hasOwnProperty(qM)&&n.__forward_ref__===Fe}class z extends Error{constructor(t,e){super(function Xu(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Yt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}function rl(n,t){const e=t?` in ${t}`:"";throw new z(-201,`No provider for ${Yt(n)} found${e}`)}function vn(n,t){null==n&&function Ye(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function R(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Le(n){return{providers:n.providers||[],imports:n.imports||[]}}function eh(n){return wg(n,ol)||wg(n,kg)}function wg(n,t){return n.hasOwnProperty(t)?n[t]:null}function Cg(n){return n&&(n.hasOwnProperty(th)||n.hasOwnProperty(JM))?n[th]:null}const ol=Re({\u0275prov:Re}),th=Re({\u0275inj:Re}),kg=Re({ngInjectableDef:Re}),JM=Re({ngInjectorDef:Re});var te=(()=>((te=te||{})[te.Default=0]="Default",te[te.Host=1]="Host",te[te.Self=2]="Self",te[te.SkipSelf=4]="SkipSelf",te[te.Optional=8]="Optional",te))();let nh;function Qi(n){const t=nh;return nh=n,t}function Mg(n,t,e){const i=eh(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&te.Optional?null:void 0!==t?t:void rl(Pe(n),"Injector")}function Zi(n){return{toString:n}.toString()}var Gn=(()=>((Gn=Gn||{})[Gn.OnPush=0]="OnPush",Gn[Gn.Default=1]="Default",Gn))(),Wn=(()=>{return(n=Wn||(Wn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Wn;var n})();const ZM="undefined"!=typeof globalThis&&globalThis,XM="undefined"!=typeof window&&window,eD="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Oe=ZM||"undefined"!=typeof global&&global||XM||eD,so={},Ne=[],al=Re({\u0275cmp:Re}),ih=Re({\u0275dir:Re}),rh=Re({\u0275pipe:Re}),Dg=Re({\u0275mod:Re}),Ai=Re({\u0275fac:Re}),Da=Re({__NG_ELEMENT_ID__:Re});let tD=0;function le(n){return Zi(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ne,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Wn.Emulated,id:"c",styles:n.styles||Ne,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,a=n.pipes;return i.id+=tD++,i.inputs=Ag(n.inputs,e),i.outputs=Ag(n.outputs),o&&o.forEach(s=>s(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(xg):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Tg):null,i})}function xa(n,t,e){const i=n.\u0275cmp;i.directiveDefs=()=>t.map(xg),i.pipeDefs=()=>e.map(Tg)}function xg(n){return Bt(n)||function Xi(n){return n[ih]||null}(n)}function Tg(n){return function Sr(n){return n[rh]||null}(n)}const Eg={};function He(n){return Zi(()=>{const t={type:n.type,bootstrap:n.bootstrap||Ne,declarations:n.declarations||Ne,imports:n.imports||Ne,exports:n.exports||Ne,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Eg[n.id]=n.type),t})}function Ag(n,t){if(null==n)return so;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const $=le;function At(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bt(n){return n[al]||null}function Pn(n,t){const e=n[Dg]||null;if(!e&&!0===t)throw new Error(`Type ${Pe(n)} does not have '\u0275mod' property.`);return e}function li(n){return Array.isArray(n)&&"object"==typeof n[1]}function Jn(n){return Array.isArray(n)&&!0===n[1]}function sh(n){return 0!=(8&n.flags)}function ul(n){return 2==(2&n.flags)}function hl(n){return 1==(1&n.flags)}function Qn(n){return null!==n.template}function aD(n){return 0!=(512&n[2])}function Mr(n,t){return n.hasOwnProperty(Ai)?n[Ai]:null}class cD{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function sn(){return Ig}function Ig(n){return n.type.prototype.ngOnChanges&&(n.setInput=hD),uD}function uD(){const n=Rg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===so)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function hD(n,t,e,i){const r=Rg(n)||function dD(n,t){return n[Og]=t}(n,{previous:so,current:null}),o=r.current||(r.current={}),a=r.previous,s=this.declaredInputs[e],l=a[s];o[s]=new cD(l&&l.currentValue,t,a===so),n[i]=t}sn.ngInherit=!0;const Og="__ngSimpleChanges__";function Rg(n){return n[Og]||null}let dh;function fh(){return void 0!==dh?dh:"undefined"!=typeof document?document:void 0}function et(n){return!!n.listen}const Fg={createRenderer:(n,t)=>fh()};function ht(n){for(;Array.isArray(n);)n=n[0];return n}function dl(n,t){return ht(t[n])}function Rn(n,t){return ht(t[n.index])}function ph(n,t){return n.data[t]}function fo(n,t){return n[t]}function _n(n,t){const e=t[n];return li(e)?e:e[0]}function Lg(n){return 4==(4&n[2])}function mh(n){return 128==(128&n[2])}function er(n,t){return null==t?null:n[t]}function Ng(n){n[18]=0}function gh(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ne={lFrame:Yg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Bg(){return ne.bindingsEnabled}function P(){return ne.lFrame.lView}function ke(){return ne.lFrame.tView}function I(n){return ne.lFrame.contextLView=n,n[8]}function yt(){let n=Hg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Hg(){return ne.lFrame.currentTNode}function ci(n,t){const e=ne.lFrame;e.currentTNode=n,e.isParent=t}function vh(){return ne.lFrame.isParent}function yh(){ne.lFrame.isParent=!1}function fl(){return ne.isInCheckNoChangesMode}function pl(n){ne.isInCheckNoChangesMode=n}function $t(){const n=ne.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Pi(){return ne.lFrame.bindingIndex}function po(){return ne.lFrame.bindingIndex++}function Ii(n){const t=ne.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function ED(n,t){const e=ne.lFrame;e.bindingIndex=e.bindingRootIndex=n,_h(t)}function _h(n){ne.lFrame.currentDirectiveIndex=n}function bh(n){const t=ne.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}function jg(){return ne.lFrame.currentQueryIndex}function Sh(n){ne.lFrame.currentQueryIndex=n}function PD(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function qg(n,t,e){if(e&te.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&te.Host||(r=PD(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=ne.lFrame=zg();return i.currentTNode=t,i.lView=n,!0}function ml(n){const t=zg(),e=n[1];ne.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function zg(){const n=ne.lFrame,t=null===n?null:n.child;return null===t?Yg(n):t}function Yg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function $g(){const n=ne.lFrame;return ne.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gg=$g;function gl(){const n=$g();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Gt(){return ne.lFrame.selectedIndex}function tr(n){ne.lFrame.selectedIndex=n}function tt(){const n=ne.lFrame;return ph(n.tView,n.selectedIndex)}function vl(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;a&&(n.contentHooks||(n.contentHooks=[])).push(-e,a),s&&((n.contentHooks||(n.contentHooks=[])).push(e,s),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,s)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(e,u)}}function yl(n,t,e){Kg(n,t,3,e)}function _l(n,t,e,i){(3&n[2])===e&&Kg(n,t,e,i)}function wh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Kg(n,t,e,i){const o=null!=i?i:-1,a=t.length-1;let s=0;for(let l=void 0!==i?65535&n[18]:0;l<a;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=i&&s>=i)break}else t[l]<0&&(n[18]+=65536),(s<o||-1==o)&&(HD(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function HD(n,t,e,i){const r=e[i]<0,o=e[i+1],s=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}class Ia{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function bl(n,t,e){const i=et(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const a=e[r++],s=e[r++],l=e[r++];i?n.setAttribute(t,s,l,a):t.setAttributeNS(a,s,l)}else{const a=o,s=e[++r];kh(a)?i&&n.setProperty(t,a,s):i?n.setAttribute(t,a,s):t.setAttribute(a,s),r++}}return r}function Jg(n){return 3===n||4===n||6===n}function kh(n){return 64===n.charCodeAt(0)}function Sl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Qg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Qg(n,t,e,i,r){let o=0,a=n.length;if(-1===t)a=-1;else for(;o<n.length;){const s=n[o++];if("number"==typeof s){if(s===t){a=-1;break}if(s>t){a=o-1;break}}}for(;o<n.length;){const s=n[o];if("number"==typeof s)break;if(s===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==a&&(n.splice(a,0,t),o=a+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function Zg(n){return-1!==n}function mo(n){return 32767&n}function go(n,t){let e=function zD(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Mh=!0;function wl(n){const t=Mh;return Mh=n,t}let YD=0;function Ra(n,t){const e=xh(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Dh(i.data,n),Dh(t,null),Dh(i.blueprint,null));const r=Cl(n,t),o=n.injectorIndex;if(Zg(r)){const a=mo(r),s=go(r,t),l=s[1].data;for(let c=0;c<8;c++)t[o+c]=s[a+c]|l[a+c]}return t[o+8]=r,o}function Dh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function xh(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Cl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],a=o.type;if(i=2===a?o.declTNode:1===a?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function kl(n,t,e){!function $D(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Da)&&(i=e[Da]),null==i&&(i=e[Da]=YD++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function tv(n,t,e){if(e&te.Optional)return n;rl(t,"NodeInjector")}function nv(n,t,e,i){if(e&te.Optional&&void 0===i&&(i=null),0==(e&(te.Self|te.Host))){const r=n[9],o=Qi(void 0);try{return r?r.get(t,i,e&te.Optional):Mg(t,i,e&te.Optional)}finally{Qi(o)}}return tv(i,t,e)}function iv(n,t,e,i=te.Default,r){if(null!==n){const o=function JD(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Da)?n[Da]:void 0;return"number"==typeof t?t>=0?255&t:WD:t}(e);if("function"==typeof o){if(!qg(t,n,i))return i&te.Host?tv(r,e,i):nv(t,e,i,r);try{const a=o(i);if(null!=a||i&te.Optional)return a;rl(e)}finally{Gg()}}else if("number"==typeof o){let a=null,s=xh(n,t),l=-1,c=i&te.Host?t[16][6]:null;for((-1===s||i&te.SkipSelf)&&(l=-1===s?Cl(n,t):t[s+8],-1!==l&&av(i,!1)?(a=t[1],s=mo(l),t=go(l,t)):s=-1);-1!==s;){const u=t[1];if(ov(o,s,u.data)){const f=KD(s,t,e,a,i,c);if(f!==rv)return f}l=t[s+8],-1!==l&&av(i,t[1].data[s+8]===c)&&ov(o,s,t)?(a=u,s=mo(l),t=go(l,t)):s=-1}}}return nv(t,e,i,r)}const rv={};function WD(){return new vo(yt(),P())}function KD(n,t,e,i,r,o){const a=t[1],s=a.data[n+8],u=Ml(s,a,e,null==i?ul(s)&&Mh:i!=a&&0!=(3&s.type),r&te.Host&&o===s);return null!==u?Fa(t,a,u,s):rv}function Ml(n,t,e,i,r){const o=n.providerIndexes,a=t.data,s=1048575&o,l=n.directiveStart,u=o>>20,m=r?s+u:n.directiveEnd;for(let v=i?s:s+u;v<m;v++){const y=a[v];if(v<l&&e===y||v>=l&&y.type===e)return v}if(r){const v=a[l];if(v&&Qn(v)&&v.type===e)return l}return null}function Fa(n,t,e,i){let r=n[e];const o=t.data;if(function VD(n){return n instanceof Ia}(r)){const a=r;a.resolving&&function zM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${e}`)}(Yt(o[e]));const s=wl(a.canSeeViewProviders);a.resolving=!0;const l=a.injectImpl?Qi(a.injectImpl):null;qg(n,i,te.Default);try{r=n[e]=a.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function BD(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const a=Ig(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,a),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,a)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&Qi(l),wl(s),a.resolving=!1,Gg()}}return r}function ov(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function av(n,t){return!(n&te.Self||n&te.Host&&t)}class vo{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return iv(this._tNode,this._lView,t,i,e)}}function Pt(n){return Zi(()=>{const t=n.prototype.constructor,e=t[Ai]||Th(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Ai]||Th(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Th(n){return Sg(n)?()=>{const t=Th(se(n));return t&&t()}:Mr(n)}function yo(n){return function GD(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(Jg(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(yt(),n)}const bo="__parameters__";function wo(n,t,e){return Zi(()=>{const i=function Eh(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const a=new r(...o);return s.annotation=a,s;function s(l,c,u){const f=l.hasOwnProperty(bo)?l[bo]:Object.defineProperty(l,bo,{value:[]})[bo];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(a),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class q{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=R({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZD=new q("AnalyzeForEntryComponents");function Fn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Fn(i,t)):t!==n&&t.push(i)}return t}function ui(n,t){n.forEach(e=>Array.isArray(e)?ui(e,t):t(e))}function lv(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Dl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ba(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function bn(n,t,e){let i=Co(n,t);return i>=0?n[1|i]=e:(i=~i,function tx(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ph(n,t){const e=Co(n,t);if(e>=0)return n[1|e]}function Co(n,t){return function hv(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),a=n[o<<e];if(t===a)return o<<e;a>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const Ha={},Oh="__NG_DI_FLAG__",Tl="ngTempTokenPath",lx=/\n/gm,fv="__source",ux=Re({provide:String,useValue:Re});let Va;function pv(n){const t=Va;return Va=n,t}function hx(n,t=te.Default){if(void 0===Va)throw new z(203,"");return null===Va?Mg(n,void 0,t):Va.get(n,t&te.Optional?null:void 0,t)}function S(n,t=te.Default){return(function QM(){return nh}()||hx)(se(n),t)}const El=S;function Rh(n){const t=[];for(let e=0;e<n.length;e++){const i=se(n[e]);if(Array.isArray(i)){if(0===i.length)throw new z(900,"");let r,o=te.Default;for(let a=0;a<i.length;a++){const s=i[a],l=dx(s);"number"==typeof l?-1===l?r=s.token:o|=l:r=s}t.push(S(r,o))}else t.push(S(i))}return t}function Ua(n,t){return n[Oh]=t,n.prototype[Oh]=t,n}function dx(n){return n[Oh]}const Al=Ua(wo("Inject",n=>({token:n})),-1),Zn=Ua(wo("Optional"),8),ko=Ua(wo("SkipSelf"),4);let Il,Ol;function Do(n){var t;return(null===(t=function Lh(){if(void 0===Il&&(Il=null,Oe.trustedTypes))try{Il=Oe.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Il}())||void 0===t?void 0:t.createHTML(n))||n}function bv(n){var t;return(null===(t=function Nh(){if(void 0===Ol&&(Ol=null,Oe.trustedTypes))try{Ol=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Ol}())||void 0===t?void 0:t.createHTML(n))||n}class Dr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Mx extends Dr{getTypeName(){return"HTML"}}class Dx extends Dr{getTypeName(){return"Style"}}class xx extends Dr{getTypeName(){return"Script"}}class Tx extends Dr{getTypeName(){return"URL"}}class Ex extends Dr{getTypeName(){return"ResourceURL"}}function Sn(n){return n instanceof Dr?n.changingThisBreaksApplicationSecurity:n}function hi(n,t){const e=Cv(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Cv(n){return n instanceof Dr&&n.getTypeName()||null}class Fx{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Do(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Lx{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Do(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Do(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const a=e.item(r).name;("xmlns:ns1"===a||0===a.indexOf("ns1:"))&&t.removeAttribute(a)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const Bx=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hx=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qa(n){return(n=String(n)).match(Bx)||n.match(Hx)?n:"unsafe:"+n}function di(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function za(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Dv=di("area,br,col,hr,img,wbr"),xv=di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tv=di("rp,rt"),Bh=za(Dv,za(xv,di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(Tv,di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),za(Tv,xv)),Hh=di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Vh=di("srcset"),Ev=za(Hh,Vh,di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vx=di("script,style,template");class Ux{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Bh.hasOwnProperty(e))return this.sanitizedSomething=!0,!Vx.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),a=o.name,s=a.toLowerCase();if(!Ev.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let l=o.value;Hh[s]&&(l=qa(l)),Vh[s]&&(n=l,l=(n=String(n)).split(",").map(t=>qa(t.trim())).join(", ")),this.buf.push(" ",a,'="',Av(l),'"')}var n;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Bh.hasOwnProperty(e)&&!Dv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Av(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const jx=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qx=/([^\#-~ |!])/g;function Av(n){return n.replace(/&/g,"&amp;").replace(jx,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(qx,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rl;function Pv(n,t){let e=null;try{Rl=Rl||function kv(n){const t=new Lx(n);return function Nx(){try{return!!(new window.DOMParser).parseFromString(Do(""),"text/html")}catch(n){return!1}}()?new Fx(t):t}(n);let i=t?String(t):"";e=Rl.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=Rl.getInertBodyElement(i)}while(i!==o);return Do((new Ux).sanitizeChildren(Uh(e)||e))}finally{if(e){const i=Uh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Uh(n){return"content"in n&&function zx(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ee=(()=>((Ee=Ee||{})[Ee.NONE=0]="NONE",Ee[Ee.HTML=1]="HTML",Ee[Ee.STYLE=2]="STYLE",Ee[Ee.SCRIPT=3]="SCRIPT",Ee[Ee.URL=4]="URL",Ee[Ee.RESOURCE_URL=5]="RESOURCE_URL",Ee))();function Iv(n){const t=function Ya(){const n=P();return n&&n[12]}();return t?bv(t.sanitize(Ee.HTML,n)||""):hi(n,"HTML")?bv(Sn(n)):Pv(fh(),re(n))}const Fv="__ngContext__";function Vt(n,t){n[Fv]=t}function zh(n){const t=function $a(n){return n[Fv]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function $h(n){return n.ngOriginalError}function aT(n,...t){n.error(...t)}class ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function oT(n){return n&&n.ngErrorLogger||aT}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&$h(t);for(;e&&$h(e);)e=$h(e);return e||null}}const gT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function Vv(n){return n.ownerDocument}function fi(n){return n instanceof Function?n():n}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();function Wh(n,t){return undefined(n,t)}function Ga(n){const t=n[3];return Jn(t)?t[3]:t}function Kh(n){return Yv(n[13])}function Jh(n){return Yv(n[4])}function Yv(n){for(;null!==n&&!Jn(n);)n=n[4];return n}function To(n,t,e,i,r){if(null!=i){let o,a=!1;Jn(i)?o=i:li(i)&&(a=!0,i=i[0]);const s=ht(i);0===n&&null!==e?null==r?Qv(t,e,s):xr(t,e,s,r||null,!0):1===n&&null!==e?xr(t,e,s,r||null,!0):2===n?function ry(n,t,e){const i=Fl(n,t);i&&function ET(n,t,e,i){et(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,s,a):3===n&&t.destroyNode(s),null!=o&&function IT(n,t,e,i,r){const o=e[7];o!==ht(e)&&To(t,n,i,o,r);for(let s=10;s<e.length;s++){const l=e[s];Wa(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function Zh(n,t,e){if(et(n))return n.createElement(t,e);{const i=null!==e?function gD(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function Gv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,gh(r,-1)),e.splice(i,1)}function Xh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Gv(r,i),t>0&&(n[e-1][4]=i[4]);const o=Dl(n,10+t);!function ST(n,t){Wa(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const a=o[19];null!==a&&a.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Wv(n,t){if(!(256&t[2])){const e=t[11];et(e)&&e.destroyNode&&Wa(n,t,e,3,null,null),function kT(n){let t=n[13];if(!t)return ed(n[1],n);for(;t;){let e=null;if(li(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)li(t)&&ed(t[1],t),t=t[3];null===t&&(t=n),li(t)&&ed(t[1],t),e=t&&t[4]}t=e}}(t)}}function ed(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function TT(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Ia)){const o=e[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){const s=r[o[a]],l=o[a+1];try{l.call(s)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function xT(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const a=e[o+1],s="function"==typeof a?a(t):ht(t[a]),l=i[r=e[o+2]],c=e[o+3];"boolean"==typeof c?s.removeEventListener(e[o],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{const a=i[r=e[o+1]];e[o].call(a)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&et(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Jn(t[3])){e!==t[3]&&Gv(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Kv(n,t,e){return function Jv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Wn.None||r===Wn.Emulated)return null}return Rn(i,e)}(n,t.parent,e)}function xr(n,t,e,i,r){et(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function Qv(n,t,e){et(n)?n.appendChild(t,e):t.appendChild(e)}function Zv(n,t,e,i,r){null!==i?xr(n,t,e,i,r):Qv(n,t,e)}function Fl(n,t){return et(n)?n.parentNode(t):t.parentNode}function Xv(n,t,e){return ty(n,t,e)}let ty=function ey(n,t,e){return 40&n.type?Rn(n,e):null};function Ll(n,t,e,i){const r=Kv(n,i,t),o=t[11],s=Xv(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Zv(o,r,e[l],s,!1);else Zv(o,r,e,s,!1)}function Nl(n,t){if(null!==t){const e=t.type;if(3&e)return Rn(t,n);if(4&e)return nd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Nl(n,i);{const r=n[t.index];return Jn(r)?nd(-1,r):ht(r)}}if(32&e)return Wh(t,n)()||ht(n[t.index]);{const i=iy(n,t);return null!==i?Array.isArray(i)?i[0]:Nl(Ga(n[16]),i):Nl(n,t.next)}}return null}function iy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function nd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Nl(i,r)}return t[7]}function id(n,t,e,i,r,o,a){for(;null!=e;){const s=i[e.index],l=e.type;if(a&&0===t&&(s&&Vt(ht(s),i),e.flags|=4),64!=(64&e.flags))if(8&l)id(n,t,e.child,i,r,o,!1),To(t,n,r,s,o);else if(32&l){const c=Wh(e,i);let u;for(;u=c();)To(t,n,r,u,o);To(t,n,r,s,o)}else 16&l?oy(n,t,i,e,r,o):To(t,n,r,s,o);e=a?e.projectionNext:e.next}}function Wa(n,t,e,i,r,o){id(e,i,n.firstChild,t,r,o,!1)}function oy(n,t,e,i,r,o){const a=e[16],l=a[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)To(t,n,r,l[c],o);else id(n,t,l,a[3],r,o,!0)}function ay(n,t,e){et(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function rd(n,t,e){et(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function sy(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const ly="ng-template";function RT(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==sy(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function cy(n){return 4===n.type&&n.value!==ly}function FT(n,t,e){return t===(4!==n.type||e?n.value:ly)}function LT(n,t,e){let i=4;const r=n.attrs||[],o=function HT(n){for(let t=0;t<n.length;t++)if(Jg(n[t]))return t;return n.length}(r);let a=!1;for(let s=0;s<t.length;s++){const l=t[s];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!FT(n,l,e)||""===l&&1===t.length){if(Xn(i))return!1;a=!0}}else{const c=8&i?l:t[++s];if(8&i&&null!==n.attrs){if(!RT(n.attrs,c,e)){if(Xn(i))return!1;a=!0}continue}const f=NT(8&i?"class":l,r,cy(n),e);if(-1===f){if(Xn(i))return!1;a=!0;continue}if(""!==c){let m;m=f>o?"":r[f+1].toLowerCase();const v=8&i?m:null;if(v&&-1!==sy(v,c,0)||2&i&&c!==m){if(Xn(i))return!1;a=!0}}}}else{if(!a&&!Xn(i)&&!Xn(l))return!1;if(a&&Xn(l))continue;a=!1,i=l|1&i}}return Xn(i)||a}function Xn(n){return 0==(1&n)}function NT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const a=t[r];if(a===n)return r;if(3===a||6===a)o=!0;else{if(1===a||2===a){let s=t[++r];for(;"string"==typeof s;)s=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=o?1:2}return-1}return function VT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function uy(n,t,e=!1){for(let i=0;i<t.length;i++)if(LT(n,t[i],e))return!0;return!1}function UT(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function hy(n,t){return n?":not("+t.trim()+")":t}function jT(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let a=n[e];if("string"==typeof a)if(2&i){const s=n[++e];r+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""!==r&&!Xn(a)&&(t+=hy(o,r),r=""),i=a,o=o||!Xn(i);e++}return""!==r&&(t+=hy(o,r)),t}const oe={};function g(n){dy(ke(),P(),Gt()+n,fl())}function dy(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&yl(t,o,e)}else{const o=n.preOrderHooks;null!==o&&_l(t,o,0,e)}tr(e)}function Bl(n,t){return n<<17|t<<2}function ei(n){return n>>17&32767}function od(n){return 2|n}function Oi(n){return(131068&n)>>2}function ad(n,t){return-131069&n|t<<2}function sd(n){return 1|n}function Cy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const a=n.data[o];Sh(r),a.contentQueries(2,t[o],o)}}}function Ka(n,t,e,i,r,o,a,s,l,c){const u=t.blueprint.slice();return u[0]=r,u[2]=140|i,Ng(u),u[3]=u[15]=n,u[8]=e,u[10]=a||n&&n[10],u[11]=s||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=o,u[16]=2==t.type?n[16]:u,u}function Eo(n,t,e,i,r){let o=n.data[t];if(null===o)o=function gd(n,t,e,i,r){const o=Hg(),a=vh(),l=n.data[t]=function aE(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(a?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function TD(){return ne.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const a=function Pa(){const n=ne.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===a?-1:a.injectorIndex}return ci(o,!0),o}function Ao(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Ja(n,t,e){ml(t);try{const i=n.viewQuery;null!==i&&Md(1,i,e);const r=n.template;null!==r&&ky(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cy(n,t),n.staticViewQueries&&Md(2,n.viewQuery,e);const o=n.components;null!==o&&function iE(n,t){for(let e=0;e<t.length;e++)kE(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,gl()}}function Po(n,t,e,i){const r=t[2];if(256==(256&r))return;ml(t);const o=fl();try{Ng(t),function Vg(n){return ne.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&ky(n,t,e,2,i);const a=3==(3&r);if(!o)if(a){const c=n.preOrderCheckHooks;null!==c&&yl(t,c,null)}else{const c=n.preOrderHooks;null!==c&&_l(t,c,0,null),wh(t,0)}if(function wE(n){for(let t=Kh(n);null!==t;t=Jh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&gh(o,1),r[2]|=1024}}}(t),function SE(n){for(let t=Kh(n);null!==t;t=Jh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];mh(i)&&Po(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Cy(n,t),!o)if(a){const c=n.contentCheckHooks;null!==c&&yl(t,c)}else{const c=n.contentHooks;null!==c&&_l(t,c,1),wh(t,1)}!function tE(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)tr(~r);else{const o=r,a=e[++i],s=e[++i];ED(a,o),s(2,t[o])}}}finally{tr(-1)}}(n,t);const s=n.components;null!==s&&function nE(n,t){for(let e=0;e<t.length;e++)CE(n,t[e])}(t,s);const l=n.viewQuery;if(null!==l&&Md(2,l,i),!o)if(a){const c=n.viewCheckHooks;null!==c&&yl(t,c)}else{const c=n.viewHooks;null!==c&&_l(t,c,2),wh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,gh(t[3],-1))}finally{gl()}}function rE(n,t,e,i){const r=t[10],o=!fl(),a=Lg(t);try{o&&!a&&r.begin&&r.begin(),a&&Ja(n,t,i),Po(n,t,e,i)}finally{o&&!a&&r.end&&r.end()}}function ky(n,t,e,i,r){const o=Gt(),a=2&i;try{tr(-1),a&&t.length>20&&dy(n,t,20,fl()),e(i,r)}finally{tr(o)}}function My(n,t,e){if(sh(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}}function vd(n,t,e){!Bg()||(function fE(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||Ra(e,t),Vt(i,t);const a=e.initialInputs;for(let s=r;s<o;s++){const l=n.data[s],c=Qn(l);c&&yE(t,e,l);const u=Fa(t,n,s,e);Vt(u,t),null!==a&&_E(0,s-r,u,l,0,a),c&&(_n(e.index,t)[8]=u)}}(n,t,e,Rn(e,t)),128==(128&e.flags)&&function pE(n,t,e){const i=e.directiveStart,r=e.directiveEnd,a=e.index,s=function AD(){return ne.lFrame.currentDirectiveIndex}();try{tr(a);for(let l=i;l<r;l++){const c=n.data[l],u=t[l];_h(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Oy(c,u)}}finally{tr(-1),_h(s)}}(n,t,e))}function yd(n,t,e=Rn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const a=i[o+1],s=-1===a?e(t,n):n[a];n[r++]=s}}}function Dy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Ul(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Ul(n,t,e,i,r,o,a,s,l,c){const u=20+i,f=u+r,m=function oE(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:oe);return e}(u,f),v="function"==typeof c?c():c;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:s,declTNode:t,data:m.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1}}function Ey(n,t,e,i){const r=Hy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Vy(n).push(i,r.length-1))}function Ay(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function Cn(n,t,e,i,r,o,a,s){const l=Rn(t,e);let u,c=t.inputs;!s&&null!=c&&(u=c[i])?(qy(n,e,u,i,r),ul(t)&&function cE(n,t){const e=_n(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function lE(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=a?a(r,t.value||"",i):r,et(o)?o.setProperty(l,i,r):kh(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function _d(n,t,e,i){let r=!1;if(Bg()){const o=function mE(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const a=i[o];uy(e,a.selectors,!1)&&(r||(r=[]),kl(Ra(e,t),n,a.type),Qn(a)?(Ry(n,e),r.unshift(a)):r.push(a))}return r}(n,t,e),a=null===i?null:{"":-1};if(null!==o){r=!0,Fy(e,n.data.length,o.length);for(let u=0;u<o.length;u++){const f=o[u];f.providersResolver&&f.providersResolver(f)}let s=!1,l=!1,c=Ao(n,t,o.length,null);for(let u=0;u<o.length;u++){const f=o[u];e.mergedAttrs=Sl(e.mergedAttrs,f.hostAttrs),Ly(n,e,t,c,f),vE(c,f,a),null!==f.contentQueries&&(e.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=128);const m=f.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),s=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function sE(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,a=[];let s=null,l=null;for(let c=t.directiveStart;c<i;c++){const u=r[c],f=u.inputs,m=null===o||cy(t)?null:bE(f,o);a.push(m),s=Ay(f,c,s),l=Ay(u.outputs,c,l)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=a,t.inputs=s,t.outputs=l}(n,e)}a&&function gE(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new z(-301,!1);i.push(t[r],o)}}}(e,i,a)}return e.mergedAttrs=Sl(e.mergedAttrs,e.attrs),r}function Iy(n,t,e,i,r,o){const a=o.hostBindings;if(a){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const l=~t.index;(function dE(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(s)!=l&&s.push(l),s.push(i,r,a)}}function Oy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ry(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function vE(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Qn(t)&&(e[""]=n)}}function Fy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Ly(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=Mr(r.type)),a=new Ia(o,Qn(r),null);n.blueprint[i]=a,e[i]=a,Iy(n,t,0,i,Ao(n,e,r.hostVars,oe),r)}function yE(n,t,e){const i=Rn(t,n),r=Dy(e),o=n[10],a=jl(n,Ka(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=a}function pi(n,t,e,i,r,o){const a=Rn(n,t);!function bd(n,t,e,i,r,o,a){if(null==o)et(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const s=null==a?re(o):a(o,i||"",r);et(n)?n.setAttribute(t,r,s,e):e?t.setAttributeNS(e,r,s):t.setAttribute(r,s)}}(t[11],a,o,n.value,e,i,r)}function _E(n,t,e,i,r,o){const a=o[t];if(null!==a){const s=i.setInput;for(let l=0;l<a.length;){const c=a[l++],u=a[l++],f=a[l++];null!==s?i.setInput(e,f,c,u):e[u]=f}}}function bE(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Ny(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function CE(n,t){const e=_n(t,n);if(mh(e)){const i=e[1];80&e[2]?Po(i,e,i.template,e[8]):e[5]>0&&Sd(e)}}function Sd(n){for(let i=Kh(n);null!==i;i=Jh(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const a=o[1];Po(a,o,a.template,o[8])}else o[5]>0&&Sd(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=_n(e[i],n);mh(r)&&r[5]>0&&Sd(r)}}function kE(n,t){const e=_n(t,n),i=e[1];(function ME(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Ja(i,e,e[8])}function jl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function wd(n){for(;n;){n[2]|=64;const t=Ga(n);if(aD(n)&&!t)return n;n=t}return null}function kd(n,t,e){const i=t[10];i.begin&&i.begin();try{Po(n,t,n.template,e)}catch(r){throw jy(t,r),r}finally{i.end&&i.end()}}function By(n){!function Cd(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=zh(e),r=i[1];rE(r,i,r.template,e)}}(n[8])}function Md(n,t,e){Sh(0),t(n,e)}const EE=(()=>Promise.resolve(null))();function Hy(n){return n[7]||(n[7]=[])}function Vy(n){return n.cleanup||(n.cleanup=[])}function Uy(n,t,e){return(null===n||Qn(n))&&(e=function _D(n){for(;Array.isArray(n);){if("object"==typeof n[1])return n;n=n[0]}return null}(e[t.index])),e[11]}function jy(n,t){const e=n[9],i=e?e.get(ir,null):null;i&&i.handleError(t)}function qy(n,t,e,i,r){for(let o=0;o<e.length;){const a=e[o++],s=e[o++],l=t[a],c=n.data[a];null!==c.setInput?c.setInput(l,r,i,s):l[s]=r}}function Ri(n,t,e){const i=dl(t,n);!function $v(n,t,e){et(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function ql(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let a=0;a<t.length;a++){const s=t[a];"number"==typeof s?o=s:1==o?r=Zu(r,s):2==o&&(i=Zu(i,s+": "+t[++a]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const Dd=new q("INJECTOR",-1);class zy{get(t,e=Ha){if(e===Ha){const i=new Error(`NullInjectorError: No provider for ${Pe(t)}!`);throw i.name="NullInjectorError",i}return e}}const xd=new q("Set Injector scope."),Qa={},IE={};let Td;function Yy(){return void 0===Td&&(Td=new zy),Td}function $y(n,t=null,e=null,i){const r=Gy(n,t,e,i);return r._resolveInjectorDefTypes(),r}function Gy(n,t=null,e=null,i){return new OE(n,e,t||Yy(),i)}class OE{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&ui(e,s=>this.processProvider(s,t,e)),ui([t],s=>this.processInjectorType(s,[],o)),this.records.set(Dd,Io(void 0,this));const a=this.records.get(xd);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof t?null:Pe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Ha,i=te.Default){this.assertNotDestroyed();const r=pv(this),o=Qi(void 0);try{if(!(i&te.SkipSelf)){let s=this.records.get(t);if(void 0===s){const l=function UE(n){return"function"==typeof n||"object"==typeof n&&n instanceof q}(t)&&eh(t);s=l&&this.injectableDefInScope(l)?Io(Ed(t),Qa):null,this.records.set(t,s)}if(null!=s)return this.hydrate(t,s)}return(i&te.Self?Yy():this.parent).get(t,e=i&te.Optional&&e===Ha?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Tl]=a[Tl]||[]).unshift(Pe(t)),r)throw a;return function fx(n,t,e,i){const r=n[Tl];throw t[fv]&&r.unshift(t[fv]),n.message=function px(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Pe(t);if(Array.isArray(t))r=t.map(Pe).join(" -> ");else if("object"==typeof t){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):Pe(s)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(lx,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Tl]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Qi(o),pv(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(Pe(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processInjectorType(t,e,i){if(!(t=se(t)))return!1;let r=Cg(t);const o=null==r&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==i.indexOf(a);if(void 0!==o&&(r=Cg(o)),null==r)return!1;if(null!=r.imports&&!s){let u;i.push(a);try{ui(r.imports,f=>{this.processInjectorType(f,e,i)&&(void 0===u&&(u=[]),u.push(f))})}finally{}if(void 0!==u)for(let f=0;f<u.length;f++){const{ngModule:m,providers:v}=u[f];ui(v,y=>this.processProvider(y,m,v||Ne))}}this.injectorDefTypes.add(a);const l=Mr(a)||(()=>new a);this.records.set(a,Io(l,Qa));const c=r.providers;if(null!=c&&!s){const u=t;ui(c,f=>this.processProvider(f,u,c))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=Oo(t=se(t))?t:se(t&&t.provide);const o=function FE(n,t,e){return Ky(n)?Io(void 0,n.useValue):Io(Wy(n),Qa)}(t);if(Oo(t)||!0!==t.multi)this.records.get(r);else{let a=this.records.get(r);a||(a=Io(void 0,Qa,!0),a.factory=()=>Rh(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===Qa&&(e.value=IE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function VE(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=se(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function Ed(n){const t=eh(n),e=null!==t?t.factory:Mr(n);if(null!==e)return e;if(n instanceof q)throw new z(204,!1);if(n instanceof Function)return function RE(n){const t=n.length;if(t>0)throw Ba(t,"?"),new z(204,!1);const e=function WM(n){const t=n&&(n[ol]||n[kg]);if(t){const e=function KM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new z(204,!1)}function Wy(n,t,e){let i;if(Oo(n)){const r=se(n);return Mr(r)||Ed(r)}if(Ky(n))i=()=>se(n.useValue);else if(function NE(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Rh(n.deps||[]));else if(function LE(n){return!(!n||!n.useExisting)}(n))i=()=>S(se(n.useExisting));else{const r=se(n&&(n.useClass||n.provide));if(!function HE(n){return!!n.deps}(n))return Mr(r)||Ed(r);i=()=>new r(...Rh(n.deps))}return i}function Io(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Ky(n){return null!==n&&"object"==typeof n&&ux in n}function Oo(n){return"function"==typeof n}let _e=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return $y({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return $y({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=Ha,n.NULL=new zy,n.\u0275prov=R({token:n,providedIn:"any",factory:()=>S(Dd)}),n.__NG_ELEMENT_ID__=-1,n})();function KE(n,t){vl(zh(n)[1],yt())}function ie(n){let t=function s_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Qn(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const a=n;a.inputs=Id(n.inputs),a.declaredInputs=Id(n.declaredInputs),a.outputs=Id(n.outputs);const s=r.hostBindings;s&&XE(n,s);const l=r.viewQuery,c=r.contentQueries;if(l&&QE(n,l),c&&ZE(n,c),Qu(n.inputs,r.inputs),Qu(n.declaredInputs,r.declaredInputs),Qu(n.outputs,r.outputs),Qn(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let a=0;a<o.length;a++){const s=o[a];s&&s.ngInherit&&s(n),s===ie&&(e=!1)}}t=Object.getPrototypeOf(t)}!function JE(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Sl(r.hostAttrs,e=Sl(e,r.hostAttrs))}}(i)}function Id(n){return n===so?{}:n===Ne?[]:n}function QE(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function ZE(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function XE(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let zl=null;function Ro(){if(!zl){const n=Oe.Symbol;if(n&&n.iterator)zl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(zl=i)}}}return zl}function Za(n){return!!Od(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ro()in n)}function Od(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function mi(n,t,e){return n[t]=e}function Ut(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Tr(n,t,e,i){const r=Ut(n,t,e);return Ut(n,t+1,i)||r}function Ln(n,t,e,i,r,o){const a=Tr(n,t,e,i);return Tr(n,t+2,r,o)||a}function We(n,t,e,i){const r=P();return Ut(r,po(),t)&&(ke(),pi(tt(),r,n,t,e,i)),We}function Lo(n,t,e,i){return Ut(n,po(),e)?t+re(e)+i:oe}function No(n,t,e,i,r,o){const s=Tr(n,Pi(),e,r);return Ii(2),s?t+re(e)+i+re(r)+o:oe}function Bo(n,t,e,i,r,o,a,s){const c=function Yl(n,t,e,i,r){const o=Tr(n,t,e,i);return Ut(n,t+2,r)||o}(n,Pi(),e,r,a);return Ii(3),c?t+re(e)+i+re(r)+o+re(a)+s:oe}function M(n,t,e,i,r,o,a,s){const l=P(),c=ke(),u=n+20,f=c.firstCreatePass?function aA(n,t,e,i,r,o,a,s,l){const c=t.consts,u=Eo(t,n,4,a||null,er(c,s));_d(t,e,u,er(c,l)),vl(t,u);const f=u.tViews=Ul(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,u),f.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,o,a):c.data[u];ci(f,!1);const m=l[11].createComment("");Ll(c,l,m,f),Vt(m,l),jl(l,l[u]=Ny(m,l,m,f)),hl(f)&&vd(c,l,f),null!=a&&yd(l,f,s)}function xt(n){return fo(function xD(){return ne.lFrame.contextLView}(),20+n)}function _(n,t=te.Default){const e=P();return null===e?S(n,t):iv(yt(),e,se(n),t)}function Gl(){throw new Error("invalid")}function b(n,t,e){const i=P();return Ut(i,po(),t)&&Cn(ke(),tt(),i,n,t,i[11],e,!1),b}function Bd(n,t,e,i,r){const a=r?"class":"style";qy(n,e,t.inputs[a],a,i)}function d(n,t,e,i){const r=P(),o=ke(),a=20+n,s=r[11],l=r[a]=Zh(s,t,function ND(){return ne.lFrame.currentNamespace}()),c=o.firstCreatePass?function xA(n,t,e,i,r,o,a){const s=t.consts,c=Eo(t,n,2,r,er(s,o));return _d(t,e,c,er(s,a)),null!==c.attrs&&ql(c,c.attrs,!1),null!==c.mergedAttrs&&ql(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(a,o,r,0,t,e,i):o.data[a];ci(c,!0);const u=c.mergedAttrs;null!==u&&bl(s,l,u);const f=c.classes;null!==f&&rd(s,l,f);const m=c.styles;return null!==m&&ay(s,l,m),64!=(64&c.flags)&&Ll(o,r,l,c),0===function wD(){return ne.lFrame.elementDepthCount}()&&Vt(l,r),function CD(){ne.lFrame.elementDepthCount++}(),hl(c)&&(vd(o,r,c),My(o,c,r)),null!==i&&yd(r,c),d}function h(){let n=yt();vh()?yh():(n=n.parent,ci(n,!1));const t=n;!function kD(){ne.lFrame.elementDepthCount--}();const e=ke();return e.firstCreatePass&&(vl(e,n),sh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function jD(n){return 0!=(16&n.flags)}(t)&&Bd(e,t,P(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function qD(n){return 0!=(32&n.flags)}(t)&&Bd(e,t,P(),t.stylesWithoutHost,!1),h}function N(n,t,e,i){return d(n,t,e,i),h(),N}function Er(n,t,e){const i=P(),r=ke(),o=n+20,a=r.firstCreatePass?function TA(n,t,e,i,r){const o=t.consts,a=er(o,i),s=Eo(t,n,8,"ng-container",a);return null!==a&&ql(s,a,!0),_d(t,e,s,er(o,r)),null!==t.queries&&t.queries.elementStart(t,s),s}(o,r,i,t,e):r.data[o];ci(a,!0);const s=i[o]=i[11].createComment("");return Ll(r,i,s,a),Vt(s,i),hl(a)&&(vd(r,i,a),My(r,a,i)),null!=e&&yd(i,a),Er}function Ar(){let n=yt();const t=ke();return vh()?yh():(n=n.parent,ci(n,!1)),t.firstCreatePass&&(vl(t,n),sh(n)&&t.queries.elementEnd(n)),Ar}function Hd(n,t,e){return Er(n,t,e),Ar(),Hd}function j(){return P()}function es(n){return!!n&&"function"==typeof n.then}const Vd=function x_(n){return!!n&&"function"==typeof n.subscribe};function x(n,t,e,i){const r=P(),o=ke(),a=yt();return T_(o,r,r[11],a,n,t,!!e,i),x}function Wl(n,t){const e=yt(),i=P(),r=ke();return T_(r,i,Uy(bh(r.data),e,i),e,n,t,!1),Wl}function T_(n,t,e,i,r,o,a,s){const l=hl(i),u=n.firstCreatePass&&Vy(n),f=t[8],m=Hy(t);let v=!0;if(3&i.type||s){const D=Rn(i,t),T=s?s(D):D,k=m.length,E=s?L=>s(ht(L[i.index])):i.index;if(et(e)){let L=null;if(!s&&l&&(L=function EA(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const a=r[o];if(a===e&&r[o+1]===i){const s=t[7],l=r[o+2];return s.length>l?s[l]:null}"string"==typeof a&&(o+=2)}return null}(n,t,r,i.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,v=!1;else{o=Ud(i,t,f,o,!1);const G=e.listen(T,r,o);m.push(o,G),u&&u.push(r,E,k,k+1)}}else o=Ud(i,t,f,o,!0),T.addEventListener(r,o,a),m.push(o),u&&u.push(r,E,k,a)}else o=Ud(i,t,f,o,!1);const y=i.outputs;let w;if(v&&null!==y&&(w=y[r])){const D=w.length;if(D)for(let T=0;T<D;T+=2){const Te=t[w[T]][w[T+1]].subscribe(o),Ae=m.length;m.push(o,Te),u&&u.push(r,i.index,Ae,-(Ae+1))}}}function E_(n,t,e,i){try{return!1!==e(i)}catch(r){return jy(n,r),!1}}function Ud(n,t,e,i,r){return function o(a){if(a===Function)return i;const s=2&n.flags?_n(n.index,t):t;0==(32&t[2])&&wd(s);let l=E_(t,0,i,a),c=o.__ngNextListenerFn__;for(;c;)l=E_(t,0,c,a)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(a.preventDefault(),a.returnValue=!1),l}}function C(n=1){return function ID(n){return(ne.lFrame.contextLView=function OD(n,t){for(;n>0;)t=t[15],n--;return t}(n,ne.lFrame.contextLView))[8]}(n)}function AA(n,t){let e=null;const i=function BT(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?uy(n,o,!0):UT(i,o))return r}else e=r}return e}function ts(n){const t=P()[16][6];if(!t.projection){const i=t.projection=Ba(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const a=n?AA(o,n):0;null!==a&&(r[a]?r[a].projectionNext=o:i[a]=o,r[a]=o),o=o.next}}}function ns(n,t=0,e){const i=P(),r=ke(),o=Eo(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),yh(),64!=(64&o.flags)&&function PT(n,t,e){oy(t[11],0,t,e,Kv(n,e,t),Xv(e.parent||t[6],e,t))}(r,i,o)}function pe(n,t,e){return ln(n,"",t,"",e),pe}function ln(n,t,e,i,r){const o=P(),a=Lo(o,t,e,i);return a!==oe&&Cn(ke(),tt(),o,n,a,o[11],r,!1),ln}function Pr(n,t,e,i,r,o,a){const s=P(),l=No(s,t,e,i,r,o);return l!==oe&&Cn(ke(),tt(),s,n,l,s[11],a,!1),Pr}function Kl(n,t,e,i,r,o,a,s,l){const c=P(),u=Bo(c,t,e,i,r,o,a,s);return u!==oe&&Cn(ke(),tt(),c,n,u,c[11],l,!1),Kl}function jd(n,t,e,i,r,o,a,s,l,c,u,f,m,v,y,w,D,T,k){const E=P(),L=function qo(n,t,e,i,r,o,a,s,l,c,u,f,m,v,y,w,D,T){const k=Pi();let E=Ln(n,k,e,r,a,l);return E=Ln(n,k+4,u,m,y,D)||E,Ii(8),E?t+re(e)+i+re(r)+o+re(a)+s+re(l)+c+re(u)+f+re(m)+v+re(y)+w+re(D)+T:oe}(E,t,e,i,r,o,a,s,l,c,u,f,m,v,y,w,D,T);return L!==oe&&Cn(ke(),tt(),E,n,L,E[11],k,!1),jd}function F_(n,t,e,i,r){const o=n[e+1],a=null===t;let s=i?ei(o):Oi(o),l=!1;for(;0!==s&&(!1===l||a);){const u=n[s+1];OA(n[s],t)&&(l=!0,n[s+1]=i?sd(u):od(u)),s=i?ei(u):Oi(u)}l&&(n[e+1]=i?od(o):sd(o))}function OA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Co(n,t)>=0}function Kt(n,t,e){return ni(n,t,e,!1),Kt}function St(n,t){return ni(n,t,null,!0),St}function ni(n,t,e,i){const r=P(),o=ke(),a=Ii(2);o.firstUpdatePass&&function q_(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Gt()],a=function j_(n,t){return t>=n.expandoStartIndex}(n,e);(function G_(n,t){return 0!=(n.flags&(t?16:32))})(o,i)&&null===t&&!a&&(t=!1),t=function jA(n,t,e,i){const r=bh(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=is(e=qd(null,n,t,e,i),t.attrs,i),o=null);else{const a=t.directiveStylingLast;if(-1===a||n[a]!==r)if(e=qd(r,n,t,e,i),null===o){let l=function qA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Oi(i))return n[ei(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=qd(null,n,t,l[1],i),l=is(l,t.attrs,i),function zA(n,t,e,i){n[ei(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function YA(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=is(i,n[o].hostAttrs,e);return is(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function PA(n,t,e,i,r,o){let a=o?t.classBindings:t.styleBindings,s=ei(a),l=Oi(a);n[i]=e;let u,c=!1;if(Array.isArray(e)){const f=e;u=f[1],(null===u||Co(f,u)>0)&&(c=!0)}else u=e;if(r)if(0!==l){const m=ei(n[s+1]);n[i+1]=Bl(m,s),0!==m&&(n[m+1]=ad(n[m+1],i)),n[s+1]=function YT(n,t){return 131071&n|t<<17}(n[s+1],i)}else n[i+1]=Bl(s,0),0!==s&&(n[s+1]=ad(n[s+1],i)),s=i;else n[i+1]=Bl(l,0),0===s?s=i:n[l+1]=ad(n[l+1],i),l=i;c&&(n[i+1]=od(n[i+1])),F_(n,u,i,!0),F_(n,u,i,!1),function IA(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Co(o,t)>=0&&(e[i+1]=sd(e[i+1]))}(t,u,n,i,o),a=Bl(s,l),o?t.classBindings=a:t.styleBindings=a}(r,o,t,e,a,i)}}(o,n,a,i),t!==oe&&Ut(r,a,t)&&function Y_(n,t,e,i,r,o,a,s){if(!(3&t.type))return;const l=n.data,c=l[s+1];Jl(function my(n){return 1==(1&n)}(c)?$_(l,t,e,r,Oi(c),a):void 0)||(Jl(o)||function py(n){return 2==(2&n)}(c)&&(o=$_(l,null,e,r,s,a)),function OT(n,t,e,i,r){const o=et(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let a=-1===i.indexOf("-")?void 0:wn.DashCase;if(null==r)o?n.removeStyle(e,i,a):e.style.removeProperty(i);else{const s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),a|=wn.Important),o?n.setStyle(e,i,r,a):e.style.setProperty(i,r,s?"important":"")}}}(i,a,dl(Gt(),e),r,o))}(o,o.data[Gt()],r,r[11],n,r[a+1]=function WA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Pe(Sn(n)))),n}(t,e),i,a)}function qd(n,t,e,i,r){let o=null;const a=e.directiveEnd;let s=e.directiveStylingLast;for(-1===s?s=e.directiveStart:s++;s<a&&(o=t[s],i=is(i,o.hostAttrs,r),o!==n);)s++;return null!==n&&(e.directiveStylingLast=s),i}function is(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),bn(n,a,!!e||t[++o]))}return void 0===n?null:n}function $_(n,t,e,i,r,o){const a=null===t;let s;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,f=null===u;let m=e[r+1];m===oe&&(m=f?Ne:void 0);let v=f?Ph(m,i):u===i?m:void 0;if(c&&!Jl(v)&&(v=Ph(l,i)),Jl(v)&&(s=v,a))return s;const y=n[r+1];r=a?ei(y):Oi(y)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(s=Ph(l,i))}return s}function Jl(n){return void 0!==n}function p(n,t=""){const e=P(),i=ke(),r=n+20,o=i.firstCreatePass?Eo(i,r,1,t,null):i.data[r],a=e[r]=function Qh(n,t){return et(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Ll(i,e,a,o),ci(o,!1)}function me(n){return O("",n,""),me}function O(n,t,e){const i=P(),r=Lo(i,n,t,e);return r!==oe&&Ri(i,Gt(),r),O}function kn(n,t,e,i,r){const o=P(),a=No(o,n,t,e,i,r);return a!==oe&&Ri(o,Gt(),a),kn}function rs(n,t,e,i,r,o,a){const s=P(),l=Bo(s,n,t,e,i,r,o,a);return l!==oe&&Ri(s,Gt(),l),rs}function zd(n,t,e){const i=P();return Ut(i,po(),t)&&Cn(ke(),tt(),i,n,t,i[11],e,!0),zd}function Ql(n,t,e){const i=P();if(Ut(i,po(),t)){const o=ke(),a=tt();Cn(o,a,i,n,t,Uy(bh(o.data),a,i),e,!0)}return Ql}const Ir=void 0;var pP=["en",[["a","p"],["AM","PM"],Ir],[["AM","PM"],Ir,Ir],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ir,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ir,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ir,"{1} 'at' {0}",Ir],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fP(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let $o={};function Jt(n){const t=function mP(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=ub(t);if(e)return e;const i=t.split("-")[0];if(e=ub(i),e)return e;if("en"===i)return pP;throw new Error(`Missing locale data for the locale "${n}".`)}function ub(n){return n in $o||($o[n]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[n]),$o[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const Zl="en-US";let hb=Zl;function Gd(n,t,e,i,r){if(n=se(n),Array.isArray(n))for(let o=0;o<n.length;o++)Gd(n[o],t,e,i,r);else{const o=ke(),a=P();let s=Oo(n)?n:se(n.provide),l=Wy(n);const c=yt(),u=1048575&c.providerIndexes,f=c.directiveStart,m=c.providerIndexes>>20;if(Oo(n)||!n.multi){const v=new Ia(l,r,_),y=Kd(s,t,r?u:u+m,f);-1===y?(kl(Ra(c,a),o,s),Wd(o,n,t.length),t.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(v),a.push(v)):(e[y]=v,a[y]=v)}else{const v=Kd(s,t,u+m,f),y=Kd(s,t,u,u+m),w=v>=0&&e[v],D=y>=0&&e[y];if(r&&!D||!r&&!w){kl(Ra(c,a),o,s);const T=function fI(n,t,e,i,r){const o=new Ia(n,e,_);return o.multi=[],o.index=t,o.componentProviders=0,Fb(o,r,i&&!e),o}(r?dI:hI,e.length,r,i,l);!r&&D&&(e[y].providerFactory=T),Wd(o,n,t.length,0),t.push(s),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(T),a.push(T)}else Wd(o,n,v>-1?v:y,Fb(e[r?y:v],l,!r&&i));!r&&i&&D&&e[y].componentProviders++}}}function Wd(n,t,e,i){const r=Oo(t),o=function BE(n){return!!n.useClass}(t);if(r||o){const l=(o?se(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function Fb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Kd(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function hI(n,t,e,i){return Jd(this.multi,[])}function dI(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const a=this.providerFactory.componentProviders,s=Fa(e,e[1],this.providerFactory.index,i);o=s.slice(0,a),Jd(r,o);for(let l=a;l<s.length;l++)o.push(s[l])}else o=[],Jd(r,o);return o}function Jd(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Be(n,t=[]){return e=>{e.providersResolver=(i,r)=>function uI(n,t,e){const i=ke();if(i.firstCreatePass){const r=Qn(n);Gd(e,i.data,i.blueprint,r,!0),Gd(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Lb{}class gI{resolveComponentFactory(t){throw function mI(n){const t=Error(`No component factory found for ${Pe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Fi=(()=>{class n{}return n.NULL=new gI,n})();function vI(){return Wo(yt(),P())}function Wo(n,t){return new Ce(Rn(n,t))}let Ce=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=vI,n})();function yI(n){return n instanceof Ce?n.nativeElement:n}class cs{}let yi=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function bI(){const n=P(),e=_n(yt().index,n);return function _I(n){return n[11]}(li(e)?e:n)}(),n})(),SI=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>null}),n})();class Or{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wI=new Or("13.3.3"),Qd={};function ic(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(ht(o)),Jn(o))for(let s=10;s<o.length;s++){const l=o[s],c=l[1].firstChild;null!==c&&ic(l[1],l,c,i)}const a=e.type;if(8&a)ic(n,t,e.child,i);else if(32&a){const s=Wh(e,t);let l;for(;l=s();)i.push(l)}else if(16&a){const s=iy(t,e);if(Array.isArray(s))i.push(...s);else{const l=Ga(t[16]);ic(l[1],l,s,i,!0)}}e=r?e.projectionNext:e.next}return i}class us{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ic(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Jn(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Xh(t,i),Dl(e,i))}this._attachedToViewContainer=!1}Wv(this._lView[1],this._lView)}onDestroy(t){Ey(this._lView[1],this._lView,null,t)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){kd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function xE(n,t,e){pl(!0);try{kd(n,t,e)}finally{pl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new z(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function CT(n,t){Wa(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,"");this._appRef=t}}class CI extends us{constructor(t){super(t),this._view=t}detectChanges(){By(this._view)}checkNoChanges(){!function TE(n){pl(!0);try{By(n)}finally{pl(!1)}}(this._view)}get context(){return null}}class Bb extends Fi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Bt(t);return new Zd(e,this.ngModule)}}function Hb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class Zd extends Lb{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function qT(n){return n.map(jT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Hb(this.componentDef.inputs)}get outputs(){return Hb(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function MI(n,t){return{get:(e,i,r)=>{const o=n.get(e,Qd,r);return o!==Qd||i===Qd?o:t.get(e,i,r)}}}(t,r.injector):t,a=o.get(cs,Fg),s=o.get(SI,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function Ty(n,t,e){if(et(n))return n.selectRootElement(t,e===Wn.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Zh(a.createRenderer(null,this.componentDef),c,function kI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),f=this.componentDef.onPush?576:528,m=function a_(n,t){return{components:[],scheduler:n||gT,clean:EE,playerHandler:t||null,flags:0}}(),v=Ul(0,null,null,1,0,null,null,null,null,null),y=Ka(null,v,m,f,null,null,a,l,s,o);let w,D;ml(y);try{const T=function r_(n,t,e,i,r,o){const a=e[1];e[20]=n;const l=Eo(a,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(ql(l,c,!0),null!==n&&(bl(r,n,c),null!==l.classes&&rd(r,n,l.classes),null!==l.styles&&ay(r,n,l.styles)));const u=i.createRenderer(n,t),f=Ka(e,Dy(t),null,t.onPush?64:16,e[20],l,i,u,o||null,null);return a.firstCreatePass&&(kl(Ra(l,e),a,t.type),Ry(a,l),Fy(l,e.length,1)),jl(e,f),e[20]=f}(u,this.componentDef,y,a,l);if(u)if(i)bl(l,u,["ng-version",wI.full]);else{const{attrs:k,classes:E}=function zT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Xn(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);k&&bl(l,u,k),E&&E.length>0&&rd(l,u,E.join(" "))}if(D=ph(v,20),void 0!==e){const k=D.projection=[];for(let E=0;E<this.ngContentSelectors.length;E++){const L=e[E];k.push(null!=L?Array.from(L):null)}}w=function o_(n,t,e,i,r){const o=e[1],a=function hE(n,t,e){const i=yt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ly(n,i,t,Ao(n,t,1,null),e));const r=Fa(t,n,i.directiveStart,i);Vt(r,t);const o=Rn(i,t);return o&&Vt(o,t),r}(o,e,t);if(i.components.push(a),n[8]=a,r&&r.forEach(l=>l(a,t)),t.contentQueries){const l=yt();t.contentQueries(1,a,l.directiveStart)}const s=yt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(tr(s.index),Iy(e[1],s,0,s.directiveStart,s.directiveEnd,t),Oy(t,a)),a}(T,this.componentDef,y,m,[KE]),Ja(v,y,null)}finally{gl()}return new xI(this.componentType,w,Wo(D,y),y,D)}}class xI extends class pI{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new CI(r),this.componentType=t}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Li{}class Vb{}const Ko=new Map;class qb extends Li{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Bb(this);const i=Pn(t);this._bootstrapComponents=fi(i.bootstrap),this._r3Injector=Gy(t,e,[{provide:Li,useValue:this},{provide:Fi,useValue:this.componentFactoryResolver}],Pe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=_e.THROW_IF_NOT_FOUND,i=te.Default){return t===_e||t===Li||t===Dd?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xd extends Vb{constructor(t){super(),this.moduleType=t,null!==Pn(t)&&function EI(n){const t=new Set;!function e(i){const r=Pn(i,!0),o=r.id;null!==o&&(function Ub(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Pe(t)} vs ${Pe(t.name)}`)}(o,Ko.get(o),i),Ko.set(o,i));const a=fi(r.imports);for(const s of a)t.has(s)||(t.add(s),e(s))}(n)}(t)}create(t){return new qb(this.moduleType,t)}}function Ue(n,t,e,i){return zb(P(),$t(),n,t,e,i)}function Ni(n,t,e,i,r){return Yb(P(),$t(),n,t,e,i,r)}function hs(n,t){const e=n[t];return e===oe?void 0:e}function zb(n,t,e,i,r,o){const a=t+e;return Ut(n,a,r)?mi(n,a+1,o?i.call(o,r):i(r)):hs(n,a+1)}function Yb(n,t,e,i,r,o,a){const s=t+e;return Tr(n,s,r,o)?mi(n,s+2,a?i.call(a,r,o):i(r,o)):hs(n,s+2)}function A(n,t){const e=ke();let i;const r=n+20;e.firstCreatePass?(i=function BI(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=Mr(i.type)),a=Qi(_);try{const s=wl(!1),l=o();return wl(s),function sA(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,P(),r,l),l}finally{Qi(a)}}function B(n,t,e){const i=n+20,r=P(),o=fo(r,i);return ds(r,i)?zb(r,$t(),t,o.transform,e,o):o.transform(e)}function je(n,t,e,i){const r=n+20,o=P(),a=fo(o,r);return ds(o,r)?Yb(o,$t(),t,a.transform,e,i,a):a.transform(e,i)}function ds(n,t){return n[1].data[t].pure}function ef(n){return t=>{setTimeout(n,void 0,t)}}const he=class jI extends ae{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,a;let s=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const f=t;s=null===(r=f.next)||void 0===r?void 0:r.bind(f),l=null===(o=f.error)||void 0===o?void 0:o.bind(f),c=null===(a=f.complete)||void 0===a?void 0:a.bind(f)}this.__isAsync&&(l=ef(l),s&&(s=ef(s)),c&&(c=ef(c)));const u=super.subscribe({next:s,error:l,complete:c});return t instanceof Ke&&t.add(u),u}};function qI(){return this._results[Ro()]()}class Jo{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ro(),i=Jo.prototype;i[e]||(i[e]=qI)}get changes(){return this._changes||(this._changes=new he)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Fn(t);(this._changesDetected=!function XD(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Qt=(()=>{class n{}return n.__NG_ELEMENT_ID__=$I,n})();const zI=Qt,YI=class extends zI{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=Ka(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),Ja(e,i,t),new us(i)}};function $I(){return rc(yt(),P())}function rc(n,t){return 4&n.type?new YI(t,n,Wo(n,t)):null}let jt=(()=>{class n{}return n.__NG_ELEMENT_ID__=GI,n})();function GI(){return Qb(yt(),P())}const WI=jt,Kb=class extends WI{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Cl(this._hostTNode,this._hostLView);if(Zg(t)){const e=go(t,this._hostLView),i=mo(t);return new vo(e[1].data[i+8],e)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Jb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const a=t&&!function Na(n){return"function"==typeof n}(t);let s;if(a)s=e;else{const f=e||{};s=f.index,i=f.injector,r=f.projectableNodes,o=f.ngModuleRef}const l=a?t:new Zd(Bt(t)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const m=(a?c:this.parentInjector).get(Li,null);m&&(o=m)}const u=l.create(c,r,void 0,o);return this.insert(u.hostView,s),u}insert(t,e){const i=t._lView,r=i[1];if(function SD(n){return Jn(n[3])}(i)){const u=this.indexOf(t);if(-1!==u)this.detach(u);else{const f=i[3],m=new Kb(f,f[6],f[3]);m.detach(m.indexOf(t))}}const o=this._adjustIndex(e),a=this._lContainer;!function MT(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],lv(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const a=t[17];null!==a&&e!==a&&function DT(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(a,t);const s=t[19];null!==s&&s.insertView(n),t[2]|=128}(r,i,a,o);const s=nd(o,a),l=i[11],c=Fl(l,a[7]);return null!==c&&function wT(n,t,e,i,r,o){i[0]=r,i[6]=t,Wa(n,i,e,1,r,o)}(r,a[6],l,i,c,s),t.attachToViewContainerRef(),lv(tf(a),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Jb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Xh(this._lContainer,e);i&&(Dl(tf(this._lContainer),e),Wv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Xh(this._lContainer,e);return i&&null!=Dl(tf(this._lContainer),e)?new us(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Jb(n){return n[8]}function tf(n){return n[8]||(n[8]=[])}function Qb(n,t){let e;const i=t[n.index];if(Jn(i))e=i;else{let r;if(8&n.type)r=ht(i);else{const o=t[11];r=o.createComment("");const a=Rn(n,t);xr(o,Fl(o,a),r,function AT(n,t){return et(n)?n.nextSibling(t):t.nextSibling}(o,a),!1)}t[n.index]=e=Ny(i,t,r,n),jl(t,e)}return new Kb(e,n,t)}class nf{constructor(t){this.queryList=t,this.matches=null}clone(){return new nf(this.queryList)}setDirty(){this.queryList.setDirty()}}class rf{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const a=e.getByIndex(o);r.push(this.queries[a.indexInDeclarationView].clone())}return new rf(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==nS(t,e).matches&&this.queries[e].setDirty()}}class Zb{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class af{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new af(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new sf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,QI(e,o)),this.matchTNodeWithReadOption(t,e,Ml(e,t,o,!1,!1))}else i===Qt?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ml(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Ce||r===jt||r===Qt&&4&e.type)this.addMatch(e.index,-2);else{const o=Ml(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function QI(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function XI(n,t,e,i){return-1===e?function ZI(n,t){return 11&n.type?Wo(n,t):4&n.type?rc(n,t):null}(t,n):-2===e?function eO(n,t,e){return e===Ce?Wo(t,n):e===Qt?rc(t,n):e===jt?Qb(t,n):void 0}(n,t,i):Fa(n,n[1],e,t)}function Xb(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,a=e.matches,s=[];for(let l=0;l<a.length;l+=2){const c=a[l];s.push(c<0?null:XI(t,o[c],a[l+1],e.metadata.read))}r.matches=s}return r.matches}function lf(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const a=Xb(n,t,r,e);for(let s=0;s<o.length;s+=2){const l=o[s];if(l>0)i.push(a[s/2]);else{const c=o[s+1],u=t[-l];for(let f=10;f<u.length;f++){const m=u[f];m[17]===m[3]&&lf(m[1],m,c,i)}if(null!==u[9]){const f=u[9];for(let m=0;m<f.length;m++){const v=f[m];lf(v[1],v,c,i)}}}}}return i}function dt(n){const t=P(),e=ke(),i=jg();Sh(i+1);const r=nS(e,i);if(n.dirty&&Lg(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?lf(e,t,i,[]):Xb(e,t,r,i);n.reset(o,yI),n.notifyOnChanges()}return!0}return!1}function cn(n,t,e){const i=ke();i.firstCreatePass&&(tS(i,new Zb(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),eS(i,P(),t)}function Rr(n,t,e,i){const r=ke();if(r.firstCreatePass){const o=yt();tS(r,new Zb(t,e,i),o.index),function nO(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}eS(r,P(),e)}function ft(){return function tO(n,t){return n[19].queries[t].queryList}(P(),jg())}function eS(n,t,e){const i=new Jo(4==(4&e));Ey(n,t,i,i.destroy),null===t[19]&&(t[19]=new rf),t[19].queries.push(new nf(i))}function tS(n,t,e){null===n.queries&&(n.queries=new af),n.queries.track(new sf(t,e))}function nS(n,t){return n.queries.getByIndex(t)}function cf(n,t){return rc(n,t)}function sc(...n){}const mf=new q("Application Initializer");let gf=(()=>{class n{constructor(e){this.appInits=e,this.resolve=sc,this.reject=sc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(es(o))e.push(o);else if(Vd(o)){const a=new Promise((s,l)=>{o.subscribe({complete:s,error:l})});e.push(a)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(S(mf,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ps=new q("AppId",{providedIn:"root",factory:function _S(){return`${vf()}${vf()}${vf()}`}});function vf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bS=new q("Platform Initializer"),yf=new q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),SS=new q("appBootstrapListener");let _O=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Bi=new q("LocaleId",{providedIn:"root",factory:()=>El(Bi,te.Optional|te.SkipSelf)||function bO(){return"undefined"!=typeof $localize&&$localize.locale||Zl}()});class wO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let wS=(()=>{class n{compileModuleSync(e){return new Xd(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=fi(Pn(e).declarations).reduce((a,s)=>{const l=Bt(s);return l&&a.push(new Zd(l)),a},[]);return new wO(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kO=(()=>Promise.resolve(0))();function _f(n){"undefined"==typeof Zone?kO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ge{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new he(!1),this.onMicrotaskEmpty=new he(!1),this.onStable=new he(!1),this.onError=new he(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function MO(){let n=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function TO(n){const t=()=>{!function xO(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Oe,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Sf(n),n.isCheckStableRunning=!0,bf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Sf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,a,s)=>{try{return CS(n),e.invokeTask(r,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),kS(n)}},onInvoke:(e,i,r,o,a,s,l)=>{try{return CS(n),e.invoke(r,o,a,s,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),kS(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Sf(n),bf(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ge.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ge.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,t,DO,sc,sc);try{return o.runTask(a,e,i)}finally{o.cancelTask(a)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const DO={};function bf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Sf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function CS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kS(n){n._nesting--,bf(n)}class EO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new he,this.onMicrotaskEmpty=new he,this.onStable=new he,this.onError=new he}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let wf=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ge.assertNotInAngularZone(),_f(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_f(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(S(ge))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),AO=(()=>{class n{constructor(){this._applications=new Map,Cf.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Cf.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();class PO{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let ri,Cf=new PO;const MS=new q("AllowMultipleToken");class DS{constructor(t,e){this.name=t,this.token=e}}function xS(n,t,e=[]){const i=`Platform: ${t}`,r=new q(i);return(o=[])=>{let a=TS();if(!a||a.injector.get(MS,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const s=e.concat(o).concat({provide:r,useValue:!0},{provide:xd,useValue:"platform"});!function FO(n){if(ri&&!ri.destroyed&&!ri.injector.get(MS,!1))throw new z(400,"");ri=n.get(NO);const t=n.get(bS,null);t&&t.forEach(e=>e())}(_e.create({providers:s,name:i}))}return function LO(n){const t=TS();if(!t)throw new z(401,"");return t}()}}function TS(){return ri&&!ri.destroyed?ri:null}let NO=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const s=function BO(n,t){let e;return e="noop"===n?new EO:("zone.js"===n?void 0:n)||new ge({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:ge,useValue:s}];return s.run(()=>{const c=_e.create({providers:l,parent:this.injector,name:e.moduleType.name}),u=e.create(c),f=u.injector.get(ir,null);if(!f)throw new z(402,"");return s.runOutsideAngular(()=>{const m=s.onError.subscribe({next:v=>{f.handleError(v)}});u.onDestroy(()=>{kf(this._modules,u),m.unsubscribe()})}),function HO(n,t,e){try{const i=e();return es(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(f,s,()=>{const m=u.injector.get(gf);return m.runInitializers(),m.donePromise.then(()=>(function _P(n){vn(n,"Expected localeId to be defined"),"string"==typeof n&&(hb=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(Bi,Zl)||Zl),this._moduleDoBootstrap(u),u))})})}bootstrapModule(e,i=[]){const r=ES({},i);return function OO(n,t,e){const i=new Xd(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(ms);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new z(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(_e))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ES(n,t){return Array.isArray(t)?t.reduce(ES,n):Object.assign(Object.assign({},n),t)}let ms=(()=>{class n{constructor(e,i,r,o){this._zone=e,this._injector=i,this._exceptionHandler=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new ze(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),s=new ze(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),_f(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=Ma(a,s.pipe(bg()))}bootstrap(e,i){if(!this._initStatus.done)throw new z(405,"");let r;r=e instanceof Lb?e:this._injector.get(Fi).resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function RO(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Li),s=r.create(_e.NULL,[],i||r.selector,o),l=s.location.nativeElement,c=s.injector.get(wf,null),u=c&&s.injector.get(AO);return c&&u&&u.registerApplication(l,c),s.onDestroy(()=>{this.detachView(s.hostView),kf(this.components,s),u&&u.unregisterApplication(l)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new z(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;kf(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(SS,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(S(ge),S(_e),S(ir),S(gf))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function kf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let PS=!0,Mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=jO,n})();function jO(n){return function qO(n,t,e){if(ul(n)&&!e){const i=_n(n.index,t);return new us(i,i)}return 47&n.type?new us(t[16],t):null}(yt(),P(),16==(16&n))}class LS{constructor(){}supports(t){return Za(t)}create(t){return new KO(t)}}const WO=(n,t)=>t;class KO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||WO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const a=!i||e&&e.currentIndex<BS(i,r,o)?e:i,s=BS(a,r,o),l=a.currentIndex;if(a===i)r--,i=i._nextRemoved;else if(e=e._next,null==a.previousIndex)r++;else{o||(o=[]);const c=s-r,u=l-r;if(c!=u){for(let m=0;m<c;m++){const v=m<o.length?o[m]:o[m]=0,y=v+m;u<=y&&y<c&&(o[m]=v+1)}o[a.previousIndex]=u-c}}s!==l&&t(a,s,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Za(t))throw new z(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,a,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let s=0;s<this.length;s++)o=t[s],a=this._trackByFn(s,o),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,o,a,s)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,a,s),i=!0),e=e._next}else r=0,function oA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ro()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,s=>{a=this._trackByFn(r,s),null!==e&&Object.is(e.trackById,a)?(i&&(e=this._verifyReinsertion(e,s,a,r)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,a,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new JO(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new NS),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new NS),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class NS{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new QO,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function BS(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class HS{constructor(){}supports(t){return t instanceof Map||Od(t)}create(){return new ZO}}class ZO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Od(t)))throw new z(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,a=r._next;return o&&(o._next=a),a&&(a._prev=o),r._next=null,r._prev=null,r}const i=new XO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class XO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VS(){return new uc([new LS])}let uc=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||VS()),deps:[[n,new ko,new Zn]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new z(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:VS}),n})();function US(){return new gs([new HS])}let gs=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||US()),deps:[[n,new ko,new Zn]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new z(901,"")}}return n.\u0275prov=R({token:n,providedIn:"root",factory:US}),n})();const nR=xS(null,"core",[]);let iR=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(S(ms))},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})(),hc=null;function _i(){return hc}const ve=new q("DocumentToken");let Lr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function sR(){return S(jS)}()},providedIn:"platform"}),n})();const lR=new q("Location Initialized");let jS=(()=>{class n extends Lr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(e){const i=_i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=_i().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){qS()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){qS()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:function(){return function cR(){return new jS(S(ve))}()},providedIn:"platform"}),n})();function qS(){return!!window.history.pushState}function Ef(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function zS(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Hi(n){return n&&"?"!==n[0]?"?"+n:n}let Zo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(){return function uR(n){const t=S(ve).location;return new YS(S(Lr),t&&t.origin||"")}()},providedIn:"root"}),n})();const Af=new q("appBaseHref");let YS=(()=>{class n extends Zo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ef(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Hi(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const a=this.prepareExternalUrl(r+Hi(o));this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){const a=this.prepareExternalUrl(r+Hi(o));this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(Lr),S(Af,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),hR=(()=>{class n extends Zo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ef(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let a=this.prepareExternalUrl(r+Hi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(e,i,a)}replaceState(e,i,r,o){let a=this.prepareExternalUrl(r+Hi(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(S(Lr),S(Af,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),vs=(()=>{class n{constructor(e,i){this._subject=new he,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=zS($S(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Hi(i))}normalize(e){return n.stripTrailingSlash(function fR(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,$S(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hi(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Hi(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Hi,n.joinWithSlash=Ef,n.stripTrailingSlash=zS,n.\u0275fac=function(e){return new(e||n)(S(Zo),S(Lr))},n.\u0275prov=R({token:n,factory:function(){return function dR(){return new vs(S(Zo),S(Lr))}()},providedIn:"root"}),n})();function $S(n){return n.replace(/\/index.html$/,"")}var un=(()=>((un=un||{})[un.Decimal=0]="Decimal",un[un.Percent=1]="Percent",un[un.Currency=2]="Currency",un[un.Scientific=3]="Scientific",un))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function Nn(n,t){const e=Jt(n),i=e[U.NumberSymbols][t];if(void 0===i){if(t===Q.CurrencyDecimal)return e[U.NumberSymbols][Q.Decimal];if(t===Q.CurrencyGroup)return e[U.NumberSymbols][Q.Group]}return i}function Pf(n,t){return Jt(n)[U.NumberFormats][t]}const HR=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Lf(n,t,e,i,r,o,a=!1){let s="",l=!1;if(isFinite(n)){let c=function GR(n){let i,r,o,a,s,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(s=t.length))i=[0],r=1;else{for(s--;"0"===t.charAt(s);)s--;for(r-=o,i=[],a=0;o<=s;o++,a++)i[a]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);a&&(c=function $R(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,f=t.minFrac,m=t.maxFrac;if(o){const k=o.match(HR);if(null===k)throw new Error(`${o} is not a valid digit info`);const E=k[1],L=k[3],G=k[5];null!=E&&(u=Bf(E)),null!=L&&(f=Bf(L)),null!=G?m=Bf(G):null!=L&&f>m&&(m=f)}!function WR(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let a=o+n.integerLen,s=i[a];if(a>0){i.splice(Math.max(n.integerLen,a));for(let f=a;f<i.length;f++)i[f]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let f=1;f<a;f++)i[f]=0}if(s>=5)if(a-1<0){for(let f=0;f>a;f--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const c=t+n.integerLen,u=i.reduceRight(function(f,m,v,y){return y[v]=(m+=f)<10?m:m-10,l&&(0===y[v]&&v>=c?y.pop():l=!1),m>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,f,m);let v=c.digits,y=c.integerLen;const w=c.exponent;let D=[];for(l=v.every(k=>!k);y<u;y++)v.unshift(0);for(;y<0;y++)v.unshift(0);y>0?D=v.splice(y,v.length):(D=v,v=[0]);const T=[];for(v.length>=t.lgSize&&T.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)T.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&T.unshift(v.join("")),s=T.join(Nn(e,i)),D.length&&(s+=Nn(e,r)+D.join("")),w&&(s+=Nn(e,Q.Exponential)+"+"+w)}else s=Nn(e,Q.Infinity);return s=n<0&&!l?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf,s}function Nf(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],a=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],s=a[0],l=a[1]||"";e.posPre=s.substr(0,s.indexOf("#"));for(let u=0;u<l.length;u++){const f=l.charAt(u);"0"===f?e.minFrac=e.maxFrac=u+1:"#"===f?e.maxFrac=u+1:e.posSuf+=f}const c=s.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const u=r.length-e.posPre.length-e.posSuf.length,f=o.indexOf("#");e.negPre=o.substr(0,f).replace(/'/g,""),e.negSuf=o.substr(f+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function Bf(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}let Hn=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Za(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Pe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(_(uc),_(gs),_(Ce),_(yi))},n.\u0275dir=$({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ZR{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let It=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,a)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ZR(r.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const s=i.get(o);i.move(s,a),t0(s,r)}});for(let r=0,o=i.length;r<o;r++){const s=i.get(r).context;s.index=r,s.count=o,s.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{t0(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(_(jt),_(Qt),_(uc))},n.\u0275dir=$({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function t0(n,t){n.context.$implicit=t.item}let at=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new XR,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){n0("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){n0("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(_(jt),_(Qt))},n.\u0275dir=$({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class XR{constructor(){this.$implicit=null,this.ngIf=null}}function n0(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Pe(t)}'.`)}let o0=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(_(jt))},n.\u0275dir=$({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[sn]}),n})();function ai(n,t){return new z(2100,"")}const uF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Vn=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ai();return e.replace(uF,i=>i[0].toUpperCase()+i.substr(1).toLowerCase())}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=At({name:"titlecase",type:n,pure:!0}),n})(),Sc=(()=>{class n{constructor(e){this.differs=e,this.keyValues=[],this.compareFn=a0}transform(e,i=a0){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const r=this.differ.diff(e),o=i!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(a=>{this.keyValues.push(function yF(n,t){return{key:n,value:t}}(a.key,a.currentValue))})),(r||o)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return n.\u0275fac=function(e){return new(e||n)(_(gs,16))},n.\u0275pipe=At({name:"keyvalue",type:n,pure:!1}),n})();function a0(n,t){const e=n.key,i=t.key;if(e===i)return 0;if(void 0===e)return 1;if(void 0===i)return-1;if(null===e)return 1;if(null===i)return-1;if("string"==typeof e&&"string"==typeof i)return e<i?-1:1;if("number"==typeof e&&"number"==typeof i)return e-i;if("boolean"==typeof e&&"boolean"==typeof i)return e<i?-1:1;const r=String(e),o=String(i);return r==o?0:r<o?-1:1}let Nr=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!jf(e))return null;r=r||this._locale;try{return function YR(n,t,e){return Lf(n,Nf(Pf(t,un.Decimal),Nn(t,Q.MinusSign)),t,Q.Group,Q.Decimal,e)}(qf(e),r,i)}catch(o){throw ai()}}}return n.\u0275fac=function(e){return new(e||n)(_(Bi,16))},n.\u0275pipe=At({name:"number",type:n,pure:!0}),n})(),wc=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!jf(e))return null;r=r||this._locale;try{return function zR(n,t,e){return Lf(n,Nf(Pf(t,un.Percent),Nn(t,Q.MinusSign)),t,Q.Group,Q.Decimal,e,!0).replace(new RegExp("%","g"),Nn(t,Q.PercentSign))}(qf(e),r,i)}catch(o){throw ai()}}}return n.\u0275fac=function(e){return new(e||n)(_(Bi,16))},n.\u0275pipe=At({name:"percent",type:n,pure:!0}),n})();function jf(n){return!(null==n||""===n||n!=n)}function qf(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let bs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})();const s0="browser";let MF=(()=>{class n{}return n.\u0275prov=R({token:n,providedIn:"root",factory:()=>new DF(S(ve),window)}),n})();class DF{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xF(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const a=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(a)return a}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=l0(this.window.history)||l0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function l0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class zf extends class EF extends class aR{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function oR(n){hc||(hc=n)}(new zf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function AF(){return Ss=Ss||document.querySelector("base"),Ss?Ss.getAttribute("href"):null}();return null==e?null:function PF(n){Cc=Cc||document.createElement("a"),Cc.setAttribute("href",n);const t=Cc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ss=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function JR(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Cc,Ss=null;const c0=new q("TRANSITION_ID"),OF=[{provide:mf,useFactory:function IF(n,t,e){return()=>{e.get(gf).donePromise.then(()=>{const i=_i(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[c0,ve,_e],multi:!0}];class Yf{static init(){!function IO(n){Cf=n}(new Yf)}addToWindow(t){Oe.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},Oe.getAllAngularTestabilities=()=>t.getAllTestabilities(),Oe.getAllAngularRootElements=()=>t.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(i=>{const r=Oe.getAllAngularTestabilities();let o=r.length,a=!1;const s=function(l){a=a||l,o--,0==o&&i(a)};r.forEach(function(l){l.whenStable(s)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?_i().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let RF=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const kc=new q("EventManagerPlugins");let Mc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const a=r[o];if(a.supports(e))return this._eventNameToPlugin.set(e,a),a}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(S(kc),S(ge))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class u0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=_i().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let h0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends h0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const a=this._doc.createElement("style");a.textContent=o,r.push(i.appendChild(a))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(d0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(d0))}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function d0(n){_i().remove(n)}const $f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gf=/%COMP%/g;function Dc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Dc(n,r,e):(r=r.replace(Gf,n),e.push(r))}return e}function m0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let xc=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Wn.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new VF(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Wn.ShadowDom:return new UF(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Dc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(S(Mc),S(ws),S(ps))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class Wf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($f[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=$f[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$f[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(wn.DashCase|wn.Important)?t.style.setProperty(e,i,r&wn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&wn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,m0(i)):this.eventManager.addEventListener(t,e,m0(i))}}class VF extends Wf{constructor(t,e,i,r){super(t),this.component=i;const o=Dc(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function NF(n){return"_ngcontent-%COMP%".replace(Gf,n)}(r+"-"+i.id),this.hostAttr=function BF(n){return"_nghost-%COMP%".replace(Gf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class UF extends Wf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Dc(r.id,r.styles,[]);for(let a=0;a<o.length;a++){const s=document.createElement("style");s.textContent=o[a],this.shadowRoot.appendChild(s)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let jF=(()=>{class n extends u0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const v0=["alt","control","meta","shift"],zF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y0={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},YF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $F=(()=>{class n extends u0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),a=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(e,o.domEventName,a))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let a="";if(v0.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),a+=l+".")}),a+=o,0!=i.length||0===o.length)return null;const s={};return s.domEventName=r,s.fullKey=a,s}static getEventFullKey(e){let i="",r=function GF(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&y0.hasOwnProperty(t)&&(t=y0[t]))}return zF[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),v0.forEach(o=>{o!=r&&YF[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const QF=xS(nR,"browser",[{provide:yf,useValue:s0},{provide:bS,useValue:function WF(){zf.makeCurrent(),Yf.init()},multi:!0},{provide:ve,useFactory:function JF(){return function vD(n){dh=n}(document),document},deps:[]}]),ZF=[{provide:xd,useValue:"root"},{provide:ir,useFactory:function KF(){return new ir},deps:[]},{provide:kc,useClass:jF,multi:!0,deps:[ve,ge,yf]},{provide:kc,useClass:$F,multi:!0,deps:[ve]},{provide:xc,useClass:xc,deps:[Mc,ws,ps]},{provide:cs,useExisting:xc},{provide:h0,useExisting:ws},{provide:ws,useClass:ws,deps:[ve]},{provide:wf,useClass:wf,deps:[ge]},{provide:Mc,useClass:Mc,deps:[kc,ge]},{provide:class TF{},useClass:RF,deps:[]}];let _0=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:ps,useValue:e.appId},{provide:c0,useExisting:ps},OF]}}}return n.\u0275fac=function(e){return new(e||n)(S(n,12))},n.\u0275mod=He({type:n}),n.\u0275inj=Le({providers:ZF,imports:[bs,iR]}),n})();"undefined"!=typeof window&&window;let Jf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new(e||n):S(w0),i},providedIn:"root"}),n})(),w0=(()=>{class n extends Jf{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ee.NONE:return i;case Ee.HTML:return hi(i,"HTML")?Sn(i):Pv(this._doc,String(i)).toString();case Ee.STYLE:return hi(i,"Style")?Sn(i):i;case Ee.SCRIPT:if(hi(i,"Script"))return Sn(i);throw new Error("unsafe value used in a script context");case Ee.URL:return Cv(i),hi(i,"URL")?Sn(i):qa(String(i));case Ee.RESOURCE_URL:if(hi(i,"ResourceURL"))return Sn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function Ax(n){return new Mx(n)}(e)}bypassSecurityTrustStyle(e){return function Px(n){return new Dx(n)}(e)}bypassSecurityTrustScript(e){return function Ix(n){return new xx(n)}(e)}bypassSecurityTrustUrl(e){return function Ox(n){return new Tx(n)}(e)}bypassSecurityTrustResourceUrl(e){return function Rx(n){return new Ex(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:function(e){let i=null;return i=e?new e:function lL(n){return new w0(n.get(ve))}(S(_e)),i},providedIn:"root"}),n})();function Z(...n){return Mt(n,ka(n))}class Un extends ae{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const{isArray:cL}=Array,{getPrototypeOf:uL,prototype:hL,keys:dL}=Object;function C0(n){if(1===n.length){const t=n[0];if(cL(t))return{args:t,keys:null};if(function fL(n){return n&&"object"==typeof n&&uL(n)===hL}(t)){const e=dL(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:pL}=Array;function Qf(n){return de(t=>function mL(n,t){return pL(t)?n(...t):n(t)}(n,t))}function k0(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function M0(...n){const t=ka(n),e=gg(n),{args:i,keys:r}=C0(n);if(0===i.length)return Mt([],t);const o=new ze(function gL(n,t,e=Ji){return i=>{D0(t,()=>{const{length:r}=n,o=new Array(r);let a=r,s=r;for(let l=0;l<r;l++)D0(t,()=>{const c=Mt(n[l],t);let u=!1;c.subscribe(Je(i,f=>{o[l]=f,u||(u=!0,s--),s||i.next(e(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}(i,t,r?a=>k0(r,a):Ji));return e?o.pipe(Qf(e)):o}function D0(n,t,e){n?xi(e,n,t):t()}function Cs(n,t){const e=xe(n)?n:()=>n,i=r=>r.error(e());return new ze(t?r=>t.schedule(i,0,r):i)}const Tc=Hu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ec(...n){return function vL(){return Ca(1)}()(Mt(n,ka(n)))}function Zf(n){return new ze(t=>{mn(n()).subscribe(t)})}function x0(){return it((n,t)=>{let e=null;n._refCount++;const i=Je(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class yL extends ze{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,ng(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ke;const e=this.getSubject();t.add(this.source.subscribe(Je(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ke.EMPTY)}return t}refCount(){return x0()(this)}}function Br(n,t){return it((e,i)=>{let r=null,o=0,a=!1;const s=()=>a&&!r&&i.complete();e.subscribe(Je(i,l=>{null==r||r.unsubscribe();let c=0;const u=o++;mn(n(l,u)).subscribe(r=Je(i,f=>i.next(t?t(l,f,u,c++):f),()=>{r=null,s()}))},()=>{a=!0,s()}))})}function ks(...n){const t=ka(n);return it((e,i)=>{(t?Ec(n,e,t):Ec(n,e)).subscribe(i)})}function _L(n,t,e,i,r){return(o,a)=>{let s=e,l=t,c=0;o.subscribe(Je(a,u=>{const f=c++;l=s?n(l,u,f):(s=!0,u),i&&a.next(l)},r&&(()=>{s&&a.next(l),a.complete()})))}}function T0(n,t){return it(_L(n,t,arguments.length>=2,!0))}function hn(n,t){return it((e,i)=>{let r=0;e.subscribe(Je(i,o=>n.call(t,o,r++)&&i.next(o)))})}function Ui(n){return it((t,e)=>{let o,i=null,r=!1;i=t.subscribe(Je(e,void 0,void 0,a=>{o=mn(n(a,Ui(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Xo(n,t){return xe(t)?vt(n,t,1):vt(n,1)}function Xf(n){return n<=0?()=>Ti:it((t,e)=>{let i=[];t.subscribe(Je(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function E0(n=bL){return it((t,e)=>{let i=!1;t.subscribe(Je(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function bL(){return new Tc}function A0(n){return it((t,e)=>{let i=!1;t.subscribe(Je(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ea(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):Ji,on(1),e?A0(t):E0(()=>new Tc))}function Ot(n,t,e){const i=xe(n)||t||e?{next:n,error:t,complete:e}:n;return i?it((r,o)=>{var a;null===(a=i.subscribe)||void 0===a||a.call(i);let s=!0;r.subscribe(Je(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;s=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;s=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;s&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ji}function P0(n){return it((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class ji{constructor(t,e){this.id=t,this.url=e}}class ep extends ji{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ms extends ji{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class I0 extends ji{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wL extends ji{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CL extends ji{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kL extends ji{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ML extends ji{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DL extends ji{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xL extends ji{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class O0{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class R0{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class TL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AL{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class F0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ye="primary";class IL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ta(n){return new IL(n)}const L0="ngNavigationCancelingError";function tp(n){const t=Error("NavigationCancelingError: "+n);return t[L0]=!0,t}function RL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const a=i[o],s=n[o];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!N0(n[r],t[r]))return!1;return!0}function N0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function B0(n){return Array.prototype.concat.apply([],n)}function H0(n){return n.length>0?n[n.length-1]:null}function Rt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Si(n){return Vd(n)?n:es(n)?Mt(Promise.resolve(n)):Z(n)}const NL={exact:function j0(n,t,e){if(!Vr(n.segments,t.segments)||!Ac(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!j0(n.children[i],t.children[i],e))return!1;return!0},subset:q0},V0={exact:function BL(n,t){return bi(n,t)},subset:function HL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>N0(n[e],t[e]))},ignored:()=>!0};function U0(n,t,e){return NL[e.paths](n.root,t.root,e.matrixParams)&&V0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function q0(n,t,e){return z0(n,t,t.segments,e)}function z0(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Vr(r,e)||t.hasChildren()||!Ac(r,e,i))}if(n.segments.length===e.length){if(!Vr(n.segments,e)||!Ac(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!q0(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Vr(n.segments,r)&&Ac(n.segments,r,i)&&n.children[ye])&&z0(n.children[ye],t,o,i)}}function Ac(n,t,e){return t.every((i,r)=>V0[e](n[r].parameters,i.parameters))}class Hr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return jL.serialize(this)}}class Se{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Rt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pc(this)}}class Ds{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ta(this.parameters)),this._parameterMap}toString(){return K0(this)}}function Vr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Y0{}class $0{parse(t){const e=new QL(t);return new Hr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${xs(t.root,!0)}`,i=function YL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Ic(e)}=${Ic(r)}`).join("&"):`${Ic(e)}=${Ic(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qL(n){return encodeURI(n)}(t.fragment)}`:""}`}}const jL=new $0;function Pc(n){return n.segments.map(t=>K0(t)).join("/")}function xs(n,t){if(!n.hasChildren())return Pc(n);if(t){const e=n.children[ye]?xs(n.children[ye],!1):"",i=[];return Rt(n.children,(r,o)=>{o!==ye&&i.push(`${o}:${xs(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function UL(n,t){let e=[];return Rt(n.children,(i,r)=>{r===ye&&(e=e.concat(t(i,r)))}),Rt(n.children,(i,r)=>{r!==ye&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ye?[xs(n.children[ye],!1)]:[`${r}:${xs(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ye]?`${Pc(n)}/${e[0]}`:`${Pc(n)}/(${e.join("//")})`}}function G0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ic(n){return G0(n).replace(/%3B/gi,";")}function np(n){return G0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oc(n){return decodeURIComponent(n)}function W0(n){return Oc(n.replace(/\+/g,"%20"))}function K0(n){return`${np(n.path)}${function zL(n){return Object.keys(n).map(t=>`;${np(t)}=${np(n[t])}`).join("")}(n.parameters)}`}const $L=/^[^\/()?;=#]+/;function Rc(n){const t=n.match($L);return t?t[0]:""}const GL=/^[^=?&#]+/,KL=/^[^&#]+/;class QL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ye]=new Se(t,e)),i}parseSegment(){const t=Rc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ds(Oc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Rc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Rc(this.remaining);r&&(i=r,this.capture(i))}t[Oc(e)]=Oc(i)}parseQueryParam(t){const e=function WL(n){const t=n.match(GL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=function JL(n){const t=n.match(KL);return t?t[0]:""}(this.remaining);a&&(i=a,this.capture(i))}const r=W0(e),o=W0(i);if(t.hasOwnProperty(r)){let a=t[r];Array.isArray(a)||(a=[a],t[r]=a),a.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Rc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ye);const a=this.parseChildren();e[o]=1===Object.keys(a).length?a[ye]:new Se([],a),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class J0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ip(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ip(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rp(t,this._root).map(e=>e.value)}}function ip(n,t){if(n===t.value)return t;for(const e of t.children){const i=ip(n,e);if(i)return i}return null}function rp(n,t){if(n===t.value)return[t];for(const e of t.children){const i=rp(n,e);if(i.length)return i.unshift(t),i}return[]}class qi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function na(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Q0 extends J0{constructor(t,e){super(t),this.snapshot=e,op(this,t)}toString(){return this.snapshot.toString()}}function Z0(n,t){const e=function ZL(n,t){const a=new Fc([],{},{},"",{},ye,t,null,n.root,-1,{});return new ew("",new qi(a,[]))}(n,t),i=new Un([new Ds("",{})]),r=new Un({}),o=new Un({}),a=new Un({}),s=new Un(""),l=new ia(i,r,a,s,o,ye,t,e.root);return l.snapshot=e.root,new Q0(new qi(l,[]),e)}class ia{constructor(t,e,i,r,o,a,s,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(de(t=>ta(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(de(t=>ta(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function X0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function XL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Fc{constructor(t,e,i,r,o,a,s,l,c,u,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ew extends J0{constructor(t,e){super(e),this.url=t,op(this,e)}toString(){return tw(this._root)}}function op(n,t){t.value._routerState=n,t.children.forEach(e=>op(n,e))}function tw(n){const t=n.children.length>0?` { ${n.children.map(tw).join(", ")} } `:"";return`${n.value}${t}`}function ap(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bi(t.params,e.params)||n.params.next(e.params),function FL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function sp(n,t){const e=bi(n.params,t.params)&&function VL(n,t){return Vr(n,t)&&n.every((e,i)=>bi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||sp(n.parent,t.parent))}function Ts(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function tN(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ts(n,i,r);return Ts(n,i)})}(n,t,e);return new qi(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Ts(n,s)),a}}const i=function nN(n){return new ia(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Ts(n,o));return new qi(i,r)}}function Lc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Es(n){return"object"==typeof n&&null!=n&&n.outlets}function lp(n,t,e,i,r){let o={};if(i&&Rt(i,(s,l)=>{o[l]=Array.isArray(s)?s.map(c=>`${c}`):`${s}`}),n===t)return new Hr(e,o,r);const a=nw(n,t,e);return new Hr(a,o,r)}function nw(n,t,e){const i={};return Rt(n.children,(r,o)=>{i[o]=r===t?e:nw(r,t,e)}),new Se(n.segments,i)}class iw{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Lc(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Es);if(r&&r!==H0(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class cp{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function rw(n,t,e){if(n||(n=new Se([],{})),0===n.segments.length&&n.hasChildren())return Nc(n,t,e);const i=function lN(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const a=n.segments[r],s=e[i];if(Es(s))break;const l=`${s}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!aw(l,c,a))return o;i+=2}else{if(!aw(l,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Se(n.segments.slice(0,i.pathIndex),{});return o.children[ye]=new Se(n.segments.slice(i.pathIndex),n.children),Nc(o,0,r)}return i.match&&0===r.length?new Se(n.segments,{}):i.match&&!n.hasChildren()?up(n,t,e):i.match?Nc(n,0,r):up(n,t,e)}function Nc(n,t,e){if(0===e.length)return new Se(n.segments,{});{const i=function sN(n){return Es(n[0])?n[0].outlets:{[ye]:n}}(e),r={};return Rt(i,(o,a)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[a]=rw(n.children[a],t,o))}),Rt(n.children,(o,a)=>{void 0===i[a]&&(r[a]=o)}),new Se(n.segments,r)}}function up(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Es(o)){const l=cN(o.outlets);return new Se(i,l)}if(0===r&&Lc(e[0])){i.push(new Ds(n.segments[t].path,ow(e[0]))),r++;continue}const a=Es(o)?o.outlets[ye]:`${o}`,s=r<e.length-1?e[r+1]:null;a&&s&&Lc(s)?(i.push(new Ds(a,ow(s))),r+=2):(i.push(new Ds(a,{})),r++)}return new Se(i,{})}function cN(n){const t={};return Rt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=up(new Se([],{}),0,e))}),t}function ow(n){const t={};return Rt(n,(e,i)=>t[i]=`${e}`),t}function aw(n,t,e){return n==e.path&&bi(t,e.parameters)}class hN{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),ap(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=na(e);t.children.forEach(o=>{const a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Rt(r,(o,a)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=na(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);if(i&&i.outlet){const a=i.outlet.detach(),s=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=na(t);for(const a of Object.keys(o))this.deactivateRouteAndItsChildren(o[a],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=na(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new PL(o.value.snapshot))}),t.children.length&&this.forwardEvent(new EL(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(ap(r),r===o)if(r.component){const a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),ap(s.route.value),this.activateChildRoutes(t,null,a.children)}else{const s=function dN(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=s?s.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=l,a.outlet&&a.outlet.activateWith(r,l),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,i)}}class hp{constructor(t,e){this.routes=t,this.module=e}}function sr(n){return"function"==typeof n}function Ur(n){return n instanceof Hr}const As=Symbol("INITIAL_VALUE");function Ps(){return Br(n=>M0(n.map(t=>t.pipe(on(1),ks(As)))).pipe(T0((t,e)=>{let i=!1;return e.reduce((r,o,a)=>r!==As?r:(o===As&&(i=!0),i||!1!==o&&a!==e.length-1&&!Ur(o)?r:o),t)},As),hn(t=>t!==As),de(t=>Ur(t)?t:!0===t),on(1)))}class yN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Is,this.attachRef=null}}class Is{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let sw=(()=>{class n{constructor(e,i,r,o,a){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new he,this.deactivateEvents=new he,this.attachEvents=new he,this.detachEvents=new he,this.name=o||ye,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const a=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,l=new _N(e,s,this.location.injector);this.activated=this.location.createComponent(a,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(_(Is),_(jt),_(Fi),yo("name"),_(Mn))},n.\u0275dir=$({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class _N{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ia?this.route:t===Is?this.childContexts:this.parent.get(t,e)}}let lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=le({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&N(0,"router-outlet")},directives:[sw],encapsulation:2}),n})();function cw(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];bN(i,SN(t,i))}}function bN(n,t){n.children&&cw(n.children,t)}function SN(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function dp(n){const t=n.children&&n.children.map(dp),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ye&&(e.component=lw),e}function jn(n){return n.outlet||ye}function uw(n,t){const e=n.filter(i=>jn(i)===t);return e.push(...n.filter(i=>jn(i)!==t)),e}const hw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bc(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},hw):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||RL)(e,n,t);if(!o)return Object.assign({},hw);const a={};Rt(o.posParams,(l,c)=>{a[c]=l.path});const s=o.consumed.length>0?Object.assign(Object.assign({},a),o.consumed[o.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function Hc(n,t,e,i,r="corrected"){if(e.length>0&&function kN(n,t,e){return e.some(i=>Vc(n,t,i)&&jn(i)!==ye)}(n,e,i)){const a=new Se(t,function CN(n,t,e,i){const r={};r[ye]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&jn(o)!==ye){const a=new Se([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,r[jn(o)]=a}return r}(n,t,i,new Se(e,n.children)));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===e.length&&function MN(n,t,e){return e.some(i=>Vc(n,t,i))}(n,e,i)){const a=new Se(n.segments,function wN(n,t,e,i,r,o){const a={};for(const s of i)if(Vc(n,e,s)&&!r[jn(s)]){const l=new Se([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,a[jn(s)]=l}return Object.assign(Object.assign({},r),a)}(n,t,e,i,n.children,r));return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}const o=new Se(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function Vc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function dw(n,t,e,i){return!!(jn(n)===i||i!==ye&&Vc(t,e,n))&&("**"===n.path||Bc(t,n,e).matched)}function fw(n,t,e){return 0===t.length&&!n.children[e]}class Uc{constructor(t){this.segmentGroup=t||null}}class pw{constructor(t){this.urlTree=t}}function Os(n){return Cs(new Uc(n))}function mw(n){return Cs(new pw(n))}class EN{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(Li)}apply(){const t=Hc(this.urlTree.root,[],[],this.config).segmentGroup,e=new Se(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ye).pipe(de(o=>this.createUrlTree(fp(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ui(o=>{if(o instanceof pw)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Uc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ye).pipe(de(r=>this.createUrlTree(fp(r),t.queryParams,t.fragment))).pipe(Ui(r=>{throw r instanceof Uc?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Se([],{[ye]:t}):t;return new Hr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(de(o=>new Se([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Mt(r).pipe(Xo(o=>{const a=i.children[o],s=uw(e,o);return this.expandSegmentGroup(t,s,a,o).pipe(de(l=>({segment:l,outlet:o})))}),T0((o,a)=>(o[a.outlet]=a.segment,o),{}),function SL(n,t){const e=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):Ji,Xf(1),e?A0(t):E0(()=>new Tc))}())}expandSegment(t,e,i,r,o,a){return Mt(i).pipe(Xo(s=>this.expandSegmentAgainstRoute(t,e,i,s,r,o,a).pipe(Ui(c=>{if(c instanceof Uc)return Z(null);throw c}))),ea(s=>!!s),Ui((s,l)=>{if(s instanceof Tc||"EmptyError"===s.name)return fw(e,r,o)?Z(new Se([],{})):Os(e);throw s}))}expandSegmentAgainstRoute(t,e,i,r,o,a,s){return dw(r,e,o,a)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,a):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a):Os(e):Os(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?mw(o):this.lineralizeSegments(i,o).pipe(vt(a=>{const s=new Se(a,{});return this.expandSegment(t,s,e,a,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,a){const{matched:s,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Bc(e,r,o);if(!s)return Os(e);const f=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?mw(f):this.lineralizeSegments(r,f).pipe(vt(m=>this.expandSegment(t,e,i,m.concat(c),a,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Z(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(de(f=>(i._loadedConfig=f,new Se(r,{})))):Z(new Se(r,{}));const{matched:a,consumedSegments:s,remainingSegments:l}=Bc(e,i,r);return a?this.getChildConfig(t,i,r).pipe(vt(u=>{const f=u.module,m=u.routes,{segmentGroup:v,slicedSegments:y}=Hc(e,s,l,m),w=new Se(v.segments,v.children);if(0===y.length&&w.hasChildren())return this.expandChildren(f,m,w).pipe(de(E=>new Se(s,E)));if(0===m.length&&0===y.length)return Z(new Se(s,{}));const D=jn(i)===o;return this.expandSegment(f,w,m,y,D?ye:o,!0).pipe(de(k=>new Se(s.concat(k.segments),k.children)))})):Os(e)}getChildConfig(t,e,i){return e.children?Z(new hp(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Z(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(vt(r=>r?this.configLoader.load(t.injector,e).pipe(de(o=>(e._loadedConfig=o,o))):function xN(n){return Cs(tp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Z(new hp([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;return r&&0!==r.length?Z(r.map(a=>{const s=t.get(a);let l;if(function pN(n){return n&&sr(n.canLoad)}(s))l=s.canLoad(e,i);else{if(!sr(s))throw new Error("Invalid CanLoad guard");l=s(e,i)}return Si(l)})).pipe(Ps(),Ot(a=>{if(!Ur(a))return;const s=tp(`Redirecting to "${this.urlSerializer.serialize(a)}"`);throw s.url=a,s}),de(a=>!0===a)):Z(!0)}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Z(i);if(r.numberOfChildren>1||!r.children[ye])return Cs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));r=r.children[ye]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Hr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Rt(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const s=r.substring(1);i[o]=e[s]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let a={};return Rt(e.children,(s,l)=>{a[l]=this.createSegmentGroup(t,s,i,r)}),new Se(o,a)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function fp(n){const t={};for(const i of Object.keys(n.children)){const o=fp(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function AN(n){if(1===n.numberOfChildren&&n.children[ye]){const t=n.children[ye];return new Se(n.segments.concat(t.segments),t.children)}return n}(new Se(n.segments,t))}class gw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jc{constructor(t,e){this.component=t,this.route=e}}function IN(n,t,e){const i=n._root;return Rs(i,t?t._root:null,e,[i.value])}function qc(n,t,e){const i=function RN(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Rs(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=na(t);return n.children.forEach(a=>{(function FN(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,a=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const l=function LN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vr(n.url,t.url)||!bi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sp(n,t)||!bi(n.queryParams,t.queryParams);default:return!sp(n,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new gw(i)):(o.data=a.data,o._resolvedData=a._resolvedData),Rs(n,t,o.component?s?s.children:null:e,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new jc(s.outlet.component,a))}else a&&Fs(t,s,r),r.canActivateChecks.push(new gw(i)),Rs(n,null,o.component?s?s.children:null:e,i,r)})(a,o[a.value.outlet],e,i.concat([a.value]),r),delete o[a.value.outlet]}),Rt(o,(a,s)=>Fs(a,e.getContext(s),r)),r}function Fs(n,t,e){const i=na(n),r=n.value;Rt(i,(o,a)=>{Fs(o,r.component?t?t.children.getContext(a):null:t,e)}),e.canDeactivateChecks.push(new jc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class YN{}function vw(n){return new ze(t=>t.error(n))}class GN{constructor(t,e,i,r,o,a){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}recognize(){const t=Hc(this.urlTree.root,[],[],this.config.filter(a=>void 0===a.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ye);if(null===e)return null;const i=new Fc([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ye,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new qi(i,e),o=new ew(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=X0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const a=e.children[o],s=uw(t,o),l=this.processSegmentGroup(s,a,o);if(null===l)return null;i.push(...l)}const r=yw(i);return function WN(n){n.sort((t,e)=>t.value.outlet===ye?-1:e.value.outlet===ye?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const a=this.processSegmentAgainstRoute(o,e,i,r);if(null!==a)return a}return fw(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!dw(t,e,i,r))return null;let o,a=[],s=[];if("**"===t.path){const v=i.length>0?H0(i).parameters:{};o=new Fc(i,v,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sw(t),jn(t),t.component,t,_w(e),bw(e)+i.length,ww(t))}else{const v=Bc(e,t,i);if(!v.matched)return null;a=v.consumedSegments,s=v.remainingSegments,o=new Fc(a,v.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sw(t),jn(t),t.component,t,_w(e),bw(e)+a.length,ww(t))}const l=function KN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Hc(e,a,s,l.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const v=this.processChildren(l,c);return null===v?null:[new qi(o,v)]}if(0===l.length&&0===u.length)return[new qi(o,[])];const f=jn(t)===r,m=this.processSegment(l,c,u,f?ye:r);return null===m?null:[new qi(o,m)]}}function JN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function yw(n){const t=[],e=new Set;for(const i of n){if(!JN(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=yw(i.children);t.push(new qi(i.value,r))}return t.filter(i=>!e.has(i))}function _w(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function bw(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Sw(n){return n.data||{}}function ww(n){return n.resolve||{}}function Cw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function pp(n){return Br(t=>{const e=n(t);return e?Mt(e).pipe(de(()=>t)):Z(t)})}class o2 extends class r2{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const mp=new q("ROUTES");class kw{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(de(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const a=o.create(t);return new hp(B0(a.injector.get(mp,void 0,te.Self|te.Optional)).map(dp),a)}),Ui(o=>{throw e._loader$=void 0,o}));return e._loader$=new yL(r,()=>new ae).pipe(x0()),e._loader$}loadModuleFactory(t){return Si(t()).pipe(vt(e=>e instanceof Vb?Z(e):Mt(this.compiler.compileModuleAsync(e))))}}class s2{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function l2(n){throw n}function c2(n,t,e){return t.parse("/")}function Mw(n,t){return Z(null)}const u2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},h2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Dn=(()=>{class n{constructor(e,i,r,o,a,s,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ae,this.errorHandler=l2,this.malformedUriErrorHandler=c2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mw,afterPreactivation:Mw},this.urlHandlingStrategy=new s2,this.routeReuseStrategy=new o2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=a.get(Li),this.console=a.get(_O);const f=a.get(ge);this.isNgZoneEnabled=f instanceof ge&&ge.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function LL(){return new Hr(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kw(a,s,m=>this.triggerEvent(new O0(m)),m=>this.triggerEvent(new R0(m))),this.routerState=Z0(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(hn(r=>0!==r.id),de(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Br(r=>{let o=!1,a=!1;return Z(r).pipe(Ot(s=>{this.currentNavigation={id:s.id,initialUrl:s.currentRawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Br(s=>{const l=this.browserUrlTree.toString(),c=!this.navigated||s.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return Dw(s.source)&&(this.browserUrlTree=s.extractedUrl),Z(s).pipe(Br(f=>{const m=this.transitions.getValue();return i.next(new ep(f.id,this.serializeUrl(f.extractedUrl),f.source,f.restoredState)),m!==this.transitions.getValue()?Ti:Promise.resolve(f)}),function PN(n,t,e,i){return Br(r=>function TN(n,t,e,i,r){return new EN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(de(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ot(f=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:f.urlAfterRedirects})}),function QN(n,t,e,i,r){return vt(o=>function $N(n,t,e,i,r="emptyOnly",o="legacy"){try{const a=new GN(n,t,e,i,r,o).recognize();return null===a?vw(new YN):Z(a)}catch(a){return vw(a)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(de(a=>Object.assign(Object.assign({},o),{targetSnapshot:a}))))}(this.rootComponentType,this.config,f=>this.serializeUrl(f),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ot(f=>{if("eager"===this.urlUpdateStrategy){if(!f.extras.skipLocationChange){const v=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.setBrowserUrl(v,f)}this.browserUrlTree=f.urlAfterRedirects}const m=new CL(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);i.next(m)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:v,source:y,restoredState:w,extras:D}=s,T=new ep(m,this.serializeUrl(v),y,w);i.next(T);const k=Z0(v,this.rootComponentType).snapshot;return Z(Object.assign(Object.assign({},s),{targetSnapshot:k,urlAfterRedirects:v,extras:Object.assign(Object.assign({},D),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=s.rawUrl,s.resolve(null),Ti}),pp(s=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:f,extras:{skipLocationChange:m,replaceUrl:v}}=s;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:f,skipLocationChange:!!m,replaceUrl:!!v})}),Ot(s=>{const l=new kL(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(s.urlAfterRedirects),s.targetSnapshot);this.triggerEvent(l)}),de(s=>Object.assign(Object.assign({},s),{guards:IN(s.targetSnapshot,s.currentSnapshot,this.rootContexts)})),function NN(n,t){return vt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=e;return 0===a.length&&0===o.length?Z(Object.assign(Object.assign({},e),{guardsResult:!0})):function BN(n,t,e,i){return Mt(n).pipe(vt(r=>function zN(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Z(o.map(s=>{const l=qc(s,t,r);let c;if(function vN(n){return n&&sr(n.canDeactivate)}(l))c=Si(l.canDeactivate(n,t,e,i));else{if(!sr(l))throw new Error("Invalid CanDeactivate guard");c=Si(l(n,t,e,i))}return c.pipe(ea())})).pipe(Ps()):Z(!0)}(r.component,r.route,e,t,i)),ea(r=>!0!==r,!0))}(a,i,r,n).pipe(vt(s=>s&&function fN(n){return"boolean"==typeof n}(s)?function HN(n,t,e,i){return Mt(t).pipe(Xo(r=>Ec(function UN(n,t){return null!==n&&t&&t(new TL(n)),Z(!0)}(r.route.parent,i),function VN(n,t){return null!==n&&t&&t(new AL(n)),Z(!0)}(r.route,i),function qN(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>function ON(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(a)).filter(a=>null!==a).map(a=>Zf(()=>Z(a.guards.map(l=>{const c=qc(l,a.node,e);let u;if(function gN(n){return n&&sr(n.canActivateChild)}(c))u=Si(c.canActivateChild(i,n));else{if(!sr(c))throw new Error("Invalid CanActivateChild guard");u=Si(c(i,n))}return u.pipe(ea())})).pipe(Ps())));return Z(o).pipe(Ps())}(n,r.path,e),function jN(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Z(!0);const r=i.map(o=>Zf(()=>{const a=qc(o,t,e);let s;if(function mN(n){return n&&sr(n.canActivate)}(a))s=Si(a.canActivate(t,n));else{if(!sr(a))throw new Error("Invalid CanActivate guard");s=Si(a(t,n))}return s.pipe(ea())}));return Z(r).pipe(Ps())}(n,r.route,e))),ea(r=>!0!==r,!0))}(i,o,n,t):Z(s)),de(s=>Object.assign(Object.assign({},e),{guardsResult:s})))})}(this.ngModule.injector,s=>this.triggerEvent(s)),Ot(s=>{if(Ur(s.guardsResult)){const c=tp(`Redirecting to "${this.serializeUrl(s.guardsResult)}"`);throw c.url=s.guardsResult,c}const l=new ML(s.id,this.serializeUrl(s.extractedUrl),this.serializeUrl(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.triggerEvent(l)}),hn(s=>!!s.guardsResult||(this.restoreHistory(s),this.cancelNavigationTransition(s,""),!1)),pp(s=>{if(s.guards.canActivateChecks.length)return Z(s).pipe(Ot(l=>{const c=new DL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Br(l=>{let c=!1;return Z(l).pipe(function ZN(n,t){return vt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Z(e);let o=0;return Mt(r).pipe(Xo(a=>function XN(n,t,e,i){return function e2(n,t,e,i){const r=Cw(n);if(0===r.length)return Z({});const o={};return Mt(r).pipe(vt(a=>function t2(n,t,e,i){const r=qc(n,t,i);return Si(r.resolve?r.resolve(t,e):r(t,e))}(n[a],t,e,i).pipe(Ot(s=>{o[a]=s}))),Xf(1),vt(()=>Cw(o).length===r.length?Z(o):Ti))}(n._resolve,n,t,i).pipe(de(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),X0(n,e).resolve),null)))}(a.route,i,n,t)),Ot(()=>o++),Xf(1),vt(a=>o===r.length?Z(e):Ti))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ot({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Ot(l=>{const c=new xL(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),pp(s=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:f,extras:{skipLocationChange:m,replaceUrl:v}}=s;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:f,skipLocationChange:!!m,replaceUrl:!!v})}),de(s=>{const l=function eN(n,t,e){const i=Ts(n,t._root,e?e._root:void 0);return new Q0(i,t)}(this.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return Object.assign(Object.assign({},s),{targetRouterState:l})}),Ot(s=>{this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects)}),((n,t,e)=>de(i=>(new hN(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,s=>this.triggerEvent(s)),Ot({next(){o=!0},complete(){o=!0}}),P0(()=>{var s;o||a||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(s=this.currentNavigation)||void 0===s?void 0:s.id)===r.id&&(this.currentNavigation=null)}),Ui(s=>{if(a=!0,function OL(n){return n&&n[L0]}(s)){const l=Ur(s.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new I0(r.id,this.serializeUrl(r.extractedUrl),s.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(s.url,this.rawUrlTree),f={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Dw(r.source)};this.scheduleNavigation(u,"imperative",null,f,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new wL(r.id,this.serializeUrl(r.extractedUrl),s);i.next(l);try{r.resolve(this.errorHandler(s))}catch(c){r.reject(c)}}return Ti}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},a=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(a){const l=Object.assign({},a);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const s=this.parseUrl(e.url);this.scheduleNavigation(s,i,a,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){cw(e),this.config=e.map(dp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:a;let f=null;switch(s){case"merge":f=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}return null!==f&&(f=this.removeEmptyProps(f)),function iN(n,t,e,i,r){if(0===e.length)return lp(t.root,t.root,t.root,i,r);const o=function rN(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new iw(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,a)=>{if("object"==typeof o&&null!=o){if(o.outlets){const s={};return Rt(o.outlets,(l,c)=>{s[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:s}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===a?(o.split("/").forEach((s,l)=>{0==l&&"."===s||(0==l&&""===s?e=!0:".."===s?t++:""!=s&&r.push(s))}),r):[...r,o]},[]);return new iw(e,t,i)}(e);if(o.toRoot())return lp(t.root,t.root,new Se([],{}),i,r);const a=function oN(n,t,e){if(n.isAbsolute)return new cp(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new cp(o,o===t.root,0)}const i=Lc(n.commands[0])?0:1;return function aN(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new cp(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),s=a.processChildren?Nc(a.segmentGroup,a.index,o.commands):rw(a.segmentGroup,a.index,o.commands);return lp(t.root,a.segmentGroup,s,i,r)}(c,this.currentUrlTree,e,f,null!=u?u:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ur(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function d2(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},u2):!1===i?Object.assign({},h2):i,Ur(e))return U0(this.currentUrlTree,e,r);const o=this.parseUrl(e);return U0(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ms(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,a){var s,l;if(this.disposed)return Promise.resolve(!1);let c,u,f;a?(c=a.resolve,u=a.reject,f=a.promise):f=new Promise((y,w)=>{c=y,u=w});const m=++this.navigationId;let v;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),v=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):v=0,this.setTransition({id:m,targetPageId:v,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:c,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===a?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===a&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(a)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new I0(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Gl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function Dw(n){return"imperative"!==n}class xw{}class Tw{preload(t,e){return Z(null)}}let Ew=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new kw(r,i,l=>e.triggerEvent(new O0(l)),l=>e.triggerEvent(new R0(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(hn(e=>e instanceof Ms),Xo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Li);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return Mt(r).pipe(Ca(),de(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Z(i._loadedConfig):this.loader.load(e.injector,i)).pipe(vt(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(S(Dn),S(wS),S(_e),S(xw))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),yp=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ep?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ms&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof F0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new F0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Gl()},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const jr=new q("ROUTER_CONFIGURATION"),Aw=new q("ROUTER_FORROOT_GUARD"),g2=[vs,{provide:Y0,useClass:$0},{provide:Dn,useFactory:function S2(n,t,e,i,r,o,a={},s,l){const c=new Dn(null,n,t,e,i,r,B0(o));return s&&(c.urlHandlingStrategy=s),l&&(c.routeReuseStrategy=l),function w2(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,c),a.enableTracing&&c.events.subscribe(u=>{var f,m;null===(f=console.group)||void 0===f||f.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(m=console.groupEnd)||void 0===m||m.call(console)}),c},deps:[Y0,Is,vs,_e,wS,mp,jr,[class a2{},new Zn],[class n2{},new Zn]]},Is,{provide:ia,useFactory:function C2(n){return n.routerState.root},deps:[Dn]},Ew,Tw,class m2{preload(t,e){return e().pipe(Ui(()=>Z(null)))}},{provide:jr,useValue:{enableTracing:!1}}];function v2(){return new DS("Router",Dn)}let Pw=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[g2,Iw(e),{provide:Aw,useFactory:b2,deps:[[Dn,new Zn,new ko]]},{provide:jr,useValue:i||{}},{provide:Zo,useFactory:_2,deps:[Lr,[new Al(Af),new Zn],jr]},{provide:yp,useFactory:y2,deps:[Dn,MF,jr]},{provide:xw,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Tw},{provide:DS,multi:!0,useFactory:v2},[_p,{provide:mf,multi:!0,useFactory:k2,deps:[_p]},{provide:Ow,useFactory:M2,deps:[_p]},{provide:SS,multi:!0,useExisting:Ow}]]}}static forChild(e){return{ngModule:n,providers:[Iw(e)]}}}return n.\u0275fac=function(e){return new(e||n)(S(Aw,8),S(Dn,8))},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})();function y2(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new yp(n,t,e)}function _2(n,t,e={}){return e.useHash?new hR(n,t):new YS(n,t)}function b2(n){return"guarded"}function Iw(n){return[{provide:ZD,multi:!0,useValue:n},{provide:mp,multi:!0,useValue:n}]}let _p=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ae}appInitializer(){return this.injector.get(lR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(s=>i=s),o=this.injector.get(Dn),a=this.injector.get(jr);return"disabled"===a.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===a.initialNavigation||"enabledBlocking"===a.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Z(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(jr),r=this.injector.get(Ew),o=this.injector.get(yp),a=this.injector.get(Dn),s=this.injector.get(ms);e===s.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&a.initialNavigation(),r.setUpPreloading(),o.init(),a.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(S(_e))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();function k2(n){return n.appInitializer.bind(n)}function M2(n){return n.bootstrapListener.bind(n)}const Ow=new q("Router Initializer"),x2=[];let T2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[Pw.forRoot(x2)],Pw]}),n})();const Rw=["adze","ahlspiess","aikuchi","aklys","arbir","arit","aruval","atgeir","axe","backsword","bakatwa","balisong","bardiche","barong","baselard","baton","battle-axe","bhuj","bichuwa","bilbo","bill","bisento","bludgeon","bokken","bolo","boomerang","brandistock","broadaxe","bo","cambuk","cestus","changdao","chigiriki","chokuto","cinquedea","claw","claymore","club","colichemarde","crop","crowbill","cumberjung","cutlass","dadao","dagger","dao","doloire","dory","dotanuki","dussack","eku","emeici","estoc","falcata","falchion","falx","fan","fauchard","firangi","flail","flamberge","flyssa","fork","fu","gada","gauntlet","gladius","glaive","goad","goedendag","golok","guan","guisarme","gurz","hachiwara","hakapik","haladie","halberd","hammer","handaxe","harpe","hasta","hatchet","hwando","hwandudaedo","ida","iklwa","jambiya","jawbone","ji","jian","jukjangchangbo","jutte","kaiken","kalis","kama","kampilan","karabela","karambit","kard","kaskara","kastane","katana","katar","katzbalger","kerala","khanda","khanjali","khanjar","khopesh","kila","kilij","kirpan","klewang","knife","knives","knobkierrie","ko","kodachi","kopis","kora","kotiate","krabi","kris","kudi","kujang","kukri","kurunthadi","kusari-gama","kyoketsu-shoge","labrys","lance","lathi","liuyedao","longsword","luwuk","macana","mace","machete","macuahuitl","maduvu","mallet","mameluke","man-catcher","mandau","manriki","masakari","mattock","maul","menavlion","mere","messer","misericorde","moplah","morning-star","morningstar","mubuchae","mughal","naboot","nagamaki","naginata","nair","nandao","ngao","nihonto","nimcha","ninjato","nodachi","nulbjakchang","nunchaku","nyepel","ono","palstave","panabas","partisan","pata","patag","patu","piandao","pichangatti","pick","pickaxe","pike","pinuti","pitchfork","planson","pudao","pulwar","punyal","qama","qiang","quarterstaff","ranseur","rapier","romphea","roundhead","rungu","saber","sabre","sagaris","sai","saif","saingeom","saintie","sang","sarissa","sasumata","scepter","scimitar","scythe","seax","shamshir","shareeravadi","shashka","shestopyor","shikomizue","shillelagh","shortsword","shuckra","sibat","sickle","sledgehammer","sodegarami","sovnya","spade","spadroon","spatha","spear","spetum","ssangsudo","staff","stick","suburito","surik","surujin","sword","swordstaff","szabla","tabak-toyok","tabarzin","taiaha","takoba","talibon","talwar","tambo","tanto","tekkan","tekko","tekpi","tepoztopilli","tewhatewha","tibetan","tlaximaltepoztli","tomahawk","tonfa","tongi","trident","trishula","tsurugi","ulfberh","vechevoral","vettukathi","voulge","waddy","waki","wheel","wodao","wrench","xiphos","yanmaodao","yari","yatagan","yawara","yoroi-do","yubi-bo","zanbato","zhanmadao","zhua","zweihander"],E2=["jacket","coat","breastplate","jerkin","hauberk","vest","tunic","chestguard"],A2=["pants","greaves","shinguards","trousers","shorts","leggings","skirt"],P2=["helmet","helm","mask","faceguard","cap","hat","hood"],I2=["sandals","boots","shoes","footwear","slippers"],wi=["atrocious","awful","dreadful","cheap","crummy","lousy","poor","abominable","rough","sad","gross","stinking","imperfect","flimsy","shoddy","inferior","bad","junky","unusual","aberrant","deviant","careless","cheesy","crappy","cruddy","defective","deficient","abnormal","dissatisfactory","erroneous","faulty","grungy","icky","inadequate","incorrect","slipshod","substandard","unsatisfactory","mediocre","inconsistent","anomalous","atypical","strange","ordinary","regular","common","fair","moderate","humdrum","intermediate","peculiar","medium","middling","standard","customary","everyday","passable","so-so","tolerable","undistinguished","unexceptional","decent","usual","green","blue","red","puce","mauve","scarlet","purple","acceptable","excellent","exceptional","familiar","favorable","positive","satisfactory","satisfying","nice","congenial","pleasing","sneaky","agreeable","polished","commendable","great","marvelous","superb","valuable","wonderful","boss","choice","prime","radical","superior","worthy","admirable","deluxe","first-class","first-rate","gnarly","honorable","neat","uncommon","precious","reputable","shipshape","splendid","stupendous","eminent","excellent","tiptop","odd","big","considerable","enormous","extreme","huge","immense","notable","strong","tremendous","vast","fat","husky","large","mammoth","ample","bulky","extended","rare","lovely","extensive","feral","howling","extravagant","gigantic","grievous","humongous","inordinate","jumbo","lengthy","long","oversize","malignant","fantastic","beautiful","magical","enchanted","prodigious","stupendous","titanic","towering","colossal","extraordinary","noteworthy","phenomenal","remarkable","singular","special","super","unique","unprecedented","unimaginable","unthinkable","heavenly","divine"],oa=["irritation","annoyance","embarassment","confusion","frostbite","flames","wounding","crushing","draining","bloodthirst","light","darkness","power","blasting","decimation","destruction","supremacy","obliteration","annihilation"],zc=["weak","boring","partial","limited","adequate","medium","substantial","blinding","complete","burning","total","explosive","poisonous","ethereal","overwhelming","incalculable","unfathomable","obliterating","limitless","infinite","eternal","supreme","perfect"],aa=["comfort","screening","safety","cover","shelter","protection","happiness","security","defense","light","darkness","immunity","power","inviolability","supremacy","invulnerability","invincibility"],Yc=["weak","scant","boring","limited","partial","adequate","medium","substantial","complete","total","overwhelming","incalculable","unfathomable","limitless","infinite","eternal","supreme","perfect"],sa=["patchouli","alangium","lobelia","lovage","anemone","kudzu","marlberry","aster","milkvetch","safflower","cinnamon","velvet leaf","goldthread","lilac","jimson","dendrobium","ephedra","forsythia","honeylocust","licorice","holly","motherwort","arborvitae","snakeroot","foxglove","stringbush","ginger","ginkgo","ginseng"],$c=["rotten","wilted","poor","weak","low-grade","average","healthy","abundant","quality","great","exceptional","amazing","spiritual"];var F=(()=>{return(n=F||(F={}))[n.OddJobs=0]="OddJobs",n[n.Resting=1]="Resting",n[n.Begging=2]="Begging",n[n.Blacksmithing=3]="Blacksmithing",n[n.GatherHerbs=4]="GatherHerbs",n[n.ChopWood=5]="ChopWood",n[n.Woodworking=6]="Woodworking",n[n.Leatherworking=7]="Leatherworking",n[n.Farming=8]="Farming",n[n.Mining=9]="Mining",n[n.Smelting=10]="Smelting",n[n.Hunting=11]="Hunting",n[n.Fishing=12]="Fishing",n[n.Alchemy=13]="Alchemy",n[n.Burning=14]="Burning",n[n.ManaControl=15]="ManaControl",n[n.BodyCultivation=16]="BodyCultivation",n[n.MindCultivation=17]="MindCultivation",n[n.CoreCultivation=18]="CoreCultivation",n[n.SoulCultivation=19]="SoulCultivation",n[n.InfuseBody=20]="InfuseBody",n[n.InfuseEquipment=21]="InfuseEquipment",n[n.ExtendLife=22]="ExtendLife",n[n.Recruiting=23]="Recruiting",n[n.TrainingFollowers=24]="TrainingFollowers",n[n.Swim=25]="Swim",n[n.ForgeChains=26]="ForgeChains",n[n.AttachChains=27]="AttachChains",n[n.MakeBrick=28]="MakeBrick",n[n.MakeMortar=29]="MakeMortar",n[n.MakeScaffold=30]="MakeScaffold",n[n.BuildTower=31]="BuildTower",n[n.ResearchWind=32]="ResearchWind",n[n.TameWinds=33]="TameWinds",n[n.LearnToFly=34]="LearnToFly",n[n.OfferDragonFood=35]="OfferDragonFood",n[n.OfferDragonWealth=36]="OfferDragonWealth",n[n.TalkToDragon=37]="TalkToDragon",n[n.GatherArmies=38]="GatherArmies",n[n.ConquerTheWorld=39]="ConquerTheWorld",n[n.MoveStars=40]="MoveStars",n[n.Taunting=41]="Taunting",n[n.EscapeHell=42]="EscapeHell",n[n.HellRecruiting=43]="HellRecruiting",n[n.BurnMoney=44]="BurnMoney",n[n.HonorAncestors=45]="HonorAncestors",n[n.CombatTraining=46]="CombatTraining",n[n.Rehabilitation=47]="Rehabilitation",n[n.CopperMining=48]="CopperMining",n[n.ForgeHammer=49]="ForgeHammer",n[n.ClimbMountain=50]="ClimbMountain",n[n.AttackClimbers=51]="AttackClimbers",n[n.MeltMountain=52]="MeltMountain",n[n.HealAnimals=53]="HealAnimals",n[n.PetRecruiting=54]="PetRecruiting",n[n.PetTraining=55]="PetTraining",n[n.LiftBoulder=56]="LiftBoulder",n[n.SearchForExit=57]="SearchForExit",n[n.TeachTheWay=58]="TeachTheWay",n[n.Hell=59]="Hell",F;var n})();class O2{constructor(t,e,i,r){this.logService=t,this.titlecasePipe=e,this.bigNumberPipe=i,this.mainLoopService=r,this.maxMoney=99999e19,this.totalLives=1,this.dead=!1,this.attributeScalingLimit=10,this.attributeSoftCap=1e5,this.aptitudeGainDivider=5*Math.pow(1.5,9),this.condenseSoulCoreCost=10,this.condenseSoulCoreOriginalCost=10,this.reinforceMeridiansCost=1e3,this.reinforceMeridiansOriginalCost=1e3,this.bloodlineCost=1e3,this.bloodlineRank=0,this.manaUnlocked=!1,this.accuracy=1,this.attackPower=0,this.defense=0,this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.healthBonusSoul=0,this.empowermentFactor=1,this.empowermentMult=1,this.imperial=!1,this.immortal=!1,this.easyMode=!1,this.ascensionUnlocked=!1,this.yinYangUnlocked=!1,this.yin=1,this.yang=1,this.yinYangBalance=0,this.righteousWrathUnlocked=!1,this.bonusMuscles=!1,this.bonusBrains=!1,this.attributes={strength:{description:"An immortal must have raw physical power.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"fitness_center"},toughness:{description:"An immortal must develop resilience to endure hardship.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"castle"},speed:{description:"An immortal must be quick of foot and hand.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"directions_run"},intelligence:{description:"An immortal must understand the workings of the universe.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"local_library"},charisma:{description:"An immortal must influence the hearts and minds of others.",value:1,lifeStartValue:1,aptitude:1,aptitudeMult:1,icon:"forum"},spirituality:{description:"An immortal must find deep connections to the divine.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"auto_awesome"},earthLore:{description:"Understanding the earth and how to draw power and materials from it.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"landslide"},metalLore:{description:"Understanding metals and how to forge and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"hardware"},woodLore:{description:"Understanding plants and how to grow and care for them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"forest"},waterLore:{description:"Understanding potions and pills and how to make and use them.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"emoji_food_beverage"},fireLore:{description:"Burn! Burn! BURN!!!",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"local_fire_department"},animalHandling:{description:"Skill in working with animals and monsters.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"pets"},combatMastery:{description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"},magicMastery:{description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}},this.status={health:{description:"Physical well-being. Take too much damage and you will die.",value:100,max:100},stamina:{description:"Physical energy to accomplish tasks. Most activities use stamina, and if you let yourself run down you could get sick and have to stay in bed for a few days.",value:100,max:100},mana:{description:"Magical energy required for mysterious spiritual activities.",value:0,max:0},nourishment:{description:"Eating is essential to life. You will automatically eat whatever food you have available when you are hungry. If you run out of food you will automatically spend your money on a bowl of rice each day.",value:7,max:14}},this.money=300,this.stashedMoney=0,this.hellMoney=0,this.age=6570,this.baseLifespan=10950,this.foodLifespan=0,this.alchemyLifespan=0,this.statLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0,this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.stashedEquipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.highestMoney=0,this.highestAge=0,this.highestHealth=0,this.highestStamina=0,this.highestMana=0,this.highestAttributes={},r.frameSubject.subscribe(()=>{this.empowermentMult=this.getEmpowermentMult();const o=Object.keys(this.attributes);for(const a in o)this.attributes[o[a]].aptitudeMult=this.getAptitudeMultipier(this.attributes[o[a]].aptitude),("strength"===o[a]||"speed"===o[a]||"toughness"===o[a])&&this.bonusMuscles&&(this.attributes[o[a]].aptitudeMult*=1e3),("intelligence"===o[a]||"charisma"===o[a])&&this.bonusBrains&&(this.attributes[o[a]].aptitudeMult*=1e3)})}reincarnate(){this.totalLives++,this.status.health.value=100,this.status.health.max=100,this.status.stamina.value=100,this.status.stamina.max=100,this.status.nourishment.value=7,this.status.nourishment.max=14,this.manaUnlocked?(this.status.mana.max=1,this.status.mana.value=1):(this.status.mana.max=0,this.status.mana.value=0),this.healthBonusFood=0,this.healthBonusBath=0,this.healthBonusMagic=0,this.age=6570,this.foodLifespan=0,this.alchemyLifespan=0,this.spiritualityLifespan=0,this.magicLifespan=0;let t=0;t+=this.attributes.strength.aptitude+this.attributes.toughness.aptitude+this.attributes.speed.aptitude+this.attributes.intelligence.aptitude+this.attributes.charisma.aptitude,this.statLifespan=this.getAptitudeMultipier(t/5),this.statLifespan*=this.bloodlineRank<5?.1:5;const e=Object.keys(this.attributes);for(const i in e)if(this.attributes[e[i]].value>0){const r=(this.attributes[e[i]].value-(this.attributes[e[i]].lifeStartValue||0))/this.aptitudeGainDivider;r>0&&(this.attributes[e[i]].aptitude+=r,this.logService.addLogMessage("Your aptitude for "+this.titlecasePipe.transform(e[i])+" increased by "+this.bigNumberPipe.transform(r),"STANDARD","EVENT")),this.attributes[e[i]].value=this.getAttributeStartingValue(this.attributes[e[i]].value,this.attributes[e[i]].aptitude),this.attributes[e[i]].lifeStartValue=this.attributes[e[i]].value}this.money<0&&(this.money=0),this.money=this.bloodlineRank<3?0:this.bloodlineRank<4?this.money/8:4*this.money,this.money>this.maxMoney&&(this.money=this.maxMoney),this.recalculateDerivedStats(),0===this.bloodlineRank?this.equipment={head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null}:this.bloodlineRank<=1&&(this.equipment.body=null,this.equipment.head=null,this.equipment.legs=null,this.equipment.feet=null)}getAttributeStartingValue(t,e){return t<0&&(t=0),e<0&&(e=0),t<1?t/10:e<this.attributeSoftCap?e/10:this.attributeSoftCap/10+Math.log2(e-(this.attributeSoftCap-1))}recalculateDerivedStats(){var t,e,i,r,o,a;this.status.health.max=100+this.healthBonusFood+this.healthBonusBath+this.healthBonusMagic+this.healthBonusSoul+Math.floor(5*Math.log2(this.attributes.toughness.value+2)),this.money>this.maxMoney&&(this.money=this.maxMoney);const s=Object.keys(this.attributes);for(const y in s)this.attributes[s[y]].aptitudeMult=this.getAptitudeMultipier(this.attributes[s[y]].aptitude);this.spiritualityLifespan=5*this.getAptitudeMultipier(this.attributes.spirituality.value,!0),this.lifespan=this.baseLifespan+this.foodLifespan+this.alchemyLifespan+this.statLifespan+this.spiritualityLifespan+this.magicLifespan,this.defense=Math.sqrt(this.attributes.toughness.value)||1,this.attackPower=Math.sqrt(this.attributes.strength.value)||1;let l=1,c=1,u=1,f=1,m=1,v=1;this.equipment.leftHand&&(l=(null===(t=this.equipment.leftHand.weaponStats)||void 0===t?void 0:t.baseDamage)||1),this.equipment.rightHand&&(c=(null===(e=this.equipment.rightHand.weaponStats)||void 0===e?void 0:e.baseDamage)||1),this.equipment.head&&(u=(null===(i=this.equipment.head.armorStats)||void 0===i?void 0:i.defense)||1),this.equipment.body&&(f=(null===(r=this.equipment.body.armorStats)||void 0===r?void 0:r.defense)||1),this.equipment.legs&&(m=(null===(o=this.equipment.legs.armorStats)||void 0===o?void 0:o.defense)||1),this.equipment.feet&&(v=(null===(a=this.equipment.feet.armorStats)||void 0===a?void 0:a.defense)||1),this.attackPower*=Math.floor(Math.sqrt(this.attackPower)*Math.sqrt(2*Math.sqrt(c)*Math.sqrt(l)))||1,this.attributes.combatMastery.value>1&&(this.attackPower*=Math.log(this.attributes.combatMastery.value+100)/Math.log(100)),this.righteousWrathUnlocked&&(this.attackPower*=2),this.defense*=Math.floor(Math.sqrt(this.defense)*Math.sqrt(4*Math.pow(u,.25)*Math.pow(f,.25)*Math.pow(m,.25)*Math.pow(v,.25)))||1,this.righteousWrathUnlocked&&(this.defense*=2),this.yinYangUnlocked&&(this.yinYangBalance=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0))}getEmpowermentMult(){let i=1+198/(1+Math.pow(1.02,-(this.empowermentFactor-1)/3))-99;return this.easyMode&&(i*=100),i}getAptitudeMultipier(t,e=!1){t<0&&(t=0);const i=e?1:this.empowermentMult;let r=1;if(t<this.attributeScalingLimit)r=t*i;else if(t<10*this.attributeScalingLimit)r=(this.attributeScalingLimit+(t-this.attributeScalingLimit)/4)*i;else if(t<100*this.attributeScalingLimit)r=(this.attributeScalingLimit+9*this.attributeScalingLimit/4+(t-10*this.attributeScalingLimit)/20)*i;else if(t<=this.attributeSoftCap)r=(this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(t-100*this.attributeScalingLimit)/100)*i;else{const a=this.attributeScalingLimit+9*this.attributeScalingLimit/4+90*this.attributeScalingLimit/20+(this.attributeSoftCap-100*this.attributeScalingLimit)/100;r=(Math.pow((t-this.attributeSoftCap)*Math.pow(this.attributeScalingLimit/1e13,.15),.5)+a)*i}if(this.bloodlineRank>=8)return r;let o=365e3;return this.yinYangUnlocked&&(o+=Math.max(1-Math.abs(this.yang-this.yin)/((this.yang+this.yin)/2),0)*o),o/(-1-Math.log((r+o)/o))+o}increaseAttribute(t,e){let i=e*this.attributes[t].aptitudeMult;return i<e&&(i=e),this.attributes[t].value+=i,(!this.highestAttributes[t]||this.highestAttributes[t]>this.attributes[t].value)&&(this.highestAttributes[t]=this.attributes[t].value),i}increaseAptitudeDaily(){const t=Object.keys(this.attributes),e=["combatMastery","magicMastery"];for(const i in t)e.includes(i)?this.attributes[t[i]].aptitude+=this.attributes[t[i]].value/1e14:this.attributes[t[i]].aptitude+=this.attributes[t[i]].value/1e7}increaseBaseLifespan(t,e){return this.baseLifespan+t<365*e?(this.baseLifespan+=t,!0):(this.baseLifespan<365*e&&(this.baseLifespan=365*e),!1)}checkOverage(){this.healthBonusFood>1900&&(this.healthBonusFood=1900),this.healthBonusBath>8e3&&(this.healthBonusBath=8e3);let t=1e4,e=2e4;this.yinYangUnlocked&&(t+=2*this.yinYangBalance*t,e+=2*this.yinYangBalance*e),this.healthBonusMagic>t&&(this.healthBonusMagic=t),this.healthBonusSoul>e&&(this.healthBonusSoul=e),this.status.stamina.max>1e6&&(this.status.stamina.max=1e6),this.status.mana.max>1e6&&(this.status.mana.max=1e6),this.status.nourishment.max>1e3&&(this.status.nourishment.max=1e3),this.status.health.value>this.status.health.max&&(this.status.health.value=this.status.health.max),this.status.stamina.value>this.status.stamina.max&&(this.status.stamina.value=this.status.stamina.max),this.status.nourishment.value>this.status.nourishment.max&&(this.status.nourishment.value=this.status.nourishment.max),this.status.mana.value>this.status.mana.max&&(this.status.mana.value=this.status.mana.max),this.money>this.maxMoney&&(this.money=this.maxMoney)}getProperties(){return{attributes:this.attributes,money:this.money,stashedMoney:this.stashedMoney,hellMoney:this.hellMoney,equipment:this.equipment,stashedEquipment:this.stashedEquipment,age:this.age,status:this.status,baseLifespan:this.baseLifespan,foodLifespan:this.foodLifespan,alchemyLifespan:this.alchemyLifespan,statLifespan:this.statLifespan,spiritualityLifespan:this.spiritualityLifespan,magicLifespan:this.magicLifespan,attributeScalingLimit:this.attributeScalingLimit,attributeSoftCap:this.attributeSoftCap,aptitudeGainDivider:this.aptitudeGainDivider,condenseSoulCoreCost:this.condenseSoulCoreCost,reinforceMeridiansCost:this.reinforceMeridiansCost,bloodlineRank:this.bloodlineRank,manaUnlocked:this.manaUnlocked,totalLives:this.totalLives,healthBonusFood:this.healthBonusFood,healthBonusBath:this.healthBonusBath,healthBonusMagic:this.healthBonusMagic,healthBonusSoul:this.healthBonusSoul,empowermentFactor:this.empowermentFactor,immortal:this.immortal,easyMode:this.easyMode,highestMoney:this.highestMoney,highestAge:this.highestAge,highestHealth:this.highestHealth,highestStamina:this.highestStamina,highestMana:this.highestMana,highestAttributes:this.highestAttributes,yinYangUnlocked:this.yinYangUnlocked,yin:this.yin,yang:this.yang,righteousWrathUnlocked:this.righteousWrathUnlocked,bonusMuscles:this.bonusMuscles,bonusBrains:this.bonusBrains}}setProperties(t){this.attributes=t.attributes,this.money=t.money,this.stashedMoney=t.stashedMoney||0,this.hellMoney=t.hellMoney||0,this.money>this.maxMoney&&(this.money=this.maxMoney),this.equipment=t.equipment,this.stashedEquipment=t.stashedEquipment||{head:null,body:null,leftHand:null,rightHand:null,legs:null,feet:null},this.age=t.age||6570,this.status=t.status,this.baseLifespan=t.baseLifespan,this.foodLifespan=t.foodLifespan||0,this.alchemyLifespan=t.alchemyLifespan||0,this.statLifespan=t.statLifespan||0,this.spiritualityLifespan=t.spiritualityLifespan||0,this.magicLifespan=t.magicLifespan||0,this.condenseSoulCoreCost=t.condenseSoulCoreCost,this.aptitudeGainDivider=5*Math.pow(1.5,9-Math.log10(this.condenseSoulCoreCost/this.condenseSoulCoreOriginalCost)),this.reinforceMeridiansCost=t.reinforceMeridiansCost,this.attributeScalingLimit=10*Math.pow(2,Math.log10(this.reinforceMeridiansCost/this.reinforceMeridiansOriginalCost)),this.attributeSoftCap=t.attributeSoftCap,this.bloodlineRank=t.bloodlineRank,this.bloodlineCost=1e3*Math.pow(100,this.bloodlineRank),this.manaUnlocked=t.manaUnlocked||!1,this.totalLives=t.totalLives||1,this.healthBonusFood=t.healthBonusFood||0,this.healthBonusBath=t.healthBonusBath||0,this.healthBonusMagic=t.healthBonusMagic||0,this.healthBonusSoul=t.healthBonusSoul||0,this.empowermentFactor=t.empowermentFactor||1,this.immortal=t.immortal||!1,this.easyMode=t.easyMode||!1,this.highestMoney=t.highestMoney||0,this.highestAge=t.highestAge||0,this.highestHealth=t.highestHealth||0,this.highestStamina=t.highestStamina||0,this.highestMana=t.highestMana||0,this.highestAttributes=t.highestAttributes||{},this.yinYangUnlocked=t.yinYangUnlocked||!1,this.yin=t.yin||1,this.yang=t.yang||1,this.righteousWrathUnlocked=t.righteousWrathUnlocked||!1,this.bonusMuscles=t.bonusMuscles||!1,this.bonusBrains=t.bonusBrains||!1,this.attributes.combatMastery||(this.attributes.combatMastery={description:"Mastery of combat skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"sports_martial_arts"}),this.attributes.magicMastery||(this.attributes.magicMastery={description:"Mastery of magical skills.",value:0,lifeStartValue:0,aptitude:1,aptitudeMult:1,icon:"self_improvement"}),this.recalculateDerivedStats()}}let zi=(()=>{class n{constructor(){this.reincarnateSubject=new ae}reincarnate(){this.reincarnateSubject.next(void 0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var J=(()=>{return(n=J||(J={}))[n.Swim=0]="Swim",n[n.RaiseIsland=1]="RaiseIsland",n[n.BuildTower=2]="BuildTower",n[n.TameWinds=3]="TameWinds",n[n.LearnToFly=4]="LearnToFly",n[n.BefriendDragon=5]="BefriendDragon",n[n.ConquerTheWorld=6]="ConquerTheWorld",n[n.RearrangeTheStars=7]="RearrangeTheStars",n[n.OvercomeDeath=8]="OvercomeDeath",J;var n})();let la=(()=>{class n{constructor(e,i,r,o,a,s,l){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=o,this.battleService=l,this.impossibleTasksUnlocked=!1,this.activeTaskIndex=-1,this.nextTask=0,this.tasks=[{name:"Swim to the bottom of the ocean",description:"You find a scrap in an ancient text that leads you to believe that the secret of immortality lies buried deep beneath the ocean's currents.",taskType:J.Swim,progressRequired:4e5},{name:"Raise an island from the sea",description:"At the bottom of the ocean you find a sunken island full of mystical wonders. Some of them will certainly help you in your quest for immortality, but they look too fragile to move by themselves. You'll need to pull the entire island to the surface.",taskType:J.RaiseIsland,progressRequired:777},{name:"Build a tower past the heavens",description:"The undersea wonders point you to a secret shrine high above the clouds. You'll need to build an impossibly tall tower to reach it.",taskType:J.BuildTower,progressRequired:1e3},{name:"Tame the winds",description:"The entrance to the shrine is sealed by a fierce hurricane that never stops blowing. You'll need to defeat the power of the storm to get in.",taskType:J.TameWinds,progressRequired:1e3},{name:"Learn to fly",description:"A carving in the sky shrine shows you that the ancient dragons have the secret of immortality. The dragons never fly where mortals can reach them, but fortunately the shrine contains an inscription that teaches you the fundamentals of flight.",taskType:J.LearnToFly,progressRequired:8888},{name:"Befriend a dragon",description:"You fly far and wide across the world and finally find an ancient dragon. You'll need to convince it to speak with you to get any secrets from it.",taskType:J.BefriendDragon,progressRequired:5e3},{name:"Conquer the world",description:"The dragon finally relents and allows you to speak with it. It shows you the fighting and suffering in the mortal realm and says the situation is most displeasing. Before he will help you, he wants you to solve the problem. Guess it's time to conquer the world and set all things right.",taskType:J.ConquerTheWorld,progressRequired:300},{name:"Rearrange the stars",description:"The dragon smiles approvingly and teaches you the secrets of drawing power from the heavens. You could perform the ritual to achieve immortality now if the stars were properly aligned, but that won't happen again for billions of years. Maybe you could help it along.",taskType:J.RearrangeTheStars,progressRequired:1e4},{name:"Overcome death itself",description:"The stars are aligned, the power to achieve immortality is finally within your grasp. The only thing you need to do now is use it to defeat death.",taskType:J.OvercomeDeath,progressRequired:1}],this.taskProgress=[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],a.longTickSubject.subscribe(()=>{if(!(this.nextTask>=this.tasks.length))for(let c=0;c<this.tasks.length;c++)if(this.taskProgress[c].complete&&this.tasks[c].taskType===this.nextTask)return void this.nextTask++}),s.reincarnateSubject.subscribe(()=>{this.reset()})}markPriorCompletions(){let e=!1;this.nextTask=-1;for(let i=this.tasks.length-1;i>=0;i--)(this.taskProgress[i].complete||e)&&(e=!0,this.taskProgress[i].progress=this.tasks[i].progressRequired,this.taskProgress[i].complete=!0),e&&this.nextTask<0?this.nextTask=i:0===i&&(this.nextTask=0)}reset(){this.markPriorCompletions();for(let e=this.tasks.length-1;e>=0;e--)this.taskProgress[e].progress<this.tasks[e].progressRequired&&(this.taskProgress[e].complete?this.taskProgress[e].progress=this.tasks[e].progressRequired:e!==J.BuildTower&&(this.taskProgress[e].progress=0));this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(st)),this.activityService.reloadActivities()}getProperties(){return{taskProgress:this.taskProgress,impossibleTasksUnlocked:this.impossibleTasksUnlocked,activeTaskIndex:this.activeTaskIndex}}setProperties(e){this.taskProgress=e.taskProgress||[{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1},{progress:0,complete:!1}],this.impossibleTasksUnlocked=e.impossibleTasksUnlocked,this.activeTaskIndex=void 0===e.activeTaskIndex?-1:e.activeTaskIndex,this.markPriorCompletions(),this.activityService||(this.activityService=this.injector.get(st)),this.activityService.reloadActivities()}checkCompletion(){this.activeTaskIndex<0||this.taskProgress[this.activeTaskIndex].progress>=this.tasks[this.activeTaskIndex].progressRequired&&(this.taskProgress[this.activeTaskIndex].complete=!0,this.stopTask())}startTask(){this.activeTaskIndex=this.nextTask,this.activityService||(this.activityService=this.injector.get(st)),this.activityService.reloadActivities(),this.activeTaskIndex===J.OvercomeDeath&&this.battleService.addEnemy({name:"Death itself",health:1e20,maxHealth:1e20,accuracy:.99,attack:3e8,defense:3e8,loot:[this.itemRepoService.items.immortality],unique:!0})}stopTask(){this.activeTaskIndex===J.Swim&&(this.taskProgress[this.activeTaskIndex].progress=0),this.activeTaskIndex=-1,this.activityService||(this.activityService=this.injector.get(st)),this.activityService.reloadActivities()}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(fn),S(Ie),S(xn),S(Ct),S(zi),S(Xt))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fw=["Abbas","Abdel","Abdo","Abdoulaye","Abdul","Abdullah","Abdullahi","Abel","Abraham","Abubakar","Adam","Adama","Adamu","Adel","Adrian","Adriana","Agnes","Agus","Ahmad","Ahmed","Ahmet","Ai","Aicha","Aida","Aisha","Ajay","Alaa","Alain","Alan","Albert","Alberto","Alejandro","Aleksandr","Aleksandra","Aleksey","Alex","Alexander","Alexandra","Alexandre","Alexey","Alfred","Alfredo","Ali","Alice","Alicia","Alina","Aliyu","Alma","Amadou","Amal","Amanda","Amar","Amin","Amina","Aminata","Amir","Amit","Amy","An","Ana","Anastasia","Anastasiya","Andre","Andrea","Andreas","Andrei","Andres","Andrew","Andrey","Angel","Angela","Angelica","Angelina","Angelo","Anh","Anil","Anita","Ann","Anna","Anne","Annie","Anthony","Anton","Antonia","Antonio","Ant\xf3nio","Anwar","Arif","Arjun","Armando","Arthur","Artur","Arturo","Artyom","Arun","Asha","Ashok","Ashraf","Asma","Asmaa","Aung","Aya","Ayesha","Ay\u015fe","Aziz","Babu","Barbara","Basanti","Bashir","Beatrice","Beatriz","Bekele","Benjamin","Bernadette","Bernard","Betty","Bharat","Bibi","Bin","Blanca","Blessing","Brenda","Brian","Brigitte","Bruno","Ca","Carla","Carlos","Carmen","Carol","Carolina","Caroline","Catherine","Cecilia","Cesar","Chandra","Chantal","Chao","Charles","Charlotte","Chen","Cheng","Cheryl","Chi","Chris","Christian","Christina","Christine","Christophe","Christopher","Chun","Chunhua","Chunyan","Clara","Claude","Claudia","Claudio","Cong","Cristian","Cristina","Cynthia","Dan","Daniel","Daniela","Darya","David","Deborah","Deepak","Denis","Denise","Dennis","Di","Diana","Diane","Diego","Dilip","Dina","Dinesh","Dipak","Dmitriy","Dmitry","Dolores","Dominique","Donald","Dongmei","Donna","Dora","Doris","Dorothy","Douglas","Dung","Durga","Edgar","Edith","Eduardo","Edward","Edwin","Ei","Ekaterina","Elaine","Elena","Elias","Elisabeth","Elizabeth","Ellen","Elsa","Elvira","Eman","Emily","Emine","Emma","Emmanuel","Enrique","Eric","Erika","Ernest","Ernesto","Ester","Esther","Eunice","Eva","Evelyn","Evgeniy","Fabio","Faisal","Faith","Farida","Farzana","Fatemeh","Fatima","Fatma","Fatoumata","Felipe","Felix","Fernando","Florence","Francesco","Francis","Francisca","Francisco","Francois","Frank","Fred","Gabriel","Gabriela","Galina","Ganesh","Gang","Ganga","Gary","George","Gerald","Gerardo","Gerhard","Ghulam","Gilbert","Gilberto","Giovanni","Gita","Giuseppe","Gladys","Gloria","Gopal","Grace","Gregory","Guadalupe","Guillermo","Gul","Guohua","Guoliang","Guoqiang","Gustavo","Guy","Ha","Habib","Habiba","Hai","Haibo","Haitao","Haiyan","Haiying","Haji","Halima","Halyna","Hamid","Hamza","Han","Hana","Hanan","Hang","Hans","Hari","Hasan","Hassan","Hatice","Hawa","Heather","Heba","Hector","Heinz","Helen","Helena","Helga","Henry","Herbert","Hieu","Hilda","Hiroshi","Hoa","Hoang","Hong","Hongmei","Hongwei","Hongyan","Hossein","Huan","Hugo","Hui","Huimin","Hung","Huong","Hussein","Huy","Ian","Ibrahim","Ida","Igor","Ilya","Iman","Imran","Ingrid","Irene","Irina","Irma","Isa","Isaac","Isabel","Isabelle","Ismail","Issa","Ivan","Jack","Jacob","Jacqueline","Jacques","Jaime","Jamal","James","Jamila","Jan","Jane","Janet","Jason","Javier","Jay","Jean","Jeanne","Jeff","Jeffrey","Jennifer","Jenny","Jerry","Jessica","Jesus","Jianfeng","Jianguo","Jianhua","Jianhui","Jianjun","Jianmin","Jianming","Jianping","Jianwei","Jianxin","Jianzhong","Jim","Jimmy","Jin","Jingjing","Jinhua","Jitendra","Joan","Joanna","Joao","Joaquim","Joe","Joel","John","Jonathan","Jorge","Jose","Jos\xe9","Josef","Josefa","Josefina","Joseph","Josephine","Joshua","Joy","Joyce","Juan","Juana","Judith","Judy","Julia","Juliana","Julie","Julio","Julius","Junjie","Justin","Jyoti","Ka","Kai","Kailash","Kalpana","Kamal","Kamala","Kamla","Karen","Karim","Karin","Karina","Karl","Kassa","Katarzyna","Kathleen","Kathy","Katsumi","Kavita","Keith","Kelly","Ken","Kenji","Kenneth","Kevin","Khadija","Khaled","Khalid","Kim","Kimberly","Kiran","Kirill","Klaus","Konstantin","Krishna","Kristina","Krzysztof","Kseniya","Kun","Kyaw","Laila","Lakshmi","Laksmi","Lal","Lalita","Lan","Laoshi","Larry","Laura","Lawrence","Laxmi","Le","Lee","Lei","Leila","Leonard","Leonardo","Leticia","Li","Lidia","Lihong","Lihua","Lijuan","Lijun","Lila","Lilian","Liliana","Liming","Lin","Lina","Linda","Ling","Lingling","Linh","Liping","Lisa","Lixin","Liying","Long","Lorena","Louis","Louise","Lucas","Lucia","Luciano","Lucy","Luis","Luisa","Luiz","Luz","Lwin","Lydia","Lyubov","Lyudmila","Lyudmyla","Ma","Madina","Magdalena","Maha","Mahdi","Mahendra","Mahesh","Mahmoud","Mai","Maksim","Mamadou","Mamta","Man","Manfred","Manju","Manoel","Manoj","Manuel","Manuela","Marc","Marcel","Marcelo","Marcia","Marcin","Marco","Marcos","Margaret","Margarita","Maria","M\xe1ria","Mariam","Mariama","Mariana","Marianne","Marie","Marilyn","Marina","Mario","Mariya","Mark","Marlene","Marta","Martha","Martin","Martina","Martine","Marwa","Mary","Maryam","Maryia","Masako","Masmaat","Masoumeh","Matthew","Maurice","Maya","Mehmet","Mei","Melanie","Melissa","Meng","Mercedes","Mercy","Mi","Michael","Michel","Michele","Michelle","Miguel","Mike","Mikhail","Min","Mina","Ming","Minh","Mira","Miriam","Mo","Mohamad","Mohammed","Mohan","Mohsen","Mona","Monica","Monika","Monique","Moses","Mostafa","Moussa","Muhamad","Muhammed","Mukesh","Munni","Musa","Mustafa","Mustapha","Myat","Na","Nabil","Nada","Nadezhda","Nadia","Nam","Nan","Nana","Nancy","Narayan","Naresh","Naseem","Nasir","Nasreen","Nasrin","Natalia","Natalya","Nathalie","Nelson","Nestor","Nga","Ngoc","Nguyen","Ni","Nicholas","Nicolas","Nicole","Nikita","Nikolay","Nina","Ning","Nirmala","Noel","Noor","Nora","Norma","Nour","Nur","Nurul","Nushi","Nusrat","Nykolai","Oksana","Oleg","Olga","Olha","Olivier","Om","Omar","Orlando","Oscar","Osman","Pa","Pablo","Pamela","Pankaj","Paola","Parvati","Pascal","Patricia","Patrick","Paul","Paula","Paulina","Pauline","Paulo","Pavel","Pedro","Pei","Peng","Peter","Petr","Petra","Philip","Philippe","Phuong","Phyo","Pierre","Ping","Piotr","Pradip","Prakash","Pramila","Pramod","Prem","Priyanka","Punam","Pushpa","Qiang","Qing","Qinghua","Qiong","Quan","Qun","Rabia","Rachel","Radha","Rafael","Rahul","Raimundo","Raj","Raja","Rajendra","Rajesh","Raju","Rakesh","Ram","Rama","Ramesh","Ramon","Ran","Rana","Rani","Ranjit","Raquel","Rashid","Raul","Ravi","Ravindra","Raymond","Rebecca","Regina","Rekha","Rene","Renu","Reza","Ricardo","Richard","Rina","Rita","Robert","Roberto","Robin","Rodolfo","Rodrigo","Roger","Roland","Roman","Ronald","Rong","Rosa","Rosario","Rose","Rosemary","Roy","Ruben","Ruslan","Rustam","Ruth","Ryan","Sabina","Sabine","Sabrina","Sachiko","Sadia","Saeed","Sai","Said","Sakina","Salah","Saleh","Salim","Salma","Salvador","Sam","Samia","Samina","Samir","Samira","Samuel","Sandeep","Sandra","Sangeeta","Sangita","Sani","Sanjay","Santos","Santosh","Sara","Sarah","Saraswati","Sarita","Saroj","Satish","Savita","Savitri","Sayed","Scott","Sebastian","Sergey","Sergio","Serhei","Seyyed","Shah","Shahid","Shakuntala","Shan","Shankar","Shanshan","Shanti","Sharmin","Sharon","Sheikh","Sheila","Shigeru","Shila","Shirley","Shiv","Shobha","Shu","Shuang","Shyam","Silvia","Sima","Simon","Simone","Sita","Siti","Smt","Sofia","Solomon","Son","Song","Sonia","Sophie","Sri","Stefan","Stella","Stephanie","Stephen","Steven","Subhash","Sultan","Suman","Sumitra","Sunday","Sunil","Sunita","Surendra","Suresh","Susan","Susana","Sushila","Svetlana","Syed","Sylvia","Sylvie","Ta","Tadesse","Tamara","Tania","Tara","Tatiana","Tatyana","Teresa","Terry","Than","Thanh","Thao","Theresa","Therese","Thierry","Thomas","Thu","Thuy","Tian","Tien","Tim","Timothy","Tina","Tingting","Tomas","Tomasz","Tong","Tony","Trang","Tu","Tuan","Tun","Uma","Umar","Umesh","Urmila","Ursula","Usha","Usman","Valentina","Valentyna","Valerie","Van","Vanessa","Vasylyi","Vera","Veronica","Vicente","Victor","Victoria","Vijay","Viktor","Viktoriya","Vincent","Vinod","Virginia","Vladimir","Vladymyr","Wai","Walter","Wei","Weidong","Weihua","Weimin","Weiming","Weiping","Weiwei","Wendy","Wenjie","Wenjing","Wenjun","Werner","William","Wilson","Wolfgang","Xian","Xiang","Xiaodong","Xiaofeng","Xiaohong","Xiaohua","Xiaohui","Xiaojun","Xiaoli","Xiaolin","Xiaoling","Xiaomei","Xiaomin","Xiaoming","Xiaoping","Xiaoqing","Xiaowei","Xiaoxia","Xiaoyan","Xiaoying","Xiaoyu","Xin","Xing","Xuan","Xuemei","Yan","Yanhong","Yanhua","Yanling","Yanping","Yanyan","Yasmin","Yen","Yin","Ying","Yingying","Yoko","Yolanda","Yong","Yousef","Yu","Yuanyuan","Yue","Yuhua","Yuliya","Yumei","Yun","Yuping","Yuriy","Yusuf","Yvan","Yvonne","Zahra","Zainab","Zaw","Zhen","Zhenhua","Zhi","Zhigang","Zhihong","Zhihua","Zhihui","Zhijian","Zhijun","Zhiming","Zhiping","Zhiqiang","Zhiwei","Zhiyong","Zin"];let Ft=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u){this.injector=e,this.logService=i,this.characterService=r,this.homeService=o,this.inventoryService=a,this.itemRepoService=s,this.battleService=u,this.camelToTitle=new Nu,this.followersUnlocked=!1,this.followerLifespanDoubled=!1,this.followers=[],this.stashedFollowers=[],this.followersRecruited=0,this.autoDismissUnlocked=!1,this.maxFollowerByType={},this.stashedFollowersMaxes={},this.followerCap=0,this.followersMaxed="UNMAXED",this.sortField="Job",this.sortAscending=!0,this.totalRecruited=0,this.totalDied=0,this.totalDismissed=0,this.highestLevel=0,this.unlockedHiddenJobs=[],this.autoReplaceUnlocked=!1,this.petsEnabled=!1,this.jobs={builder:{work:()=>{this.homeService.nextHomeCostReduction+=this.jobs.builder.totalPower,this.homeService.upgrading&&this.homeService.upgradeTick(this.jobs.builder.totalPower)},description:"Builders reduce the cost of the next home you upgrade to. They can also help you build it faster.",totalPower:0},hunter:{work:()=>{var f;(null===(f=this.hellService)||void 0===f?void 0:f.inHell)?this.jobs.hunter.totalPower>1e3&&this.inventoryService.addItem(this.itemRepoService.items.spiritMeat,Math.floor(this.jobs.hunter.totalPower/1e3)):this.inventoryService.addItem(this.itemRepoService.items.meat,this.jobs.hunter.totalPower)},description:"Hunters collect meat and help you hunt for hides.",totalPower:0},farmer:{work:()=>{this.homeService.workFields(this.jobs.farmer.totalPower)},description:"Farmers work your fields, helping your crops to grow.",totalPower:0},weaponsmith:{work:()=>{const f=this.characterService.characterState.equipment.rightHand,m=this.characterService.characterState.equipment.leftHand;f&&f.weaponStats&&(f.weaponStats.durability+=Math.ceil(100*Math.pow(this.jobs.weaponsmith.totalPower/10,2)),f.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(this.jobs.weaponsmith.totalPower/10),2)),f.value+=Math.ceil(Math.pow(Math.floor(this.jobs.weaponsmith.totalPower/10),2))),m&&m.weaponStats&&(m.weaponStats.durability+=this.jobs.weaponsmith.totalPower,m.weaponStats.baseDamage+=Math.ceil(Math.pow(Math.floor(this.jobs.weaponsmith.totalPower/10),2)),m.value+=Math.ceil(Math.pow(Math.floor(this.jobs.weaponsmith.totalPower/10),2)))},description:"Weaponsmiths help you take care of your currently equipped weapons, adding durability to them each day. Higher levels can also help improve them.",totalPower:0},armorer:{work:()=>{const f=this.characterService.characterState.equipment;for(const m of["head","body","legs","feet"])f[m]&&f[m].armorStats&&(f[m].armorStats.durability+=Math.ceil(50*Math.pow(this.jobs.armorer.totalPower/10,2)),f[m].armorStats.defense+=Math.ceil(Math.pow(Math.floor(this.jobs.armorer.totalPower/10),2)/2),f[m].value+=Math.ceil(Math.pow(Math.floor(this.jobs.armorer.totalPower/10),2)/2))},description:"Armorers help you take care of your currently equipped pieces of armor, adding durability to them each day. Higher levels can also help improve them.",totalPower:0},brawler:{work:()=>{this.characterService.characterState.increaseAttribute("strength",this.jobs.brawler.totalPower)},description:"Brawlers will spar with you in wrestling and boxing matches, increasing your strength.",totalPower:0},sprinter:{work:()=>{this.characterService.characterState.increaseAttribute("speed",this.jobs.sprinter.totalPower)},description:"Sprinters challenge you to footraces and help you increase your speed.",totalPower:0},trainer:{work:()=>{this.characterService.characterState.increaseAttribute("toughness",this.jobs.trainer.totalPower)},description:"Trainers make sure you follow their strict fitness and diet rules, increasing your toughness.",totalPower:0},tutor:{work:()=>{this.characterService.characterState.increaseAttribute("intelligence",this.jobs.tutor.totalPower)},description:"Tutors teach you all about the wonders of the universe, increasing your intelligence.",totalPower:0},mediator:{work:()=>{this.characterService.characterState.increaseAttribute("charisma",this.jobs.mediator.totalPower)},description:"Mediators teach you how to persuade others, increasing your charisma.",totalPower:0},priest:{work:()=>{this.characterService.characterState.increaseAttribute("spirituality",this.jobs.priest.totalPower)},description:"Priests help you get closer to the divine, increasing your sprituality.",totalPower:0},gemologist:{work:()=>{let f=this.jobs.gemologist.totalPower;f=Math.floor(f/50),f>4&&(f=4),this.inventoryService.mergeAnySpiritGem(f)},description:"Gemologists combine monster gems into higher grades.",totalPower:0},scout:{work:()=>{this.battleService.tickCounter+=this.jobs.scout.totalPower},description:"Scouts help you track down and fight monsters faster.",totalPower:0},damned:{work:()=>{this.battleService.tickCounter+=this.jobs.damned.totalPower},description:"Damned are souls working off karmic debt in hell that hav decided to join you. Having this follower seems to enrage the demons around you.",hidden:!0,totalPower:0},prophet:{work:()=>{Math.random()<1e-5*this.jobs.prophet.totalPower&&this.generateFollower()},description:"Prophets are dedicated to spreading the word of your greatness. Prophets can even find other followers for you if you are out of the mortal realm.",hidden:!0,totalPower:0},moneyBurner:{work:()=>{let f=this.jobs.moneyBurner.totalPower;f=Math.floor(f/50),f>10?f=10:f<1&&(f=1),!(this.characterService.characterState.money<1e6/f)&&(this.characterService.characterState.money-=1e6/f,this.characterService.characterState.hellMoney++)},description:"Money Burners dedicate themselves to burning mortal money to produce hell money.",hidden:!0,totalPower:0},snake:{work:()=>{this.characterService.characterState.increaseAttribute("fireLore",this.jobs.snake.totalPower)},description:"A fiery serpent. Snakes understand fire and can teach you the hidden secrets of the flames.",hidden:!0,pet:!0,totalPower:0},tiger:{work:()=>{this.characterService.characterState.increaseAttribute("woodLore",this.jobs.tiger.totalPower)},description:"Tigers know the secrets of the jungle and can teach you the deepest mysteries of Wood Lore.",hidden:!0,pet:!0,totalPower:0},ox:{work:()=>{this.characterService.characterState.increaseAttribute("earthLore",this.jobs.ox.totalPower)},description:"Oxen connect deeply to the earth and can teach you their secret understanding.",hidden:!0,pet:!0,totalPower:0},monkey:{work:()=>{this.characterService.characterState.increaseAttribute("metalLore",this.jobs.monkey.totalPower)},description:"Monkeys know more about metal than the greatest of human blacksmiths.",hidden:!0,pet:!0,totalPower:0},pig:{work:()=>{this.characterService.characterState.increaseAttribute("waterLore",this.jobs.pig.totalPower)},description:"Pigs understand the secrets of water and can teach them to you.",hidden:!0,pet:!0,totalPower:0}},setTimeout(()=>this.hellService=this.injector.get($e)),l.tickSubject.subscribe(()=>{var f;if(this.followersUnlocked&&!this.characterService.characterState.dead){this.updateFollowerCap(),this.characterService.characterState.age%18250==0&&!(null===(f=this.hellService)||void 0===f?void 0:f.inHell)&&this.generateFollower();for(let m=this.followers.length-1;m>=0;m--){const v=this.followers[m];if(v.age++,v.age>=this.followers[m].lifespan){if(this.totalDied++,this.followers.splice(m,1),this.autoReplaceUnlocked){const y=this.generateFollower(v.pet,v.job);y&&(y.power=Math.round(v.power/2),y.cost=100*y.power,this.logService.addLogMessage("Your follower "+v.name+" passed away from old age but was replaced by their child "+(null==y?void 0:y.name)+".","STANDARD","FOLLOWER")),this.logService.addLogMessage("Your follower "+v.name+" passed away from old age and was not replaced because of your choices in follower jobs.","STANDARD","FOLLOWER")}else this.logService.addLogMessage("Your follower "+v.name+" passed away from old age.","INJURY","FOLLOWER");this.updateFollowerTotalPower()}else this.characterService.characterState.money<this.followers[m].cost?(this.totalDismissed++,this.logService.addLogMessage("You didn't have enough money to suppport your follower "+this.followers[m].name+" so they left your service.","INJURY","FOLLOWER"),this.followers.splice(m,1),this.updateFollowerTotalPower()):this.characterService.characterState.money-=this.followers[m].cost}this.followersWorks(),this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED"}}),l.longTickSubject.subscribe(()=>{this.sortFollowers(this.sortAscending)}),c.reincarnateSubject.subscribe(()=>{this.reset()})}updateFollowerCap(){this.followerCap=1+3*this.homeService.homeValue+this.characterService.meridianRank()+this.characterService.soulCoreRank()+this.characterService.characterState.bloodlineRank,this.followersMaxed=this.followersMaxed=this.followers.length<this.followerCap?"UNMAXED":"MAXED"}updateFollowerTotalPower(){for(const e of Object.keys(this.jobs))this.jobs[e].totalPower=0;for(let e=this.followers.length-1;e>=0;e--)this.jobs[this.followers[e].job].totalPower+=this.followers[e].power}sortFollowers(e){let i=1,r=-1;e||(i=-1,r=1),this.followers.sort("Remaining Life"===this.sortField?(o,a)=>o.lifespan-o.age>a.lifespan-a.age?i:o.lifespan-o.age==a.lifespan-a.age?0:r:(o,a)=>o[this.sortField.toLowerCase()]>a[this.sortField.toLowerCase()]?i:o[this.sortField.toLowerCase()]===a[this.sortField.toLowerCase()]?0:r)}followersWorks(){for(const e of Object.keys(this.jobs))this.jobs[e].totalPower>0&&this.jobs[e].work()}reset(){this.characterService.characterState.bloodlineRank>=7?this.logService.addLogMessage("Your imperial entourage rejoins you as you set out.","STANDARD","EVENT"):(this.followers.splice(0,this.followers.length),this.followersMaxed="UNMAXED"),this.followersRecruited=0,this.updateFollowerTotalPower()}getProperties(){return{followersUnlocked:this.followersUnlocked,followers:this.followers,stashedFollowers:this.stashedFollowers,autoDismissUnlocked:this.autoDismissUnlocked,maxFollowerByType:this.maxFollowerByType,stashedFollowersMaxes:this.maxFollowerByType,sortField:this.sortField,sortAscending:this.sortAscending,totalRecruited:this.totalRecruited,totalDied:this.totalDied,totalDismissed:this.totalDismissed,highestLevel:this.highestLevel,unlockedHiddenJobs:this.unlockedHiddenJobs,autoReplaceUnlocked:this.autoReplaceUnlocked,petsEnabled:this.petsEnabled}}setProperties(e){this.followers=e.followers||[],this.stashedFollowers=e.stashedFollowers||[],this.followersUnlocked=e.followersUnlocked||!1,this.autoDismissUnlocked=e.autoDismissUnlocked||!1,this.maxFollowerByType=e.maxFollowerByType||{},this.stashedFollowersMaxes=e.stashedFollowersMaxes||{},this.sortField=e.sortField||"Job",this.sortAscending=void 0===e.sortAscending||e.sortAscending,this.totalRecruited=e.totalRecruited||0,this.totalDied=e.totalDied||0,this.totalDismissed=e.totalDismissed||0,this.highestLevel=e.highestLevel||0,this.unlockedHiddenJobs=e.unlockedHiddenJobs||[],this.autoReplaceUnlocked=e.autoReplaceUnlocked||!1,this.petsEnabled=e.petsEnabled||!1,this.unhideUnlockedJobs(),this.updateFollowerTotalPower()}unlockJob(e){this.unlockedHiddenJobs.includes(e)||this.unlockedHiddenJobs.push(e),this.unhideUnlockedJobs()}unhideUnlockedJobs(){for(const e of this.unlockedHiddenJobs)this.jobs[e].hidden=!1}generateFollower(e=!1,i){if(this.totalRecruited++,this.followersRecruited++,this.followers.length>=this.followerCap)return this.logService.addLogMessage("A new follower shows up, but you already have too many. You are forced to turn them away.","INJURY","FOLLOWER"),this.followersMaxed="MAXED",null;i=i||this.generateFollowerJob(e);let r=1e3,o=0;void 0!==this.maxFollowerByType[i]&&(r=this.maxFollowerByType[i]);for(const l of this.followers)l.job===i&&o++;if(o>=r)return this.logService.addLogMessage("A new follower shows up, but they were a "+this.camelToTitle.transform(i)+" and you don't want any more of those.","STANDARD","FOLLOWER"),this.totalDismissed++,null;const a=this.followerLifespanDoubled?5:10;this.logService.addLogMessage("A new "+this.camelToTitle.transform(i)+" has come to learn at your feet.","STANDARD","FOLLOWER");const s={name:this.generateFollowerName(),age:0,lifespan:this.characterService.characterState.lifespan/a,job:i,power:1,cost:100,pet:e};return this.followers.push(s),this.sortFollowers(this.sortAscending),this.followers.length>=this.followerCap&&(this.followersMaxed="MAXED"),this.updateFollowerTotalPower(),s}generateFollowerName(){return Fw[Math.floor(Math.random()*Fw.length)]}generateFollowerJob(e=!1){const i=Object.keys(this.jobs),r=[];for(const o of i)this.jobs[o].hidden||(e&&this.jobs[o].pet||!e&&!this.jobs[o].pet)&&r.push(o);return r[Math.floor(Math.random()*r.length)]}dismissFollower(e){this.totalDismissed++;const i=this.followers.indexOf(e);this.followers.splice(i,1),this.followersMaxed="UNMAXED",this.updateFollowerTotalPower()}dismissFollowerAll(e){this.totalDismissed+=this.followers.length;for(let i=this.followers.length-1;i>=0;i--)this.followers[i].job===e.job&&this.followers.splice(i,1);this.maxFollowerByType[e.job]=0,this.followersMaxed="UNMAXED",this.updateFollowerTotalPower()}limitFollower(e){let i=0;for(let r=this.followers.length-1;r>=0;r--)this.followers[r].job===e.job&&i++;this.maxFollowerByType[e.job]=i}setMaxFollowers(e,i){this.maxFollowerByType[e]=!i||i<0?0:i}stashFollowers(){this.stashedFollowers=this.followers,this.followers=[],this.stashedFollowersMaxes=this.maxFollowerByType,this.maxFollowerByType={}}restoreFollowers(){this.followers=this.stashedFollowers,this.stashedFollowers=[],this.maxFollowerByType=this.stashedFollowersMaxes,this.stashedFollowersMaxes={}}hellPurge(){const e=["prophet","moneyBurner","damned"];for(let i=this.followers.length-1;i>=0;i--)e.includes(this.followers[i].job)||this.followers.splice(i,1)}unlockElementalPets(){this.petsEnabled=!0,this.unlockJob("snake"),this.unlockJob("tiger"),this.unlockJob("ox"),this.unlockJob("monkey"),this.unlockJob("pig")}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(fn),S(Ie),S(Ze),S(W),S(xn),S(Ct),S(zi),S(Xt))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Sp{constructor(t,e,i){this.autoBuyerService=t,this.homeService=e,this.characterService=i}}class R2 extends Sp{shouldRun(){return this.homeService.autoBuyHomeUnlocked}run(t){if(this.homeService.upgrading){if(this.homeService.homeValue+1<this.homeService.autoBuyHomeLimit){const e=this.homeService.getHomeFromValue(this.homeService.nextHome.type+1);if(e&&e.landRequired>this.homeService.land){const i=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),e.landRequired-this.homeService.land);i>0&&this.homeService.buyLand(i)}}}else{const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.nextHome.landRequired-this.homeService.land);e>0&&this.homeService.buyLand(e)}!this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired&&this.characterService.characterState.money>=this.homeService.nextHomeCost+t&&this.homeService.upgradeToNextHome()}isBlocked(){return!1}isWaiting(){return this.homeService.upgrading&&this.homeService.land>=this.homeService.nextHome.landRequired}isComplete(){return this.homeService.homeValue>=this.homeService.autoBuyHomeLimit||this.homeService.upgrading&&this.homeService.homeValue+1>=this.homeService.autoBuyHomeLimit}}class F2 extends Sp{shouldRun(){return this.homeService.autoBuyLandUnlocked||this.homeService.autoFieldUnlocked}run(t){if(this.homeService.autoBuyLandUnlocked&&this.characterService.characterState.money>=this.homeService.landPrice+t){const e=Math.min(this.homeService.calculateAffordableLand(this.characterService.characterState.money-t),this.homeService.autoBuyLandLimit-(this.homeService.land+this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.buyLand(e)}if(this.homeService.autoFieldUnlocked){const e=Math.min(this.homeService.land,this.homeService.autoFieldLimit-(this.homeService.fields.length+this.homeService.extraFields));e>0&&this.homeService.addField(e)}}isBlocked(){return!(!this.homeService.autoFieldUnlocked||this.homeService.autoBuyLandUnlocked)&&0===this.homeService.land&&this.homeService.fields.length+this.homeService.extraFields<this.homeService.autoFieldLimit}isWaiting(){return!1}isComplete(){let t=!0;this.homeService.autoBuyLandUnlocked&&(t=this.homeService.land+this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoBuyLandLimit);let e=!0;return this.homeService.autoFieldUnlocked&&(e=this.homeService.fields.length+this.homeService.extraFields>=this.homeService.autoFieldLimit),t&&e}}class L2 extends Sp{shouldRun(){return this.homeService.autoBuyFurnitureUnlocked}run(t){var e;for(const i of this.homeService.furniturePositionsArray)if(this.homeService.home.furnitureSlots.includes(i)&&null===this.homeService.furniture[i]){const r=this.homeService.autoBuyFurniture[i];r&&(null===(e=this.homeService.furniture[i])||void 0===e?void 0:e.id)!==r.id&&this.characterService.characterState.money>r.value+t&&this.homeService.buyFurniture(r.id)}return!0}isBlocked(){var t;let e=!0,i=!0;for(const r of this.homeService.furniturePositionsArray){const o=this.homeService.autoBuyFurniture[r];o&&(this.homeService.home.furnitureSlots.includes(r)?(null===(t=this.homeService.furniture[r])||void 0===t?void 0:t.id)!==o.id&&(i=!1):e=!1)}return!this.homeService.upgrading&&i&&!e}isWaiting(){let t=!1;for(const e of this.homeService.furniturePositionsArray)this.homeService.autoBuyFurniture[e]&&!this.homeService.home.furnitureSlots.includes(e)&&this.homeService.nextHome.furnitureSlots.includes(e)&&(t=!1);return this.homeService.upgrading&&t}isComplete(){var t;for(const e of this.homeService.furniturePositionsArray){const i=this.homeService.autoBuyFurniture[e];if(i&&(!this.homeService.home.furnitureSlots.includes(e)||(null===(t=this.homeService.furniture[e])||void 0===t?void 0:t.id)!==i.id))return!1}return!0}}let Gc=(()=>{class n{constructor(e,i,r,o){this.injector=e,this.characterService=i,this.homeService=r,this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings(),this.autobuyers={home:new R2(this,this.homeService,this.characterService),land:new F2(this,this.homeService,this.characterService),furniture:new L2(this,this.homeService,this.characterService)},setTimeout(()=>this.hellService=this.injector.get($e)),o.tickSubject.subscribe(()=>{this.characterService.characterState.dead||this.tick()})}getProperties(){return{autoBuyerSettingsUnlocked:this.autoBuyerSettingsUnlocked,autoBuyerSettings:this.autoBuyerSettings}}setProperties(e){e?(this.autoBuyerSettingsUnlocked=e.autoBuyerSettingsUnlocked||!1,this.autoBuyerSettings=e.autoBuyerSettings||this.getDefaultSettings()):(this.autoBuyerSettingsUnlocked=!1,this.autoBuyerSettings=this.getDefaultSettings())}getDefaultSettings(){return[{label:"Home",type:"home",enabled:!0,waitForFinish:!0},{label:"Furniture",type:"furniture",enabled:!0,waitForFinish:!0},{label:"Land/Field",type:"land",enabled:!0,waitForFinish:!0}]}tick(){var e;if(null===(e=this.hellService)||void 0===e?void 0:e.inHell)return;const i=this.homeService.useAutoBuyReserve?this.homeService.autoBuyReserveAmount:10*(this.homeService.home.costPerDay+1);for(const r of this.autoBuyerSettings){const o=this.autobuyers[r.type];if(r.enabled&&o.shouldRun()&&!o.isBlocked()&&!o.isComplete()){if(o.isWaiting()&&r.waitForFinish)break;if(o.isWaiting())continue;if(o.run(i),!o.isComplete()&&r.waitForFinish)break}}}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(Ie),S(Ze),S(Ct))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wp=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f,m,v){this.mainLoopService=e,this.injector=i,this.logService=r,this.characterService=o,this.inventoryService=a,this.itemRepoService=s,this.storeService=l,this.battleService=c,this.homeService=u,this.activityService=f,this.followerService=m,this.impossibleTaskService=v,this.unlockedAchievements=[],this.achievements=[{name:"Bookworm",description:"You opened the manuals shop and unlocked the "+this.itemRepoService.items.restartActivityManual.name,hint:"There are lots of buttons in this game, maybe an aspiring immortal should press a few.",check:()=>this.storeService.storeOpened,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.restartActivityManual)},unlocked:!1},{name:"Played a Bit",description:"You worked toward immortality for ten years across your lifetimes and unlocked the "+this.itemRepoService.items.fastPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>3650,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastPlayManual)},unlocked:!1},{name:"Basically an Expert",description:"You worked toward immortality for one hundred years across your lifetimes and unlocked the "+this.itemRepoService.items.fasterPlayManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.mainLoopService.totalTicks>36500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fasterPlayManual)},unlocked:!1},{name:"Persistent Reincarnator",description:"You lived one thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.fastestPlayManual.name,hint:"The millennial.",check:()=>this.mainLoopService.totalTicks>365e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.fastestPlayManual)},unlocked:!1},{name:"Veteran Cultivator",description:"You lived ten thousand years across your lifetimes and unlocked the "+this.itemRepoService.items.totalPlaytimeManual.name,hint:"A long life. Myriad years.",check:()=>this.mainLoopService.totalTicks>365e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.totalPlaytimeManual)},unlocked:!1},{name:"Clang! Clang! Clang!",description:"You reached proficiency in blacksmithing and can now work as a Blacksmith without going through an apprenticeship (you still need the attributes for the Blacksmithing activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(F.Blacksmithing),effect:()=>{},unlocked:!1},{name:"Bubble, Bubble",description:"You reached proficiency in alchemy and can now work as a Alchemist without going through an apprenticeship (you still need the attributes for the Alchemy activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(F.Alchemy),effect:()=>{},unlocked:!1},{name:"Tanner",description:"You reached proficiency in leatherworking and can now work as a Leatherworker without going through an apprenticeship (you still need the attributes for the Leatherworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(F.Leatherworking),effect:()=>{},unlocked:!1},{name:"Carpenter",description:"You reached proficiency in woodworking and can now work as a Woodworker without going through an apprenticeship (you still need the attributes for the Woodworking activity).",hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.activityService.completedApprenticeships.includes(F.Woodworking),effect:()=>{},unlocked:!1},{name:"Addict",description:"You got a taste of those sweet, sweet empowerment pills and want more.",hint:"Master of all.",check:()=>this.characterService.characterState.empowermentFactor>1,effect:()=>{},unlocked:!1},{name:"This Sparks Joy",description:"You used 888 items and unlocked the "+this.itemRepoService.items.autoUseManual.name,hint:"Immortals should know the potential of the things they use.",check:()=>this.inventoryService.lifetimeUsedItems>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoUseManual)},unlocked:!1},{name:"This Does Not Spark Joy",description:"You filled your entire inventory and unlocked the "+this.itemRepoService.items.autoSellManual.name,hint:"So much stuff.",check:()=>0===this.inventoryService.openInventorySlots(),effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoSellManual)},unlocked:!1},{name:"Waster",description:"You throw away 10,000 items and unlocked the "+this.itemRepoService.items.betterStorageManual.name,hint:"Too much stuff.",check:()=>this.inventoryService.thrownAwayItems>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.betterStorageManual)},unlocked:!1},{name:"Landfill",description:"You throw away 100,000 items and unlocked the "+this.itemRepoService.items.evenBetterStorageManual.name,hint:"Way, way too much stuff.",check:()=>this.inventoryService.maxStackSize>=1e3&&this.inventoryService.thrownAwayItems>=1e5,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.evenBetterStorageManual)},unlocked:!1},{name:"Hoarder",description:"You really love holding vast amounts of materials and unlocked the "+this.itemRepoService.items.bestStorageManual.name,hint:"Just stop already, it's too much. Why would an aspiring immortal need this much?",check:()=>this.inventoryService.maxStackSize>=1e4,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestStorageManual)},unlocked:!1},{name:"All Things In Moderation",hint:"Immortals know what to use and what to toss.",description:"You sold and used 8888 items and unlocked the "+this.itemRepoService.items.autoBalanceManual.name,check:()=>this.inventoryService.lifetimeUsedItems>=8888&&this.inventoryService.lifetimeSoldItems>=8888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBalanceManual)},unlocked:!1},{name:"Land Rush",description:"You owned 520 plots of land and unlocked the "+this.itemRepoService.items.autoBuyLandManual.name,hint:"Immortals are known for their vast real estate holdings.",check:()=>this.homeService.land>=520,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyLandManual)},unlocked:!1},{name:"Real Housewives of Immortality",description:"You acquired a very fine home and unlocked the "+this.itemRepoService.items.autoBuyHomeManual.name,hint:"Immortals value a good home.",check:()=>this.homeService.homeValue>=Me.CourtyardHouse,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyHomeManual)},unlocked:!1},{name:"Off to Ikea",description:"You filled all your furniture slots and unlocked the "+this.itemRepoService.items.autoBuyFurnitureManual.name,hint:"Immortals have discerning taste in furnishings.",check:()=>null!==this.homeService.furniture.bathtub&&null!==this.homeService.furniture.bed&&null!==this.homeService.furniture.kitchen&&null!==this.homeService.furniture.workbench,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyFurnitureManual)},unlocked:!1},{name:"Time to Buy a Tractor",description:"You plowed 888 fields and unlocked the "+this.itemRepoService.items.autoFieldManual.name,hint:"An aspiring immortal should have vast tracts of fertile land.",check:()=>this.homeService.fields.length+this.homeService.extraFields>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoFieldManual)},unlocked:!1},{name:"Industrial Revolution",description:"You've found all the basic autobuyers and unlocked the "+this.itemRepoService.items.autoBuyerSettingsManual.name,hint:"Become really, really lazy",check:()=>this.homeService.autoBuyHomeUnlocked&&this.homeService.autoBuyLandUnlocked&&this.homeService.autoFieldUnlocked&&this.homeService.autoBuyFurnitureUnlocked,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoBuyerSettingsManual)},unlocked:!1},{name:"Guzzler",description:"You drank 88 potions and unlocked the "+this.itemRepoService.items.autoPotionManual.name,hint:"Glug, glug, glug.",check:()=>this.inventoryService.lifetimePotionsUsed>=88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPotionManual)},unlocked:!1},{name:"Junkie",description:"You took 131 pills and unlocked the "+this.itemRepoService.items.autoPillManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.inventoryService.lifetimePillsUsed>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPillManual)},unlocked:!1},{name:"Monster Slayer",description:"You killed 131 monsters and unlocked the "+this.itemRepoService.items.autoTroubleManual.name,hint:"An aspiring immortal bravely faces down their foes.",check:()=>this.battleService.troubleKills>=131,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoTroubleManual)},unlocked:!1},{name:"Weapons Master",description:"You wielded powerful weapons of both metal and wood and unlocked the "+this.itemRepoService.items.autoWeaponMergeManual.name,hint:"Left and right.",check:()=>{var y,w,D,T,k,E,L,G;return!!((null===(w=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.rightHand)||void 0===w?void 0:w.weaponStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===T?void 0:T.weaponStats.baseDamage)>=131&&(null===(E=null===(k=this.characterService.characterState.equipment)||void 0===k?void 0:k.leftHand)||void 0===E?void 0:E.weaponStats)&&(null===(G=null===(L=this.characterService.characterState.equipment)||void 0===L?void 0:L.leftHand)||void 0===G?void 0:G.weaponStats.baseDamage)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoWeaponMergeManual)},unlocked:!1},{name:"Practically Invincible",description:"You equipped yourself with powerful armor and unlocked the "+this.itemRepoService.items.autoArmorMergeManual.name,hint:"Suit up.",check:()=>{var y,w,D,T,k,E,L,G,Te,Ae,lt,ct,ut,pn,Nt,kt;return!!((null===(w=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.head)||void 0===w?void 0:w.armorStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===T?void 0:T.armorStats.defense)>=131&&(null===(E=null===(k=this.characterService.characterState.equipment)||void 0===k?void 0:k.body)||void 0===E?void 0:E.armorStats)&&(null===(G=null===(L=this.characterService.characterState.equipment)||void 0===L?void 0:L.body)||void 0===G?void 0:G.armorStats.defense)>=131&&(null===(Ae=null===(Te=this.characterService.characterState.equipment)||void 0===Te?void 0:Te.legs)||void 0===Ae?void 0:Ae.armorStats)&&(null===(ct=null===(lt=this.characterService.characterState.equipment)||void 0===lt?void 0:lt.legs)||void 0===ct?void 0:ct.armorStats.defense)>=131&&(null===(pn=null===(ut=this.characterService.characterState.equipment)||void 0===ut?void 0:ut.feet)||void 0===pn?void 0:pn.armorStats)&&(null===(kt=null===(Nt=this.characterService.characterState.equipment)||void 0===Nt?void 0:Nt.feet)||void 0===kt?void 0:kt.armorStats.defense)>=131)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoArmorMergeManual)},unlocked:!1},{name:"Gemologist",description:"You acquired 88 gems and unlocked the "+this.itemRepoService.items.useSpiritGemManual.name,hint:"Ooh, shiny.",check:()=>this.battleService.troubleKills>88,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.useSpiritGemManual)},unlocked:!1},{name:"Ingredient Snob",description:"You achieved a deep understanding of herbs and unlocked the "+this.itemRepoService.items.bestHerbsManual.name,hint:"An aspiring immortal should take the red one. Take it over and over.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.waterLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHerbsManual)},unlocked:!1},{name:"Wood Snob",description:"You achieved a deep understanding of wood and unlocked the "+this.itemRepoService.items.bestWoodManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.woodLore.value>1024&&this.characterService.characterState.attributes.intelligence.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWoodManual)},unlocked:!1},{name:"Ore Snob",displayName:"Smelting Snob",description:"You achieved a deep understanding of digging and smelting metal and unlocked the "+this.itemRepoService.items.bestOreManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.metalLore.value>1024&&this.characterService.characterState.attributes.earthLore.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestOreManual)},unlocked:!1},{name:"Hide Snob",displayName:"Hunting Snob",description:"You achieved a deep understanding of hunting and gathering hides and unlocked the "+this.itemRepoService.items.bestHidesManual.name,hint:"There are lots of activities an aspiring immortal can do on their way to immortality. Maybe you should try getting good at a few of them.",check:()=>this.characterService.characterState.attributes.animalHandling.value>1024&&this.characterService.characterState.attributes.speed.value>1024,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestHidesManual)},unlocked:!1},{name:"Gem Snob",description:"You have sold 888 gems and unlocked the "+this.itemRepoService.items.bestGemsManual.name,hint:"I hear the market for fine jewelry is so hot right now.",check:()=>this.inventoryService.lifetimeGemsSold>=888,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestGemsManual)},unlocked:!1},{name:"Unlimited Taels",description:"Your family has unlocked the secrets of compound interest. You probably never have to worry about money again.",hint:"Family first. Especially in matters of money.",check:()=>this.characterService.characterState.bloodlineRank>=4,effect:()=>{},unlocked:!1},{name:"Not Unlimited Taels",description:"You filled up your purse, your wall safe, the box under your bed, and a giant money pit in the backyard. You just can't hold any more money.",hint:"How rich can you get?",check:()=>this.characterService.characterState.money>=this.characterService.characterState.maxMoney-1e21,effect:()=>{},unlocked:!1},{name:"Grandpa's Old Tent",description:"You've gone through eight cycles of reincarnation and come to understand the value of grandfathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>8,effect:()=>{this.homeService.grandfatherTent=!0},unlocked:!1},{name:"Paternal Pride",description:"You've worked 888 days of odd jobs and come to understand the value of fathers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.oddJobDays>888,effect:()=>{this.characterService.fatherGift=!0},unlocked:!1},{name:"Maternal Love",description:"You've done 888 days of begging and come to understand the value of mothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.activityService.beggingDays>888,effect:()=>{this.inventoryService.motherGift=!0},unlocked:!1},{name:"Grandma's Stick",description:"You've developed spirituality and come to understand the value of grandmothers.",hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.attributes.spirituality.value>0,effect:()=>{this.inventoryService.grandmotherGift=!0},unlocked:!1},{name:"Weapons Grandmaster",description:"You wielded epic weapons of both metal and wood and unlocked the "+this.itemRepoService.items.bestWeaponManual.name,hint:"Power level 10,000!",check:()=>{var y,w,D,T,k,E,L,G;return!!((null===(w=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.rightHand)||void 0===w?void 0:w.weaponStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.rightHand)||void 0===T?void 0:T.weaponStats.baseDamage)>=8888&&(null===(E=null===(k=this.characterService.characterState.equipment)||void 0===k?void 0:k.leftHand)||void 0===E?void 0:E.weaponStats)&&(null===(G=null===(L=this.characterService.characterState.equipment)||void 0===L?void 0:L.leftHand)||void 0===G?void 0:G.weaponStats.baseDamage)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestWeaponManual)},unlocked:!1},{name:"Tank!",description:"You armored yourself with epic defenses and unlocked the "+this.itemRepoService.items.bestArmorManual.name,hint:"Don't hurt me!",check:()=>{var y,w,D,T,k,E,L,G,Te,Ae,lt,ct,ut,pn,Nt,kt;return!!((null===(w=null===(y=this.characterService.characterState.equipment)||void 0===y?void 0:y.head)||void 0===w?void 0:w.armorStats)&&(null===(T=null===(D=this.characterService.characterState.equipment)||void 0===D?void 0:D.head)||void 0===T?void 0:T.armorStats.defense)>=8888&&(null===(E=null===(k=this.characterService.characterState.equipment)||void 0===k?void 0:k.body)||void 0===E?void 0:E.armorStats)&&(null===(G=null===(L=this.characterService.characterState.equipment)||void 0===L?void 0:L.body)||void 0===G?void 0:G.armorStats.defense)>=8888&&(null===(Ae=null===(Te=this.characterService.characterState.equipment)||void 0===Te?void 0:Te.legs)||void 0===Ae?void 0:Ae.armorStats)&&(null===(ct=null===(lt=this.characterService.characterState.equipment)||void 0===lt?void 0:lt.legs)||void 0===ct?void 0:ct.armorStats.defense)>=8888&&(null===(pn=null===(ut=this.characterService.characterState.equipment)||void 0===ut?void 0:ut.feet)||void 0===pn?void 0:pn.armorStats)&&(null===(kt=null===(Nt=this.characterService.characterState.equipment)||void 0===Nt?void 0:Nt.feet)||void 0===kt?void 0:kt.armorStats.defense)>=8888)},effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bestArmorManual)},unlocked:!1},{name:"You're a wizard now.",description:"Enlightenment! You have achieved a permanent and deep understanding of elemental balance with your high, balanced levels of lore in each of the five elements. Mana is now unlocked for all future lives.",hint:"Seek the balance of the dao.",check:()=>{const y=this.characterService.characterState.attributes.fireLore.value,w=this.characterService.characterState.attributes.earthLore.value,D=this.characterService.characterState.attributes.woodLore.value,T=this.characterService.characterState.attributes.waterLore.value,k=this.characterService.characterState.attributes.metalLore.value,E=Math.min(k,T,D,w,y),L=Math.max(k,T,D,w,y);return E>=1e3&&L<=1.21*E},effect:()=>{this.characterService.characterState.manaUnlocked=!0,0===this.characterService.characterState.status.mana.max&&(this.characterService.characterState.status.mana.max=1,this.characterService.characterState.status.mana.value=1)},unlocked:!1},{name:"Sect Leader",description:"You have become powerful enough that you may now start attracting followers.",hint:"Ascension has its privileges.",check:()=>this.characterService.soulCoreRank()>=1&&this.characterService.meridianRank()>=1&&this.characterService.characterState.bloodlineRank>=1,effect:()=>{this.followerService.followersUnlocked=!0},unlocked:!1},{name:"Impossible",description:"You have achieved incredible power and are ready to begin taking on impossible tasks.",hint:"No one can exceed the limits of humanity. It can't be done.",check:()=>this.characterService.soulCoreRank()>=9&&this.characterService.meridianRank()>=9&&this.characterService.characterState.bloodlineRank>=5,effect:()=>{this.impossibleTaskService.impossibleTasksUnlocked=!0},unlocked:!1},{name:"Eternal Nation",description:"You have established an empire that will never fall, and a bloodline that will always inherit it.",hint:"Bloodline Empire.",check:()=>this.homeService.home.type===Me.Capital&&this.characterService.characterState.bloodlineRank>=7,effect:()=>{this.characterService.characterState.imperial=!0;for(const y of this.homeService.imperialHomesList)this.homeService.homesList.includes(y)||this.homeService.homesList.push(y);this.homeService.setCurrentHome(this.homeService.home)},unlocked:!1},{name:"Limit Breaker",description:"You have broken past human limits and improve constantly! What new fate awaits you?",hint:"999",check:()=>this.characterService.characterState.bloodlineRank>=9,effect:()=>{},unlocked:!1},{name:"Harmony of Mind and Body",description:"You have balanced your powerful mind and body and unlocked the ability to use your mana to strike down your enemies.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const y=this.characterService.characterState.attributes.speed.value,w=this.characterService.characterState.attributes.toughness.value,D=this.characterService.characterState.attributes.charisma.value,T=this.characterService.characterState.attributes.intelligence.value,k=this.characterService.characterState.attributes.strength.value,E=Math.min(y,w,D,T,k),L=Math.max(y,w,D,T,k);return E>=1e6&&L<=1.21*E},effect:()=>{this.battleService.manaAttackUnlocked=!0},unlocked:!1},{name:"Unity of Spirit, Mind, and Body",description:"You have balanced your powerful spirit with your mind and body. You unlocked the ability to use your mana to protect yourself.",hint:"The dao embraces all things in perfect harmony.",check:()=>{const y=this.characterService.characterState.attributes.spirituality.value,w=this.characterService.characterState.attributes.speed.value,D=this.characterService.characterState.attributes.toughness.value,T=this.characterService.characterState.attributes.charisma.value,k=this.characterService.characterState.attributes.intelligence.value,E=this.characterService.characterState.attributes.strength.value,L=Math.min(w,D,T,k,E,y),G=Math.max(w,D,T,k,E,y);return L>=1e6&&G<=1.21*L},effect:()=>{this.battleService.manaShieldUnlocked=!0},unlocked:!1},{name:"Disposable Followers",description:"You have recruited so many people you can now freely dismiss followers using the "+this.itemRepoService.items.followerAutoDismissManual.name,hint:"The One Hundred Companions.",check:()=>this.followerService.followersRecruited>=100,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.followerAutoDismissManual)},unlocked:!1},{name:"Loyal Followers",description:"One of your followers has trained under you so long they have nothing else to learn. In an epiphany you realized how to double your new followers' lifespan.",hint:"Endless training.",check:()=>this.followerService.highestLevel>=100,effect:()=>{this.followerService.followerLifespanDoubled=!0},unlocked:!1},{name:"Ascension",description:"You have developed enough spirituality to ascend.",hint:"Only with spiritual development can you ascend to higher states.",check:()=>this.characterService.characterState.attributes.spirituality.value>=10,effect:()=>{this.characterService.characterState.ascensionUnlocked=!0},unlocked:!1},{name:"I don't want to go.",description:"You have lived many lives and unlocked the "+this.itemRepoService.items.autoPauseSettingsManual.name,hint:"Just keep playing. I'm sure this will come to an aspiring immortal eventually.",check:()=>this.characterService.characterState.totalLives>=48&&this.mainLoopService.totalTicks>18250,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoPauseSettingsManual)},unlocked:!1},{name:"Breaks are Good",description:"You have collected two hour's worth of offline ticks and unlocked the "+this.itemRepoService.items.bankedTicksEfficiencyManual.name,hint:"Take a day off from cultivating.",check:()=>this.mainLoopService.bankedTicks>288e3,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.bankedTicksEfficiencyManual)},unlocked:!1},{name:"Breaks are Bad",description:"You died from overwork performing an activity without necessary rest and unlocked the "+this.itemRepoService.items.autoRestManual.name,hint:"There's no time to rest, cultivating is life.",check:()=>this.activityService.activityDeath||this.characterService.characterState.immortal,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.autoRestManual)},unlocked:!1},{name:"Still Spry",description:"You have lived to be 300 years old and unlocked the "+this.itemRepoService.items.ageSpeedManual.name,hint:"One step to becoming immortal is to live longer.",check:()=>this.characterService.characterState.age>109500,effect:()=>{this.storeService.unlockManual(this.itemRepoService.items.ageSpeedManual)},unlocked:!1},{name:"Immortality",description:"Congratulations! You are now immortal.",hint:"Name of the game.",check:()=>this.characterService.characterState.immortal,effect:()=>{},unlocked:!1}],this.mainLoopService.longTickSubject.subscribe(()=>{for(const y of this.achievements)this.unlockedAchievements.includes(y.name)||y.check()&&this.unlockAchievement(y,!0)})}unlockAchievement(e,i){i&&(this.unlockedAchievements.push(e.name),this.logService.addLogMessage(e.description,"STANDARD","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(qn)),this.gameStateService.savetoLocalStorage(),this.characterService.toast("Achievement Unlocked: "+e.name)),e.effect(),e.unlocked=!0}getProperties(){return{unlockedAchievements:this.unlockedAchievements}}setProperties(e){this.unlockedAchievements=e.unlockedAchievements||[];for(const i of this.achievements)this.unlockedAchievements.includes(i.name)&&this.unlockAchievement(i,!1)}}return n.\u0275fac=function(e){return new(e||n)(S(Ct),S(_e),S(fn),S(Ie),S(W),S(xn),S(to),S(Xt),S(Ze),S(st),S(Ft),S(la))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yi="immortalityIdleGameState";let qn=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f,m,v,y,w){this.characterService=e,this.homeService=i,this.inventoryService=r,this.logService=o,this.reincarnationService=a,this.activityService=s,this.itemRepoService=l,this.battleService=c,this.followersService=u,this.autoBuyerService=f,this.mainLoopService=m,this.achievementService=v,this.impossibleTaskService=y,this.hellService=w,this.lastSaved=(new Date).getTime(),this.isDarkMode=!1,this.isImport=!1,this.isExperimental=window.location.href.includes("experimental"),this.gameStartTimestamp=(new Date).getTime(),this.easyModeEver=!1,this.saveInterval=300,this.saveSlot="",window.GameStateService=this,m.longTickSubject.subscribe(()=>{(new Date).getTime()-this.lastSaved>=1e3*this.saveInterval&&this.savetoLocalStorage()})}changeAutoSaveInterval(e){!e||e<1?e=1:e>900&&(e=900),this.saveInterval=e,this.savetoLocalStorage()}updateImportFlagKey(e){if(void 0!==e){this.isImport=e;const i=JSON.stringify(this.isImport);window.localStorage.setItem(Yi+this.getDeploymentFlavor()+"isImport",i)}else{const i=window.localStorage.getItem(Yi+this.getDeploymentFlavor()+"isImport");i&&(this.isImport=JSON.parse(i))}}savetoLocalStorage(){const e=window.localStorage.getItem(Yi+this.getDeploymentFlavor()+this.saveSlot);e&&window.localStorage.setItem("BACKUP"+Yi+this.getDeploymentFlavor()+this.saveSlot,e),window.localStorage.setItem(Yi+this.getDeploymentFlavor()+this.saveSlot,this.getGameExport()),this.lastSaved=(new Date).getTime()}loadFromLocalStorage(e=!1){this.getSaveFile();const r=window.localStorage.getItem((e?"BACKUP":"")+Yi+this.getDeploymentFlavor()+this.saveSlot);return!!r&&(this.importGame(r),this.isImport&&(this.characterService.toast("Load Successful"),this.updateImportFlagKey(!1)),!0)}importGame(e){let i;i="iig"===e.substring(0,3)?decodeURIComponent(atob(e.substring(3))):e;const r=JSON.parse(i);this.achievementService.setProperties(r.achievements),this.impossibleTaskService.setProperties(r.impossibleTasks),this.hellService.setProperties(r.hell||{}),this.characterService.characterState.setProperties(r.character),this.homeService.setProperties(r.home),this.inventoryService.setProperties(r.inventory);for(const o of this.inventoryService.itemStacks){if(null===o)continue;const a=this.itemRepoService.getItemById(o.item.id);a&&(o.item=a)}this.activityService.setProperties(r.activities),this.battleService.setProperties(r.battles),this.followersService.setProperties(r.followers),this.logService.setProperties(r.logs),this.autoBuyerService.setProperties(r.autoBuy),this.mainLoopService.setProperties(r.mainLoop),this.isDarkMode=r.darkMode||!1,this.gameStartTimestamp=r.gameStartTimestamp||(new Date).getTime(),this.easyModeEver=r.easyModeEver||!1,this.saveInterval=r.saveInterval||10,this.followersService.updateFollowerCap(),this.updateImportFlagKey()}getGameExport(){const e={achievements:this.achievementService.getProperties(),impossibleTasks:this.impossibleTaskService.getProperties(),hell:this.hellService.getProperties(),character:this.characterService.characterState.getProperties(),inventory:this.inventoryService.getProperties(),home:this.homeService.getProperties(),activities:this.activityService.getProperties(),battles:this.battleService.getProperties(),followers:this.followersService.getProperties(),logs:this.logService.getProperties(),autoBuy:this.autoBuyerService.getProperties(),mainLoop:this.mainLoopService.getProperties(),darkMode:this.isDarkMode,gameStartTimestamp:this.gameStartTimestamp,saveInterval:this.saveInterval||300,easyModeEver:this.easyModeEver};let i=JSON.stringify(e);return i="iig"+btoa(encodeURIComponent(i)),i}hardReset(){window.localStorage.removeItem(Yi+this.getDeploymentFlavor()+this.saveSlot),window.location.href=window.location.href}rebirth(){this.characterService.forceRebirth=!0,this.mainLoopService.pause=!1}cheat(){this.logService.addLogMessage("You dirty cheater! You pressed the cheat button!","STANDARD","EVENT"),this.characterService.characterState.money+=1e10;for(const i in this.itemRepoService.items){const r=this.itemRepoService.items[i];"manual"===r.type&&r.use&&r.use()}const e=Object.keys(this.characterService.characterState.attributes);for(const i in e){const r=this.characterService.characterState.attributes[e[i]];r.aptitude+=1e7,r.value+=1e7}for(this.inventoryService.addItem(this.inventoryService.generateSpiritGem(25)),this.homeService.upgradeToNextHome();this.homeService.upgrading;)this.homeService.upgradeTick()}setSaveFile(){window.localStorage.setItem("saveSlotFor"+Yi+this.getDeploymentFlavor(),this.saveSlot)}getSaveFile(){const e=window.localStorage.getItem("saveSlotFor"+Yi+this.getDeploymentFlavor());!e||(this.saveSlot=e)}getDeploymentFlavor(){let e=window.location.href;if("http://localhost:4200/"===e)return"";if("https://immortalityidle.github.io/"===e||"https://immortalityidle.github.io/old/"===e)return"";if(e.includes("https://immortalityidle.github.io/"))return e=e.substring(0,e.length-1),e.substring(e.lastIndexOf("/")+1);throw new Error("Hey, someone stole this game!")}}return n.\u0275fac=function(e){return new(e||n)(S(Ie),S(Ze),S(W),S(fn),S(zi),S(st),S(xn),S(Xt),S(Ft),S(Gc),S(Ct),S(wp),S(la),S($e))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xn=(()=>{class n{constructor(e,i,r,o){this.characterService=e,this.injector=i,this.logService=r,this.mainLoopService=o,this.furniture={blanket:{id:"blanket",name:"Blanket",type:"furniture",slot:"bed",value:10,description:"A tattered blanket. Not much, but it could keep you warm at night. Increases daily stamina recovery by 1.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value++}},mat:{id:"mat",name:"Sleeping Mat",type:"furniture",slot:"bed",value:1e3,description:"A thin woven mat to sleep on. Increases daily stamina recovery by 1 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=1,this.characterService.characterState.status.health.value+=.1,this.characterService.characterState.checkOverage()}},canopyBed:{id:"canopyBed",name:"Canopy Bed",type:"furniture",slot:"bed",value:1e4,description:"A fine bed with a cover. Curtains keep the mosquitoes off you during the night. Increases daily stamina recovery by 2 and restores a bit of health.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=2,this.characterService.characterState.status.health.value+=.2,this.characterService.characterState.checkOverage()}},heatedBed:{id:"heatedBed",name:"Heated Bed",type:"furniture",slot:"bed",value:1e5,description:"A bed built over a small clay oven. Keeps you toasty on even the coldest nights. Increases daily stamina recovery by 5 and improves health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bedOfNails:{id:"bedOfNails",name:"Bed of Nails",type:"furniture",slot:"bed",value:1e4,description:"A solid board with nails poking upwards. You won't sleep as well, but it is certain to toughen you up.",useConsumes:!1,use:()=>{this.characterService.characterState.status.stamina.value-=1,this.characterService.characterState.increaseAttribute("toughness",.1)}},waterBucket:{id:"waterBucket",name:"water bucket ",type:"furniture",slot:"bathtub",value:10,description:"A bucket of water that lets you splash water on your face. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.01)}},washBasin:{id:"washBasin",name:"wash basin",type:"furniture",slot:"bathtub",value:1e3,description:"A wash basin with a rag to clean yourself. Increases charisma.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.05)}},woodenTub:{id:"woodenTub",name:"wooden tub",type:"furniture",slot:"bathtub",value:1e4,description:"A tall and narrow tub where you can squat and bathe. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},bronzeTub:{id:"bronzeTub",name:"bronze tub",type:"furniture",slot:"bathtub",value:1e6,description:"A luxurious tub where you can get sparkling clean. Increases charisma and health recovery.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.health.value+=1,this.characterService.characterState.checkOverage()}},heatedTub:{id:"heatedTub",name:"heated tub",type:"furniture",slot:"bathtub",value:1e8,description:"A luxurious tub with its own heating stove. Good for your health and beauty.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.healthBonusBath++,this.characterService.characterState.checkOverage()}},cookPot:{id:"cookPot",name:"cook pot",type:"furniture",slot:"kitchen",value:10,description:"A simple pot over a fire to boil your food. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.01),this.characterService.characterState.increaseAttribute("speed",.01),this.characterService.characterState.increaseAttribute("toughness",.01)}},roastingSpit:{id:"roastingSpit",name:"roasting spit",type:"furniture",slot:"kitchen",value:1e3,description:"A simple spit to go along with your cookpot, letting you add more variety to your diet. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("toughness",.02)}},wok:{id:"wok",name:"wok",type:"furniture",slot:"kitchen",value:1e6,description:"A large metal wok to stir-fry a tasty dinner. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.05),this.characterService.characterState.increaseAttribute("speed",.05),this.characterService.characterState.increaseAttribute("toughness",.05)}},chefKitchen:{id:"chefKitchen",name:"chef kitchen",type:"furniture",slot:"kitchen",value:1e9,description:"An elaborate kitchen that allows you to cook anything. Improves all physical attributes.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1)}},anvil:{id:"anvil",name:"anvil",type:"furniture",slot:"workbench",value:1e6,description:"An anvil to work on blacksmithing.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("metalLore",.01)}},herbGarden:{id:"herbGarden",name:"herb garden",type:"furniture",slot:"workbench",value:1e6,description:"An pleasant garden growing herbs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("woodLore",.01)}},dogKennel:{id:"dogKennel",name:"dog kennel",type:"furniture",slot:"workbench",value:1e6,description:"A kennel for training hunting dogs.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("animalHandling",.01)}},cauldron:{id:"cauldron",name:"cauldron",type:"furniture",slot:"workbench",value:1e6,description:"A cauldron for practicing alchemy.",useConsumes:!1,use:()=>{this.characterService.characterState.increaseAttribute("waterLore",.01)}},prayerShrine:{id:"prayerShrine",name:"prayer shrine",type:"furniture",slot:"workbench",value:1e7,description:"A quiet shrine for contemplative prayer. You won't be able to use this unless you have some innate spirituality.",useConsumes:!1,use:()=>{this.characterService.characterState.attributes.spirituality.value>0&&this.characterService.characterState.increaseAttribute("spirituality",.01)}}},this.items={rice:{id:"rice",name:"rice",type:"food",value:1,description:"A basic staple of life. One pouch will sustain you for a day.",useLabel:"Eat",useDescription:"Fills your belly.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,this.characterService.characterState.checkOverage()}},cabbage:{id:"cabbage",name:"cabbage",type:"food",value:5,description:"A simple, healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.01&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a),this.characterService.characterState.checkOverage()}},beans:{id:"beans",name:"beans",type:"food",value:10,description:"A handful of healthy vegetables.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.02&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=1825?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<1825&&(this.characterService.characterState.foodLifespan=1825)),this.characterService.characterState.checkOverage()}},broccoli:{id:"broccoli",name:"broccoli",type:"food",value:15,description:"Little green trees. A very healthy vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.05&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=3650?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<3650&&(this.characterService.characterState.foodLifespan=3650)),this.characterService.characterState.checkOverage()}},calabash:{id:"calabash",name:"calabash",type:"food",value:20,description:"A tasty gourd with health-giving properties.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.08&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=5475?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<5475&&(this.characterService.characterState.foodLifespan=5475)),this.characterService.characterState.checkOverage()}},taro:{id:"taro",name:"taro",type:"food",value:25,description:"A healthy root vegetable.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=7300?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<7300&&(this.characterService.characterState.foodLifespan=7300)),this.characterService.characterState.checkOverage()}},pear:{id:"pear",name:"pear",type:"food",value:30,description:"A tasty fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.12&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=9125?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<9125&&(this.characterService.characterState.foodLifespan=9125)),this.characterService.characterState.checkOverage()}},melon:{id:"melon",name:"melon",type:"food",value:35,description:"A yummy fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.15&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=10950?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<10950&&(this.characterService.characterState.foodLifespan=10950)),this.characterService.characterState.checkOverage()}},plum:{id:"plum",name:"plum",type:"food",value:40,description:"An excellent fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.18&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=12775?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<12775&&(this.characterService.characterState.foodLifespan=12775)),this.characterService.characterState.checkOverage()}},apricot:{id:"apricot",name:"apricot",type:"food",value:45,description:"A delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and helps you be healthy and hardy.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.2&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=a,this.characterService.characterState.foodLifespan+a<=14600?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<14600&&(this.characterService.characterState.foodLifespan=14600)),this.characterService.characterState.checkOverage()}},peach:{id:"peach",name:"peach",type:"food",value:50,description:"A highly prized and delicious fruit.",useLabel:"Eat",useDescription:"Fills your belly and can even lead to a long life.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.22&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=2*a,this.characterService.characterState.foodLifespan+a<=26280?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<26280&&(this.characterService.characterState.foodLifespan=26280)),this.characterService.characterState.checkOverage()}},divinePeach:{id:"divinePeach",name:"divine peach",type:"food",value:100,description:"A divinely prized and delicious fruit.",useLabel:"Eat",useDescription:"Sates your immortal hunger.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.max+=a,this.characterService.characterState.status.nourishment.value+=a,this.characterService.characterState.healthBonusFood+=2*a,this.characterService.characterState.status.health.value+=20*a,this.characterService.characterState.status.stamina.value+=2*a,this.characterService.characterState.status.stamina.max+=2*a,this.characterService.characterState.status.mana.value+=a,this.characterService.characterState.foodLifespan+a<=262800?this.characterService.characterState.foodLifespan+=a:this.characterService.characterState.foodLifespan<262800&&(this.characterService.characterState.foodLifespan=262800),this.characterService.characterState.checkOverage()}},meat:{id:"meat",name:"meat",type:"food",value:50,description:"Some delicious meat.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=2*a,this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=10*a,this.characterService.characterState.status.stamina.max+=a,this.characterService.characterState.checkOverage()}},spiritMeat:{id:"spiritMeat",name:"spirit meat",type:"food",value:1e3,description:"Your hunters have performed a ritual burned offering of meat to send you this spiritual feast.",useLabel:"Eat",useDescription:"Fills your belly. Can also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=2*a,this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.health.value+=20*a,this.characterService.characterState.status.stamina.max+=a,this.characterService.characterState.checkOverage()}},carp:{id:"carp",name:"carp",type:"food",value:50,description:"A common fish.",useLabel:"Eat",useDescription:"Fills your belly. Might also improve your health and stamina.",useConsumes:!0,use:(a=1)=>{this.characterService.characterState.status.nourishment.value+=a,Math.random()<.1&&(this.characterService.characterState.healthBonusFood+=a,this.characterService.characterState.status.stamina.max+=a),this.characterService.characterState.checkOverage()}},hide:{id:"hide",name:"tattered hide",type:"hide",value:1,description:"A tattered animal hide."},thinPelt:{id:"thinPelt",name:"thin pelt",type:"hide",value:2,description:"A thin fur pelt."},plainLeather:{id:"plainLeather",name:"plain leather",type:"hide",value:3,description:"A basic leather hide."},scaleSkin:{id:"scaleSkin",name:"scale skin",type:"hide",value:4,description:"A scaly reptile skin."},thickFur:{id:"thickFur",name:"thick fur",type:"hide",value:5,description:"A thick animal fur."},armoredHide:{id:"armoredHide",name:"armored hide",type:"hide",value:6,description:"An armored animal hide."},frozenScales:{id:"frozenScales",name:"frozen scales",type:"hide",value:7,description:"A frozen scaly hide."},mysticalLeather:{id:"mysticalLeather",name:"mystical leather",type:"hide",value:8,description:"A mystical animal hide."},infernalFur:{id:"infernalFur",name:"infernal fur",type:"hide",value:9,description:"A fiery pelt."},orichalcumHide:{id:"orichalcumHide",name:"orichalcum hide",type:"hide",value:10,description:"A strong magic-infused hide."},tempestScales:{id:"tempestScales",name:"tempest scales",type:"hide",value:11,description:"A hide bristling with electricity."},evergreenVeil:{id:"evergreenVeil",name:"evergreen veil",type:"hide",value:12,description:"An extremely durable hide ."},sovereignLeather:{id:"sovereignLeather",name:"sovereign leather",type:"hide",value:13,description:"A powerful hide of a noble animal."},abyssalFur:{id:"abyssalFur",name:"abyssal fur",type:"hide",value:14,description:"A fur brimming with unholy power."},umbralHide:{id:"umbralHide",name:"umbral hide",type:"hide",value:15,description:"A hide made of shadows themselves."},divineVeil:{id:"divineVeil",name:"divine veil",type:"hide",value:16,description:"A hide consecrated with divine protection."},balsaLog:{id:"balsaLog",name:"balsa log",type:"wood",value:1,description:"A really soft log."},elmLog:{id:"elmLog",name:"elm log",type:"wood",value:2,description:"A soft log."},cypressLog:{id:"cypressLog",name:"cypress log",type:"wood",value:3,description:"A poor quality log."},walnutLog:{id:"walnutLog",name:"walnut log",type:"wood",value:4,description:"An adequate quality log."},laurelwoodLog:{id:"laurelwoodLog",name:"laurelwood log",type:"wood",value:5,description:"A nice quality log."},blackwoodLog:{id:"blackwoodLog",name:"blackwood log",type:"wood",value:6,description:"A good quality log."},rosewoodLog:{id:"rosewoodLog",name:"rosewood log",type:"wood",value:7,description:"A great quality log."},pearwoodLog:{id:"pearwoodLog",name:"pearwood log",type:"wood",value:8,description:"An excellent quality log."},zitanLog:{id:"zitanLog",name:"zitan log",type:"wood",value:9,description:"An amazing quality log."},lignumvitaeLog:{id:"lignumvitaeLog",name:"lignum vitae log",type:"wood",value:10,description:"a log of the highest mortal quality."},peachwoodlog:{id:"peachwoodlog",name:"peachwood log",type:"wood",value:11,description:"A log brimming with spiritual energy."},diamondwoodLog:{id:"diamondwoodLog",name:"diamondwood log",type:"wood",value:12,description:"A log as hard as diamond."},titanwoodLog:{id:"titanwoodLog",name:"titanwood log",type:"wood",value:13,description:"A log with the strength of titans."},dragonwoodLog:{id:"dragonwoodLog",name:"dragonwood log",type:"wood",value:14,description:"A log blessed by dragons."},devilwoodLog:{id:"devilwoodLog",name:"devilwood log",type:"wood",value:15,description:"A demonic quality log."},divinewoodLog:{id:"divinewoodLog",name:"divinewood log",type:"wood",value:16,description:"A divine quality log."},copperOre:{id:"copperOre",name:"copper ore",type:"ore",value:1,description:"A chunk of copper ore."},tinOre:{id:"tinOre",name:"tin ore",type:"ore",value:2,description:"A chunk of tin ore."},bronzeOre:{id:"bronzeOre",name:"mixed ore",type:"ore",value:3,description:"A chunk of ore containing copper, tin, lead, and zinc."},ironOre:{id:"ironOre",name:"iron ore",type:"ore",value:4,description:"A chunk of iron ore."},steelOre:{id:"steelOre",name:"coal-mixed iron ore",type:"ore",value:5,description:"A chunk of iron ore laced with coal."},mithrilOre:{id:"mithrilOre",name:"mithril ore",type:"ore",value:6,description:"A chunk of mithril ore."},greensteelOre:{id:"greensteelOre",name:"greensteel ore",type:"ore",value:7,description:"A chunk of greensteel ore."},bluesteelOre:{id:"bluesteelOre",name:"bluesteel ore",type:"ore",value:8,description:"A chunk of bluesteel ore."},redsteelOre:{id:"redsteelOre",name:"redsteel ore",type:"ore",value:9,description:"A chunk of redsteel ore."},flamesteelOre:{id:"flamesteelOre",name:"flamesteel ore",type:"ore",value:10,description:"A chunk of flamesteel ore."},froststeelOre:{id:"froststeelOre",name:"froststeel ore",type:"ore",value:11,description:"A chunk of froststeel ore."},brightsteelOre:{id:"brightsteelOre",name:"brightsteel ore",type:"ore",value:12,description:"A chunk of brightsteel ore."},darksteelOre:{id:"darksteelOre",name:"darksteel ore",type:"ore",value:13,description:"A chunk of darksteel ore."},felsteelOre:{id:"felsteelOre",name:"felsteel ore",type:"ore",value:14,description:"A chunk of felsteel ore."},cloudsteelOre:{id:"cloudsteelOre",name:"cloudsteel ore",type:"ore",value:15,description:"A chunk of cloudsteel ore."},adamantOre:{id:"adamantOre",name:"adamant ore",type:"ore",value:16,description:"A chunk of adamant ore."},copperBar:{id:"copperBar",name:"copper bar",type:"metal",value:10,description:"A bar of copper."},tinBar:{id:"tinBar",name:"tin bar",type:"metal",value:20,description:"A bar of tin."},bronzeBar:{id:"bronzeBar",name:"bronze bar",type:"metal",value:30,description:"A bar of bronze."},ironBar:{id:"ironBar",name:"iron bar",type:"metal",value:40,description:"A bar of iron."},steelBar:{id:"steelBar",name:"steel bar",type:"metal",value:50,description:"A bar of steel."},mithrilBar:{id:"mithrilBar",name:"mithril bar",type:"metal",value:60,description:"A bar of of mithril."},greensteelBar:{id:"greensteelBar",name:"greensteel bar",type:"metal",value:70,description:"A bar of greensteel."},bluesteelBar:{id:"bluesteelBar",name:"bluesteel bar",type:"metal",value:80,description:"A bar of bluesteel."},redsteelBar:{id:"redsteelBar",name:"redsteel bar",type:"metal",value:90,description:"A bar of redsteel."},flamesteelBar:{id:"flamesteelBar",name:"flamesteel bar",type:"metal",value:100,description:"A bar of flamesteel."},froststeelBar:{id:"froststeelBar",name:"froststeel bar",type:"metal",value:110,description:"A bar of froststeel."},brightsteelBar:{id:"brightsteelBar",name:"brightsteel bar",type:"metal",value:120,description:"A bar of brightsteel."},darksteelBar:{id:"darksteelBar",name:"darksteel bar",type:"metal",value:130,description:"A bar of darksteel."},felsteelBar:{id:"felsteelBar",name:"felsteel bar",type:"metal",value:140,description:"A bar of felsteel."},cloudsteelBar:{id:"cloudsteelBar",name:"cloudsteel bar",type:"metal",value:150,description:"A bar of cloudsteel."},adamantBar:{id:"adamantBar",name:"adamant bar",type:"metal",value:160,description:"A bar of adamant."},junk:{id:"junk",name:"junk",type:"metal",value:10,description:"Some metal junk."},pillMold:{id:"pillMold",name:"pill mold",type:"pillMold",value:100,description:"A metal mold for compressing a very powerful pill."},pillBox:{id:"pillBox",name:"pill box",type:"pillBox",value:100,description:"A wooden box required for holding a very powerful pill."},pillPouch:{id:"pillPouch",name:"pill pouch",type:"pillPouch",value:100,description:"A leather pouch designed to fit inside a pill box and preserve the power of certain very potent pills."},unbreakableChain:{id:"unbreakableChain",name:"unbreakable chain",type:"chain",value:1,description:"This chain is specially forged to be incredibly strong, but it's REALLY heavy."},everlastingBrick:{id:"everlastingBrick",name:"everlasting brick",type:"brick",value:1,description:"This brick is specially made to bear unimaginable weight."},everlastingMortar:{id:"everlastingMortar",name:"everlasting mortar",type:"mortar",value:1,description:"This mortar is specially made to hold up even the highest building."},scaffolding:{id:"scaffolding",name:"scaffolding",type:"scaffolding",value:1,description:"This scaffolding allows you to work for the next level of your tower."},windTome:{id:"windTome",name:"Tome of Wind Control",type:"windTome",value:1,description:"This book contains a great deal of research on how winds work and how they can be tamed."},army:{id:"army",name:"a vast army",type:"army",value:1,description:"This is an army. It fits nicely in your backpack due to your mastery of transdimensional magic."},immortality:{id:"immortality",name:"Essence of Immortality",type:"immortality",value:1/0,description:"The object of your obsession. Using this will make you immortal.",useLabel:"Become Immortal",useDescription:"Become immortal and win the game.",useConsumes:!0,use:()=>{this.impossibleTaskService||(this.impossibleTaskService=this.injector.get(la)),this.impossibleTaskService.taskProgress[J.OvercomeDeath].progress++,this.impossibleTaskService.activeTaskIndex=J.OvercomeDeath,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.OvercomeDeath].complete&&(this.logService.addLogMessage("YOU HAVE ACHIEVED IMMORTALITY! YOU WILL LIVE FOREVER!","INJURY","STORY"),this.gameStateService||(this.gameStateService=this.injector.get(qn)),this.gameStateService.easyModeEver&&this.logService.addLogMessage("Good work, even if you did take the easy path. For more of a challenge, you could reset and try without using the easy game mode.","STANDARD","STORY"),this.logService.addLogMessage("You won this game in "+this.mainLoopService.totalTicks+" days over "+this.characterService.characterState.totalLives+" lifetimes. I wonder if other immortals have ever done it faster?","STANDARD","STORY"),this.characterService.characterState.immortal=!0)}},fingers:{id:"fingers",name:"fingers",type:"fingers",value:1,description:"A handful of bloody fingers. The demons carry them as grisly trophies. Now, it seems, you do too."},tokenOfGratitude:{id:"tokenOfGratitude",name:"token of gratitude",type:"tokenOfGratitude",value:1,description:"A small keepsake from your family member."},mirrorShard:{id:"mirrorShard",name:"mirror shard",type:"mirrorShard",value:1,description:"A shard of broken glass. You carefully turn the reflective side away from you."},iceCore:{id:"iceCore",name:"ice core",type:"iceCore",value:1,description:"A small sphere containing the essence of pure cold."},hellCrownTongueRippers:{id:"hellCrownTongueRippers",name:"Crown of the Tongue Rippers",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Tongue Rippers. Using this will unlock a new type of follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.followerService||(this.followerService=this.injector.get(Ft)),this.hellService.completedHellBosses.includes(H.TongueRipping)||this.hellService.completedHellBosses.push(H.TongueRipping),this.logService.addLogMessage("The Crown of Tongue Rippers settles onto your head, then sinks in to become a part of your very soul. You feel that your words carry a new power that can inspire a new kind of follower to worship you as the god you are becoming. Perhaps a trip back to the mortal realm through reincarnation might we worthwhile.","STANDARD","STORY"),this.followerService.unlockJob("prophet")}},hellCrownScissors:{id:"hellCrownScissors",name:"Crown of Scissors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Scissors. Using this will unlock a new ability for your followers.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.followerService||(this.followerService=this.injector.get(Ft)),this.hellService.completedHellBosses.includes(H.Scissors)||this.hellService.completedHellBosses.push(H.Scissors),this.logService.addLogMessage("The Crown of Scissors settles onto your head, then sinks in to become a part of your very soul. You feel a deeper appreciation for marriage and family, and your followers sense it.","STANDARD","STORY"),this.logService.addLogMessage("From now on, each follower will train a child to replace themselves in your service when they pass away.","STANDARD","STORY"),this.followerService.autoReplaceUnlocked=!0}},hellCrownTreesOfKnives:{id:"hellCrownTreesOfKnives",name:"Crown of Knives",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Trees of Knives. Using this will unlock a new follower.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.followerService||(this.followerService=this.injector.get(Ft)),this.hellService.completedHellBosses.includes(H.TreesOfKnives)||this.hellService.completedHellBosses.push(H.TreesOfKnives),this.logService.addLogMessage("The Crown of Knives settles onto your head, then sinks in to become a part of your very soul. You can recruit a new follower specialized in honoring ancestors.","STANDARD","STORY"),this.followerService.unlockJob("moneyBurner")}},hellCrownMirrors:{id:"hellCrownMirrors",name:"Crown of Mirrors",type:"hellcrown",value:1/0,description:"A crown proving your mastery over the Hell of Mirrors. Using this will unlock a new understanding of combat.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.followerService||(this.followerService=this.injector.get(Ft)),this.activityService||(this.activityService=this.injector.get(st)),this.hellService.completedHellBosses.includes(H.Mirrors)||this.hellService.completedHellBosses.push(H.Mirrors),this.logService.addLogMessage("The Crown of Mirrors settles onto your head, then sinks in to become a part of your very soul. A deep understanding of combat based on your many battles with yourself reveals itself in a moment of enlightenment.","STANDARD","STORY"),this.characterService.characterState.attributes.combatMastery.value+=1,this.activityService.CombatTraining.unlocked=!0}},hellCrownSteamers:{id:"hellCrownSteamers",name:"Crown of Steam",type:"hellcrown",value:1/0,description:"A misty crown proving your mastery over the Hell of Steamers. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.battleService||(this.battleService=this.injector.get(Xt)),this.hellService.completedHellBosses.includes(H.Steamers)||this.hellService.completedHellBosses.push(H.Steamers),this.logService.addLogMessage("The Crown of Steam settles onto your head, then sinks in to become a part of your very soul. You learn to harness the intense heat of the Hell of Steamers in a powerful magical blast.","STANDARD","STORY"),this.battleService.pyroclasmUnlocked=!0}},hellCrownPillars:{id:"hellCrownPillars",name:"Crown of Pillars",type:"hellcrown",value:1/0,description:"A crown topped with tiny copper pillar proving your mastery over the hell for arsonists. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.battleService||(this.battleService=this.injector.get(Xt)),this.hellService.completedHellBosses.includes(H.CopperPillars)||this.hellService.completedHellBosses.push(H.CopperPillars),this.logService.addLogMessage("The Crown of Pillars settles onto your head, then sinks in to become a part of your very soul. Your inner fire stretches toward your skin, forming a barrier to protect you and harm your enemies.","STANDARD","STORY"),this.battleService.fireShieldUnlocked=!0}},hellCrownMountainOfKnives:{id:"hellCrownMountainOfKnives",name:"Crown of the Knife Mountain",type:"hellcrown",value:1/0,description:"A crown shaped like a mountain covered in tiny blades. Using this will unlock a new understanding of the world.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.MountainOfKnives)||this.hellService.completedHellBosses.push(H.MountainOfKnives),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. Having balanced your karmic debt, you begin to see the balance in all the world around you.","STANDARD","STORY"),this.characterService.characterState.yinYangUnlocked=!0}},hellCrownMountainOfIce:{id:"hellCrownMountainOfIce",name:"Crown of Ice",type:"hellcrown",value:1/0,description:"A frozen crown. Using this will unlock a new spell.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.MountainOfIce)||this.hellService.completedHellBosses.push(H.MountainOfIce),this.battleService||(this.battleService=this.injector.get(Xt)),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. The deep freezing from the mountain has given you a new idea for how to defend yourself.","STANDARD","STORY"),this.battleService.iceShieldUnlocked=!0}},hellCrownCauldronsOfOil:{id:"hellCrownCauldronsOfOil",name:"Cauldron Crown",type:"hellcrown",value:1/0,description:"An ugly pot you can wear on your head. Using this will unlock a new respect for the sanctity and dignity of human life.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.CauldronsOfOil)||this.hellService.completedHellBosses.push(H.CauldronsOfOil),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. A new resolve awakens in you to protect the defenseless from those that would abuse them.","STANDARD","STORY"),this.characterService.characterState.righteousWrathUnlocked=!0}},hellCrownCattlePit:{id:"hellCrownCattlePit",name:"Cow Crown",type:"hellcrown",value:1/0,description:"Now you are the Cow Emperor. Using this will let you understand animals.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.CattlePit)||this.hellService.completedHellBosses.push(H.CattlePit),this.followerService||(this.followerService=this.injector.get(Ft)),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. You find a new and deep connection to animals that you've never felt before.","STANDARD","STORY"),this.followerService.unlockElementalPets()}},hellCrownCrushingBoulder:{id:"hellCrownCrushingBoulder",name:"Boulder Crown",type:"hellcrown",value:1/0,description:"A heavy stone crown. Using this will greatly improve your physical characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.CrushingBoulder)||this.hellService.completedHellBosses.push(H.CrushingBoulder),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. Your muscles swell with new power.","STANDARD","STORY"),this.characterService.characterState.bonusMuscles=!0}},hellCrownMortarsAndPestles:{id:"hellCrownMortarsAndPestles",name:"Gluttonous Crown",type:"hellcrown",value:1/0,description:"A crown topped with mortars full of hellfire. Using this will lead you to a new enlightenment about food.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.MortarsAndPestles)||this.hellService.completedHellBosses.push(H.MortarsAndPestles),this.homeService||(this.homeService=this.injector.get(Ze)),this.inventoryService||(this.inventoryService=this.injector.get(W)),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. You come to a deep appreciation of the value and importance of food.","STANDARD","STORY"),this.homeService.hellFood=!0,this.inventoryService.divinePeachesUnlocked=!0,this.inventoryService.updateFarmFoodList()}},hellCrownBloodPool:{id:"hellCrownBloodPool",name:"Blood Crown",type:"hellcrown",value:1/0,description:"A liquid crown made of blood. Using this will empower your bloodline.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.BloodPool)||this.hellService.completedHellBosses.push(H.BloodPool),this.homeService||(this.homeService=this.injector.get(Ze)),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. Your bloodline becomes so powerful that the benefits of your ancestral home now apply even when you are no longer in the mortal realm.","STANDARD","STORY"),this.homeService.hellHome=!0}},hellCrownWrongfulDead:{id:"hellCrownWrongfulDead",name:"Hollow Crown",type:"hellcrown",value:1/0,description:"A crown so light you can barely feel it. Using this will greatly improve your mental characteristics.",useLabel:"Accept the Crown",useDescription:"",useConsumes:!0,use:()=>{this.hellService||(this.hellService=this.injector.get($e)),this.hellService.completedHellBosses.includes(H.WrongfulDead)||this.hellService.completedHellBosses.push(H.WrongfulDead),this.logService.addLogMessage("The crown settles onto your head, then sinks in to become a part of your very soul. Your mind suddenly expands with endless new possibilities.","STANDARD","STORY"),this.characterService.characterState.bonusBrains=!0}},fastPlayManual:{id:"fastPlayManual",name:"Manual of Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving faster.",value:28e3,useLabel:"Read",useDescription:"Permanently unlock fast game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>5?5:this.mainLoopService.topDivider,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockFastSpeed},fasterPlayManual:{id:"fasterPlayManual",name:"Manual of Greatly Expeditious Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving much faster.",value:1e5,useLabel:"Read",useDescription:"Permanently unlock faster game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFasterSpeed=!0,this.mainLoopService.topDivider=this.mainLoopService.topDivider>2?2:this.mainLoopService.topDivider,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockFasterSpeed},fastestPlayManual:{id:"fastestPlayManual",name:"Manual of Ludicrous Time Perception",type:"manual",description:"This manual teaches you to perceive time as moving incredibly fast.",value:8e5,useLabel:"Read",useDescription:"Permanently unlock fastest game speed.",useConsumes:!0,use:()=>{this.mainLoopService.unlockFastestSpeed=!0,this.mainLoopService.topDivider=1,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockFastestSpeed},restartActivityManual:{id:"restartActivityManual",name:"Manual of Remembered Plans",type:"manual",description:"This manual teaches you to automatically resume activities from your previous life. Only activities that you qualify for when you reach adulthood are available to resume.",value:500,useLabel:"Read",useDescription:"Permanently unlock preserving activity plans across reincarnations.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(st)),this.activityService.autoRestart=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var a;return this.activityService||(this.activityService=this.injector.get(st)),null===(a=this.activityService)||void 0===a?void 0:a.autoRestart}},autoSellManual:{id:"autoSellManual",name:"Manual of Mercantile Fluency",type:"manual",description:"This manual teaches you to automatically sell items.",value:8e4,useLabel:"Read",useDescription:"Permanently unlock auto-sell button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellUnlocked)},autoUseManual:{id:"autoUseManual",name:"Manual of Facilitated Usage",type:"manual",description:"This manual teaches you to automatically use items.",value:1e6,useLabel:"Read",useDescription:"Permanently unlock auto-use button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoUseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoUseUnlocked)},autoBalanceManual:{id:"autoBalanceManual",name:"Manual of Balanced Consumption and Mercantile Moderation",type:"manual",description:"This manual teaches you to automatically balance between using and selling items.",value:5e7,useLabel:"Read",useDescription:"Permanently unlock auto-balance button in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoBalanceUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoBalanceUnlocked)},autoBuyLandManual:{id:"autoBuyLandManual",name:"Manual of Land Acquisition",type:"manual",description:"This manual teaches you to automatically purchase land.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic land purchasing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyLandUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyLandUnlocked)},autoBuyHomeManual:{id:"autoBuyHomeManual",name:"Manual of Home Improvement",type:"manual",description:"This manual teaches you to automatically upgrade your home.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock automatic home upgrades.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyHomeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyHomeUnlocked)},autoBuyFurnitureManual:{id:"autoBuyFurnitureManual",name:"Manual of Home Furnishing",type:"manual",description:"This manual teaches you to automatically buy the last furniture you bought for your home in future lives.",value:8e7,useLabel:"Read",useDescription:"Permanently unlock automatic purchasing for furniture.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyFurnitureUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoBuyFurnitureUnlocked)},autoBuyerSettingsManual:{id:"autoBuySettingsManual",name:"Manual of Customized Automation",type:"manual",description:"This manual teaches you to customize the order and behavior of auto-buying.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock auto-buying customization",useConsumes:!0,use:()=>{this.autoBuyerService||(this.autoBuyerService=this.injector.get(Gc)),this.autoBuyerService.autoBuyerSettingsUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.autoBuyerService||(this.autoBuyerService=this.injector.get(Gc)),this.autoBuyerService.autoBuyerSettingsUnlocked)},autoFieldManual:{id:"autoFieldManual",name:"Manual of Field Conversion",type:"manual",description:"This manual teaches you to automatically plow open land into fields.",value:2e6,useLabel:"Read",useDescription:"Permanently unlock automatic field plowing.",useConsumes:!0,use:()=>{this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoFieldUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.homeService||(this.homeService=this.injector.get(Ze)),this.homeService.autoFieldUnlocked)},autoPotionManual:{id:"autoPotionManual",name:"Manual of Gluttonous Potion Consumption",type:"manual",description:"This manual teaches you to automatically use all potions.",value:2e8,useLabel:"Read",useDescription:"Permanently unlock auto-drinking all potions.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoPotionUnlocked=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Potion")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoPotionUnlocked)},autoPillManual:{id:"autoPotionManual",name:"Manual of Reckless Pill Consumption",type:"manual",description:"This manual teaches you to automatically use all pills.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-swallowing all pills.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoPillUnlocked=!0;for(let a=this.inventoryService.autoUseEntries.length-1;a>=0;a--)this.inventoryService.autoUseEntries[a].name.includes("Pill")&&this.inventoryService.autoUseEntries.splice(a,1);this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoPillUnlocked)},autoTroubleManual:{id:"autoTroubleManual",name:"Manual of Consistent Troublemaking",type:"manual",description:"This manual teaches you to automatically look for trouble.",value:5e8,useLabel:"Read",useDescription:"Permanently unlock automatic trouble in the battle panel.",useConsumes:!0,use:()=>{this.battleService||(this.battleService=this.injector.get(Xt)),this.battleService.autoTroubleUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>{var a;return this.battleService||(this.battleService=this.injector.get(Xt)),null===(a=this.battleService)||void 0===a?void 0:a.autoTroubleUnlocked}},autoWeaponMergeManual:{id:"autoWeaponMergeManual",name:"Manual of Effortless Weapon Merging",type:"manual",description:"This manual teaches you to automatically merge weapons.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic weapon merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoWeaponMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoWeaponMergeUnlocked)},autoArmorMergeManual:{id:"autoArmorMergeManual",name:"Manual of Effortless Armor Merging",type:"manual",description:"This manual teaches you to automatically merge armor.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock automatic armor merging in the inventory panel.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoArmorMergeUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoArmorMergeUnlocked)},useSpiritGemManual:{id:"useSpiritGemManual",name:"Manual of Spirit Gem Comprehension",type:"manual",description:"This manual teaches you to incorporate spirit gems in your crafting.",value:5e5,useLabel:"Read",useDescription:"Permanently unlock including spirit gems when creating items.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.useSpiritGemUnlocked=!0,this.inventoryService.useSpiritGemWeapons=!0,this.inventoryService.useSpiritGemPotions=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.useSpiritGemUnlocked)},bestHerbsManual:{id:"bestHerbsManual",name:"Manual of the Herbal Connoisseur",type:"manual",description:"This manual teaches you to automatically sell any herbs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade herbs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldHerbs=!0,this.inventoryService.autoSellOldHerbsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldHerbs)},bestWoodManual:{id:"bestWoodManual",name:"Manual of the Discerning Wood Collector",type:"manual",description:"This manual teaches you to automatically sell any logs below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade logs.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldWood=!0,this.inventoryService.autoSellOldWoodEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldWood)},bestOreManual:{id:"bestOreManual",name:"Manual of Mineral Pragmatism",type:"manual",description:"This manual teaches you to automatically sell any ores and bars below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade ores and bars.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldOre=!0,this.inventoryService.autoSellOldOreEnabled=!0,this.inventoryService.autoSellOldBarsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldOre)},bestHidesManual:{id:"bestHidesManual",name:"Manual of Pelt Perception",type:"manual",description:"This manual teaches you to automatically sell any hides below your current ability to gather.",value:5e6,useLabel:"Read",useDescription:"Permanently unlock auto-selling lower grade hides.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldHides=!0,this.inventoryService.autoSellOldHidesEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldHides)},bestWeaponManual:{id:"bestWeaponManual",name:"Manual of Wise Weapon Selection",type:"manual",description:"This manual teaches you to automatically equip the best weapons that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best weapons in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoequipBestWeapon=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoequipBestWeapon)},bestArmorManual:{id:"bestArmorManual",name:"Manual of Defensive Preparation",type:"manual",description:"This manual teaches you to automatically equip the best armor that you have.",value:1e10,useLabel:"Read",useDescription:"Permanently unlock auto-equipping the best armor in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoequipBestArmor=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoequipBestArmor)},betterStorageManual:{id:"betterStorageManual",name:"Manual of Efficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e6,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize>=1e3)},evenBetterStorageManual:{id:"evenBetterStorageManual",name:"Manual of Hyperefficient Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize>=1e4)},bestStorageManual:{id:"bestStorageManual",name:"Manual of Hyperspatial Item Storage",type:"manual",description:"This manual teaches you to store items more efficiently so you can keep more in each stack.",value:1e8,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize*=10,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.maxStackSize>=1e5)},followerAutoDismissManual:{id:"followerAutoDismissManual",name:"Manual of Judicious Disciple Selection",type:"manual",description:"This manual teaches you to automatically dismiss followers based on their jobs.",value:1e11,useLabel:"Read",useDescription:"Permanently increase by ten times the number of items you can put in each stack in your inventory.",useConsumes:!0,use:()=>{this.followerService||(this.followerService=this.injector.get(Ft)),this.followerService.autoDismissUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.followerService||(this.followerService=this.injector.get(Ft)),this.followerService.autoDismissUnlocked)},bestGemsManual:{id:"bestGemsManual",name:"Manual of Gemological Purity",type:"manual",description:"This manual teaches you to automatically sell gems that are below the value of the gems your current monster drops.",value:1e9,useLabel:"Read",useDescription:"Permanently unlock gem auto-selling for lower level gems.",useConsumes:!0,use:()=>{this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldGemsUnlocked=!0,this.inventoryService.autoSellOldGemsEnabled=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.inventoryService||(this.inventoryService=this.injector.get(W)),this.inventoryService.autoSellOldGemsUnlocked)},autoPauseSettingsManual:{id:"autoPauseSettingsManual",name:"Manual of Customized Danger Sensing",type:"manual",description:"This manual teaches you to customize options for automatically pausing the game.",value:1e7,useLabel:"Read",useDescription:"Permanently unlock auto-pausing customization",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(st)),this.activityService.autoPauseUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.activityService||(this.activityService=this.injector.get(st)),this.activityService.autoPauseUnlocked)},bankedTicksEfficiencyManual:{id:"bankedTicksEfficiencyManual",name:"Manual of Efficient Time Banking",type:"manual",description:"This manual teaches you to more efficiently bank ticks when paused or offline.",value:25e8,useLabel:"Read",useDescription:"Permanently increase banked tick efficiency to 50%.",useConsumes:!0,use:()=>{this.mainLoopService.offlineDivider=2,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.offlineDivider<=2},autoRestManual:{id:"autoRestManual",name:"Manual of Timely Rest",type:"manual",description:"This manual teaches you to avoid overwork by resting just in time.",value:4e10,useLabel:"Read",useDescription:"Permanently unlock automatic resting.",useConsumes:!0,use:()=>{this.activityService||(this.activityService=this.injector.get(st)),this.activityService.autoRestUnlocked=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>(this.activityService||(this.activityService=this.injector.get(st)),this.activityService.autoRestUnlocked)},ageSpeedManual:{id:"ageSpeedManual",name:"Manual of Aged Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the older you are.",value:75e8,useLabel:"Read",useDescription:"Permanently increase time passage based on your age.",useConsumes:!0,use:()=>{this.mainLoopService.unlockAgeSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockAgeSpeed},totalPlaytimeManual:{id:"totalPlaytimeManual",name:"Manual of Lifetime Time Perception",type:"manual",description:"This manual teaches you to perceive time faster the longer you've lived across all your lives.",value:5e10,useLabel:"Read",useDescription:"Permanently increase time passage based on your total time lived.",useConsumes:!0,use:()=>{this.mainLoopService.unlockPlaytimeSpeed=!0,this.logService.addLogMessage("The teachings of the manual sink deep into your soul. You'll be able to apply this knowledge in all future reincarnations.","STANDARD","EVENT")},owned:()=>this.mainLoopService.unlockPlaytimeSpeed}}}getItemById(e){if(this.items[e])return this.items[e]}getFurnitureById(e){return this.furniture[e]?this.furniture[e]:null}}return n.\u0275fac=function(e){return new(e||n)(S(Ie),S(_e),S(fn),S(Ct))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xt=(()=>{class n{constructor(e,i,r,o,a,s,l){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=o,this.inventoryService=a,this.autoTroubleUnlocked=!1,this.autoTroubleEnabled=!1,this.enableManaShield=!1,this.enableManaAttack=!1,this.enablePyroclasm=!1,this.enableFireShield=!1,this.enableIceShield=!1,this.manaShieldUnlocked=!1,this.manaAttackUnlocked=!1,this.pyroclasmUnlocked=!1,this.fireShieldUnlocked=!1,this.iceShieldUnlocked=!1,this.ticksPerFight=10,this.highestDamageTaken=0,this.highestDamageDealt=0,this.totalKills=0,this.skipEnemyAttack=0,this.monsterNames=["spider","rat","lizard","snake","jack-o-lantern","gnome","imp","ooze","jackalope","pixie","goblin","monkey","redcap","boar","skeleton","zombie","hobgoblin","kobold","chupacabra","siren","incubus","succubus","jackal","basilisk","mogwai","ghoul","gremlin","orc","tiger","ghost","centaur","troll","manticore","merlion","mummy","landshark","bugbear","yeti","dreameater","kelpie","unicorn","ogre","banshee","harpy","sphinx","werewolf","boogeyman","golem","leshy","hellhound","chimaera","undine","minotaur","bunyip","cyclops","rakshasa","oni","nyuk","cavebear","wendigo","dinosaur","wyvern","doomworm","lich","thunderbird","vampire","beholder","hydra","roc","giant","kraken","behemonth","phoenix","pazuzu","titan","leviathan","stormbringer"],this.monsterQualities=["an infant","a puny","a tiny","a pathetic","a sickly","a starving","a wimpy","a frail","an ill","a weak","a badly wounded","a tired","a poor","a small","a despondent","a frightened","a skinny","a sad","a stinking","a scatterbrained","a mediocre","a typical","an average","a healthy","a big","a tough","a crazy","a strong","a fearsome","a gutsy","a quick","a hefty","a grotesque","a large","a brawny","an athletic","a muscular","a rugged","a resilient","an angry","a clever","a fierce","a brutal","a devious","a mighty","a frightening","a massive","a powerful","a noble","a magical","a dangerous","a murderous","a terrifying","a gargantuan","a flame-shrouded","an abominable","a monstrous","a dominating","a demonic","a diabolical","an infernal"],setTimeout(()=>this.hellService=this.injector.get($e)),this.bigNumberPipe=this.injector.get(zt),this.enemies=[],this.currentEnemy=null,this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0,this.tickCounter=0,s.tickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){if(this.tickCounter<this.ticksPerFight)return void this.tickCounter++;this.tickCounter=0,null===this.currentEnemy&&this.enemies.length>0&&(this.currentEnemy=this.enemies[0]),this.enemiesAttack(),this.youAttack(),this.yearlyMonsterDay++,this.yearlyMonsterDay>=365&&(this.yearlyMonsterDay=0,this.trouble()),this.autoTroubleEnabled&&this.trouble()}}),l.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){this.clearEnemies(),this.kills=0,this.troubleKills=0,this.yearlyMonsterDay=0}getProperties(){return{enemies:this.enemies,currentEnemy:this.currentEnemy,kills:this.kills,troubleKills:this.troubleKills,totalKills:this.totalKills,autoTroubleUnlocked:this.autoTroubleUnlocked,autoTroubleEnabled:this.autoTroubleEnabled,monthlyMonsterDay:this.yearlyMonsterDay,manaShieldUnlocked:this.manaShieldUnlocked,manaAttackUnlocked:this.manaAttackUnlocked,pyroclasmUnlocked:this.pyroclasmUnlocked,fireShieldUnlocked:this.fireShieldUnlocked,iceShieldUnlocked:this.iceShieldUnlocked,enableManaShield:this.enableManaShield,enableManaAttack:this.enableManaAttack,enablePyroclasm:this.enablePyroclasm,enableFireShield:this.enableFireShield,enableIceShield:this.enableIceShield,highestDamageDealt:this.highestDamageDealt,highestDamageTaken:this.highestDamageTaken}}setProperties(e){this.enemies=e.enemies,this.currentEnemy=e.currentEnemy,this.kills=e.kills,this.troubleKills=e.troubleKills,this.totalKills=e.totalKills||0,this.autoTroubleUnlocked=e.autoTroubleUnlocked,this.autoTroubleEnabled=e.autoTroubleEnabled,this.yearlyMonsterDay=e.monthlyMonsterDay,this.enableManaShield=e.enableManaShield,this.enableManaAttack=e.enableManaAttack,this.enablePyroclasm=e.enablePyroclasm||!1,this.enableFireShield=e.enableFireShield||!1,this.enableIceShield=e.enableIceShield||!1,this.manaShieldUnlocked=e.manaShieldUnlocked||!1,this.manaAttackUnlocked=e.manaAttackUnlocked||!1,this.pyroclasmUnlocked=e.pyroclasmUnlocked||!1,this.fireShieldUnlocked=e.fireShieldUnlocked||!1,this.iceShieldUnlocked=e.iceShieldUnlocked||!1,this.highestDamageDealt=e.highestDamageDealt||0,this.highestDamageTaken=e.highestDamageTaken||0}enemiesAttack(){var e;if(this.skipEnemyAttack>0)this.skipEnemyAttack--;else for(const i of this.enemies)for(let r=0;r<i.quantity;r++)if(Math.random()<i.enemy.accuracy){let o=i.enemy.attack;const a=this.characterService.characterState.defense;a>=1&&(o/=Math.pow(a,.2)+Math.pow(2e4,(-o+a)/a)),o<.3&&(o=.3),this.enableManaShield&&this.characterService.characterState.status.mana.value>10&&(o/=2,this.characterService.characterState.status.mana.value-=10);let s=!1;if(this.enableFireShield&&this.characterService.characterState.status.mana.value>1e4){let c=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);c<1&&(c=1),c>10&&(c=10),o/=c,this.characterService.characterState.status.mana.value-=1e4,s=!0}if(this.enableIceShield&&this.characterService.characterState.status.mana.value>1e4){let c=Math.log(this.characterService.characterState.attributes.waterLore.value)/Math.log(100);c<1&&(c=1),c>10&&(c=10),o/=c,this.characterService.characterState.status.mana.value-=1e4,this.skipEnemyAttack++}this.characterService.characterState.yinYangUnlocked&&(o-=o*(this.characterService.characterState.yinYangBalance/2)),this.logService.addLogMessage("Ow! "+i.enemy.name+" hit you for "+this.bigNumberPipe.transform(o)+" damage","INJURY","COMBAT"),s&&this.damageEnemy(o,"The flames of your shield strike back, damaging the enemy for "+o+" damage."),o>this.highestDamageTaken&&(this.highestDamageTaken=o),this.characterService.characterState.status.health.value-=o,this.characterService.characterState.increaseAttribute("toughness",.01),this.attackEffect(i.enemy);const l=[];if(this.characterService.characterState.equipment.head&&l.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&l.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&l.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&l.push(this.characterService.characterState.equipment.feet),l.length>0&&this.degradeArmor(l[Math.floor(Math.random()*l.length)]),this.characterService.characterState.status.health.value<=0)return this.logService.addLogMessage("Death itself"===i.enemy.name?i.enemy.name+" overkilled you by "+Math.floor(-this.characterService.characterState.status.health.value)+" damage. You were defeated.":"You were defeated by "+i.enemy.name,"INJURY","EVENT"),this.characterService.characterState.immortal||(this.characterService.characterState.dead=!0),void((null===(e=this.hellService)||void 0===e?void 0:e.inHell)&&(this.hellService.beaten=!0,this.clearEnemies()))}else this.logService.addLogMessage("Miss! "+i.enemy.name+" tries to hit you but fails.","STANDARD","COMBAT")}youAttack(){if(this.characterService.characterState.accuracy=Math.min((this.troubleKills+Math.sqrt(this.characterService.characterState.attributes.speed.value))/this.troubleKills/2,1),this.currentEnemy&&this.characterService.characterState.status.health.value>0){if(Math.random()>this.characterService.characterState.accuracy)return void this.logService.addLogMessage("You attack "+this.currentEnemy.enemy.name+" but miss.","STANDARD","COMBAT");let e=this.characterService.characterState.attackPower;const i=this.currentEnemy.enemy.defense;i>=1&&(e/=Math.pow(i,.2)+Math.pow(2e4,(-e+i)/i)),e<1&&(e=1),this.enableManaAttack&&this.characterService.characterState.status.mana.value>10&&(e*=2,this.characterService.characterState.status.mana.value-=10);let r=!1;if(this.enablePyroclasm&&this.characterService.characterState.status.mana.value>1e4){let a=Math.log(this.characterService.characterState.attributes.fireLore.value)/Math.log(100);a<1&&(a=1),a>10&&(a=10),e*=a,this.characterService.characterState.status.mana.value-=1e4,r=!0}this.characterService.characterState.yinYangUnlocked&&(e+=e*this.characterService.characterState.yinYangBalance),e>this.highestDamageDealt&&(this.highestDamageDealt=e),this.characterService.characterState.equipment.leftHand&&this.characterService.characterState.equipment.leftHand.weaponStats&&(this.characterService.characterState.equipment.leftHand.weaponStats.durability--,this.characterService.characterState.equipment.leftHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.leftHand=null)),this.characterService.characterState.equipment.rightHand&&this.characterService.characterState.equipment.rightHand.weaponStats&&(this.characterService.characterState.equipment.rightHand.weaponStats.durability--,this.characterService.characterState.equipment.rightHand.weaponStats.durability<=0&&(this.inventoryService.addItem(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.rightHand=null));let o=this.damageEnemy(e);if(r)for(;o>0&&this.enemies.length>0;)this.currentEnemy=this.enemies[0],o=this.damageEnemy(o)}}damageEnemy(e,i=""){if(!this.currentEnemy)return 0;const r=this.currentEnemy.enemy.health;if(this.currentEnemy.enemy.health=Math.floor(this.currentEnemy.enemy.health-e),e-=r,this.currentEnemy.enemy.health<=0){this.kills++,this.totalKills++,this.logService.addLogMessage("You manage to kill "+this.currentEnemy.enemy.name,"STANDARD","COMBAT");for(const o of this.currentEnemy.enemy.loot){const a=this.itemRepoService.getItemById(o.id);this.inventoryService.addItem(a||o)}if(this.currentEnemy.quantity--,this.defeatEffect(this.currentEnemy.enemy),this.currentEnemy.quantity<=0){const o=this.enemies.indexOf(this.currentEnemy);this.enemies.splice(o,1),this.currentEnemy=null}else this.currentEnemy.enemy.health=this.currentEnemy.enemy.maxHealth;return(e-r)/2}return this.logService.addLogMessage(""===i?"You attack "+this.currentEnemy.enemy.name+" for "+this.bigNumberPipe.transform(e)+" damage":i,"STANDARD","COMBAT"),0}fight(e){this.currentEnemy=e}addEnemy(e){this.logService.addLogMessage("A new enemy comes along to trouble your sleep: "+e.name,"STANDARD","COMBAT");for(const i of this.enemies)if(i.enemy.name===e.name)return void(e.unique||i.quantity++);this.enemies.push({enemy:e,quantity:1}),null===this.currentEnemy&&(this.currentEnemy=this.enemies[0])}clearEnemies(){this.enemies=[],this.currentEnemy=null}trouble(){if(0!==this.enemies.length)return;if(this.hellService&&this.hellService.inHell)return void this.hellService.trouble();const e=Math.floor(this.troubleKills/(this.monsterNames.length*this.monsterQualities.length)),i=this.troubleKills%(this.monsterNames.length*this.monsterQualities.length),r=Math.floor(i/this.monsterQualities.length);let a=this.monsterQualities[i%this.monsterQualities.length]+" "+this.monsterNames[r];e>0&&(a+=" "+(e+1));const s=this.inventoryService.generateSpiritGem(Math.floor(Math.log2(this.troubleKills+2)));this.addEnemy({name:a,health:10*this.troubleKills,maxHealth:10*this.troubleKills,accuracy:.5,attack:this.troubleKills/5,defense:this.troubleKills/5,loot:[s]}),this.troubleKills++}degradeArmor(e){e.armorStats&&(e.armorStats.durability--,e.armorStats.durability<=0&&(this.inventoryService.addItem(e),this.characterService.characterState.equipment[e.slot]=null))}defeatEffect(e){!e.defeatEffect||"respawnDouble"===e.defeatEffect&&(this.logService.addLogMessage("They just keep coming! Two more "+e.name+" appear!","STANDARD","COMBAT"),this.addEnemy({name:e.name,health:e.maxHealth,maxHealth:e.maxHealth,accuracy:e.accuracy,attack:e.attack,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot}),this.addEnemy({name:e.name,health:e.maxHealth,maxHealth:e.maxHealth,accuracy:e.accuracy,attack:e.attack,defense:e.defense,defeatEffect:e.defeatEffect,loot:e.loot}))}attackEffect(e){if(e.attackEffect&&"feeder"===e.attackEffect&&this.hellService)if(e.hitTracker&&e.hitTracker<1)e.hitTracker++;else{this.hellService.daysFasted=0;let i=this.characterService.characterState.status.health.value/4;this.logService.addLogMessage("The hellfire burns as it goes down, damaging you for "+i+" extra damage.","INJURY","COMBAT"),this.characterService.characterState.status.health.value-=i}}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(fn),S(Ie),S(xn),S(W),S(Ct),S(zi))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Me=(()=>{return(n=Me||(Me={}))[n.SquatterTent=0]="SquatterTent",n[n.OwnTent=1]="OwnTent",n[n.DirtyShack=2]="DirtyShack",n[n.SimpleHut=3]="SimpleHut",n[n.PleasantCottage=4]="PleasantCottage",n[n.LargeHouse=5]="LargeHouse",n[n.CourtyardHouse=6]="CourtyardHouse",n[n.Manor=7]="Manor",n[n.Mansion=8]="Mansion",n[n.Palace=9]="Palace",n[n.Castle=10]="Castle",n[n.Fortress=11]="Fortress",n[n.Mountain=12]="Mountain",n[n.ForbiddenCity=13]="ForbiddenCity",n[n.Capital=14]="Capital",n[n.ImperialSeat=15]="ImperialSeat",n[n.Godthrone=16]="Godthrone",Me;var n})();let Ze=(()=>{class n{constructor(e,i,r,o,a,s,l,c){if(this.injector=e,this.characterService=i,this.inventoryService=r,this.logService=o,this.battleService=a,this.itemRepoService=c,this.autoBuyLandUnlocked=!1,this.autoBuyLandLimit=5,this.autoBuyHomeUnlocked=!1,this.autoBuyHomeLimit=2,this.autoBuyFurnitureUnlocked=!1,this.autoBuyFurniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.autoFieldUnlocked=!1,this.autoFieldLimit=0,this.useAutoBuyReserve=!1,this.autoBuyReserveAmount=0,this.fields=[],this.extraFields=0,this.averageYield=0,this.furniture={bed:null,bathtub:null,kitchen:null,workbench:null},this.furniturePositionsArray=["bed","bathtub","kitchen","workbench"],this.ownedFurniture=[],this.grandfatherTent=!1,this.houseBuildingProgress=1,this.upgrading=!1,this.thugPause=!1,this.hellFood=!1,this.hellHome=!1,this.homesList=[{name:"Squatter Tent",type:Me.SquatterTent,description:"A dirty tent pitched in an unused field. Costs nothing, but you get what you pay for. The mice around here are pretty nasty and you might get robbed by bandits.",cost:0,costPerDay:0,landRequired:0,maxInventory:10,upgradeToTooltip:"Get a better house.",consequence:()=>{Math.random()<.05&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.4&&this.battleService.addEnemy({name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]})},furnitureSlots:[],daysToBuild:1},{name:"Tent of Your Own",type:Me.OwnTent,description:"A decent tent pitched on your own bit of land. The occasional mouse or ruffian might give you trouble. Automatically restores 1 stamina and a bit of health each night.",cost:100,costPerDay:1,landRequired:1,maxInventory:12,upgradeToTooltip:"Get a better house. A better home will cost 100 taels and take up 1 land. The new home will restore 1 stamina and a bit of health each night.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=1,Math.random()<.03&&(this.logService.addLogMessage("Some troublemakers stole some money while you were sleeping. It might be time to get some walls.","INJURY","EVENT"),this.characterService.characterState.money-=this.characterService.characterState.money/10),Math.random()<.2&&this.battleService.addEnemy({name:"a pesky mouse",health:2,maxHealth:2,accuracy:.15,attack:.3,defense:0,loot:[]}),this.characterService.characterState.checkOverage()},furnitureSlots:[],daysToBuild:1},{name:"Dirty Shack",type:Me.DirtyShack,description:"A cheap dirt-floored wooden shack. At least it has a door to keep ruffians out. Automatically restores 3 stamina and a bit of health each night.",cost:1e3,costPerDay:5,landRequired:5,maxInventory:15,upgradeToTooltip:"Get a better house. A better home will cost 1,000 taels and take up 5 land. The new home will restore 3 stamina and a bit of health each night. It also has walls and space to properly sleep.",consequence:()=>{this.characterService.characterState.status.health.value+=.5,this.characterService.characterState.status.stamina.value+=3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed"],daysToBuild:1},{name:"Simple Hut",type:Me.SimpleHut,description:"A very simple hut. Automatically restores 5 stamina and a bit of health each night.",cost:1e4,costPerDay:10,landRequired:10,maxInventory:18,upgradeToTooltip:"Get a better house. A better home will cost 10,000 taels and take up 10 land. The new home will restore 5 stamina and a bit of health each night. It has enough room to properly bathe.",consequence:()=>{this.characterService.characterState.status.health.value+=.7,this.characterService.characterState.status.stamina.value+=5,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub"],daysToBuild:10},{name:"Pleasant Cottage",type:Me.PleasantCottage,description:"A nice little home where you can rest peacefully. Automatically restores 10 stamina, 1 health and a bit of mana each night.",cost:1e5,costPerDay:20,landRequired:20,maxInventory:20,upgradeToTooltip:"Get a better house. A better home will cost 100,000 taels and take up 20 land. The new home will restore 10 stamina and 1 health and a bit of mana each night. It also has room to let you cook.",consequence:()=>{this.characterService.characterState.status.mana.value+=.1,this.characterService.characterState.status.health.value+=1,this.characterService.characterState.status.stamina.value+=10,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen"],daysToBuild:30},{name:"Large House",type:Me.LargeHouse,description:"A large house where you can live and work. Automatically restores 15 stamina, 2 health, and a bit of mana each night.",cost:1e6,costPerDay:50,landRequired:50,maxInventory:24,upgradeToTooltip:"Get a better house. A better home will cost 1M taels and take up 50 land. The new home will restore 15 stamina, 2 health, and a bit of mana each night. It has room to practice your craft.",consequence:()=>{this.characterService.characterState.status.mana.value+=.2,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.status.stamina.value+=15,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:90},{name:"Courtyard House",type:Me.CourtyardHouse,description:"A large house with a wall and an enclosed courtyard. Perfect for building a thriving business. Automatically restores 20 stamina, 3 health, and a bit of mana each night.",cost:1e7,costPerDay:80,landRequired:80,maxInventory:28,upgradeToTooltip:"Get a better house. A better home will cost 10m taels and take up 80 land. The new home will restore 20 stamina, 3 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.3,this.characterService.characterState.status.health.value+=3,this.characterService.characterState.status.stamina.value+=20,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:180},{name:"Manor",type:Me.Manor,description:"A large manor house. You are really moving up in the world. Automatically restores 25 stamina, 4 health, and a bit of mana each night.",cost:1e8,costPerDay:100,landRequired:100,maxInventory:30,upgradeToTooltip:"Get a better house. A better home will cost 100m taels and take up 100 land. The new home will restore 25 stamina, 4 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.4,this.characterService.characterState.status.health.value+=4,this.characterService.characterState.status.stamina.value+=25,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365},{name:"Mansion",type:Me.Mansion,description:"An elaborate mansion. Automatically restores 30 stamina, 5 health, and a bit of mana each night.",cost:1e9,costPerDay:120,landRequired:120,maxInventory:32,upgradeToTooltip:"Get a better house. A better home will cost 1B taels and take up 120 land. The new home will restore 30 stamina, 5 health, and a bit of mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=.5,this.characterService.characterState.status.health.value+=5,this.characterService.characterState.status.stamina.value+=30,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:3650},{name:"Palace",type:Me.Palace,description:"A lavish palace. Automatically restores 35 stamina, 10 health, and 1 mana each night.",cost:1e10,costPerDay:150,landRequired:150,maxInventory:36,upgradeToTooltip:"Get a better house. A better home will cost 10B taels and take up 150 land. The new home will restore 35 stamina, 10 health, and 1 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=1,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.status.stamina.value+=35,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:36500},{name:"Castle",type:Me.Castle,description:"An imposing castle. Automatically restores 40 stamina, 15 health, and 2 mana each night.",cost:1e11,costPerDay:150,landRequired:150,maxInventory:40,upgradeToTooltip:"Get a better house. A better home will cost 100B taels and take up 150 land. The new home will restore 40 stamina, 15 health, and 2 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=2,this.characterService.characterState.status.health.value+=15,this.characterService.characterState.status.stamina.value+=40,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e3},{name:"Fortress",type:Me.Fortress,description:"An indomitable fortress. Automatically restores 50 stamina, 20 health, and 3 mana each night.",cost:1e12,costPerDay:180,landRequired:180,maxInventory:50,upgradeToTooltip:"Get a better house. A better home will cost 1T taels and take up 180 land. The new home will restore 50 stamina, 20 health, and 3 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=3,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e4},{name:"Mountain",type:Me.Mountain,description:"An entire mighty mountain. Automatically restores 100 stamina, 30 health, and 4 mana each night.",cost:1e13,costPerDay:500,landRequired:500,maxInventory:60,upgradeToTooltip:"Get a better house. A better home will cost 10T taels and take up 500 land. The new home will restore 100 stamina, 30 health, and 4 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=4,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e5},{name:"Forbidden City",type:Me.ForbiddenCity,description:"A city of your very own. Automatically restores 200 stamina, 50 health, and 5 mana each night.",cost:1e14,costPerDay:1e3,landRequired:1e3,maxInventory:80,upgradeToTooltip:"Get a better house. A better home will cost 100T taels and take up 1,000 land. The new home will restore 200 stamina, 50 health, and 5 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=5,this.characterService.characterState.status.health.value+=50,this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e6},{name:"Capital",type:Me.Capital,description:"The entire province is yours now. Automatically restores 300 stamina, 80 health, and 10 mana each night.",cost:1e15,costPerDay:1e4,landRequired:1e4,maxInventory:100,upgradeToTooltip:"Get a better house. A better home will cost 1q taels and take up 10,000 land. The new home will restore 300 stamina, 80 health, and 10 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.status.health.value+=80,this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e7}],this.imperialHomesList=[{name:"Seat of the Empire",type:Me.ImperialSeat,description:"You've built quite an empire. Automatically restores 500 stamina, 100 health, and 20 mana each night.",cost:1e16,costPerDay:1e6,landRequired:1e6,maxInventory:125,upgradeToTooltip:"Get a better house. A better home will cost 10q taels and take up 1,000,000 land. The new home will restore 500 stamina, 100 health, and 20 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=20,this.characterService.characterState.status.health.value+=100,this.characterService.characterState.status.stamina.value+=500,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e8},{name:"Godthrone",type:Me.Godthrone,description:"The entire world kneels far beneath you. Automatically restores 1000 stamina, 150 health, and 30 mana each night.",cost:1e17,costPerDay:1e7,landRequired:1e7,maxInventory:150,upgradeToTooltip:"Get a better house. A better home will cost 100q taels and take up 10,000,000 land. The new home will restore 1000 stamina, 150 health, and 30 mana each night.",consequence:()=>{this.characterService.characterState.status.mana.value+=30,this.characterService.characterState.status.health.value+=150,this.characterService.characterState.status.stamina.value+=1e3,this.characterService.characterState.checkOverage()},furnitureSlots:["bed","bathtub","kitchen","workbench"],daysToBuild:365e9}],this.nextHomeCostReduction=0,this.nextHomeCost=0,this.highestLand=0,this.highestLandPrice=100,this.mostFields=0,this.highestAverageYield=0,this.bestHome=0,setTimeout(()=>this.hellService=this.injector.get($e)),this.land=0,this.landPrice=100,this.setCurrentHome(this.homesList[0]),void 0===this.home||void 0===this.homeValue||void 0===this.nextHome)throw Error("Home service not initialized correctly.");s.tickSubject.subscribe(()=>{var u,f;if(!this.characterService.characterState.dead){this.upgrading&&this.upgradeTick(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.nextHomeCost<0&&(this.nextHomeCost=0),(!(null===(u=this.hellService)||void 0===u?void 0:u.inHell)||this.hellHome)&&this.home.consequence();for(const m of this.furniturePositionsArray){const v=this.furniture[m];(null==v?void 0:v.use)&&(null==v||v.use())}(!(null===(f=this.hellService)||void 0===f?void 0:f.inHell)||this.hellFood)&&this.ageFields(),this.home.costPerDay>this.characterService.characterState.money?(this.logService.addLogMessage("You can't afford the upkeep on your home. Some thugs rough you up over the debt. You better get some money, fast.","INJURY","EVENT"),this.thugPause&&(s.pause=!0),this.characterService.characterState.status.health.value-=20,this.characterService.characterState.money=0):this.characterService.characterState.money-=this.home.costPerDay}}),s.longTickSubject.subscribe(()=>{this.land>this.highestLand&&(this.highestLand=this.land),this.landPrice>this.highestLandPrice&&(this.highestLandPrice=this.landPrice),this.fields.length+this.extraFields>this.mostFields&&(this.mostFields=this.fields.length+this.extraFields),this.averageYield>this.highestAverageYield&&(this.highestAverageYield=this.averageYield),this.homeValue>this.bestHome&&(this.bestHome=this.homeValue),this.upgrading&&this.nextHome===this.home&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.home))}),l.reincarnateSubject.subscribe(()=>{this.reset(),this.characterService.characterState.bloodlineRank>=6?(this.logService.addLogMessage("You reincarnate as one of your descendants and your family recognizes you as you age.","STANDARD","EVENT"),this.logService.addLogMessage(this.characterService.characterState.bloodlineRank>=7?"Your family steps aside and assists your takeover of your Empire.":"Your family escorts you to your ancestral home and helps you get settled in.","STANDARD","EVENT")):this.grandfatherTent&&(this.logService.addLogMessage("Your grandfather gives you a bit of land and helps you set up a tent on it.","STANDARD","EVENT"),this.characterService.characterState.money+=50,this.setCurrentHome(this.nextHome))})}getProperties(){return{homeValue:this.homeValue,furniture:this.furniture,land:this.land,landPrice:this.landPrice,fields:this.fields,extraFields:this.extraFields,averageYield:this.averageYield,autoBuyLandUnlocked:this.autoBuyLandUnlocked,autoBuyLandLimit:this.autoBuyLandLimit,autoBuyHomeUnlocked:this.autoBuyHomeUnlocked,autoBuyHomeLimit:this.autoBuyHomeLimit,autoBuyFurnitureUnlocked:this.autoBuyFurnitureUnlocked,autoBuyFurniture:this.autoBuyFurniture,autoFieldUnlocked:this.autoFieldUnlocked,useAutoBuyReserve:this.useAutoBuyReserve,autoBuyReserveAmount:this.autoBuyReserveAmount,autoFieldLimit:this.autoFieldLimit,nextHomeCostReduction:this.nextHomeCostReduction,houseBuildingProgress:this.houseBuildingProgress,upgrading:this.upgrading,ownedFurniture:this.ownedFurniture,highestLand:this.highestLand,highestLandPrice:this.highestLandPrice,mostFields:this.mostFields,highestAverageYield:this.highestAverageYield,bestHome:this.bestHome,thugPause:this.thugPause,hellFood:this.hellFood,hellHome:this.hellHome}}setProperties(e){this.land=e.land,this.landPrice=e.landPrice,this.fields=e.fields,this.extraFields=e.extraFields||0,this.averageYield=e.averageYield||0,this.setCurrentHome(this.homesList[e.homeValue]),this.autoBuyLandUnlocked=e.autoBuyLandUnlocked||!1,this.autoBuyLandLimit=e.autoBuyLandLimit||0,this.autoBuyHomeUnlocked=e.autoBuyHomeUnlocked||!1,this.autoBuyHomeLimit=e.autoBuyHomeLimit||3,this.autoBuyFurnitureUnlocked=e.autoBuyFurnitureUnlocked||!1,this.autoBuyFurniture=e.autoBuyFurniture||!1,this.autoFieldUnlocked=e.autoFieldUnlocked||!1,this.autoFieldLimit=e.autoFieldLimit||0,this.useAutoBuyReserve=e.useAutoBuyReserve||!1,this.autoBuyReserveAmount=e.autoBuyReserveAmount||0,this.nextHomeCostReduction=e.nextHomeCostReduction||0,this.houseBuildingProgress=e.houseBuildingProgress||1,this.upgrading=e.upgrading||!1;for(const i of this.furniturePositionsArray){const r=e.furniture[i];r&&(this.furniture[i]=this.itemRepoService.getFurnitureById(r.id))}this.ownedFurniture=e.ownedFurniture||[],this.highestLand=e.highestLand||0,this.highestLandPrice=e.highestLandPrice||100,this.mostFields=e.mostFields||0,this.highestAverageYield=e.highestAverageYield||0,this.bestHome=e.bestHome||0,this.thugPause=e.thugPause||!1,this.hellFood=e.hellFood||!1,this.hellHome=e.hellHome||!1}getNextHome(){for(let e=this.homeValue;e<this.homesList.length-1;e++)if(this.homeValue===this.homesList[e].type)return this.homesList[e+1];return this.homesList[this.homesList.length-1]}upgradeToNextHome(){this.upgrading||this.characterService.characterState.money>=this.nextHomeCost&&this.land>=this.nextHome.landRequired&&(this.characterService.characterState.money-=this.nextHomeCost,this.land-=this.nextHome.landRequired,this.nextHomeCostReduction=0,this.houseBuildingProgress=0,this.upgrading=!0,this.logService.addLogMessage("You start upgrading your home to a "+this.nextHome.name,"STANDARD","EVENT"))}upgradeTick(e=1){e<1&&(e=1),this.houseBuildingProgress+=1/this.nextHome.daysToBuild*e,this.houseBuildingProgress>=1&&(this.houseBuildingProgress=1,this.upgrading=!1,this.setCurrentHome(this.nextHome),this.logService.addLogMessage("You finished upgrading your home. You now live in a "+this.home.name,"STANDARD","EVENT"))}reset(){this.characterService.characterState.bloodlineRank<6&&(this.setCurrentHome(this.homesList[0]),this.furniture.bed=null,this.furniture.bathtub=null,this.furniture.kitchen=null,this.furniture.workbench=null,this.ownedFurniture=[]),this.characterService.characterState.bloodlineRank<7&&(this.upgrading=!1,this.houseBuildingProgress=1),this.inventoryService.changeMaxItems(this.home.maxInventory),this.nextHomeCostReduction=0,this.land=0,this.landPrice=100,this.fields=[],this.extraFields=0,this.averageYield=0}setCurrentHome(e){this.homeValue=e.type,this.home=this.getHomeFromValue(this.homeValue),this.nextHome=this.getNextHome(),this.nextHomeCost=this.nextHome.cost-this.nextHomeCostReduction,this.inventoryService.changeMaxItems(this.home.maxInventory)}getHomeFromValue(e){for(const i of this.homesList)if(i.type===e)return i;throw Error("Home was not found with the given value")}getCrop(){let e=0;this.characterService.characterState.attributes.woodLore.value>1&&(e=Math.floor(Math.log2(this.characterService.characterState.attributes.woodLore.value))),e>=this.inventoryService.farmFoodList.length&&(e=this.inventoryService.farmFoodList.length-1);const i=this.inventoryService.farmFoodList[e];return{cropName:i.id,yield:1,maxYield:Math.floor(200/i.value),daysToHarvest:180+i.value,originalDaysToHarvest:180+i.value}}addField(e=1){for(e<0&&(e=this.land);e>0&&this.land>=e;){if(this.fields.length>=300)return this.extraFields+=e,void(this.land-=e);this.fields.push(this.getCrop()),this.land--,e--}}clearField(e=1){return e<0?(this.land+=this.extraFields,this.extraFields=0,this.land+=this.fields.length,void this.fields.splice(0)):this.extraFields>0&&e<=this.extraFields?(this.extraFields-=e,void(this.land+=e)):(e-=this.extraFields,this.extraFields=0,void(this.fields.length>0&&(e>this.fields.length&&(e=this.fields.length),this.land+=e,this.fields.splice(this.fields.length-e))))}workFields(e){for(let i=0;i<this.fields.length&&i<300;i++){const r=this.fields[i];r.yield+e<r.maxYield?r.yield+=e:r.yield=r.maxYield}}ageFields(){var e;let i=this.fields.length-1;i>299&&(i=299);let r=0;for(let o=i;o>=0;o--)if(this.fields[o].daysToHarvest<=0){let a=this.fields[o].yield;this.fields.length+this.extraFields>300&&(a=Math.floor(a*(this.fields.length+this.extraFields)/300)),r+=a,(null===(e=this.hellService)||void 0===e?void 0:e.inHell)&&a>0&&(a=Math.max(a/1e3,1)),this.inventoryService.addItem(this.itemRepoService.items[this.fields[o].cropName],a),this.fields[o]=this.getCrop()}else this.fields[o].daysToHarvest--;this.averageYield=(364*this.averageYield+r)/365}buyLand(e){const i=this.calculateAffordableLand(this.characterService.characterState.money);if(!i||!e)return 0;let r=0,o=0;return r=(e=e>0?Math.min(e,i):Math.floor(i/2))*(e-1)/2*10,o=this.landPrice*e+r,this.characterService.characterState.money>=o&&(this.characterService.characterState.money-=o,this.land+=e,this.landPrice+=10*e),e}calculateAffordableLand(e){const i=e,r=this.landPrice;return Math.floor((-r-5+Math.sqrt(Math.pow(r,2)+10*r+20*i+25))/10)}buyFurniture(e){const i=this.itemRepoService.getFurnitureById(e);i&&this.characterService.characterState.money>=i.value&&(this.characterService.characterState.money-=i.value,this.ownedFurniture.push(i.name),this.furniture[i.slot]=i)}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(Ie),S(W),S(fn),S(Xt),S(Ct),S(zi),S(xn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f,m){this.injector=e,this.characterService=i,this.inventoryService=r,this.homeService=o,this.mainLoopService=s,this.itemRepoService=l,this.battleService=c,this.logService=u,this.followerService=f,this.impossibleTaskService=m,this.activityLoop=[],this.savedActivityLoop=[],this.spiritActivity=null,this.autoRestart=!1,this.autoPauseUnlocked=!1,this.pauseOnImpossibleFail=!0,this.pauseOnDeath=!0,this.pauseBeforeDeath=!1,this.openApprenticeships=1,this.oddJobDays=0,this.beggingDays=0,this.completedApprenticeships=[],this.currentIndex=0,this.currentTickCount=0,this.exhaustionDays=0,this.currentLoopEntry=void 0,this.currentApprenticeship=F.Resting,this.activityDeath=!1,this.autoRestUnlocked=!1,this.totalExhaustedDays=0,this.activityHeader="",this.activityHeaderDescription="",this.hellEnabled=!1,this.spiritActivityProgress=!1,this.defineActivities(),this.activities=[],setTimeout(()=>this.activities=this.getActivityList()),a.reincarnateSubject.subscribe(()=>{this.reset()}),s.tickSubject.subscribe(()=>{var v;if(0!==this.activityLoop.length){if(!this.characterService.characterState.dead){if(this.pauseBeforeDeath&&this.characterService.characterState.age>=this.characterService.characterState.lifespan-1&&!this.characterService.characterState.immortal&&(this.logService.addLogMessage("The end of your natural life is imminent. Game paused.","INJURY","EVENT"),this.mainLoopService.pause=!0),this.exhaustionDays>0)return this.totalExhaustedDays++,void this.exhaustionDays--;if(this.characterService.characterState.bloodlineRank>=9&&!((null===(v=this.hellService)||void 0===v?void 0:v.inHell)&&this.hellService.currentHell===H.TreesOfKnives)&&this.characterService.characterState.increaseAptitudeDaily(),this.currentIndex<this.activityLoop.length){this.currentLoopEntry=this.activityLoop[this.currentIndex];let y=this.getActivityByType(this.currentLoopEntry.activity);if(null==y||this.currentLoopEntry.disabled||0===this.currentLoopEntry.repeatTimes){let w=0;for(this.currentIndex<this.activityLoop.length-1&&(w=this.currentIndex+1);w!==this.currentIndex&&(0===this.activityLoop[w].repeatTimes||this.activityLoop[w].disabled||null==this.getActivityByType(this.activityLoop[w].activity));)w++,w>=this.activityLoop.length&&(w=0);if(w===this.currentIndex)return void(this.mainLoopService.pause=!0);this.currentIndex=w,this.currentLoopEntry=this.activityLoop[this.currentIndex],y=this.getActivityByType(this.currentLoopEntry.activity),this.currentTickCount=0}if(y?(this.autoRestUnlocked&&!this.checkResourceUse(y)&&(y=this.Resting),y.consequence[y.level]()):console.log("Invalid activity, skipping activity for the day"),this.characterService.characterState.status.stamina.value<0&&(this.logService.addLogMessage("You collapse to the ground, completely exhausted. It takes you 5 days to recover enough to work again.","INJURY","EVENT"),this.exhaustionDays=5,this.characterService.characterState.status.stamina.value=100,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max),this.characterService.characterState.status.mana.value<0&&(this.logService.addLogMessage("You overextend your mana and damage your mana channels. It takes you 10 days to recover.","INJURY","EVENT"),this.characterService.characterState.status.mana.max>1&&(this.characterService.characterState.status.mana.max-=1),this.exhaustionDays=10,this.characterService.characterState.status.health.value-=.01*this.characterService.characterState.status.health.max),this.activityDeath=!1,this.characterService.characterState.status.health.value<=0&&(this.activityDeath=!0),this.currentTickCount++,this.currentTickCount>=this.currentLoopEntry.repeatTimes)for(this.currentTickCount=0,this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0);0===this.activityLoop[this.currentIndex].repeatTimes||this.activityLoop[this.currentIndex].disabled||null==this.getActivityByType(this.activityLoop[this.currentIndex].activity);)this.currentIndex++,this.currentIndex>=this.activityLoop.length&&(this.currentIndex=0)}else this.currentIndex=0;if(null!==this.spiritActivity&&this.characterService.characterState.status.mana.value>=5){this.spiritActivityProgress=!0;const y=this.getActivityByType(this.spiritActivity);null!==y&&this.checkResourceUse(y,!0)&&(y.consequence[y.level](),this.characterService.characterState.status.mana.value-=5)}else this.spiritActivityProgress=!1;this.characterService.characterState.money>this.characterService.characterState.maxMoney&&(this.characterService.characterState.money=this.characterService.characterState.maxMoney)}}else this.mainLoopService.pause=!0}),s.longTickSubject.subscribe(()=>{this.upgradeActivities(!1),this.checkRequirements(!1)})}checkResourceUse(e,i=!1){if(!e.resourceUse||!e.resourceUse[e.level])return!0;if(i&&(e.resourceUse[e.level].mana||(e.resourceUse[e.level].mana=0),this.characterService.characterState.status.mana.value<e.resourceUse[e.level].mana+5))return!1;for(const r in e.resourceUse[e.level])if(this.characterService.characterState.status[r].value<e.resourceUse[e.level][r])return!1;return!0}getProperties(){const e=[],i=[];for(const r of this.activities)r.unlocked&&e.push(r.activityType),r.discovered&&i.push(r.activityType);return{autoRestart:this.autoRestart,autoPauseUnlocked:this.autoPauseUnlocked,pauseOnDeath:this.pauseOnDeath,pauseBeforeDeath:this.pauseBeforeDeath,activityLoop:this.activityLoop,unlockedActivities:e,discoveredActivities:i,openApprenticeships:this.openApprenticeships,spiritActivity:this.spiritActivity,completedApprenticeships:this.completedApprenticeships,currentApprenticeship:this.currentApprenticeship,savedActivityLoop:this.savedActivityLoop,autoRestUnlocked:this.autoRestUnlocked,pauseOnImpossibleFail:this.pauseOnImpossibleFail,totalExhaustedDays:this.totalExhaustedDays}}setProperties(e){var i;this.reloadActivities(),this.completedApprenticeships=e.completedApprenticeships||[];const r=e.unlockedActivities||[F.OddJobs,F.Resting],o=e.discoveredActivities||[F.OddJobs,F.Resting];for(const a of this.activities)a.unlocked=r.includes(a.activityType),a.discovered||(a.discovered=o.includes(a.activityType)||r.includes(a.activityType));this.autoRestart=e.autoRestart,this.autoPauseUnlocked=e.autoPauseUnlocked||!1,this.pauseOnDeath=e.pauseOnDeath,this.pauseBeforeDeath=e.pauseBeforeDeath||!1,this.activityLoop=e.activityLoop,this.spiritActivity=null!==(i=e.spiritActivity)&&void 0!==i?i:null,this.openApprenticeships=e.openApprenticeships||0,this.currentApprenticeship=e.currentApprenticeship||F.Resting,this.savedActivityLoop=e.savedActivityLoop||[],this.autoRestUnlocked=e.autoRestUnlocked||!1,this.pauseOnImpossibleFail=void 0===e.pauseOnImpossibleFail||e.pauseOnImpossibleFail,this.totalExhaustedDays=e.totalExhaustedDays||0;for(let a=0;a<5;a++)this.upgradeActivities(!0)}meetsRequirements(e){if(this.meetsRequirementsByLevel(e,e.level,!0)){if(e.unlocked=!0,e.discovered)for(const i of this.activityLoop)i.activity===e.activityType&&i.disabled&&(i.disabled=!1);else e.discovered=!0;return!0}return!1}meetsRequirementsByLevel(e,i,r){if(r&&!e.unlocked&&this.openApprenticeships<=0&&e.activityType!==this.currentApprenticeship&&(i<e.skipApprenticeshipLevel||e.skipApprenticeshipLevel>0&&!this.completedApprenticeships.includes(e.activityType)))return!1;const o=Object.keys(e.requirements[i]);for(const a in o){const s=o[a];let l=0;if(void 0!==e.requirements[i][s]&&(l=e.requirements[i][s]),this.characterService.characterState.attributes[s].value<=l)return!1}return!0}checkRequirements(e){var i;for(const r of this.activities)!r.unlocked&&this.meetsRequirements(r)&&(e||this.logService.addLogMessage("A new activity is available. Maybe you should try "+r.name[r.level]+".","STANDARD","EVENT"));for(let r=this.activityLoop.length-1;r>=0;r--)(null===(i=this.getActivityByType(this.activityLoop[r].activity))||void 0===i?void 0:i.unlocked)||(this.activityLoop[r].disabled=!0)}upgradeActivities(e){for(const i of this.activities)i.level<i.description.length-1&&this.meetsRequirementsByLevel(i,i.level+1,!1)&&(!e&&i.unlocked&&this.logService.addLogMessage("Congratulations on your promotion! "+i.name[i.level]+" upgraded to "+i.name[i.level+1],"STANDARD","EVENT"),i.level++,i.unlocked&&i.skipApprenticeshipLevel<=i.level&&(this.completedApprenticeships.includes(i.activityType)||this.completedApprenticeships.push(i.activityType)))}reset(){this.openApprenticeships=1,this.currentApprenticeship=F.Resting,this.oddJobDays=0,this.beggingDays=0;for(const e of this.activities)e.level=0,e.unlocked=!1;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.impossibleTaskService.activeTaskIndex!==J.Swim&&(this.Resting.unlocked=!0,this.OddJobs.unlocked=!0),this.autoRestart?(this.checkRequirements(!0),this.pauseOnDeath&&!this.characterService.characterState.immortal&&(this.mainLoopService.pause=!0)):this.activityLoop=[],this.currentTickCount=0,this.currentIndex=0}getActivityByType(e){for(const i of this.activities)if(i.activityType===e)return i;return null}checkApprenticeship(e){if(0!==this.openApprenticeships){this.openApprenticeships--,this.currentApprenticeship=e;for(const i of this.activities)if(i.activityType!==e&&i.level<i.skipApprenticeshipLevel){i.unlocked=!1;for(let r=this.activityLoop.length-1;r>=0;r--)this.activityLoop[r].activity===i.activityType&&(this.activityLoop[r].disabled=!0)}}}reloadActivities(){this.activities=this.getActivityList();for(let e=this.activityLoop.length-1;e>=0;e--){let i=!1;for(const r of this.activities)r.activityType===this.activityLoop[e].activity&&(i=!0),r.discovered||this.meetsRequirements(r);i||(this.activityLoop.splice(e,1),this.activityLoop[e].disabled=!0)}this.spiritActivity=null;for(let e=0;e<5;e++)this.upgradeActivities(!0);this.checkRequirements(!0)}saveActivityLoop(){this.savedActivityLoop=JSON.parse(JSON.stringify(this.activityLoop))}loadActivityLoop(){this.activityLoop=JSON.parse(JSON.stringify(this.savedActivityLoop)),this.checkRequirements(!0)}getActivityList(){const e=[];if(this.activityHeader="",this.activityHeaderDescription="",this.impossibleTaskService.activeTaskIndex>=0&&(this.activityHeader="Do the impossible: "+this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].name,this.activityHeaderDescription=this.impossibleTaskService.tasks[this.impossibleTaskService.activeTaskIndex].description),this.hellService||(this.hellService=this.injector.get($e)),this.hellService.inHell)return this.hellService.getActivityList();if(this.impossibleTaskService.activeTaskIndex===J.Swim)return e.push(this.Swim),e;this.impossibleTaskService.activeTaskIndex===J.RaiseIsland&&(e.push(this.ForgeChains),e.push(this.AttachChains)),this.impossibleTaskService.activeTaskIndex===J.BuildTower&&(e.push(this.MakeBrick),e.push(this.MakeMortar),e.push(this.MakeScaffold),e.push(this.BuildTower)),this.impossibleTaskService.activeTaskIndex===J.TameWinds&&(e.push(this.ResearchWind),e.push(this.TameWinds)),this.impossibleTaskService.activeTaskIndex===J.LearnToFly&&e.push(this.LearnToFly),this.impossibleTaskService.activeTaskIndex===J.BefriendDragon&&(e.push(this.OfferDragonFood),e.push(this.OfferDragonWealth),e.push(this.TalkToDragon)),this.impossibleTaskService.activeTaskIndex===J.ConquerTheWorld&&(e.push(this.GatherArmies),e.push(this.ConquerTheWorld)),this.impossibleTaskService.activeTaskIndex===J.RearrangeTheStars&&e.push(this.MoveStars),e.push(this.Resting),e.push(this.OddJobs),e.push(this.Begging),e.push(this.Burning),e.push(this.Taunting),e.push(this.Farming),e.push(this.Mining),e.push(this.Smelting),e.push(this.Blacksmithing),e.push(this.ChopWood),e.push(this.Woodworking),e.push(this.Hunting),e.push(this.Leatherworking),e.push(this.Fishing),e.push(this.GatherHerbs),e.push(this.Alchemy),e.push(this.BodyCultivation),e.push(this.MindCultivation),(this.characterService.characterState.manaUnlocked||this.characterService.characterState.easyMode)&&e.push(this.ManaControl),e.push(this.CoreCultivation),this.characterService.characterState.immortal&&e.push(this.SoulCultivation),e.push(this.InfuseEquipment),e.push(this.InfuseBody),e.push(this.ExtendLife),e.push(this.Recruiting),this.followerService.petsEnabled&&(e.push(this.PetRecruiting),e.push(this.PetTraining)),e.push(this.TrainingFollowers),e.push(this.CombatTraining);for(const i of e)i.projectionOnly=!1;return e}defineActivities(){this.Swim={level:0,name:["Swim Deeper"],activityType:F.Swim,description:["Swim down further into the depths."],consequenceDescription:["Uses 20 Stamina. Reduce health by 100."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.status.health.value-=100,this.impossibleTaskService.taskProgress[J.Swim].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.Swim].complete&&this.logService.addLogMessage("Your preparations were worthwhile! You dove all the way to the bottom of the ocean, through a hidden tunnel that led impossibly deep, and found a mythical sunken island.","STANDARD","STORY")}],resourceUse:[{stamina:20}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ForgeChains={level:0,name:["Forge Unbreakable Chain"],activityType:F.ForgeChains,description:["Forge a chain strong enough to pull the island from the depths."],consequenceDescription:["Uses 100 Stamina. If you have the right facilities, materials, and knowledge you might be able to create an unbreakable chain."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const e=this.inventoryService.consume("metal");this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&e>=150&&this.characterService.characterState.attributes.metalLore.value>=1e9?Math.random()<.1?(this.logService.addLogMessage("Your anvil gives off an ear-splitting ringing and echoes endlessly into the depths. The new chain glows with power!","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.unbreakableChain)):this.logService.addLogMessage("Your anvil rings and weakly echoes into the depths. You throw aside the useless dull chain.","STANDARD","CRAFTING"):this.characterService.characterState.attributes.metalLore.value<1e9?(this.logService.addLogMessage("You lack the necessary knowledge and cause a deadly explosion.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.6*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.addLogMessage("You fumble with the wrong tools and materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.AttachChains={level:0,name:["Attach Chains to the Island"],activityType:F.AttachChains,description:["Swim deep and attach one of your chains to the island, then pull."],consequenceDescription:["Uses 1,000,000 Stamina. These chains are really, REALLY heavy. You better plan on having an Unbreakable Chain and a good place to rest afterwards."],consequence:[()=>{this.characterService.characterState.status.stamina.value>=1e6&&this.inventoryService.consume("chain")>0?(this.characterService.characterState.status.stamina.value-=1e6,this.logService.addLogMessage("You attach a chain to the island, and give your chains a long, strenuous tug.","STANDARD","EVENT"),this.impossibleTaskService.taskProgress[J.RaiseIsland].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.RaiseIsland].complete&&this.logService.addLogMessage("With a mighty pull of 777 chains, the island comes loose. You haul it to the surface.","STANDARD","STORY")):this.inventoryService.consume("chain",0)?(this.logService.addLogMessage("You strain yourself trying to lug the chain to an anchor point and collapse.","INJURY","EVENT"),this.characterService.characterState.status.stamina.value-=1e6,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0)):(this.logService.addLogMessage("You pass time exploring the hidden tunnels without a chain until a horror of the depths takes a nibble.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e6}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeBrick={level:0,name:["Create an Everlasting Brick"],activityType:F.MakeBrick,description:["Create bricks sturdy enough to support the weight of your tower."],consequenceDescription:["Uses 100 Stamina. If you have the right followers and materials you will create some everlasting bricks."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const e=this.inventoryService.consume("ore",200),i=Math.floor((this.followerService.jobs.builder.totalPower+10)/10);e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingBrick,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingBrick.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeScaffold={level:0,name:["Build Scaffolding"],activityType:F.MakeScaffold,description:["Set up the scaffolding for the next level of your tower."],consequenceDescription:["Uses 1000 Stamina. If you have the right materials you might succeed in setting up the scaffolding for the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;e=this.inventoryService.consume("wood",200),e>=11?(this.inventoryService.addItem(this.itemRepoService.items.scaffolding),this.logService.addLogMessage("You made "+this.itemRepoService.items.scaffolding.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials, hurt yourself, and break your weak attempt at scaffolding.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MakeMortar={level:0,name:["Mix Everlasting Mortar"],activityType:F.MakeMortar,description:["Mix mortar powerful enough to hold your mighty tower together."],consequenceDescription:["Uses 100 Stamina. If you have the right followers, facilities, and materials you might succeed in mixing some proper mortar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;const e=this.inventoryService.consume("ore"),i=Math.floor((this.followerService.jobs.builder.totalPower+100)/100);this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&e>=10?(this.inventoryService.addItem(this.itemRepoService.items.everlastingMortar,i),this.logService.addLogMessage("You and your followers made "+(1+i)+" "+this.itemRepoService.items.everlastingMortar.name,"STANDARD","CRAFTING")):(this.logService.addLogMessage("You fumble with the wrong materials and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.BuildTower={level:0,name:["Build the Next Level"],activityType:F.BuildTower,description:["Assemble 1000 bricks, 100 barrels of mortar, and your scaffolding to construct the next level of your tower. You will need a lot of expert help for this."],consequenceDescription:["Uses 1000 Stamina. If you have the right followers and materials you will build the next level."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3;let e=0;for(const r of this.followerService.followers)"builder"===r.job&&e++;if(e<10)return this.logService.addLogMessage("You fumble without the proper help and hurt yourself.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));let i=0;return i=this.inventoryService.consume("scaffolding"),i<1?(this.logService.addLogMessage("You try building without a scaffolding, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(i=0,i=this.inventoryService.consume("mortar",100),i<1?(this.logService.addLogMessage("You try building without enough mortar, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(i=0,i=this.inventoryService.consume("brick",1e3),i<1?(this.logService.addLogMessage("You try building without enough bricks, but it ends in a disaster and you are badly hurt.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.impossibleTaskService.taskProgress[J.BuildTower].progress++,this.impossibleTaskService.checkCompletion(),void(this.impossibleTaskService.taskProgress[J.BuildTower].complete&&this.logService.addLogMessage("You have acheived the impossible and built a tower beyond the heavens.","STANDARD","STORY")))))}],resourceUse:[{stamina:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ResearchWind={level:0,name:["Research Wind Control"],activityType:F.ResearchWind,description:["Delve deep into wind lore to understand how the neverending storm can be controlled."],consequenceDescription:["Uses 100 Stamina and Mana. Compile your research and if you have done enough you may produce a Tome of Wind Control."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.status.mana.value-=100,this.characterService.characterState.status.stamina.value<0||this.characterService.characterState.status.mana.value<0?this.logService.addLogMessage("You try to research, but you just don't have the energy.","STANDARD","EVENT"):this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&Math.random()<.01&&(this.logService.addLogMessage("Research breakthrough! You produce a tome!.","STANDARD","CRAFTING"),this.inventoryService.addItem(this.itemRepoService.items.windTome))}],resourceUse:[{stamina:100,mana:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TameWinds={level:0,name:["Tame Winds"],activityType:F.TameWinds,description:["Use your research to tame the winds."],consequenceDescription:["Uses 100 Stamina. Use a Tome of Wind Control to tame the hurricane."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e=0;e=this.inventoryService.consume("windTome"),e>0?(this.impossibleTaskService.taskProgress[J.TameWinds].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.TameWinds].complete&&this.logService.addLogMessage("You acheived the impossible and tamed a hurricane.","STANDARD","STORY")):(this.logService.addLogMessage("You try to tame the winds, but without the proper preparation you are blown off the top of the tower.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.5*this.characterService.characterState.status.health.max,this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.LearnToFly={level:0,name:["Learn To Fly"],activityType:F.LearnToFly,description:["Jump off your tower and practice flying. This will definitely go well for you."],consequenceDescription:["You will certainly, probably, maybe not die doing this."],consequence:[()=>{this.impossibleTaskService.taskProgress[J.LearnToFly].progress++,this.impossibleTaskService.taskProgress[J.LearnToFly].progress<2222?(this.logService.addLogMessage("Jumping off an impossibly tall tower ends about like you might expect. Your wounds may take a bit to heal, but at least you learned something.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3):this.impossibleTaskService.taskProgress[J.LearnToFly].progress<4444?(this.logService.addLogMessage("You feel like you might have flown a litte bit, somewhere near the time you hit the ground.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=500):this.impossibleTaskService.taskProgress[J.LearnToFly].progress<6666?(this.logService.addLogMessage("You definitely did better that time. You did some great flying but sticking the landing is still tricky.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=100):(this.logService.addLogMessage("Almost there! Perfect landings are so hard.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=10),this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.LearnToFly].complete&&this.logService.addLogMessage("You mastered flight! You can go anywhere in the world now, even where the ancient dragons live.","STANDARD","STORY")}],resourceUse:[{health:1001}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonFood={level:0,name:["Offer Food"],activityType:F.OfferDragonFood,description:["It turns out that dragons love peaches. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least 1000 food for this to work."],consequence:[()=>{let e=0;if(e=this.inventoryService.consume("food",1e3),e<1)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[J.BefriendDragon].progress<2e3?this.impossibleTaskService.taskProgress[J.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more food.","STANDARD","EVENT")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OfferDragonWealth={level:0,name:["Offer Wealth"],activityType:F.OfferDragonWealth,description:["You have heard that dragons like treasure. Bring the dragon a bunch and he may be more friendly."],consequenceDescription:["You will need at least a billion taels for this to work."],consequence:[()=>{if(this.characterService.characterState.money<1e9)return this.logService.addLogMessage("The dragon is offended by your paltry offering and takes a swipe at you with its massive claw.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.characterService.characterState.money-=1e9,this.impossibleTaskService.taskProgress[J.BefriendDragon].progress<4e3?this.impossibleTaskService.taskProgress[J.BefriendDragon].progress++:this.logService.addLogMessage("The dragon doesn't seem interested in any more money.","STANDARD","EVENT")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.TalkToDragon={level:0,name:["Talk to the Dragon"],activityType:F.TalkToDragon,description:["Try to strike up a conversation with the dragon."],consequenceDescription:["The dragon probably likes you enough to talk to you now, right?"],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<1e10)return this.logService.addLogMessage("The dragon doesn't like the sound of your voice and takes a bite out of you. Maybe you should practice speaking with humans first.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=1e3,void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0));this.impossibleTaskService.taskProgress[J.BefriendDragon].progress<3500?this.logService.addLogMessage("The dragon doesn't like like you enough to talk to you, but at least he doesn't attack you.","STANDARD","EVENT"):(this.impossibleTaskService.taskProgress[J.BefriendDragon].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.BefriendDragon].complete&&this.logService.addLogMessage("You did the impossible and made friends with a dragon!","STANDARD","STORY"))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.GatherArmies={level:0,name:["Gather Armies"],activityType:F.GatherArmies,description:["Gather troops into armies. This will require vast amounts of food and money."],consequenceDescription:["You rule a country by now, right? If not, this isn't going to go well."],consequence:[()=>{if(this.homeService.homeValue<Me.Capital){this.logService.addLogMessage("You don't even have your own kingdom? What were you thinking? The nearby rulers send their forces against you.","INJURY","EVENT");for(let i=0;i<3;i++)this.battleService.addEnemy({name:"an angry army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]});return}let e=0;return e=this.inventoryService.consume("food",1e4),e<1?(this.logService.addLogMessage("You don't have enough food to feed your army, so they revolt and fight you instead.","INJURY","EVENT"),this.battleService.addEnemy({name:"an angry army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]}),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):this.characterService.characterState.money<1e10?(this.logService.addLogMessage("You don't have enough money to pay your army, so they revolt and fight you instead.","INJURY","EVENT"),this.battleService.addEnemy({name:"an angry army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]}),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))):(this.characterService.characterState.money-=1e10,void this.inventoryService.addItem(this.itemRepoService.items.army))}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.ConquerTheWorld={level:0,name:["Conquer More Territory"],activityType:F.ConquerTheWorld,description:["Send out your armies to conquer the world."],consequenceDescription:["I'm sure you have plenty of armies for this. You wouldn't try this without enough armies, that would end badly."],consequence:[()=>{let e=0;if(e=this.inventoryService.consume("army",this.impossibleTaskService.taskProgress[J.ConquerTheWorld].progress+1),e<1){for(let i=0;i<5;i++)this.battleService.addEnemy({name:"an angry army",health:2e11,maxHealth:2e11,accuracy:.9,attack:1e7,defense:1e7,loot:[]});return this.logService.addLogMessage("Your armies failed you and you are forced to fight the enemy armies to a standstill.","STANDARD","EVENT"),void(this.pauseOnImpossibleFail&&(this.mainLoopService.pause=!0))}this.impossibleTaskService.taskProgress[J.ConquerTheWorld].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.ConquerTheWorld].complete&&this.logService.addLogMessage("You did the impossible and conquered the world! Under your wise rule all human suffering ceases.","STANDARD","STORY")}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.MoveStars={level:0,name:["Move Stars"],activityType:F.MoveStars,description:["Extend your vast magical powers into the heavens and force the stars into alignment."],consequenceDescription:["Uses 1000 Stamina and Mana."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.characterService.characterState.status.mana.value-=1e3,this.characterService.characterState.status.stamina.value>=0&&this.characterService.characterState.status.mana.value>=0&&(this.impossibleTaskService.taskProgress[J.RearrangeTheStars].progress++,this.impossibleTaskService.checkCompletion(),this.impossibleTaskService.taskProgress[J.RearrangeTheStars].complete&&this.logService.addLogMessage("You did the impossible and rearranged the stars themselves. You are so near to achieving immortality you can almost taste it. It tastes like peaches.","STANDARD","STORY"))}],resourceUse:[{stamina:1e3,mana:1e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.OddJobs={level:0,name:["Odd Jobs"],activityType:F.OddJobs,description:["Run errands, pull weeds, clean toilet pits, or do whatever else you can to earn a coin. Undignified work for a future immortal, but you have to eat to live."],consequenceDescription:["Uses 5 Stamina. Increases all your basic attributes by a small amount and provides a little money."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.02),this.characterService.characterState.increaseAttribute("toughness",.02),this.characterService.characterState.increaseAttribute("speed",.02),this.characterService.characterState.increaseAttribute("intelligence",.02),this.characterService.characterState.increaseAttribute("charisma",.02),this.characterService.characterState.status.stamina.value-=5,this.characterService.characterState.money+=3,this.OddJobs.lastIncome=3,this.oddJobDays++}],resourceUse:[{stamina:5}],requirements:[{}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Resting={level:0,name:["Resting","Meditation","Communing With Divinity","Finding True Inner Peace"],activityType:F.Resting,description:["Take a break and get some sleep. Good sleeping habits are essential for cultivating immortal attributes.","Enter a meditative state and begin your journey toward spritual enlightenment.","Extend your senses beyond the mortal realm and connect to deeper realities.","Turn your senses inward and find pure stillness within."],consequenceDescription:["Restores 50 Stamina and 2 Health.","Restores 100 Stamina, 10 Health, and 1 Mana (if unlocked).","Restores 200 Stamina, 20 Health, and 10 Mana (if unlocked).","Restores 300 Stamina, 30 Health, and 20 Mana (if unlocked)."],consequence:[()=>{this.characterService.characterState.status.stamina.value+=50,this.characterService.characterState.status.health.value+=2,this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=100,this.characterService.characterState.status.health.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.manaUnlocked&&(this.characterService.characterState.status.mana.value+=1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=200,this.characterService.characterState.status.health.value+=20,this.characterService.characterState.status.mana.value+=10,this.characterService.characterState.increaseAttribute("spirituality",.5),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.status.stamina.value+=300,this.characterService.characterState.status.health.value+=30,this.characterService.characterState.status.mana.value+=20,this.characterService.characterState.increaseAttribute("spirituality",1),this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{},{},{},{}],requirements:[{},{strength:1e3,speed:1e3,charisma:1e3,intelligence:1e3,toughness:1e3},{strength:1e6,speed:1e6,charisma:1e6,intelligence:1e6,toughness:1e6,spirituality:1e5,fireLore:1e4,waterLore:1e4,earthLore:1e4,metalLore:1e4,woodLore:1e4},{strength:1e21,speed:1e21,charisma:1e21,intelligence:1e21,toughness:1e21,spirituality:1e21,fireLore:1e18,waterLore:1e18,earthLore:1e18,metalLore:1e18,woodLore:1e18}],unlocked:!0,discovered:!0,skipApprenticeshipLevel:0},this.Begging={level:0,name:["Begging","Street Performing","Oration","Politics"],activityType:F.Begging,description:["Find a nice spot on the side of the street, look sad, and put your hand out. Someone might put a coin in it if you are charasmatic enough.","Add some musical flair to your begging.","Move the crowds with your stirring speeches.","Charm your way into civic leadership."],consequenceDescription:["Uses 5 Stamina. Increases charisma and provides a little money.","Uses 5 Stamina. Increases charisma and provides some money.","Uses 5 Stamina. Increases charisma and provides money.","Uses 5 Stamina. Increases charisma, provides money, and makes you wonder if there is more to life than just money and fame."],consequence:[()=>{this.characterService.characterState.increaseAttribute("charisma",.1),this.characterService.characterState.status.stamina.value-=5;const e=3+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.Begging.lastIncome=e,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.2),this.characterService.characterState.status.stamina.value-=5;const e=10+Math.log2(this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.Begging.lastIncome=e,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.3),this.characterService.characterState.status.stamina.value-=5;const e=20+Math.log2(2*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.Begging.lastIncome=e,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("charisma",.5),this.characterService.characterState.status.stamina.value-=5;const e=30+Math.log2(10*this.characterService.characterState.attributes.charisma.value);this.characterService.characterState.money+=e,this.Begging.lastIncome=e,this.beggingDays++,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:5},{stamina:5},{stamina:5},{stamina:5}],requirements:[{charisma:3},{charisma:100},{charisma:5e3},{charisma:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Blacksmithing={level:0,name:["Apprentice Blacksmithing","Journeyman Blacksmithing","Blacksmithing","Master Blacksmithing"],activityType:F.Blacksmithing,description:["Work for the local blacksmith. You mostly pump the bellows, but at least you're learning a trade.","Mold metal into useful things. You might even produce something you want to keep now and then.","Create useful and beautiful metal objects. You might produce a decent weapon occasionally.","Work the forges like a true master."],consequenceDescription:["Uses 25 Stamina. Increases strength and toughness and provides a little money.","Uses 25 Stamina. Increases strength, toughness, and money.","Uses 25 Stamina. Build your physical power, master your craft, and create weapons.","Uses 50 Stamina. Bring down your mighty hammer and create works of metal wonder."],consequence:[()=>{this.checkApprenticeship(F.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=25;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=e,this.Blacksmithing.lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"anvil"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("metalLore",.1*i),Math.random()<i&&this.inventoryService.addItem(this.itemRepoService.items.junk),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{var e;this.checkApprenticeship(F.Blacksmithing),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=25;const i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=i,this.Blacksmithing.lastIncome=i;let r=.02;if("anvil"===(null===(e=this.homeService.furniture.workbench)||void 0===e?void 0:e.id)&&(r+=.05),this.characterService.characterState.increaseAttribute("metalLore",.2*r),this.characterService.characterState.increaseAttribute("fireLore",.02*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160)),"metal",!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{var e;this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=25;const i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+5*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=i,this.Blacksmithing.lastIncome=i;let r=.05;if("anvil"===(null===(e=this.homeService.furniture.workbench)||void 0===e?void 0:e.id)&&(r+=.05),this.characterService.characterState.increaseAttribute("metalLore",.3*r),this.characterService.characterState.increaseAttribute("fireLore",.05*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160)),"metal",!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{var e;this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=50;const i=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.fireLore.value+10*this.characterService.characterState.attributes.metalLore.value;this.characterService.characterState.money+=i,this.Blacksmithing.lastIncome=i;let r=.2;if("anvil"===(null===(e=this.homeService.furniture.workbench)||void 0===e?void 0:e.id)&&(r+=.2),this.characterService.characterState.increaseAttribute("metalLore",.5*r),this.characterService.characterState.increaseAttribute("fireLore",.1*r),Math.random()<r&&this.inventoryService.openInventorySlots()>0){const o=this.inventoryService.consume("metal");o>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.metalLore.value),o/160)),"metal",!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillMold),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:25},{stamina:25},{stamina:25},{stamina:50}],requirements:[{strength:50,toughness:50},{strength:400,toughness:400,metalLore:1},{strength:2e3,toughness:2e3,metalLore:10,fireLore:1},{strength:1e4,toughness:1e4,metalLore:100,fireLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.GatherHerbs={level:0,name:["Gathering Herbs"],activityType:F.GatherHerbs,description:["Search the natural world for useful herbs."],consequenceDescription:["Uses 10 Stamina. Find herbs and learn about plants"],consequence:[()=>{this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.generateHerb(),this.homeService.furniture.workbench&&"herbGarden"===this.homeService.furniture.workbench.id&&this.inventoryService.generateHerb(),this.characterService.characterState.increaseAttribute("woodLore",.003),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{speed:20,intelligence:20}],unlocked:!1,skipApprenticeshipLevel:0},this.Alchemy={level:0,name:["Apprentice Alchemy","Journeyman Alchemy","Alchemy","Master Alchemy"],activityType:F.Alchemy,description:["Get a job at the alchemist's workshop. It smells awful but you might learn a few things.","Get a cauldron and do a little brewing of your own.","Open up your own alchemy shop.","Brew power, precipitate life, stir in some magic, and create consumable miracles."],consequenceDescription:["Uses 10 Stamina. Get smarter, make a few taels, and learn the secrets of alchemy.","Uses 10 Stamina. Get smarter, make money, practice your craft. If you have some herbs, you might make a usable potion or pill.","Uses 10 Stamina. Get smarter, make money, and make some decent potions or pills.","Uses 20 Stamina. Create amazing potions and pills."],consequence:[()=>{this.checkApprenticeship(F.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.Alchemy.lastIncome=e;let i=.01;this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.05*i),this.characterService.characterState.increaseAttribute("waterLore",.1*i),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.checkApprenticeship(F.Alchemy),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.Alchemy.lastIncome=e;let i=.02;if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.1*i),this.characterService.characterState.increaseAttribute("waterLore",.2*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){let r=this.inventoryService.consume("ingredient");r>=1&&(r=Math.floor(r*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(r,!1))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=10;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.waterLore.value;this.characterService.characterState.money+=e,this.Alchemy.lastIncome=e;let i=1-Math.exp(0-.025*Math.log(this.characterService.characterState.attributes.waterLore.value));if(this.homeService.furniture.workbench&&"cauldron"===this.homeService.furniture.workbench.id&&(i+=.05),this.characterService.characterState.increaseAttribute("woodLore",.15*i),this.characterService.characterState.increaseAttribute("waterLore",.3*i),Math.random()<i&&this.inventoryService.openInventorySlots()>0){let r=this.inventoryService.consume("ingredient");r>=1&&(r=Math.floor(r*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(r+1,!1))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++},()=>{this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.waterLore.value;if(this.characterService.characterState.money+=e,this.Alchemy.lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.2),this.characterService.characterState.increaseAttribute("waterLore",.6),this.inventoryService.openInventorySlots()>0){let i=this.inventoryService.consume("ingredient");i>=1&&(i=Math.floor(i*Math.log10(this.characterService.characterState.attributes.waterLore.value+10)),this.inventoryService.generatePotion(i+1,!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:10},{stamina:10},{stamina:10},{stamina:20}],requirements:[{intelligence:200},{intelligence:1e3,waterLore:1},{intelligence:8e3,waterLore:10,woodLore:1},{intelligence:1e5,waterLore:100,woodLore:10}],unlocked:!1,skipApprenticeshipLevel:2},this.ChopWood={level:0,name:["Chopping Wood"],activityType:F.ChopWood,description:["Work as a woodcutter, cutting logs in the forest."],consequenceDescription:["Uses 10 Stamina. Get a log and learn about plants."],consequence:[()=>{this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.status.stamina.value-=10,this.inventoryService.addItem(this.inventoryService.getWood()),this.characterService.characterState.increaseAttribute("woodLore",.01),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:10}],requirements:[{strength:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Woodworking={level:0,name:["Apprentice Woodworking","Journeyman Woodworking","Woodworking","Master Woodworking"],activityType:F.Woodworking,description:["Work in a woodcarver's shop.","Carve wood into useful items.","Open your own woodworking shop.","Carve pure poetry in wooden form."],consequenceDescription:["Uses 20 Stamina. Increases strength and intelligence and provides a little money.","Uses 20 Stamina. Increases strength and intelligence and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases strength and intelligence, earn some money, create wooden equipment.","Uses 40 Stamina. Create the best of wooden weapons."],consequence:[()=>{this.checkApprenticeship(F.Woodworking),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+this.characterService.characterState.attributes.woodLore.value;this.characterService.characterState.money+=e,this.Woodworking.lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.checkApprenticeship(F.Woodworking),this.characterService.characterState.increaseAttribute("strength",.2),this.characterService.characterState.increaseAttribute("intelligence",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+2*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.Woodworking.lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.005),Math.random()<.02&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),i/16)),"wood",!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("strength",.5),this.characterService.characterState.increaseAttribute("intelligence",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+5*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.Woodworking.lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.02),Math.random()<.05&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),i/16)),"wood",!0))}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++},()=>{this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.strength.value+this.characterService.characterState.attributes.intelligence.value)+10*this.characterService.characterState.attributes.woodLore.value;if(this.characterService.characterState.money+=e,this.Woodworking.lastIncome=e,this.characterService.characterState.increaseAttribute("woodLore",.6),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("wood");i>=1&&this.inventoryService.addItem(this.inventoryService.generateWeapon(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.woodLore.value),i/16)),"wood",!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillBox),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{strength:100,intelligence:100},{strength:800,intelligence:800,woodLore:1},{strength:2e3,intelligence:2e3,woodLore:10},{strength:1e4,intelligence:1e4,woodLore:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Leatherworking={level:0,name:["Apprentice Leatherworking","Journeyman Leatherworking","Leatherworking","Master Leatherworking"],activityType:F.Leatherworking,description:["Work in a tannery, where hides are turned into leather items.","Convert hides into leather items.","Open your own tannery.","Fashion!"],consequenceDescription:["Uses 20 Stamina. Increases speed and toughness and provides a little money.","Uses 20 Stamina. Increases speed and toughness and provides a little money. You may make something you want to keep now and then.","Uses 20 Stamina. Increases speed and toughness, earn some money, create leather equipment.","Uses 40 Stamina. Create the fanciest pants you can imagine. Maybe some boots, too."],consequence:[()=>{this.checkApprenticeship(F.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+this.characterService.characterState.attributes.animalHandling.value;this.characterService.characterState.money+=e,this.Leatherworking.lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.001),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.checkApprenticeship(F.Leatherworking),this.characterService.characterState.increaseAttribute("speed",.2),this.characterService.characterState.increaseAttribute("toughness",.2),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+2*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.Leatherworking.lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.002),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),i/16)),"leather",this.inventoryService.randomArmorSlot(),!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.characterService.characterState.increaseAttribute("speed",.5),this.characterService.characterState.increaseAttribute("toughness",.5),this.characterService.characterState.status.stamina.value-=20;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+5*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.Leatherworking.lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.003),Math.random()<.01&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),i/16)),"leather",this.inventoryService.randomArmorSlot(),!0))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)},()=>{this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.status.stamina.value-=40;const e=Math.log2(this.characterService.characterState.attributes.speed.value+this.characterService.characterState.attributes.toughness.value)+10*this.characterService.characterState.attributes.animalHandling.value;if(this.characterService.characterState.money+=e,this.Leatherworking.lastIncome=e,this.characterService.characterState.increaseAttribute("animalHandling",.1),Math.random()<.2&&this.inventoryService.openInventorySlots()>0){const i=this.inventoryService.consume("hide");i>=1&&this.inventoryService.addItem(this.inventoryService.generateArmor(Math.floor(Math.pow(Math.log2(this.characterService.characterState.attributes.animalHandling.value),i/16)),"leather",this.inventoryService.randomArmorSlot(),!0))}Math.random()<.001&&this.inventoryService.addItem(this.itemRepoService.items.pillPouch),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:20},{stamina:20},{stamina:20},{stamina:40}],requirements:[{speed:100,toughness:100},{speed:800,toughness:800,animalHandling:1},{speed:2e3,toughness:2e3,animalHandling:10},{speed:1e4,toughness:1e4,animalHandling:100}],unlocked:!1,skipApprenticeshipLevel:2},this.Farming={level:0,name:["Farming"],activityType:F.Farming,description:["Plant crops in your fields. This is a waste of time if you don't have some fields ready to work."],consequenceDescription:["Uses 20 Stamina. Increases strength and speed and helps your fields to produce more food."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20;let e=Math.floor(Math.log10(this.characterService.characterState.attributes.woodLore.value+this.characterService.characterState.attributes.earthLore.value));e<1&&(e=1),this.homeService.workFields(e),this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("speed",.1),this.characterService.characterState.increaseAttribute("woodLore",.001),this.characterService.characterState.increaseAttribute("earthLore",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:20}],requirements:[{strength:10,speed:10}],unlocked:!1,skipApprenticeshipLevel:0},this.Mining={level:0,name:["Mining"],activityType:F.Mining,description:["Dig in the ground for usable minerals."],consequenceDescription:["Uses 20 Stamina. Increases strength and sometimes finds something useful."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("earthLore",.05),Math.random()<.5&&this.inventoryService.addItem(this.inventoryService.getOre()),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:20}],requirements:[{strength:70}],unlocked:!1,skipApprenticeshipLevel:0},this.Smelting={level:0,name:["Smelting"],activityType:F.Smelting,description:["Smelt metal ores into usable metal."],consequenceDescription:["Uses 20 Stamina. Increases toughness and intelligence. If you have metal ores, you can make them into bars."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=20,this.characterService.characterState.increaseAttribute("toughness",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("metalLore",.01),this.inventoryService.openInventorySlots()>0){const e=this.inventoryService.consume("ore");e>=1&&this.inventoryService.addItem(this.inventoryService.getBar(e))}this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin++,this.characterService.characterState.yang++)}],resourceUse:[{stamina:20}],requirements:[{toughness:100,intelligence:100}],unlocked:!1,skipApprenticeshipLevel:0},this.Hunting={level:0,name:["Hunting"],activityType:F.Hunting,description:["Hunt for animals in the nearby woods."],consequenceDescription:["Uses 50 Stamina. Increases speed and a good hunt provides some meat. It might draw unwanted attention to yourself."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=50,this.characterService.characterState.increaseAttribute("speed",.1);let e=.1;this.homeService.furniture.workbench&&"dogKennel"===this.homeService.furniture.workbench.id&&(e+=.4),this.characterService.characterState.increaseAttribute("animalHandling",.1*e),Math.random()<e&&(this.inventoryService.addItem(this.itemRepoService.items.meat),this.inventoryService.addItem(this.inventoryService.getHide(),Math.floor(this.followerService.jobs.hunter.totalPower/20))),Math.random()<.01&&this.battleService.addEnemy({name:"a hungry wolf",health:20,maxHealth:20,accuracy:.5,attack:5,defense:5,loot:[this.inventoryService.getHide()]}),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:50}],requirements:[{speed:200}],unlocked:!1,skipApprenticeshipLevel:0},this.Fishing={level:0,name:["Fishing"],activityType:F.Fishing,description:["Grab your net and see if you can catch some fish."],consequenceDescription:["Uses 30 Stamina. Increases intelligence and strength and you might catch a fish."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=30,this.characterService.characterState.increaseAttribute("strength",.1),this.characterService.characterState.increaseAttribute("intelligence",.1),this.characterService.characterState.increaseAttribute("animalHandling",.02),this.characterService.characterState.increaseAttribute("waterLore",.01),Math.random()<.2&&this.inventoryService.addItem(this.itemRepoService.items.carp),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:30}],requirements:[{strength:15,intelligence:15}],unlocked:!1,skipApprenticeshipLevel:0},this.Burning={level:0,name:["Burning Things"],activityType:F.Burning,description:["Light things on fire and watch them burn."],consequenceDescription:["Uses 5 Stamina. You will be charged for what you burn. Teaches you to love fire."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=5;const e=this.characterService.characterState.increaseAttribute("fireLore",.1);this.characterService.characterState.money-=e,this.characterService.characterState.money<0&&(this.characterService.characterState.money=0),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:5}],requirements:[{intelligence:10}],unlocked:!1,skipApprenticeshipLevel:0},this.ManaControl={level:0,name:["Balance Your Chi"],activityType:F.ManaControl,description:["Balance the flow of your chi and widen your meridians."],consequenceDescription:["Uses 100 Stamina. Increases your weakest lore."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100;let e="earthLore";for(const i of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[i].value<this.characterService.characterState.attributes[e].value&&(e=i);this.characterService.characterState.increaseAttribute(e,.1),this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{stamina:100}],requirements:[{strength:1e3,speed:1e3,toughness:1e3,charisma:1e3,intelligence:1e3,earthLore:1e3,metalLore:1e3,woodLore:1e3,waterLore:1e3,fireLore:1e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.BodyCultivation={level:0,name:["Body Cultivation"],activityType:F.BodyCultivation,description:["Focus on the development of your body. Unblock your meridians, let your chi flow, and prepare your body for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your physical abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("strength",1),this.characterService.characterState.increaseAttribute("speed",1),this.characterService.characterState.increaseAttribute("toughness",1),this.characterService.characterState.attributes.strength.aptitude+=.1,this.characterService.characterState.attributes.speed.aptitude+=.1,this.characterService.characterState.attributes.toughness.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:100}],requirements:[{strength:5e3,speed:5e3,toughness:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.MindCultivation={level:0,name:["Mind Cultivation"],activityType:F.MindCultivation,description:["Focus on the development of your mind. Unblock your meridians, let your chi flow, and prepare your mind for immortality."],consequenceDescription:["Uses 100 Stamina. Increases your mental abilities and strengthen your aptitudes in them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.increaseAttribute("intelligence",1),this.characterService.characterState.increaseAttribute("charisma",1),this.characterService.characterState.attributes.intelligence.aptitude+=.1,this.characterService.characterState.attributes.charisma.aptitude+=.1,this.characterService.characterState.increaseAttribute("spirituality",.001),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yin++}],resourceUse:[{stamina:100}],requirements:[{charisma:5e3,intelligence:5e3,spirituality:1}],unlocked:!1,skipApprenticeshipLevel:0},this.CoreCultivation={level:0,name:["Core Cultivation"],activityType:F.CoreCultivation,description:["Focus on the development of your soul core."],consequenceDescription:["Uses 200 Stamina. A very advanced cultivation technique. Make sure you have achieved a deep understanding of elemental balance before attempting this. Gives you a small chance of increasing your mana capabilities."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&Math.random()<.01&&(this.characterService.characterState.status.mana.max++,this.characterService.characterState.status.mana.value++),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.SoulCultivation={level:0,name:["Soul Cultivation"],activityType:F.SoulCultivation,description:["Focus on the development of your immortal soul."],consequenceDescription:["Uses 1000 health. An immortal's cultivation technique. Balance your attributes and your lore, and improve yourself in every way."],consequence:[()=>{this.characterService.characterState.status.health.value-=1e3;let e="earthLore";for(const i of["metalLore","woodLore","waterLore","fireLore"])this.characterService.characterState.attributes[i].value<this.characterService.characterState.attributes[e].value&&(e=i);this.characterService.characterState.increaseAttribute(e,1),e="strength";for(const i of["speed","toughness","intelligence","charisma"])this.characterService.characterState.attributes[i].value<this.characterService.characterState.attributes[e].value&&(e=i);this.characterService.characterState.increaseAttribute(e,1),this.characterService.characterState.increaseAttribute("spirituality",.01),this.characterService.characterState.healthBonusSoul++,this.characterService.characterState.status.stamina.max++,this.characterService.characterState.status.mana.max++,this.characterService.characterState.checkOverage(),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yin>this.characterService.characterState.yang?this.characterService.characterState.yang++:this.characterService.characterState.yin++)}],resourceUse:[{health:1e3}],requirements:[{spirituality:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseEquipment={level:0,name:["Infuse Equipment"],activityType:F.InfuseEquipment,description:["Infuse the power of a gem into your equipment."],consequenceDescription:["Uses 200 Stamina and 10 mana. An advanced magical technique."],consequence:[()=>{if(!this.characterService.characterState.manaUnlocked)return;this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.status.mana.value-=10;const e=this.inventoryService.consume("spiritGem",1,this.inventoryService.useCheapestSpiritGem);e>0&&this.characterService.characterState.status.mana.value>=0&&this.inventoryService.upgradeEquipment(Math.floor(Math.pow(e/10,2.4))),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200,mana:10}],requirements:[{strength:2e7,toughness:2e7,speed:2e7,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.InfuseBody={level:0,name:["Infuse Body"],activityType:F.InfuseBody,description:["Direct your magical energy into reinforcing your physical body, making it healthier and more able to sustain damage without falling."],consequenceDescription:["Uses 10 Mana and 200 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=200,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=10&&(this.characterService.characterState.status.mana.value-=10,this.characterService.characterState.healthBonusMagic++),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:200,mana:10}],requirements:[{woodLore:1e3,waterLore:1e3,fireLore:1e3,metalLore:1e3,earthLore:1e3,spirituality:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.ExtendLife={level:0,name:["Extending Life"],activityType:F.ExtendLife,description:["Direct your magical energy into extending your lifespan, making you live longer."],consequenceDescription:["Uses 20 Mana and 400 Stamina. Make sure you have enough magical power before attempting this."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=400,this.characterService.characterState.manaUnlocked&&this.characterService.characterState.status.mana.value>=20&&(this.characterService.characterState.status.mana.value-=20,this.characterService.characterState.magicLifespan<36500&&(this.characterService.characterState.magicLifespan+=10)),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:400,mana:20}],requirements:[{woodLore:1e4,waterLore:1e4,fireLore:1e4,metalLore:1e4,earthLore:1e4,spirituality:1e4}],unlocked:!1,skipApprenticeshipLevel:0},this.Recruiting={level:0,name:["Recruiting Followers"],activityType:F.Recruiting,description:["Look for followers willing to serve you."],consequenceDescription:["Uses 100 Stamina and 1M taels. Gives you a small chance of finding a follower, if you are powerful enough to attract any."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,!(this.characterService.characterState.money<=1e6)&&(this.characterService.characterState.money-=1e6,this.followerService.followersUnlocked&&this.characterService.characterState.money>0?Math.random()<.01&&this.followerService.generateFollower():this.logService.addLogMessage("All of your potential followers ignore your recruiting efforts after sensing your low cultivation.","INJURY","EVENT"),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++)}],resourceUse:[{stamina:100}],requirements:[{charisma:5e7}],unlocked:!1,skipApprenticeshipLevel:0},this.TrainingFollowers={level:0,name:["Training Followers"],activityType:F.TrainingFollowers,description:["Train your followers to make them more powerful."],consequenceDescription:["Uses 1000 Stamina. Gives you a small chance for each follower of increasing their power. They might learn more if you are a better leader."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.followerService.followersUnlocked){let e=!0;for(const i of this.followerService.followers)i.pet||(i.power>=100?i.power=100:(e=!1,Math.random()<(1-Math.pow(i.power/100,.55))/(365e5/(3650+i.age*Math.log2(this.characterService.characterState.attributes.charisma.value/1e10+1)))&&(i.power++,i.power>this.followerService.highestLevel&&(this.followerService.highestLevel=i.power),i.cost=100*i.power,this.logService.addLogMessage(i.name+" gains additional power as a "+i.job,"STANDARD","FOLLOWER"),this.followerService.updateFollowerTotalPower())));e&&this.logService.addLogMessage("You try to train your followers, but they are all already as powerful as they can be. You pat them each on the back and tell them they are great.","STANDARD","FOLLOWER")}this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:1e3}],requirements:[{charisma:1e10}],unlocked:!1,skipApprenticeshipLevel:0},this.Taunting={level:0,name:["Taunting Enemies"],activityType:F.Taunting,description:["Rudely point at your enemies and call them out to battle."],consequenceDescription:["Incites a fight with your current enemy this very night."],consequence:[()=>{this.battleService.tickCounter=this.battleService.ticksPerFight,this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{}],requirements:[{strength:1e3,toughness:1e3}],unlocked:!1,skipApprenticeshipLevel:0},this.CombatTraining={level:0,name:["Combat Training"],activityType:F.CombatTraining,description:["Hone every fiber of your being to martial sepremacy. Your experience in the Hell of Mirrors allowed you to examine your own combat form and understand how to improve it. Now all you need is practice."],consequenceDescription:["Uses 10000 stamina. Trains your Combat Mastery."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.increaseAttribute("combatMastery",.01),this.characterService.characterState.yinYangUnlocked&&(this.characterService.characterState.yang++,this.characterService.characterState.yin++)}],resourceUse:[{stamina:1e4}],requirements:[{combatMastery:1}],unlocked:!1,skipApprenticeshipLevel:0},this.PetRecruiting={level:0,name:["Finding Pets"],activityType:F.PetRecruiting,description:["Look for animals that want to be your pets."],consequenceDescription:["Uses 100 Stamina and 100,000 food. Gives you a small chance of finding a pet."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,!(this.inventoryService.consume("food",1e5,!0)<=0)&&(this.characterService.characterState.increaseAttribute("animalHandling",1),this.followerService.followersUnlocked&&this.followerService.petsEnabled&&Math.random()<.01&&this.followerService.generateFollower(!0),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++)}],resourceUse:[{stamina:100}],requirements:[{animalHandling:1e15}],unlocked:!1,skipApprenticeshipLevel:0},this.PetTraining={level:0,name:["Training Pets"],activityType:F.PetTraining,description:["Train your pets to make them more powerful."],consequenceDescription:["Uses 1000 Stamina and 1M food. Gives you a small chance for each pet of increasing their power. They might learn more if you are a better with animals."],consequence:[()=>{if(this.characterService.characterState.status.stamina.value-=1e3,this.inventoryService.consume("food",1e5,!0)<=0)return;this.characterService.characterState.increaseAttribute("animalHandling",1);let e=!0;for(const i of this.followerService.followers)!i.pet||(i.power>=100?i.power=100:(e=!1,Math.random()<(1-Math.pow(i.power/100,.55))/(365e5/(3650+i.age*Math.log2(this.characterService.characterState.attributes.animalHandling.value/1e10+1)))&&(i.power++,i.power>this.followerService.highestLevel&&(this.followerService.highestLevel=i.power),i.cost=100*i.power,this.logService.addLogMessage(i.name+" gains additional power as a "+i.job,"STANDARD","FOLLOWER"),this.followerService.updateFollowerTotalPower())));e&&this.logService.addLogMessage("You try to train your pets, but they are all already as powerful as they can be. You give them all belly rubs and tell them they are great.","STANDARD","FOLLOWER"),this.characterService.characterState.yinYangUnlocked&&this.characterService.characterState.yang++}],resourceUse:[{stamina:1e3}],requirements:[{animalHandling:1e18}],unlocked:!1,skipApprenticeshipLevel:0}}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(Ie),S(W),S(Ze),S(zi),S(Ct),S(xn),S(Xt),S(fn),S(Ft),S(la))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ca(n){return null!=n&&"false"!=`${n}`}function Wc(n,t=0){return function N2(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Kc(n){return Array.isArray(n)?n:[n]}function gt(n){return null==n?"":"string"==typeof n?n:`${n}px`}function qr(n){return n instanceof Ce?n.nativeElement:n}const B2=["addListener","removeListener"],H2=["addEventListener","removeEventListener"],V2=["on","off"];function ua(n,t,e,i){if(xe(e)&&(i=e,e=void 0),i)return ua(n,t,e).pipe(Qf(i));const[r,o]=function q2(n){return xe(n.addEventListener)&&xe(n.removeEventListener)}(n)?H2.map(a=>s=>n[a](t,s,e)):function U2(n){return xe(n.addListener)&&xe(n.removeListener)}(n)?B2.map(Lw(n,t)):function j2(n){return xe(n.on)&&xe(n.off)}(n)?V2.map(Lw(n,t)):[];if(!r&&Wu(n))return vt(a=>ua(a,t,e))(mn(n));if(!r)throw new TypeError("Invalid event target");return new ze(a=>{const s=(...l)=>a.next(1<l.length?l:l[0]);return r(s),()=>o(s)})}function Lw(n,t){return e=>i=>n[e](t,i)}class z2 extends Ke{constructor(t,e){super()}schedule(t,e=0){return this}}const Jc={setInterval(n,t,...e){const{delegate:i}=Jc;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Jc;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class Cp extends z2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return Jc.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;Jc.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,Xs(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const Ls={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ls;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Ke(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=Ls;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ls;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},Nw={now:()=>(Nw.delegate||Date).now(),delegate:void 0};class Ns{constructor(t,e=Ns.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}Ns.now=Nw.now;class kp extends Ns{constructor(t,e=Ns.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class $2 extends kp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Y2 extends Cp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ls.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Ls.cancelAnimationFrame(e),t._scheduled=void 0)}});let Mp,W2=1;const Qc={};function Bw(n){return n in Qc&&(delete Qc[n],!0)}const K2={setImmediate(n){const t=W2++;return Qc[t]=!0,Mp||(Mp=Promise.resolve()),Mp.then(()=>Bw(t)&&n()),t},clearImmediate(n){Bw(n)}},{setImmediate:J2,clearImmediate:Q2}=K2,Zc={setImmediate(...n){const{delegate:t}=Zc;return((null==t?void 0:t.setImmediate)||J2)(...n)},clearImmediate(n){const{delegate:t}=Zc;return((null==t?void 0:t.clearImmediate)||Q2)(n)},delegate:void 0},Dp=(new class X2 extends kp{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Z2 extends Cp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Zc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Zc.clearImmediate(e),t._scheduled=void 0)}}),new kp(Cp)),tB=Dp;function Hw(n=0,t,e=tB){let i=-1;return null!=t&&(mg(t)?e=t:i=t),new ze(r=>{let o=function iB(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let a=0;return e.schedule(function(){r.closed||(r.next(a++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function Vw(n,t=Dp){return function nB(n){return it((t,e)=>{let i=!1,r=null,o=null,a=!1;const s=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const c=r;r=null,e.next(c)}a&&e.complete()},l=()=>{o=null,a&&e.complete()};t.subscribe(Je(e,c=>{i=!0,r=c,o||mn(n(c)).subscribe(o=Je(e,s,l))},()=>{a=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Hw(n,t))}let xp;try{xp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xp=!1}let Bs,zr,Tp,en=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function kF(n){return n===s0}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(S(yf))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xc(n){return function rB(){if(null==Bs&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bs=!0}))}finally{Bs=Bs||!1}return Bs}()?n:!!n.capture}function oB(){if(null==zr){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return zr=!1,zr;if("scrollBehavior"in document.documentElement.style)zr=!0;else{const n=Element.prototype.scrollTo;zr=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return zr}function Ep(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Yr(n){return n.composedPath?n.composedPath()[0]:n.target}function Ap(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const lB=new q("cdk-dir-doc",{providedIn:"root",factory:function cB(){return El(ve)}}),uB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let lr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new he,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function hB(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?uB.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(S(lB,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})(),fB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new ae,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ze(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Vw(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=qr(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ua(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(S(ge),S(en),S(ve,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vs=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new ae,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Vw(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(S(en),S(ge),S(ve,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})(),qw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[Hs,jw],Hs,jw]}),n})();class Pp{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Us extends Pp{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class js extends Pp{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class mB extends Pp{constructor(t){super(),this.element=t instanceof Ce?t.nativeElement:t}}class tu{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Us?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof js?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof mB?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class gB extends tu{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=a=>{const s=a.element,l=this._document.createComment("dom-portal");s.parentNode.insertBefore(l,s),this.outletElement.appendChild(s),this._attachedPortal=a,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(s,l)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||_e.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let vB=(()=>{class n extends js{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(jt))},n.\u0275dir=$({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[ie]}),n})(),$r=(()=>{class n extends tu{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new he,this.attachDomPortal=o=>{const a=o.element,s=this._document.createComment("dom-portal");o.setAttachedHost(this),a.parentNode.insertBefore(s,a),this._getRootNode().appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{s.parentNode&&s.parentNode.replaceChild(a,s)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),a=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(a.hostView.rootNodes[0]),super.setDisposeFn(()=>a.destroy()),this._attachedPortal=e,this._attachedRef=a,this.attached.emit(a),a}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(_(Fi),_(jt),_(ve))},n.\u0275dir=$({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[ie]}),n})(),nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})();function Ci(n){return it((t,e)=>{mn(n).subscribe(Je(e,()=>e.complete(),Uu)),!e.closed&&t.subscribe(e)})}const zw=oB();class yB{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=gt(-this._previousScrollPosition.left),t.style.top=gt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",a=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zw&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zw&&(i.scrollBehavior=o,r.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class _B{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Yw{enable(){}disable(){}attach(){}}function Ip(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function $w(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class bB{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Ip(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let SB=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Yw,this.close=a=>new _B(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new yB(this._viewportRuler,this._document),this.reposition=a=>new bB(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(S(fB),S(Vs),S(ge),S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Op{constructor(t){if(this.scrollStrategy=new Yw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class wB{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}class CB{constructor(t,e,i,r,o,a,s,l,c){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new ae,this._attachments=new ae,this._detachments=new ae,this._locationChanges=Ke.EMPTY,this._backdropClickHandler=u=>this._backdropClick.next(u),this._backdropTransitionendHandler=u=>{this._disposeBackdrop(u.target)},this._keydownEvents=new ae,this._outsidePointerEvents=new ae,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(on(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(t=this._host)||void 0===t||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=gt(this._config.width),t.height=gt(this._config.height),t.minWidth=gt(this._config.minWidth),t.minHeight=gt(this._config.minHeight),t.maxWidth=gt(this._config.maxWidth),t.maxHeight=gt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=Kc(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ci(Ma(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Rp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){var e;null===(e=this._containerElement)||void 0===e||e.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ap()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Ap()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(S(ve),S(en))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gw="cdk-overlay-connected-position-bounding-box",kB=/([A-Za-z%]+)$/;class MB{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ae,this._resizeSubscription=Ke.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Gw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let a;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,r,s),c=this._getOverlayPoint(l,e,s),u=this._getOverlayFit(c,e,i,s);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)}):(!a||a.overlayFit.visibleArea<u.visibleArea)&&(a={overlayFit:u,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(o.length){let s=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,s=c)}return this._isPushed=!1,void this._applyPosition(s.position,s.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Gr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Gw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;r="start"==i.originX?a:s}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=Kw(e);let{x:a,y:s}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(a+=l),c&&(s+=c);let m=0-s,v=s+o.height-i.height,y=this._subtractOverflows(o.width,0-a,a+o.width-i.width),w=this._subtractOverflows(o.height,m,v),D=y*w;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:w===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,a=Ww(this._overlayRef.getConfig().minHeight),s=Ww(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportHorizontally||null!=s&&s<=o;return(t.fitsInViewportVertically||null!=a&&a<=r)&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Kw(e),o=this._viewportRect,a=Math.max(t.x+r.width-o.width,0),s=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-i.top-t.y,0),c=Math.max(o.left-i.left-t.x,0);let u=0,f=0;return u=r.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-i.left-t.x:0,f=r.height<=o.height?l||-s:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:u,y:f},{x:t.x+u,y:t.y+f}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new wB(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,a,s,u,f,m;if("top"===e.overlayY)a=t.y,o=i.height-a+this._viewportMargin;else if("bottom"===e.overlayY)s=i.height-t.y+2*this._viewportMargin,o=i.height-s+this._viewportMargin;else{const v=Math.min(i.bottom-t.y+i.top,t.y),y=this._lastBoundingBoxSize.height;o=2*v,a=t.y-v,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-y/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)m=i.width-t.x+this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)f=t.x,u=i.right-t.x;else{const v=Math.min(i.right-t.x+i.left,t.x),y=this._lastBoundingBoxSize.width;u=2*v,f=t.x-v,u>y&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.x-y/2)}return{top:a,left:f,bottom:s,right:m,width:u,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;r.height=gt(i.height),r.top=gt(i.top),r.bottom=gt(i.bottom),r.width=gt(i.width),r.left=gt(i.left),r.right=gt(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=gt(o)),a&&(r.maxWidth=gt(a))}this._lastBoundingBoxSize=i,Gr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Gr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Gr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Gr(i,this._getExactOverlayY(e,t,u)),Gr(i,this._getExactOverlayX(e,t,u))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),a.maxHeight&&(r?i.maxHeight=gt(a.maxHeight):o&&(i.maxHeight="")),a.maxWidth&&(r?i.maxWidth=gt(a.maxWidth):o&&(i.maxWidth="")),Gr(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=gt(o.y),r}_getExactOverlayX(t,e,i){let a,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),a=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===a?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=gt(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$w(t,i),isOriginOutsideView:Ip(t,i),isOverlayClipped:$w(e,i),isOverlayOutsideView:Ip(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Kc(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Ce)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Gr(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ww(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(kB);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Kw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Jw="cdk-global-overlay-wrapper";class DB{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Jw),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:a,maxHeight:s}=i,l=!("100%"!==r&&"100vw"!==r||a&&"100%"!==a&&"100vw"!==a),c=!("100%"!==o&&"100vh"!==o||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=l?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,l?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Jw),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xB=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new DB}flexibleConnectedTo(e){return new MB(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(S(Vs),S(ve),S(en),S(Rp))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TB=(()=>{class n extends Qw{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let a=o.length-1;a>-1;a--)if(o[a]._keydownEvents.observers.length>0){const s=o[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>s.next(r)):s.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(S(ve),S(ge,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EB=(()=>{class n extends Qw{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Yr(o)},this._clickListener=o=>{const a=Yr(o),s="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(a)||u.overlayElement.contains(s))break;const f=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>f.next(o)):f.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(S(ve),S(en),S(ge,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AB=0,da=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f,m){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=a,this._injector=s,this._ngZone=l,this._document=c,this._directionality=u,this._location=f,this._outsideClickDispatcher=m}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),a=new Op(e);return a.direction=a.direction||this._directionality.value,new CB(o,i,r,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+AB++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(ms)),new gB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(S(SB),S(Rp),S(Fi),S(xB),S(TB),S(_e),S(ge),S(ve),S(lr),S(vs),S(EB))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const OB={provide:new q("cdk-connected-overlay-scroll-strategy"),deps:[da],useFactory:function IB(n){return()=>n.scrollStrategies.reposition()}};let Zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({providers:[da,OB],imports:[[Hs,nu,qw],qw]}),n})();function Fp(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Lp(n,t=Dp){return it((e,i)=>{let r=null,o=null,a=null;const s=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=a+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);s()}e.subscribe(Je(i,c=>{o=c,a=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{s(),i.complete()},void 0,()=>{o=r=null}))})}function eC(n){return hn((t,e)=>n<=e)}function tC(n,t=Ji){return n=null!=n?n:XB,it((e,i)=>{let r,o=!0;e.subscribe(Je(i,a=>{const s=t(a);(o||!n(r,s))&&(o=!1,r=s,i.next(a))}))})}function XB(n,t){return n===t}let nC=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eH=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=qr(e);return new ze(r=>{const a=this._observeElement(i).subscribe(r);return()=>{a.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new ae,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(S(nC))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tH=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new he,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ca(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Wc(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Lp(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(eH),_(Ce),_(ge))},n.\u0275dir=$({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),iC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({providers:[nC]}),n})();class oH extends class rH{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new ae,this._typeaheadSubscription=Ke.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new ae,this.change=new ae,t instanceof Jo&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Ot(e=>this._pressedLetters.push(e)),Lp(t),hn(()=>this._pressedLetters.length>0),de(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,a=i[o];if(!this._skipPredicateFn(a)&&0===a.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Fp(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t),r=e[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Jo?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let aC=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function sH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function aH(n){try{return n.frameElement}catch(t){return null}}(function mH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===lC(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=lC(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function fH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function pH(n){return!function cH(n){return function hH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function lH(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uH(n){return function dH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sC(n))}(e)&&!this.isDisabled(e)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(S(en))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sC(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function lC(n){if(!sC(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class gH{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return null==i||i.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(on(1)).subscribe(t)}}let vH=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new gH(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(S(aC),S(ge),S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cC(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function uC(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const yH=new q("cdk-input-modality-detector-options"),_H={ignoreKeys:[18,17,224,91,16]},fa=Xc({passive:!0,capture:!0});let bH=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Un(null),this._lastTouchMs=0,this._onKeydown=a=>{var s,l;(null===(l=null===(s=this._options)||void 0===s?void 0:s.ignoreKeys)||void 0===l?void 0:l.some(c=>c===a.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Yr(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<650||(this._modality.next(cC(a)?"keyboard":"mouse"),this._mostRecentTarget=Yr(a))},this._onTouchstart=a=>{uC(a)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Yr(a))},this._options=Object.assign(Object.assign({},_H),o),this.modalityDetected=this._modality.pipe(eC(1)),this.modalityChanged=this.modalityDetected.pipe(tC()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,fa),r.addEventListener("mousedown",this._onMousedown,fa),r.addEventListener("touchstart",this._onTouchstart,fa)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,fa),document.removeEventListener("mousedown",this._onMousedown,fa),document.removeEventListener("touchstart",this._onTouchstart,fa))}}return n.\u0275fac=function(e){return new(e||n)(S(en),S(ge),S(ve),S(yH,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SH=new q("liveAnnouncerElement",{providedIn:"root",factory:function wH(){return null}}),CH=new q("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let dC=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,a;return 1===i.length&&"number"==typeof i[0]?a=i[0]:[o,a]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==a&&r&&(a=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(s=>this._currentResolve=s)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof a&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var e,i;clearTimeout(this._previousTimeout),null===(e=this._liveElement)||void 0===e||e.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(S(SH,8),S(ge),S(ve),S(CH,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kH=new q("cdk-focus-monitor-default-options"),iu=Xc({passive:!0,capture:!0});let Np=(()=>{class n{constructor(e,i,r,o,a){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ae,this._rootNodeFocusAndBlurListener=s=>{const l=Yr(s),c="focus"===s.type?this._onFocus:this._onBlur;for(let u=l;u;u=u.parentElement)c.call(this,s,u)},this._document=o,this._detectionMode=(null==a?void 0:a.detectionMode)||0}monitor(e,i=!1){const r=qr(e);if(!this._platform.isBrowser||1!==r.nodeType)return Z(null);const o=function sB(n){if(function aB(){if(null==Tp){const n="undefined"!=typeof document?document.head:null;Tp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tp}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),a=this._elementInfo.get(r);if(a)return i&&(a.checkChildren=!0),a.subject;const s={checkChildren:i,subject:new ae,rootNode:o};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){const i=qr(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=qr(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([s,l])=>this._originChanged(s,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Yr(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,iu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,iu)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ci(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,iu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,iu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(S(ge),S(en),S(bH),S(ve,8),S(kH,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MH=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new he}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Np))},n.\u0275dir=$({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const fC="cdk-high-contrast-black-on-white",pC="cdk-high-contrast-white-on-black",Bp="cdk-high-contrast-active";let mC=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Bp),e.remove(fC),e.remove(pC),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Bp),e.add(fC)):2===i&&(e.add(Bp),e.add(pC))}}}return n.\u0275fac=function(e){return new(e||n)(S(en),S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DH=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(S(mC))},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[iC]]}),n})();class gC{}const $i="*";function Hp(n,t){return{type:7,name:n,definitions:t,options:{}}}function Wr(n,t=null){return{type:4,styles:t,timings:n}}function vC(n,t=null){return{type:3,steps:n,options:t}}function yC(n,t=null){return{type:2,steps:n,options:t}}function dn(n){return{type:6,styles:n,offset:null}}function Kr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Jr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function _C(n=null){return{type:9,options:n}}function bC(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function SC(n){Promise.resolve(null).then(n)}class qs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){SC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class wC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?SC(()=>this._onFinish()):this.players.forEach(a=>{a.onDone(()=>{++e==o&&this._onFinish()}),a.onDestroy(()=>{++i==o&&this._onDestroy()}),a.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((a,s)=>Math.max(a,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const we=!1;function CC(n){return new z(3e3,we)}function sV(){return"undefined"!=typeof window&&void 0!==window.document}function Up(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cr(n){switch(n.length){case 0:return new qs;case 1:return n[0];default:return new wC(n)}}function kC(n,t,e,i,r={},o={}){const a=[],s=[];let l=-1,c=null;if(i.forEach(u=>{const f=u.offset,m=f==l,v=m&&c||{};Object.keys(u).forEach(y=>{let w=y,D=u[y];if("offset"!==y)switch(w=t.normalizePropertyName(w,a),D){case"!":D=r[y];break;case $i:D=o[y];break;default:D=t.normalizeStyleValue(y,w,D,a)}v[w]=D}),m||s.push(v),c=v,l=f}),a.length)throw function JH(n){return new z(3502,we)}();return s}function jp(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&qp(e,"start",n)));break;case"done":n.onDone(()=>i(e&&qp(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&qp(e,"destroy",n)))}}function qp(n,t,e){const i=e.totalTime,o=zp(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),a=n._data;return null!=a&&(o._data=a),o}function zp(n,t,e,i,r="",o=0,a){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!a}}function Tn(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function MC(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Yp=(n,t)=>!1,DC=(n,t,e)=>[],xC=null;function $p(n){const t=n.parentNode||n.host;return t===xC?null:t}(Up()||"undefined"!=typeof Element)&&(sV()?(xC=(()=>document.documentElement)(),Yp=(n,t)=>{for(;t;){if(t===n)return!0;t=$p(t)}return!1}):Yp=(n,t)=>n.contains(t),DC=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Qr=null,TC=!1;function EC(n){Qr||(Qr=function cV(){return"undefined"!=typeof document?document.body:null}()||{},TC=!!Qr.style&&"WebkitAppearance"in Qr.style);let t=!0;return Qr.style&&!function lV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Qr.style,!t&&TC&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Qr.style)),t}const AC=Yp,PC=DC;let IC=(()=>{class n{validateStyleProperty(e){return EC(e)}matchesElement(e,i){return!1}containsElement(e,i){return AC(e,i)}getParentElement(e){return $p(e)}query(e,i,r){return PC(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,a,s=[],l){return new qs(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),Gp=(()=>{class n{}return n.NOOP=new IC,n})();const Wp="ng-enter",ou="ng-leave",au="ng-trigger",su=".ng-trigger",RC="ng-animating",Kp=".ng-animating";function Zr(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Jp(parseFloat(t[1]),t[2])}function Jp(n,t){return"s"===t?1e3*n:n}function lu(n,t,e){return n.hasOwnProperty("duration")?n:function dV(n,t,e){let r,o=0,a="";if("string"==typeof n){const s=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return t.push(CC()),{duration:0,delay:0,easing:""};r=Jp(parseFloat(s[1]),s[2]);const l=s[3];null!=l&&(o=Jp(parseFloat(l),s[4]));const c=s[5];c&&(a=c)}else r=n;if(!e){let s=!1,l=t.length;r<0&&(t.push(function TH(){return new z(3100,we)}()),s=!0),o<0&&(t.push(function EH(){return new z(3101,we)}()),s=!0),s&&t.splice(l,0,CC())}return{duration:r,delay:o,easing:a}}(n,t,e)}function pa(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function ur(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else pa(n,e);return e}function LC(n,t,e){return e?t+":"+e+";":""}function NC(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=LC(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=LC(0,mV(e),n.style[e]));n.setAttribute("style",t)}function ki(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=Zp(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),Up()&&NC(n))}function Xr(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=Zp(e);n.style[i]=""}),Up()&&NC(n))}function zs(n){return Array.isArray(n)?1==n.length?n[0]:yC(n):n}const Qp=new RegExp("{{\\s*(.+?)\\s*}}","g");function BC(n){let t=[];if("string"==typeof n){let e;for(;e=Qp.exec(n);)t.push(e[1]);Qp.lastIndex=0}return t}function cu(n,t,e){const i=n.toString(),r=i.replace(Qp,(o,a)=>{let s=t[a];return t.hasOwnProperty(a)||(e.push(function PH(n){return new z(3003,we)}()),s=""),s.toString()});return r==i?n:r}function uu(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const pV=/-+([a-z0-9])/g;function Zp(n){return n.replace(pV,(...t)=>t[1].toUpperCase())}function mV(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function En(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function IH(n){return new z(3004,we)}()}}function HC(n,t){return window.getComputedStyle(n)[t]}function SV(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function wV(n,t,e){if(":"==n[0]){const l=function CV(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function $H(n){return new z(3016,we)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function YH(n){return new z(3015,we)}()),t;const r=i[1],o=i[2],a=i[3];t.push(VC(r,a));"<"==o[0]&&!("*"==r&&"*"==a)&&t.push(VC(a,r))}(i,e,t)):e.push(n),e}const pu=new Set(["true","1"]),mu=new Set(["false","0"]);function VC(n,t){const e=pu.has(n)||mu.has(n),i=pu.has(t)||mu.has(t);return(r,o)=>{let a="*"==n||n==r,s="*"==t||t==o;return!a&&e&&"boolean"==typeof r&&(a=r?pu.has(n):mu.has(n)),!s&&i&&"boolean"==typeof o&&(s=o?pu.has(t):mu.has(t)),a&&s}}const kV=new RegExp("s*:selfs*,?","g");function Xp(n,t,e,i){return new MV(n).build(t,e,i)}class MV{constructor(t){this._driver=t}build(t,e,i){const r=new TV(e);this._resetContextStyleTimingState(r);const o=En(this,zs(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push(function RH(){return new z(3006,we)}()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),0==s.type){const l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,e))}),l.name=c}else if(1==s.type){const l=this.visitTransition(s,e);i+=l.queryCount,r+=l.depCount,a.push(l)}else e.errors.push(function FH(){return new z(3007,we)}())}),{type:7,name:t.name,states:o,transitions:a,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,a=r||{};i.styles.forEach(s=>{if(gu(s)){const l=s;Object.keys(l).forEach(c=>{BC(l[c]).forEach(u=>{a.hasOwnProperty(u)||o.add(u)})})}}),o.size&&(uu(o.values()),e.errors.push(function LH(n,t){return new z(3008,we)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=En(this,zs(t.animation),e);return{type:1,matchers:SV(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:eo(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>En(this,i,e)),options:eo(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(a=>{e.currentTime=i;const s=En(this,a,e);return r=Math.max(r,e.currentTime),s});return e.currentTime=r,{type:3,steps:o,options:eo(t.options)}}visitAnimate(t,e){const i=function AV(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return em(lu(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=em(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=lu(e,t);return em(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:dn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let a=t.styles,s=!1;if(!a){s=!0;const c={};i.easing&&(c.easing=i.easing),a=dn(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(a,e);l.isEmptyStep=s,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(a=>{"string"==typeof a?a==$i?i.push(a):e.errors.push(function NH(n){return new z(3002,we)}()):i.push(a)}):i.push(t.styles);let r=!1,o=null;return i.forEach(a=>{if(gu(a)){const s=a,l=s.easing;if(l&&(o=l,delete s.easing),!r)for(let c in s)if(s[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(a=>{"string"!=typeof a&&Object.keys(a).forEach(s=>{if(!this._driver.validateStyleProperty(s))return delete a[s],void e.unsupportedCSSPropertiesFound.add(s);const l=e.collectedStyles[e.currentQuerySelector],c=l[s];let u=!0;c&&(o!=r&&o>=c.startTime&&r<=c.endTime&&(e.errors.push(function BH(n,t,e,i,r){return new z(3010,we)}()),u=!1),o=c.startTime),u&&(l[s]={startTime:o,endTime:r}),e.options&&function fV(n,t,e){const i=t.params||{},r=BC(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function AH(n){return new z(3001,we)}())})}(a[s],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function HH(){return new z(3011,we)}()),i;let o=0;const a=[];let s=!1,l=!1,c=0;const u=t.steps.map(T=>{const k=this._makeStyleAst(T,e);let E=null!=k.offset?k.offset:function EV(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(gu(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(gu(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(k.styles),L=0;return null!=E&&(o++,L=k.offset=E),l=l||L<0||L>1,s=s||L<c,c=L,a.push(L),k});l&&e.errors.push(function VH(){return new z(3012,we)}()),s&&e.errors.push(function UH(){return new z(3200,we)}());const f=t.steps.length;let m=0;o>0&&o<f?e.errors.push(function jH(){return new z(3202,we)}()):0==o&&(m=1/(f-1));const v=f-1,y=e.currentTime,w=e.currentAnimateTimings,D=w.duration;return u.forEach((T,k)=>{const E=m>0?k==v?1:m*k:a[k],L=E*D;e.currentTime=y+w.delay+L,w.duration=L,this._validateStyleAst(T,e),T.offset=E,i.styles.push(T)}),i}visitReference(t,e){return{type:8,animation:En(this,zs(t.animation),e),options:eo(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:eo(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:eo(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,a]=function DV(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(kV,"")),n=n.replace(/@\*/g,su).replace(/@\w+/g,e=>su+"-"+e.substr(1)).replace(/:animating/g,Kp),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Tn(e.collectedStyles,e.currentQuerySelector,{});const s=En(this,zs(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:s,originalSelector:t.selector,options:eo(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function qH(){return new z(3013,we)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:lu(t.timings,e.errors,!0);return{type:12,animation:En(this,zs(t.animation),e),timings:i,options:null}}}class TV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gu(n){return!Array.isArray(n)&&"object"==typeof n}function eo(n){return n?(n=pa(n)).params&&(n.params=function xV(n){return n?pa(n):null}(n.params)):n={},n}function em(n,t,e){return{duration:n,delay:t,easing:e}}function tm(n,t,e,i,r,o,a=null,s=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:a,subTimeline:s}}class vu{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const OV=new RegExp(":enter","g"),FV=new RegExp(":leave","g");function nm(n,t,e,i,r,o={},a={},s,l,c=[]){return(new LV).buildKeyframes(n,t,e,i,r,o,a,s,l,c)}class LV{buildKeyframes(t,e,i,r,o,a,s,l,c,u=[]){c=c||new vu;const f=new im(t,e,c,r,o,u,[]);f.options=l,f.currentTimeline.setStyles([a],null,f.errors,l),En(this,i,f);const m=f.timelines.filter(v=>v.containsAnimation());if(Object.keys(s).length){let v;for(let y=m.length-1;y>=0;y--){const w=m[y];if(w.element===e){v=w;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([s],null,f.errors,l)}return m.length?m.map(v=>v.buildKeyframes()):[tm(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,a=this._visitSubInstructions(i,r,r.options);o!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const a=null!=i.duration?Zr(i.duration):null,s=null!=i.delay?Zr(i.delay):null;return 0!==a&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,a,s);o=Math.max(o,c.duration+c.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),En(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=yu);const a=Zr(o.delay);r.delayNextStep(a)}t.steps.length&&(t.steps.forEach(a=>En(this,a,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Zr(t.options.delay):0;t.steps.forEach(a=>{const s=e.createSubContext(t.options);o&&s.delayNextStep(o),En(this,a,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(a=>e.currentTimeline.mergeTimelineCollectedStyles(a)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return lu(e.params?cu(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{s.forwardTime((l.offset||0)*o),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Zr(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=yu);let a=i;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,u)=>{e.currentQueryIndex=u;const f=e.createSubContext(t.options,c);o&&f.delayNextStep(o),c===e.element&&(l=f.currentTimeline),En(this,t.animation,f),f.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,f.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,a=Math.abs(o.duration),s=a*(e.currentQueryTotal-1);let l=a*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const f=u.currentTime;En(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-f+(r.startTime-i.currentTimeline.startTime)}}const yu={};class im{constructor(t,e,i,r,o,a,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=yu,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new _u(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Zr(i.duration)),null!=i.delay&&(r.delay=Zr(i.delay));const o=i.params;if(o){let a=r.params;a||(a=this.options.params={}),Object.keys(o).forEach(s=>{(!e||!a.hasOwnProperty(s))&&(a[s]=cu(o[s],a,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new im(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=yu,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new NV(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,a){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(OV,"."+this._enterClassName)).replace(FV,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!o&&0==s.length&&a.push(function zH(n){return new z(3014,we)}()),s}}class _u{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new _u(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||$i,this._currentKeyframe[e]=$i}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},a=function BV(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=$i})):ur(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(a).forEach(s=>{const l=cu(a[s],o,i);this._pendingStyles[s]=l,this._localTimelineStyles.hasOwnProperty(s)||(this._backFill[s]=this._globalTimelineStyles.hasOwnProperty(s)?this._globalTimelineStyles[s]:$i),this._updateStyle(s,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((s,l)=>{const c=ur(s,!0);Object.keys(c).forEach(u=>{const f=c[u];"!"==f?t.add(u):f==$i&&e.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const o=t.size?uu(t.values()):[],a=e.size?uu(e.values()):[];if(i){const s=r[0],l=pa(s);s.offset=0,l.offset=1,r=[s,l]}return tm(this.element,r,o,a,this.duration,this.startTime,this.easing,!1)}}class NV extends _u{constructor(t,e,i,r,o,a,s=!1){super(t,e,a.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=s,this.timings={duration:a.duration,delay:a.delay,easing:a.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],a=i+e,s=e/a,l=ur(t[0],!1);l.offset=0,o.push(l);const c=ur(t[0],!1);c.offset=qC(s),o.push(c);const u=t.length-1;for(let f=1;f<=u;f++){let m=ur(t[f],!1);m.offset=qC((e+m.offset*i)/a),o.push(m)}i=a,e=0,r="",t=o}return tm(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function qC(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class rm{}class HV extends rm{normalizePropertyName(t,e){return Zp(t)}normalizeStyleValue(t,e,i,r){let o="";const a=i.toString().trim();if(VV[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&r.push(function OH(n,t){return new z(3005,we)}())}return a+o}}const VV=(()=>function UV(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zC(n,t,e,i,r,o,a,s,l,c,u,f,m){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:a,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:f,errors:m}}const om={};class YC{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function jV(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],a=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):a}build(t,e,i,r,o,a,s,l,c,u){const f=[],m=this.ast.options&&this.ast.options.params||om,y=this.buildStyles(i,s&&s.params||om,f),w=l&&l.params||om,D=this.buildStyles(r,w,f),T=new Set,k=new Map,E=new Map,L="void"===r,G={params:Object.assign(Object.assign({},m),w)},Te=u?[]:nm(t,e,this.ast.animation,o,a,y,D,G,c,f);let Ae=0;if(Te.forEach(ct=>{Ae=Math.max(ct.duration+ct.delay,Ae)}),f.length)return zC(e,this._triggerName,i,r,L,y,D,[],[],k,E,Ae,f);Te.forEach(ct=>{const ut=ct.element,pn=Tn(k,ut,{});ct.preStyleProps.forEach(kt=>pn[kt]=!0);const Nt=Tn(E,ut,{});ct.postStyleProps.forEach(kt=>Nt[kt]=!0),ut!==e&&T.add(ut)});const lt=uu(T.values());return zC(e,this._triggerName,i,r,L,y,D,Te,lt,k,E,Ae)}}class qV{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=pa(this.defaultParams);return Object.keys(t).forEach(o=>{const a=t[o];null!=a&&(r[o]=a)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const a=o;Object.keys(a).forEach(s=>{let l=a[s];l.length>1&&(l=cu(l,r,e));const c=this.normalizer.normalizePropertyName(s,e);l=this.normalizer.normalizeStyleValue(s,c,l,e),i[c]=l})}}),i}}class YV{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new qV(r.style,r.options&&r.options.params||{},i)}),$C(this.states,"true","1"),$C(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new YC(t,r,this.states))}),this.fallbackTransition=function $V(n,t,e){return new YC(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(a,s)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(a=>a.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function $C(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const GV=new vu;class WV{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=Xp(this._driver,e,i,[]);if(i.length)throw function QH(n){return new z(3503,we)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=kC(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let a;const s=new Map;if(o?(a=nm(this._driver,e,o,Wp,ou,{},{},i,GV,r),a.forEach(u=>{const f=Tn(s,u.element,{});u.postStyleProps.forEach(m=>f[m]=null)})):(r.push(function ZH(){return new z(3300,we)}()),a=[]),r.length)throw function XH(n){return new z(3504,we)}();s.forEach((u,f)=>{Object.keys(u).forEach(m=>{u[m]=this._driver.computeStyle(f,m,$i)})});const c=cr(a.map(u=>{const f=s.get(u.element);return this._buildPlayer(u,{},f)}));return this._playersById[t]=c,c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function eV(n){return new z(3301,we)}();return e}listen(t,e,i,r){const o=zp(e,"","","");return jp(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const GC="ng-animate-queued",am="ng-animate-disabled",XV=[],WC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},e3={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},zn="__ng_removed";class sm{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function o3(n){return null!=n?n:null}(i?t.value:t),i){const o=pa(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Ys="void",lm=new sm(Ys);class t3{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Yn(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function tV(n,t){return new z(3302,we)}();if(null==i||0==i.length)throw function nV(n){return new z(3303,we)}();if(!function a3(n){return"start"==n||"done"==n}(i))throw function iV(n,t){return new z(3400,we)}();const o=Tn(this._elementListeners,t,[]),a={name:e,phase:i,callback:r};o.push(a);const s=Tn(this._engine.statesByElement,t,{});return s.hasOwnProperty(e)||(Yn(t,au),Yn(t,au+"-"+e),s[e]=lm),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(a);l>=0&&o.splice(l,1),this._triggers[e]||delete s[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function rV(n){return new z(3401,we)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),a=new cm(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Yn(t,au),Yn(t,au+"-"+e),this._engine.statesByElement.set(t,s={}));let l=s[e];const c=new sm(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s[e]=c,l||(l=lm),c.value!==Ys&&l.value===c.value){if(!function c3(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,c.params)){const w=[],D=o.matchStyles(l.value,l.params,w),T=o.matchStyles(c.value,c.params,w);w.length?this._engine.reportError(w):this._engine.afterFlush(()=>{Xr(t,D),ki(t,T)})}return}const m=Tn(this._engine.playersByElement,t,[]);m.forEach(w=>{w.namespaceId==this.id&&w.triggerName==e&&w.queued&&w.destroy()});let v=o.matchTransition(l.value,c.value,t,c.params),y=!1;if(!v){if(!r)return;v=o.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:v,fromState:l,toState:c,player:a,isFallbackTransition:y}),y||(Yn(t,GC),a.onStart(()=>{ma(t,GC)})),a.onDone(()=>{let w=this.players.indexOf(a);w>=0&&this.players.splice(w,1);const D=this._engine.playersByElement.get(t);if(D){let T=D.indexOf(a);T>=0&&D.splice(T,1)}}),this.players.push(a),m.push(a),a}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,su,!0);i.forEach(r=>{if(r[zn])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(a=>a.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),a=new Map;if(o){const s=[];if(Object.keys(o).forEach(l=>{if(a.set(l,o[l].value),this._triggers[l]){const c=this.trigger(t,l,Ys,r);c&&s.push(c)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,a),i&&cr(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const a=o.name;if(r.has(a))return;r.add(a);const l=this._triggers[a].fallbackTransition,c=i[a]||lm,u=new sm(Ys),f=new cm(this.id,a,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:a,transition:l,fromState:c,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let a=t;for(;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[zn];(!o||o===WC)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Yn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,a=this._elementListeners.get(o);a&&a.forEach(s=>{if(s.name==i.triggerName){const l=zp(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,jp(i.player,s.phase,l,s.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,a=r.transition.ast.depCount;return 0==o||0==a?o-a:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class n3{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new t3(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let a=!1;if(void 0!==this.driver.getParentElement){let s=this.driver.getParentElement(e);for(;s;){const l=r.get(s);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),a=!0;break}s=this.driver.getParentElement(s)}}else for(let s=o;s>=0;s--)if(this.driver.containsElement(i[s].hostElement,e)){i.splice(s+1,0,t),a=!0;break}a||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const a=i[r[o]].namespaceId;if(a){const s=this._fetchNamespace(a);s&&e.add(s)}}}return e}trigger(t,e,i,r){if(bu(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!bu(e))return;const o=e[zn];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){const a=this._fetchNamespace(t);a&&a.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Yn(t,am)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ma(t,am))}removeNode(t,e,i,r){if(bu(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[zn]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return bu(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,su,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Kp,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return cr(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[zn];if(i&&i.setForRemoval){if(t[zn]=WC,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(am))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Yn(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?cr(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function oV(n){return new z(3402,we)}()}_flushAnimations(t,e){const i=new vu,r=[],o=new Map,a=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(Y=>{u.add(Y);const K=this.driver.query(Y,".ng-animate-queued",!0);for(let ee=0;ee<K.length;ee++)u.add(K[ee])});const f=this.bodyNode,m=Array.from(this.statesByElement.keys()),v=QC(m,this.collectedEnterElements),y=new Map;let w=0;v.forEach((Y,K)=>{const ee=Wp+w++;y.set(K,ee),Y.forEach(De=>Yn(De,ee))});const D=[],T=new Set,k=new Set;for(let Y=0;Y<this.collectedLeaveElements.length;Y++){const K=this.collectedLeaveElements[Y],ee=K[zn];ee&&ee.setForRemoval&&(D.push(K),T.add(K),ee.hasAnimation?this.driver.query(K,".ng-star-inserted",!0).forEach(De=>T.add(De)):k.add(K))}const E=new Map,L=QC(m,Array.from(T));L.forEach((Y,K)=>{const ee=ou+w++;E.set(K,ee),Y.forEach(De=>Yn(De,ee))}),t.push(()=>{v.forEach((Y,K)=>{const ee=y.get(K);Y.forEach(De=>ma(De,ee))}),L.forEach((Y,K)=>{const ee=E.get(K);Y.forEach(De=>ma(De,ee))}),D.forEach(Y=>{this.processLeaveNode(Y)})});const G=[],Te=[];for(let Y=this._namespaceList.length-1;Y>=0;Y--)this._namespaceList[Y].drainQueuedTransitions(e).forEach(ee=>{const De=ee.player,Et=ee.element;if(G.push(De),this.collectedEnterElements.length){const rn=Et[zn];if(rn&&rn.setForMove){if(rn.previousTriggersValues&&rn.previousTriggersValues.has(ee.triggerName)){const oo=rn.previousTriggersValues.get(ee.triggerName),vr=this.statesByElement.get(ee.element);vr&&vr[ee.triggerName]&&(vr[ee.triggerName].value=oo)}return void De.destroy()}}const Di=!f||!this.driver.containsElement(f,Et),An=E.get(Et),gr=y.get(Et),Xe=this._buildInstruction(ee,i,gr,An,Di);if(Xe.errors&&Xe.errors.length)return void Te.push(Xe);if(Di)return De.onStart(()=>Xr(Et,Xe.fromStyles)),De.onDestroy(()=>ki(Et,Xe.toStyles)),void r.push(De);if(ee.isFallbackTransition)return De.onStart(()=>Xr(Et,Xe.fromStyles)),De.onDestroy(()=>ki(Et,Xe.toStyles)),void r.push(De);const cM=[];Xe.timelines.forEach(rn=>{rn.stretchStartingKeyframe=!0,this.disabledNodes.has(rn.element)||cM.push(rn)}),Xe.timelines=cM,i.append(Et,Xe.timelines),a.push({instruction:Xe,player:De,element:Et}),Xe.queriedElements.forEach(rn=>Tn(s,rn,[]).push(De)),Xe.preStyleProps.forEach((rn,oo)=>{const vr=Object.keys(rn);if(vr.length){let ao=l.get(oo);ao||l.set(oo,ao=new Set),vr.forEach($m=>ao.add($m))}}),Xe.postStyleProps.forEach((rn,oo)=>{const vr=Object.keys(rn);let ao=c.get(oo);ao||c.set(oo,ao=new Set),vr.forEach($m=>ao.add($m))})});if(Te.length){const Y=[];Te.forEach(K=>{Y.push(function aV(n,t){return new z(3505,we)}())}),G.forEach(K=>K.destroy()),this.reportError(Y)}const Ae=new Map,lt=new Map;a.forEach(Y=>{const K=Y.element;i.has(K)&&(lt.set(K,K),this._beforeAnimationBuild(Y.player.namespaceId,Y.instruction,Ae))}),r.forEach(Y=>{const K=Y.element;this._getPreviousPlayers(K,!1,Y.namespaceId,Y.triggerName,null).forEach(De=>{Tn(Ae,K,[]).push(De),De.destroy()})});const ct=D.filter(Y=>XC(Y,l,c)),ut=new Map;JC(ut,this.driver,k,c,$i).forEach(Y=>{XC(Y,l,c)&&ct.push(Y)});const Nt=new Map;v.forEach((Y,K)=>{JC(Nt,this.driver,new Set(Y),l,"!")}),ct.forEach(Y=>{const K=ut.get(Y),ee=Nt.get(Y);ut.set(Y,Object.assign(Object.assign({},K),ee))});const kt=[],ba=[],Sa={};a.forEach(Y=>{const{element:K,player:ee,instruction:De}=Y;if(i.has(K)){if(u.has(K))return ee.onDestroy(()=>ki(K,De.toStyles)),ee.disabled=!0,ee.overrideTotalTime(De.totalTime),void r.push(ee);let Et=Sa;if(lt.size>1){let An=K;const gr=[];for(;An=An.parentNode;){const Xe=lt.get(An);if(Xe){Et=Xe;break}gr.push(An)}gr.forEach(Xe=>lt.set(Xe,Et))}const Di=this._buildAnimation(ee.namespaceId,De,Ae,o,Nt,ut);if(ee.setRealPlayer(Di),Et===Sa)kt.push(ee);else{const An=this.playersByElement.get(Et);An&&An.length&&(ee.parentPlayer=cr(An)),r.push(ee)}}else Xr(K,De.fromStyles),ee.onDestroy(()=>ki(K,De.toStyles)),ba.push(ee),u.has(K)&&r.push(ee)}),ba.forEach(Y=>{const K=o.get(Y.element);if(K&&K.length){const ee=cr(K);Y.setRealPlayer(ee)}}),r.forEach(Y=>{Y.parentPlayer?Y.syncPlayerEvents(Y.parentPlayer):Y.destroy()});for(let Y=0;Y<D.length;Y++){const K=D[Y],ee=K[zn];if(ma(K,ou),ee&&ee.hasAnimation)continue;let De=[];if(s.size){let Di=s.get(K);Di&&Di.length&&De.push(...Di);let An=this.driver.query(K,Kp,!0);for(let gr=0;gr<An.length;gr++){let Xe=s.get(An[gr]);Xe&&Xe.length&&De.push(...Xe)}}const Et=De.filter(Di=>!Di.destroyed);Et.length?s3(this,K,Et):this.processLeaveNode(K)}return D.length=0,kt.forEach(Y=>{this.players.push(Y),Y.onDone(()=>{Y.destroy();const K=this.players.indexOf(Y);this.players.splice(K,1)}),Y.play()}),kt}elementContainsData(t,e){let i=!1;const r=e[zn];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let a=[];if(e){const s=this.playersByQueriedElement.get(t);s&&(a=s)}else{const s=this.playersByElement.get(t);if(s){const l=!o||o==Ys;s.forEach(c=>{c.queued||!l&&c.triggerName!=r||a.push(c)})}}return(i||r)&&(a=a.filter(s=>!(i&&i!=s.namespaceId||r&&r!=s.triggerName))),a}_beforeAnimationBuild(t,e,i){const o=e.element,a=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==o,f=Tn(i,c,[]);this._getPreviousPlayers(c,u,a,s,e.toState).forEach(v=>{const y=v.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),v.destroy(),f.push(v)})}Xr(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,a){const s=e.triggerName,l=e.element,c=[],u=new Set,f=new Set,m=e.timelines.map(y=>{const w=y.element;u.add(w);const D=w[zn];if(D&&D.removedBeforeQueried)return new qs(y.duration,y.delay);const T=w!==l,k=function l3(n){const t=[];return ZC(n,t),t}((i.get(w)||XV).map(Ae=>Ae.getRealPlayer())).filter(Ae=>!!Ae.element&&Ae.element===w),E=o.get(w),L=a.get(w),G=kC(0,this._normalizer,0,y.keyframes,E,L),Te=this._buildPlayer(y,G,k);if(y.subTimeline&&r&&f.add(w),T){const Ae=new cm(t,s,w);Ae.setRealPlayer(Te),c.push(Ae)}return Te});c.forEach(y=>{Tn(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function r3(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,y.element,y))}),u.forEach(y=>Yn(y,RC));const v=cr(m);return v.onDestroy(()=>{u.forEach(y=>ma(y,RC)),ki(l,e.toStyles)}),f.forEach(y=>{Tn(r,y,[]).push(v)}),v}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qs(t.duration,t.delay)}}class cm{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>jp(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Tn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bu(n){return n&&1===n.nodeType}function KC(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function JC(n,t,e,i,r){const o=[];e.forEach(l=>o.push(KC(l)));const a=[];i.forEach((l,c)=>{const u={};l.forEach(f=>{const m=u[f]=t.computeStyle(c,f,r);(!m||0==m.length)&&(c[zn]=e3,a.push(c))}),n.set(c,u)});let s=0;return e.forEach(l=>KC(l,o[s++])),a}function QC(n,t){const e=new Map;if(n.forEach(s=>e.set(s,[])),0==t.length)return e;const r=new Set(t),o=new Map;function a(s){if(!s)return 1;let l=o.get(s);if(l)return l;const c=s.parentNode;return l=e.has(c)?c:r.has(c)?1:a(c),o.set(s,l),l}return t.forEach(s=>{const l=a(s);1!==l&&e.get(l).push(s)}),e}function Yn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function ma(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function s3(n,t,e){cr(e).onDone(()=>n.processLeaveNode(t))}function ZC(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof wC?ZC(i.players,t):t.push(i)}}function XC(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Su{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new n3(t,e,i),this._timelineEngine=new WV(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const a=t+"-"+r;let s=this._triggerCache[a];if(!s){const l=[],u=Xp(this._driver,o,l,[]);if(l.length)throw function KH(n,t){return new z(3404,we)}();s=function zV(n,t,e){return new YV(n,t,e)}(r,u,this._normalizer),this._triggerCache[a]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,a]=MC(i);this._timelineEngine.command(o,e,a,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[a,s]=MC(i);return this._timelineEngine.listen(a,e,s,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let h3=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ki(this._element,this._initialStyles),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xr(this._element,this._endStyles),this._endStyles=null),ki(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function um(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];d3(r)&&(t=t||{},t[r]=n[r])}return t}function d3(n){return"display"===n||"position"===n}class e1{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:HC(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class f3{validateStyleProperty(t){return EC(t)}matchesElement(t,e){return!1}containsElement(t,e){return AC(t,e)}getParentElement(t){return $p(t)}query(t,e,i){return PC(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,a=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c={},u=a.filter(m=>m instanceof e1);(function gV(n,t){return 0===n||0===t})(i,r)&&u.forEach(m=>{let v=m.currentSnapshot;Object.keys(v).forEach(y=>c[y]=v[y])}),e=function vV(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],a=[];if(i.forEach(s=>{o.hasOwnProperty(s)||a.push(s),o[s]=e[s]}),a.length)for(var r=1;r<t.length;r++){let s=t[r];a.forEach(function(l){s[l]=HC(n,l)})}}return t}(t,e=e.map(m=>ur(m,!1)),c);const f=function u3(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=um(t[0]),t.length>1&&(i=um(t[t.length-1]))):t&&(e=um(t)),e||i?new h3(n,e,i):null}(t,e);return new e1(t,e,l,f)}}let p3=(()=>{class n extends gC{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:Wn.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?yC(e):e;return t1(this._renderer,null,i,"register",[r]),new m3(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(S(cs),S(ve))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class m3 extends class xH{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new g3(this._id,t,e||{},this._renderer)}}class g3{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return t1(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function t1(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const n1="@.disabled";let v3=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,a)=>{const s=null==a?void 0:a.parentNode(o);s&&a.removeChild(s,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new r1("",o,this.engine),this._rendererCache.set(o,u)),u}const a=i.id,s=i.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(a,s,e,u.name,u)};return i.data.animation.forEach(l),new y3(this,s,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[a,s]=o;a(s)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(S(cs),S(Su),S(ge))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();class r1{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==n1?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class y3 extends r1{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==n1?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function _3(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),a="";return"@"!=o.charAt(0)&&([o,a]=function b3(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,a,s=>{this.factory.scheduleListenerCallback(s._data||-1,i,s)})}return this.delegate.listen(t,e,i)}}let S3=(()=>{class n extends Su{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(S(ve),S(Gp),S(rm))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const si=new q("AnimationModuleType"),o1=[{provide:gC,useClass:p3},{provide:rm,useFactory:function w3(){return new HV}},{provide:Su,useClass:S3},{provide:cs,useFactory:function C3(n,t,e){return new v3(n,t,e)},deps:[xc,Su,ge]}],a1=[{provide:Gp,useFactory:()=>new f3},{provide:si,useValue:"BrowserAnimations"},...o1],k3=[{provide:Gp,useClass:IC},{provide:si,useValue:"NoopAnimations"},...o1];let M3=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?k3:a1}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({providers:a1,imports:[_0]}),n})();const x3=new q("mat-sanity-checks",{providedIn:"root",factory:function D3(){return!0}});let $n=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Ap()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(S(mC),S(x3,8),S(ve))},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[Hs],Hs]}),n})();function hm(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ca(t)}}}function dm(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function l1(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ca(t)}}}class E3{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const c1={enterDuration:225,exitDuration:150},fm=Xc({passive:!0}),u1=["mousedown","touchstart"],h1=["mouseup","mouseleave","touchend","touchcancel"];class P3{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=qr(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},c1),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const a=i.radius||function O3(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),s=t-r.left,l=e-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-a+"px",u.style.top=l-a+"px",u.style.height=2*a+"px",u.style.width=2*a+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),function I3(n){window.getComputedStyle(n).getPropertyValue("opacity")}(u),u.style.transform="scale(1)";const f=new E3(this,u,i);return f.state=0,this._activeRipples.add(f),i.persistent||(this._mostRecentTransientRipple=f),this._runTimeoutOutsideZone(()=>{const m=f===this._mostRecentTransientRipple;f.state=1,!i.persistent&&(!m||!this._isPointerDown)&&f.fadeOut()},c),f}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r=Object.assign(Object.assign({},c1),t.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=qr(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(u1))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(h1),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=cC(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!uC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,fm)})})}_removeTriggerEvents(){this._triggerElement&&(u1.forEach(t=>{this._triggerElement.removeEventListener(t,this,fm)}),this._pointerUpEventsRegistered&&h1.forEach(t=>{this._triggerElement.removeEventListener(t,this,fm)}))}}const R3=new q("mat-ripple-global-options");let Cu=(()=>{class n{constructor(e,i,r,o,a){this._elementRef=e,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new P3(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(ge),_(en),_(R3,8),_(si,8))},n.\u0275dir=$({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&St("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[$n],$n]}),n})();const F3=["mat-button",""],L3=["*"],B3=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],H3=dm(hm(l1(class{constructor(n){this._elementRef=n}})));let V3=(()=>{class n extends H3{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of B3)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Np),_(si,8))},n.\u0275cmp=le({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&cn(Cu,5),2&e){let r;dt(r=ft())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(We("disabled",i.disabled||null),St("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[ie],attrs:F3,ngContentSelectors:L3,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(ts(),d(0,"span",0),ns(1),h(),N(2,"span",1)(3,"span",2)),2&e&&(g(2),St("mat-button-ripple-round",i.isRoundButton||i.isIconButton),b("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[Cu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),U3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[d1,$n],$n]}),n})();const f1=new Set;let ga,j3=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):z3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function q3(n){if(!f1.has(n))try{ga||(ga=document.createElement("style"),ga.setAttribute("type","text/css"),document.head.appendChild(ga)),ga.sheet&&(ga.sheet.insertRule(`@media ${n} {body{ }}`,0),f1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(S(en))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function z3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let p1=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new ae}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return m1(Kc(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=M0(m1(Kc(e)).map(a=>this._registerQuery(a).observable));return o=Ec(o.pipe(on(1)),o.pipe(eC(1),Lp(0))),o.pipe(de(a=>{const s={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:c})=>{s.matches=s.matches||l,s.breakpoints[c]=l}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ze(a=>{const s=l=>this._zone.run(()=>a.next(l));return i.addListener(s),()=>{i.removeListener(s)}}).pipe(ks(i),de(({matches:a})=>({query:e,matches:a})),Ci(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(S(j3),S(ge))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function $3(n,t){if(1&n){const e=j();d(0,"div",2)(1,"button",3),x("click",function(){return I(e),C().action()}),p(2),h()()}if(2&n){const e=C();g(2),me(e.data.action)}}function G3(n,t){}const g1=new q("MatSnackBarData");class ku{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const W3=Math.pow(2,31)-1;class pm{constructor(t,e){this._overlayRef=e,this._afterDismissed=new ae,this._afterOpened=new ae,this._onAction=new ae,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,W3))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let K3=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(_(pm),_(g1))},n.\u0275cmp=le({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(d(0,"span",0),p(1),h(),M(2,$3,3,1,"div",1)),2&e&&(g(1),me(i.data.message),g(1),b("ngIf",i.hasAction))},directives:[V3,at],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const J3={snackBarState:Hp("state",[Kr("void, hidden",dn({transform:"scale(0.8)",opacity:0})),Kr("visible",dn({transform:"scale(1)",opacity:1})),Jr("* => visible",Wr("150ms cubic-bezier(0, 0, 0.2, 1)")),Jr("* => void, * => hidden",Wr("75ms cubic-bezier(0.4, 0.0, 1, 1)",dn({opacity:0})))])};let Q3=(()=>{class n extends tu{constructor(e,i,r,o,a){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=a,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new ae,this._onExit=new ae,this._onEnter=new ae,this._animationState="void",this.attachDomPortal=s=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(s)),this._live="assertive"!==a.politeness||a.announcementMessage?"off"===a.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(on(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(_(ge),_(Ce),_(Mn),_(en),_(ku))},n.\u0275cmp=le({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&cn($r,7),2&e){let r;dt(r=ft())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&Wl("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&Ql("@state",i._animationState)},features:[ie],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(d(0,"div",0),M(1,G3,0,0,"ng-template",1),h(),N(2,"div")),2&e&&(g(2),We("aria-live",i._live)("role",i._role))},directives:[$r],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[J3.snackBarState]}}),n})(),Z3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[Zw,nu,bs,U3,$n],$n]}),n})();const v1=new q("mat-snack-bar-default-options",{providedIn:"root",factory:function X3(){return new ku}});let eU=(()=>{class n{constructor(e,i,r,o,a,s){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=a,this._defaultConfig=s,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o=Object.assign(Object.assign({},this._defaultConfig),r);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=_e.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ku,useValue:i}]}),a=new Us(this.snackBarContainerComponent,i.viewContainerRef,o),s=e.attach(a);return s.instance.snackBarConfig=i,s.instance}_attach(e,i){const r=Object.assign(Object.assign(Object.assign({},new ku),this._defaultConfig),i),o=this._createOverlay(r),a=this._attachSnackBarContainer(o,r),s=new pm(a,o);if(e instanceof Qt){const l=new js(e,null,{$implicit:r.data,snackBarRef:s});s.instance=a.attachTemplatePortal(l)}else{const l=this._createInjector(r,s),c=new Us(e,void 0,l),u=a.attachComponentPortal(c);s.instance=u.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ci(o.detachments())).subscribe(l=>{o.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(s,r),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Op;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,a="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,s=!a&&"center"!==e.horizontalPosition;return a?r.left("0"):s?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return _e.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:pm,useValue:i},{provide:g1,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(S(da),S(dC),S(_e),S(p1),S(n,12),S(v1))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),y1=(()=>{class n extends eU{constructor(e,i,r,o,a,s){super(e,i,r,o,a,s),this.simpleSnackBarComponent=K3,this.snackBarContainerComponent=Q3,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(S(da),S(dC),S(_e),S(p1),S(n,12),S(v1))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:Z3}),n})(),Ie=(()=>{class n{constructor(e,i,r,o,a){this.injector=e,this.mainLoopService=i,this.logService=r,this.reincarnationService=o,this.forceRebirth=!1,this.fatherGift=!1,this.lifespanTooltip="",setTimeout(()=>this.hellService=this.injector.get($e)),this.snackBar=this.injector.get(y1),this.bigNumberPipe=this.injector.get(zt),this.characterState=new O2(r,a,this.bigNumberPipe,i),i.tickSubject.subscribe(()=>{this.mainLoopService.totalTicks%3650==0&&this.characterState.increaseBaseLifespan(1,70),this.characterState.dead||(this.characterState.age++,this.characterState.status.nourishment.value--);let s="";if(this.forceRebirth)s="You release your soul from your body at the age of "+this.formatAge()+".";else if(this.characterState.age>=this.characterState.lifespan&&!this.characterState.immortal)s="You reach the end of your natural life and pass away from natural causes at the age of "+this.formatAge()+".";else if(this.characterState.status.nourishment.value<=0)if(this.characterState.status.nourishment.value=0,this.characterState.attributes.spirituality.value>0){const l=Math.max(.2*this.characterState.status.health.value,20);r.addLogMessage("You take "+l+" damage from starvation.","INJURY","COMBAT"),this.characterState.status.health.value-=l,this.characterState.increaseAttribute("spirituality",.1),this.characterState.status.health.value<=0&&!this.characterState.immortal&&(s="You starve to death at the age of "+this.formatAge()+".")}else this.characterState.immortal||(s="You starve to death at the age of "+this.formatAge()+".");else this.characterState.status.health.value<=0&&!this.characterState.immortal?(this.activityService||(this.activityService=this.injector.get(st)),s=this.activityService.activityDeath?"You die from overwork at the age of "+this.formatAge()+".":"You succumb to your wounds and die at the age of "+this.formatAge()+"."):this.characterState.immortal&&this.characterState.status.health.value<0&&(this.characterState.status.health.value=0);""!==s&&(this.characterState.immortal||(this.logService.addLogMessage(s,"INJURY","EVENT"),this.forceRebirth||this.logService.addLogMessage("You have failed to achieve immortality and your life has ended. Don't worry, I'm sure you'll achieve immortality in your next life.","STANDARD","EVENT")),this.characterState.dead=!0,this.characterState.reincarnate(),this.reincarnationService.reincarnate(),this.deathSubscriber=this.mainLoopService.tickSubject.subscribe(()=>{var l;this.characterState.dead=!1,null===(l=this.deathSubscriber)||void 0===l||l.unsubscribe()}),this.forceRebirth=!1,this.characterState.immortal?this.logService.addLogMessage("You are born anew, still an immortal but with the fresh vigor of youth.","STANDARD","EVENT"):(this.logService.addLogMessage("Congratulations! The cycle of reincarnation has brought you back into the world. You have been born again. You are certain that lucky life number "+this.characterState.totalLives+" will be the one.","STANDARD","EVENT"),this.logService.addLogMessage("It takes you a few years to grow up and remember your purpose: to become an immortal. You're all grown up now, so get to it!","STANDARD","EVENT")))}),i.longTickSubject.subscribe(()=>{var s;this.characterState.highestMoney<this.characterState.money&&(this.characterState.highestMoney=this.characterState.money),this.characterState.highestAge<this.characterState.age&&(this.characterState.highestAge=this.characterState.age),this.characterState.highestHealth<this.characterState.status.health.value&&(this.characterState.highestHealth=this.characterState.status.health.value),this.characterState.highestStamina<this.characterState.status.stamina.value&&(this.characterState.highestStamina=this.characterState.status.stamina.value),this.characterState.highestMana<this.characterState.status.mana.value&&(this.characterState.highestMana=this.characterState.status.mana.value),!this.characterState.dead&&(this.characterState.recalculateDerivedStats(),(null===(s=this.hellService)||void 0===s?void 0:s.inHell)&&this.hellService.currentHell===H.CrushingBoulder&&!this.hellService.completedHellTasks.includes(H.CrushingBoulder)&&(this.characterState.attackPower=1),this.setLifespanTooltip())}),o.reincarnateSubject.subscribe(()=>{this.fatherGift&&this.characterState.bloodlineRank<6&&(this.logService.addLogMessage("Your father puts some coins in your purse before sending you on your way.","STANDARD","EVENT"),this.characterState.money+=200)})}formatAge(){return Math.floor(this.characterState.age/365)+" years, "+this.characterState.age%365+" days"}setLifespanTooltip(){if(this.characterState.foodLifespan+this.characterState.alchemyLifespan+this.characterState.statLifespan+this.characterState.spiritualityLifespan+this.characterState.magicLifespan<=0)return void(this.lifespanTooltip="You have done nothing to extend your lifespan.");let e="Your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" is extended by";this.characterState.immortal&&(e="You are immortal. If you had remained mortal, your base lifespan of "+this.yearify(this.characterState.baseLifespan)+" would be extended by"),this.characterState.foodLifespan>0&&(e+="<br>Healthy Food: "+this.yearify(this.characterState.foodLifespan)),this.characterState.alchemyLifespan>0&&(e+="<br>Alchemy: "+this.yearify(this.characterState.alchemyLifespan)),this.characterState.statLifespan>0&&(e+="<br>Basic Attributes: "+this.yearify(this.characterState.statLifespan)),this.characterState.spiritualityLifespan>0&&(e+="<br>Spirituality: "+this.yearify(this.characterState.spiritualityLifespan)),this.characterState.magicLifespan>0&&(e+="<br>Magic: "+this.yearify(this.characterState.magicLifespan)),this.lifespanTooltip=e}yearify(e){return e<365?"< 1 year":e<730?"1 year":this.bigNumberPipe.transform(Math.floor(e/365))+" years"}resetAptitudes(){const e=Object.keys(this.characterState.attributes);for(const i in e){const r=this.characterState.attributes[e[i]];r.lifeStartValue=0,r.aptitude=1+r.aptitude/this.characterState.aptitudeGainDivider,r.value=parseInt(i)<5?1:0}this.activityService||(this.activityService=this.injector.get(st)),this.activityService.reloadActivities(),this.activityService.activityLoop.splice(0,this.activityService.activityLoop.length),this.forceRebirth=!0,this.mainLoopService.tick()}condenseSoulCore(){this.characterState.aptitudeGainDivider<=5||(this.logService.addLogMessage("Your spirituality coelesces around the core of your soul, strengthening it and reforging it into something stronger.","STANDARD","STORY"),this.logService.addLogMessage("You now gain additional aptitude each time you reincarnate.","STANDARD","STORY"),this.characterState.condenseSoulCoreCost*=10,this.characterState.aptitudeGainDivider/=1.5,this.resetAptitudes())}soulCoreRank(){return Math.log10(this.characterState.condenseSoulCoreCost/this.characterState.condenseSoulCoreOriginalCost)}reinforceMeridians(){this.characterState.attributeScalingLimit>=10240||(this.logService.addLogMessage("The pathways that carry your chi through your body have been strengthened and reinforced.","STANDARD","STORY"),this.logService.addLogMessage("Your aptitudes can now give you a greater increase when gaining attributes.","STANDARD","STORY"),this.characterState.reinforceMeridiansCost*=10,this.characterState.attributeScalingLimit*=2,this.resetAptitudes())}meridianRank(){return Math.log10(this.characterState.reinforceMeridiansCost/this.characterState.reinforceMeridiansOriginalCost)}upgradeBloodline(){this.characterState.bloodlineRank>=9||(this.logService.addLogMessage("You sacrifice your current life to strengthen a permanent bloodline that will pass on to all of your descendants.","STANDARD","STORY"),this.logService.addLogMessage("You will be reborn into your own family line and reap greater benefits from your previous lives.","STANDARD","STORY"),this.characterState.bloodlineCost*=100,this.characterState.bloodlineRank++,this.resetAptitudes())}stashWeapons(){this.characterState.stashedEquipment.rightHand=this.characterState.equipment.rightHand,this.characterState.stashedEquipment.leftHand=this.characterState.equipment.leftHand,this.characterState.equipment.rightHand=null,this.characterState.equipment.leftHand=null}restoreWeapons(){this.characterState.equipment.rightHand=this.characterState.stashedEquipment.rightHand,this.characterState.equipment.leftHand=this.characterState.stashedEquipment.leftHand,this.characterState.stashedEquipment.rightHand=null,this.characterState.stashedEquipment.leftHand=null}stashArmor(){this.characterState.stashedEquipment.head=this.characterState.equipment.head,this.characterState.stashedEquipment.body=this.characterState.equipment.body,this.characterState.stashedEquipment.legs=this.characterState.equipment.legs,this.characterState.stashedEquipment.feet=this.characterState.equipment.feet,this.characterState.equipment.head=null,this.characterState.equipment.body=null,this.characterState.equipment.legs=null,this.characterState.equipment.feet=null}restoreArmor(){this.characterState.equipment.head=this.characterState.stashedEquipment.head,this.characterState.equipment.body=this.characterState.stashedEquipment.body,this.characterState.equipment.legs=this.characterState.stashedEquipment.legs,this.characterState.equipment.feet=this.characterState.stashedEquipment.feet,this.characterState.stashedEquipment.head=null,this.characterState.stashedEquipment.body=null,this.characterState.stashedEquipment.legs=null,this.characterState.stashedEquipment.feet=null}stashMoney(){this.characterState.stashedMoney=this.characterState.money,this.characterState.money=0}restoreMoney(){this.characterState.money=this.characterState.stashedMoney,this.characterState.stashedMoney=0}toast(e){const i=this.snackBar.open(e,"Close",{duration:5e3,horizontalPosition:"right",verticalPosition:"bottom",panelClass:["snackBar","darkMode"]});this.snackBarObservable=i.onAction().subscribe(()=>{var r;null===(r=this.snackBarObservable)||void 0===r||r.unsubscribe()})}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(Ct),S(fn),S(zi),S(Vn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ct=(()=>{class n{constructor(e){this.injector=e,this.tickSubject=new ae,this.frameSubject=new ae,this.longTickSubject=new ae,this.pause=!0,this.tickDivider=10,this.tickCount=0,this.totalTicks=0,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1,this.topDivider=10,this.unlockAgeSpeed=!1,this.unlockPlaytimeSpeed=!1,this.lastTime=(new Date).getTime(),this.bankedTicks=0,this.offlineDivider=10,this.useBankedTicks=!0,this.scientificNotation=!1}getProperties(){return{unlockFastSpeed:this.unlockFastSpeed,unlockFasterSpeed:this.unlockFasterSpeed,unlockFastestSpeed:this.unlockFastestSpeed,unlockAgeSpeed:this.unlockAgeSpeed,unlockPlaytimeSpeed:this.unlockPlaytimeSpeed,offlineDivider:this.offlineDivider,lastTime:this.lastTime,tickDivider:this.tickDivider,pause:this.pause,bankedTicks:this.bankedTicks,totalTicks:this.totalTicks,useBankedTicks:this.useBankedTicks,scientificNotation:this.scientificNotation}}setProperties(e){var i;this.unlockFastSpeed=e.unlockFastSpeed,this.unlockFasterSpeed=e.unlockFasterSpeed,this.unlockFastestSpeed=e.unlockFastestSpeed,this.topDivider=10,this.unlockFastestSpeed?this.topDivider=1:this.unlockFasterSpeed?this.topDivider=2:this.unlockFastSpeed&&(this.topDivider=5),this.unlockAgeSpeed=e.unlockAgeSpeed,this.unlockPlaytimeSpeed=e.unlockPlaytimeSpeed,this.tickDivider=e.tickDivider,this.offlineDivider=e.offlineDivider||10,this.pause=e.pause,this.lastTime=e.lastTime;const r=(new Date).getTime();this.bankedTicks=r-this.lastTime>6048e5?e.bankedTicks+(18144e5+r-this.lastTime)/(25*this.offlineDivider*4):e.bankedTicks+(r-this.lastTime)/(25*this.offlineDivider),this.lastTime=r,this.totalTicks=e.totalTicks||0,this.useBankedTicks=null===(i=e.useBankedTicks)||void 0===i||i,this.scientificNotation=e.scientificNotation||!1}start(){this.characterService||(this.characterService=this.injector.get(Ie)),window.setInterval(()=>{this.longTickSubject.next(!0)},500),window.setInterval(()=>{this.frameSubject.next(!0)},25),window.setInterval(()=>{const e=(new Date).getTime(),i=e-this.lastTime;this.lastTime=e;let r=i/25;if(this.pause)this.bankedTicks+=r/this.offlineDivider;else{const o=this.getTPS(this.tickDivider)/1e3*25,a=this.getTPS(this.topDivider)/1e3*25;let s=0;if(this.bankedTicks>0&&this.useBankedTicks&&this.tickDivider<40){let c=10*r*(o/a);c>this.bankedTicks&&(c=this.bankedTicks,s=c/(o/a*10),r-=s),this.bankedTicks-=c,r*=11}r*=o,this.tickCount+=r;let l=(new Date).getTime();for(;!this.pause&&this.tickCount>=1&&l<25+e;)this.tick(),this.tickCount--,l=(new Date).getTime();this.tickCount>=1&&(this.useBankedTicks&&(this.bankedTicks+=this.tickCount/(11*o)*(o/a*10)),this.tickCount=0),this.tickCount+=s}},25)}getTPS(e){let i=40;return this.characterService&&this.unlockAgeSpeed&&this.tickDivider<40&&(i*=Math.min(8,Math.sqrt(1+this.characterService.characterState.age/73e3))),this.unlockPlaytimeSpeed&&this.tickDivider<40&&(i*=Math.pow(1+this.totalTicks/73e4,.3)),i/=e,e>1&&i>40&&(i=e>=10?40:40+(i-40)/e),i}tick(){this.totalTicks++,this.tickSubject.next(!0)}}return n.\u0275fac=function(e){return new(e||n)(S(_e))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fn=(()=>{class n{constructor(e){this.logTopics=["STORY","EVENT"],this.newStory="",this.newEvents="",this.newCombat="",this.newCrafting="",this.newFollower="",this.storyLog=[],this.eventLog=[],this.combatLog=[],this.craftingLog=[],this.followerLog=[],this.currentLog=[],e.frameSubject.subscribe(()=>{this.updateLogTopics()}),this.addLogMessage("Once in a very long while, a soul emerges from the chaos that is destined for immortality. You are such a soul.","STANDARD","STORY"),this.addLogMessage("Your journey to immortality begins as a humble youth leaves home to experience the world. Choose the activities that will help you cultivate the attributes of an immortal.","STANDARD","STORY"),this.addLogMessage("It may take you many reincarnations before you achieve your goals, but with each new life you will rise with greater aptitudes that allow you to learn and grow faster.","STANDARD","STORY"),this.addLogMessage("Be careful, the world can be a dangerous place.","STANDARD","STORY")}addLogMessage(e,i,r){let o=this.eventLog;"COMBAT"===r?o=this.combatLog:"STORY"===r?o=this.storyLog:"CRAFTING"===r?o=this.craftingLog:"FOLLOWER"===r&&(o=this.followerLog);const a={message:e,type:i,topic:r,timestamp:Date.now()};if(0===o.length||a.timestamp-o[0].timestamp>1e3||!o[0].message.includes(a.message))o.push(a);else{const s=/\((\d+)\)$/.exec(o[0].message);let l=2;s&&(l=parseInt(s[1])+1),o[0].message=`${a.message} (${l})`}this.logTopics.includes(r)||("STORY"===r?this.newStory=" (new)":"EVENT"===r?this.newEvents=" (new)":"CRAFTING"===r?this.newCrafting=" (new)":"COMBAT"===r?this.newCombat=" (new)":"FOLLOWER"===r&&(this.newFollower=" (new)"))}getProperties(){return{logTopics:this.logTopics,storyLog:this.storyLog}}setProperties(e){this.storyLog=e.storyLog||[],this.logTopics=e.logTopics||["STORY","EVENT"],this.updateLogTopics()}enableLogTopic(e,i){if(!i&&this.logTopics.includes(e)){for(let r=0;r<this.logTopics.length;r++)this.logTopics[r]===e&&this.logTopics.splice(r,1);this.updateLogTopics()}else i&&!this.logTopics.includes(e)&&(this.logTopics.push(e),this.updateLogTopics())}updateLogTopics(){const e=[];this.eventLog=this.eventLog.slice(-300),this.combatLog=this.combatLog.slice(-300),this.craftingLog=this.craftingLog.slice(-300),this.followerLog=this.followerLog.slice(-300),this.logTopics.includes("STORY")&&(this.newStory="",e.push(...this.storyLog)),this.logTopics.includes("EVENT")&&(this.newEvents="",e.push(...this.eventLog)),this.logTopics.includes("COMBAT")&&(this.newCombat="",e.push(...this.combatLog)),this.logTopics.includes("CRAFTING")&&(this.newCrafting="",e.push(...this.craftingLog)),this.logTopics.includes("FOLLOWER")&&(this.newFollower="",e.push(...this.followerLog)),0!==e.length&&(e.sort((i,r)=>r.timestamp-i.timestamp),this.currentLog=e.slice(0,299))}}return n.\u0275fac=function(e){return new(e||n)(S(Ct))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var H=(()=>{return(n=H||(H={}))[n.TongueRipping=0]="TongueRipping",n[n.Scissors=1]="Scissors",n[n.TreesOfKnives=2]="TreesOfKnives",n[n.Mirrors=3]="Mirrors",n[n.Steamers=4]="Steamers",n[n.CopperPillars=5]="CopperPillars",n[n.MountainOfKnives=6]="MountainOfKnives",n[n.MountainOfIce=7]="MountainOfIce",n[n.CauldronsOfOil=8]="CauldronsOfOil",n[n.CattlePit=9]="CattlePit",n[n.CrushingBoulder=10]="CrushingBoulder",n[n.MortarsAndPestles=11]="MortarsAndPestles",n[n.BloodPool=12]="BloodPool",n[n.WrongfulDead=13]="WrongfulDead",n[n.Dismemberment=14]="Dismemberment",n[n.MountainOfFire=15]="MountainOfFire",n[n.Mills=16]="Mills",n[n.Saws=17]="Saws",H;var n})();let $e=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f){this.injector=e,this.logService=i,this.characterService=r,this.activityService=s,this.followerService=l,this.battleService=c,this.inventoryService=u,this.itemRepoService=f,this.inHell=!1,this.currentHell=-1,this.completedHellTasks=[],this.completedHellBosses=[],this.beaten=!1,this.mountainSteps=0,this.animalsHealed=0,this.boulderHeight=0,this.daysFasted=0,this.swimDepth=0,this.exitFound=!1,this.soulsEscaped=0,this.burnMoney={level:0,name:["Burn Money"],activityType:F.BurnMoney,description:["Burn mortal realm money to receive hell money."],consequenceDescription:["Uses a huge pile of mortal money (one million). Gives you 1 hell money."],consequence:[()=>{this.characterService.characterState.money<1e6||(this.characterService.characterState.money-=1e6,this.characterService.characterState.hellMoney++)}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.hellRecruiting={level:0,name:["Recruiting the Damned"],activityType:F.HellRecruiting,description:["Look for followers willing to help you."],consequenceDescription:["Uses 100 Stamina and 1000 hell money. Gives you a small chance of finding a follower."],consequence:[()=>{if(this.characterService.characterState.hellMoney<1e3)return this.logService.addLogMessage("You don't have enough hell money. The damned souls around you team up with the demons to give you a beating.","INJURY","EVENT"),this.characterService.characterState.status.health.value-=.2*this.characterService.characterState.status.health.max,void(this.characterService.characterState.status.health.value<=0&&(this.beaten=!0));this.characterService.characterState.status.stamina.value-=100,this.characterService.characterState.hellMoney-=1e3,Math.random()<.01&&(this.followerService.generateFollower(!1,"damned"),this.logService.addLogMessage("Your recruiting efforts seem to infuriate the demons here.","STANDARD","EVENT"))}],resourceUse:[{stamina:100}],requirements:[{charisma:1e6}],unlocked:!1,skipApprenticeshipLevel:0},this.rehabilitation={level:0,name:["Rehabilitate Troublemakers"],activityType:F.Rehabilitation,description:["You recognize a bunch of the troublemakers here as people who used to beat and rob you in your past lives. Perhaps you can give them some some friendly rehabilitation. With your fists."],consequenceDescription:["Uses 100 Stamina and 10 hell money as bait. Breaks a troublemaker out of their basket and picks a fight with them."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=100,this.battleService.addEnemy({name:"Troublemaker",health:100,maxHealth:100,accuracy:.5,attack:10,defense:10,defeatEffect:"respawnDouble",loot:[]})}],resourceUse:[{stamina:100}],requirements:[{}],unlocked:!1,skipApprenticeshipLevel:0},this.honorAncestors={level:0,name:["Honor Ancestors"],activityType:F.HonorAncestors,description:["You look around and realize that you have many family members and ancestors here. You should probably give them some credit for what they have done for you. And some money."],consequenceDescription:["Uses 1 hell money."],consequence:[()=>{this.characterService.characterState.hellMoney<1||(this.characterService.characterState.hellMoney--,this.inventoryService.addItem(this.itemRepoService.items.tokenOfGratitude))}],resourceUse:[{stamina:10}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.copperMining={level:0,name:["Copper Mining"],activityType:F.CopperMining,description:["The copper pillars here look like they're made of a decent grade of copper. It looks like you have enough slack in your chains to turn and break off some pieces."],consequenceDescription:["Uses 100,000 stamina and produces one copper bar."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.addItem(this.itemRepoService.items.copperBar)}],resourceUse:[{stamina:1e5}],requirements:[{strength:1e24}],unlocked:!0,skipApprenticeshipLevel:0},this.forgeHammer={level:0,name:["Forge Hammer"],activityType:F.ForgeHammer,description:["Shape a bar of copper into a hammer using your bare hands. This would be so much easier with an anvil and tools."],consequenceDescription:["Uses 100,000 stamina and produces the worst hammer in the world."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5,this.inventoryService.consume("metal",1)>0&&this.inventoryService.addItem({id:"weapon",name:"Copper Hammer",type:"equipment",slot:"rightHand",value:1,weaponStats:{baseDamage:1,material:"metal",durability:1,baseName:"hammer"},description:"A crude copper hammer."})}],resourceUse:[{stamina:1e5}],requirements:[{strength:1e24}],unlocked:!0,skipApprenticeshipLevel:0},this.climbMountain={level:0,name:["Climb the Mountain"],activityType:F.ClimbMountain,description:["Take another step up the mountain. The path before you seems exceptionally jagged. Maybe you shouldn't have killed so very many little spiders."],consequenceDescription:["Uses 1000 stamina and produces the worst hammer in the world."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e3,this.mountainSteps++}],resourceUse:[{stamina:1e3}],requirements:[{strength:1e24,toughness:1e24}],unlocked:!0,skipApprenticeshipLevel:0},this.attackClimbers={level:0,name:["Attack Climbers"],activityType:F.AttackClimbers,description:["The murderers on this mountain look pretty distracted. It wouldn't be hard to knock them down to the bottom."],consequenceDescription:["Knock a climber off the mountain."],consequence:[()=>{this.mountainSteps=0}],resourceUse:[{}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.meltMountain={level:0,name:["Melt the Mountain"],activityType:F.MeltMountain,description:["The mountain is far to slippery climb. The only way you're getting to the top is to bring the top down to you."],consequenceDescription:["Focus your connection to fire and melt that sucker down."],consequence:[()=>{let m=Math.log10(this.characterService.characterState.attributes.fireLore.value);for(let v=0;v<m;v++)this.battleService.addEnemy({name:"Ice Golem",health:1e15,maxHealth:1e15,accuracy:.7,attack:1e6,defense:1e6,loot:[this.itemRepoService.items.iceCore]})}],resourceUse:[{}],requirements:[{fireLore:1e3}],unlocked:!0,skipApprenticeshipLevel:0},this.healAnimals={level:0,name:["Heal Animals"],activityType:F.HealAnimals,description:["You notice that not all the animals here are frenzied killers. Some of them are sick, wounded, and miserable. You resolve to do what good you can here."],consequenceDescription:["Uses 10,000 mana and 10,000 stamina. Heals an animal."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e4,this.characterService.characterState.status.mana.value-=1e4,this.animalsHealed++}],resourceUse:[{stamina:1e4,mana:1e4}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.liftBoulder={level:0,name:["Lift the Boulder Higher"],activityType:F.LiftBoulder,description:["The boulder is heavy, but you are strong. See how high you can lift it."],consequenceDescription:["Uses 100,000 stamina. Heals an animal."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=1e5,this.boulderHeight++}],resourceUse:[{stamina:1e4,mana:1e4}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.swim={level:0,name:["Swim Deeper into the Blood"],activityType:F.Swim,description:["Swim down further into the crimson depths."],consequenceDescription:["Uses 2000 Stamina. Reduce health by 1000."],consequence:[()=>{this.characterService.characterState.status.stamina.value-=2e3,this.characterService.characterState.status.health.value-=1e3,this.swimDepth++}],resourceUse:[{stamina:2e3}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.searchForExit={level:0,name:["Search for the Exit"],activityType:F.SearchForExit,description:["The lost souls here are searching for a way out, and they can't seem to see the portal you came in on. You could help them search for the exit they're seeking."],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.attributes.intelligence.value<=1e24)return;let m=1e-6*Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24);Math.random()<m&&(this.exitFound=!0,this.hells[H.WrongfulDead].activities.includes(this.teachTheWay)||(this.hells[H.WrongfulDead].activities.push(this.teachTheWay),this.activityService.reloadActivities())),this.characterService.characterState.status.stamina.value-=2e5}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.teachTheWay={level:0,name:["Teach the Way to the Exit"],activityType:F.TeachTheWay,description:["Teach the other damned souls here the way out."],consequenceDescription:["Uses 200,000 Stamina."],consequence:[()=>{if(this.characterService.characterState.attributes.charisma.value<=1e24)return;let m=Math.floor(Math.log10(this.characterService.characterState.attributes.intelligence.value-1e24));this.soulsEscaped+=m}],resourceUse:[{stamina:2e5}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0},this.hells=[{name:"Hell of Tongue-ripping",description:"Torment for gossips and everyone one who made trouble with their words. The demons here reach for your tongue to rip it out.",index:H.TongueRipping,entryEffect:()=>{this.followerService.stashFollowers()},dailyEffect:()=>{this.characterService.characterState.attributes.charisma.value*=.9},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.logService.addLogMessage("Together with your new followers, you have seized control of the Hell of Tongue-ripping. Now all that remains is to defeat its lord.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.hellRecruiting,this.activityService.TrainingFollowers],projectionActivities:[this.burnMoney],hint:"It's hard to talk with all these demons going for your mouth, but maybe if you can get some help from the other prisoners here you could take control of this place.",successCheck:()=>{let m=0;for(const v of this.followerService.followers)m+=v.power;return m>5e3}},{name:"Hell of Scissors",description:"Torment for those who ruin marriages. The demons here will cut your fingers right off.",index:H.Scissors,entryEffect:()=>{this.characterService.stashWeapons()},exitEffect:()=>{this.characterService.restoreWeapons()},completeEffect:()=>{this.logService.addLogMessage("Using nothing but the strength of your body and mind, you have seized control of the Hell of Scissors. Now all that remains is to defeat its lord.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[this.burnMoney],hint:"These demons don't seem content to just take your fingers. You'd better get ready to defend yourself.",successCheck:()=>this.inventoryService.getQuantityByName("fingers")>=100},{name:"Hell of Trees of Knives",description:"Torment for those who cause trouble between family members. The demons here will tie you to a tree made of sharp knives",index:H.TreesOfKnives,entryEffect:()=>{this.characterService.stashMoney()},dailyEffect:()=>{this.characterService.characterState.status.health.value-=.1*this.characterService.characterState.status.health.value},exitEffect:()=>{this.characterService.restoreMoney()},completeEffect:()=>{this.logService.addLogMessage("You have reconciled yourself with all of your family members and satisfied the demands of this hell. Now all that remains is to defeat its lord (while still tied to this tree).","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.honorAncestors],projectionActivities:[this.burnMoney,this.activityService.OddJobs],hint:"Heal your family bonds.",successCheck:()=>this.inventoryService.getQuantityByName("token of gratitude")>=1e4},{name:"Hell of Mirrors",description:"Torment for those who escaped punishment for their crimes. The mirrors here shine with a terrifying glow.",index:H.Mirrors,entryEffect:()=>{this.followerService.stashFollowers()},exitEffect:()=>{this.followerService.restoreFollowers()},completeEffect:()=>{this.inventoryService.consume("mirrorShard",1e3),this.logService.addLogMessage("You piece together the shards of mirror that you have collected to form a new mirror. A dark shape looms beyond it.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.CombatTraining,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.activityService.Taunting],projectionActivities:[],hint:"Master yourself. All by yourself.",successCheck:()=>this.inventoryService.getQuantityByName("mirror shard")>=1e3},{name:"Hell of Steamers",description:"Torment for hypocrites and troublemakers. The steam baskets here are just the right size for you.",index:H.Steamers,entryEffect:()=>{this.characterService.stashWeapons(),this.characterService.stashArmor()},exitEffect:()=>{this.characterService.restoreWeapons(),this.characterService.restoreArmor()},dailyEffect:()=>{this.inventoryService.consume("iceCore")<0&&(this.characterService.characterState.status.health.value-=.05*this.characterService.characterState.status.health.value),Math.random()<.2&&(this.logService.addLogMessage("As if the constant scalding steam isn't enough, one of these troublemakers stole some money! Why does this feel so familiar?","STANDARD","EVENT"),this.characterService.characterState.hellMoney-=.1*this.characterService.characterState.hellMoney)},completeEffect:()=>{this.battleService.clearEnemies(),this.logService.addLogMessage("You defeat so many troublemakers that the rest all beg to return to their baskets for their regular torment.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.rehabilitation],projectionActivities:[this.burnMoney],hint:"There so many troublemakers here that deserve some payback from you. I wonder if you can take them all on.",successCheck:()=>{let m=0;for(const v of this.battleService.enemies)m+=v.quantity;return m>100}},{name:"Hell of Copper Pillars",description:"Torment for arsonists. The red-hot copper pillars you will be bound to remind you of all those times you played with fire.",index:H.CopperPillars,entryEffect:()=>{this.characterService.stashWeapons()},exitEffect:()=>{this.characterService.restoreWeapons()},dailyEffect:()=>{this.inventoryService.consume("iceCore")<0&&(this.characterService.characterState.status.health.value-=Math.max(.1*this.characterService.characterState.status.health.value,20))},completeEffect:()=>{this.logService.addLogMessage("You finally forge a hammer powerful enough to break through the chains that bind you to the pillar. The Lord of this Hell comes to investigate all the commotion as the chains fall to the ground.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.copperMining,this.forgeHammer],projectionActivities:[],hint:"You'll need a really strong hammer to break through these hellsteel chain. Too bad the only material around is copper.",successCheck:()=>{var m,v;return((null===(v=null===(m=this.characterService.characterState.equipment.rightHand)||void 0===m?void 0:m.weaponStats)||void 0===v?void 0:v.baseDamage)||0)>100}},{name:"Hell of the Mountain of Knives",description:"Torment for those who killed for pleasure. The mountain of sharp blades looks like it might be rough on footwear.",index:H.MountainOfKnives,dailyEffect:()=>{let m=this.battleService.totalKills/10-10*this.mountainSteps;m<0&&(m=0),this.characterService.characterState.status.health.value-=m,m>0&&this.logService.addLogMessage("The mountain's blades shred you for "+m+" damage.","INJURY","COMBAT")},completeEffect:()=>{this.logService.addLogMessage("You finally reach the peak. The karmic weight of all the killing you've ever done drops from your shoulders. Now to defeat this hell's lord without taking any pleasure in the act.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.climbMountain],projectionActivities:[],hint:"It seems you've accrued a lot of karma from all the killing you've done over your many lives. The bill is due.",successCheck:()=>this.mountainSteps>=this.battleService.totalKills/10},{name:"Hell of the Mountain of Ice",description:"Torment for adulterers and schemers. The chill wind blowing through the gate is so cold it burns.",index:H.MountainOfIce,completeEffect:()=>{this.logService.addLogMessage("You realize that the power of the ice cores is all that prevents the heat from the neighboring hells from turning the mountain into slush. With enough of these tucked away in your pack, the mountain dwindles down to a managable size. Now to see who's in charge around here.","STANDARD","STORY")},dailyEffect:()=>{this.characterService.characterState.status.health.value-=1e3,this.logService.addLogMessage("The mountain's ice freezes you for 1000 damage.","INJURY","COMBAT"),this.characterService.characterState.attributes.fireLore.value*=.9},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.meltMountain],projectionActivities:[],hint:"Burn it down!",successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e4},{name:"Hell of the Cauldrons of Oil",description:"Torment for rapists and abusers. Next on the menu: deep fried immortal.",index:H.CauldronsOfOil,dailyEffect:()=>{if(!this.completedHellTasks.includes(H.CauldronsOfOil)){if(this.inventoryService.consume("iceCore")<0)return this.logService.addLogMessage("The ice cores you brought in with you make the oil sputter and pop, baking you in a cloud of superheated steam.","INJURY","EVENT"),void(this.characterService.characterState.status.health.value-=1e5);this.characterService.characterState.status.health.value-=Math.max(.1*this.characterService.characterState.status.health.value,20)}if(Math.random()<.1){this.logService.addLogMessage("Your weapons slip from your oily hands.","INJURY","COMBAT"),this.inventoryService.autoequipBestEnabled=!1;let m=this.characterService.characterState.equipment.rightHand;m&&(this.inventoryService.addItem(m),this.characterService.characterState.equipment.rightHand=null),m=this.characterService.characterState.equipment.leftHand,m&&(this.inventoryService.addItem(m),this.characterService.characterState.equipment.leftHand=null)}},completeEffect:()=>{this.logService.addLogMessage("The pile of ice cores you brought in with you make the oil sputter and pop, but you are tough enough to withstand the superheated steam. Out of the cauldron now, you look around for the boss.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[],hint:"You'd need to be incredibly resilient to survive this place.",successCheck:()=>this.inventoryService.getQuantityByName("ice core")>=1e3&&this.characterService.characterState.status.health.value>1e5},{name:"Hell of the Cattle Pit",description:"Torment for animal abusers. The cows are looking a little restless.",index:H.CattlePit,completeEffect:()=>{this.logService.addLogMessage("The horde of rampaging cattle finally seems to understand that you're not there to hurt them. They back off and leave you alone. All except for that really big cow over there.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.healAnimals],projectionActivities:[],hint:"Look at those poor sick cows. And those other cows that for some reason are standing up on two legs and charging you with weapons.",successCheck:()=>this.animalsHealed>1e6},{name:"Hell of the Crushing Boulder",description:"Torment for child-killer and abondoners where the damned have to lift giant boulders or be crushed under them. Atlas had it easy compared to these people.",index:H.CrushingBoulder,dailyEffect:()=>{this.boulderHeight>100||(this.characterService.characterState.status.health.value-=500,this.logService.addLogMessage("The boulder crushes you for 500 damage.","INJURY","COMBAT"),Math.random()<.1&&this.battleService.addEnemy({name:"An Annoying Imp",health:10,maxHealth:10,accuracy:1,attack:100,defense:100,loot:[]}))},entryEffect:()=>{this.boulderHeight=0},completeEffect:()=>{this.logService.addLogMessage("You hoist the boulder high over your head, then throw it high into the air. It lands with a satisfying thud. Unfortunately, it grows arms and legs and walks back to you, and this time it looks angry.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.liftBoulder],projectionActivities:[],hint:"It's leg day. No, it's arm day. Must be both! Lift!",successCheck:()=>this.boulderHeight>100},{name:"Hell of Mortars and Pestles",description:"Torment for food wasters. You didn't really need to eat all those peaches, did you? The diet here is pure hellfire.",index:H.MortarsAndPestles,dailyEffect:()=>{this.daysFasted++},completeEffect:()=>{this.logService.addLogMessage("Your righteous asceticism have served you well. The lord of this hell has arrived to deal with you personally.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation],projectionActivities:[],hint:"You begin to feel remorse for your gluttony across your many lives. Perhaps a nice, long fast would help you feel better. Hopefully you can keep the demons from spoonfeeding you their fiery concoction.",successCheck:()=>this.daysFasted>1e3},{name:"Hell of the Blood Pool",description:"Torment for those who disrespect others. The pool looks deep, but it's hard to tell with all that blood.",index:H.BloodPool,entryEffect:()=>{this.swimDepth=0},completeEffect:()=>{this.logService.addLogMessage("You finally reach the bottom of the pool where you find a massive plug. When you pull it, the pool begins to drain, revealing the source of all this blood.","STANDARD","STORY")},activities:[this.swim],projectionActivities:[],hint:"Not this again!",successCheck:()=>this.swimDepth>1e3},{name:"Hell of the Wrongful Dead",description:"Torment for those who gave up their lives too early. Fortunately you've probably never done that. The pounding Rains of Pain and the blowing Winds of Sorrow give unrelenting misery to everyone here.",index:H.WrongfulDead,entryEffect:()=>{this.exitFound&&(this.hells[H.WrongfulDead].activities.includes(this.teachTheWay)||this.hells[H.WrongfulDead].activities.push(this.teachTheWay))},dailyEffect:()=>{this.characterService.characterState.status.health.value-=500,this.characterService.characterState.status.stamina.value-=100},completeEffect:()=>{this.logService.addLogMessage("You sigh in relief as you usher the last of the damned out. The hell is finally empty. Well, empty except for the monstrous Hell Lord coming toward you.","STANDARD","STORY")},activities:[this.activityService.Resting,this.activityService.MindCultivation,this.activityService.BodyCultivation,this.activityService.CoreCultivation,this.activityService.SoulCultivation,this.searchForExit],projectionActivities:[],hint:"These people don't belong here. Get them out.",successCheck:()=>this.soulsEscaped>1e6},{name:"Hell of Dismemberment",description:"Torment for tomb-raiders and grave-robbers. The demons here look awfully handy with those giant axes.",index:H.Dismemberment,entryEffect:()=>{},completeEffect:()=>{this.logService.addLogMessage("You win!.","STANDARD","STORY")},activities:[],projectionActivities:[],hint:"",successCheck:()=>!1},{name:"Hell of the Mountain of Fire",description:"Torment for thieves. The volcano where the poor souls are thrown looks a little toasty for comfort.",index:H.MountainOfFire,entryEffect:()=>{},completeEffect:()=>{this.logService.addLogMessage("You win!.","STANDARD","STORY")},activities:[],projectionActivities:[],hint:"",successCheck:()=>!1},{name:"Hell of Mills",description:"Torment for any who abused their power to oppress the weak. You don't look forward to being ground into immortal flour.",index:H.Mills,entryEffect:()=>{},completeEffect:()=>{this.logService.addLogMessage("You win!.","STANDARD","STORY")},activities:[],projectionActivities:[],hint:"",successCheck:()=>!1},{name:"Hell of Saws",description:"Torment for swindlers and business cheats. The demons sharpen their saws and grin at you. You wish now that you'd stayed out of politics.",index:0,entryEffect:()=>{},completeEffect:()=>{this.logService.addLogMessage("You win!.","STANDARD","STORY")},activities:[],projectionActivities:[],hint:"",successCheck:()=>!1}],o.tickSubject.subscribe(()=>{if(this.currentHell<0)return;const m=this.hells[this.currentHell];m.dailyEffect&&m.dailyEffect(),this.beaten&&(this.beaten=!1,this.logService.addLogMessage("You fall to your knees, unable to bear more damage. You crawl back through this hell's gate to get a moment of respite at the gates of Lord Yama's realm.","INJURY","EVENT"),m.exitEffect&&m.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()),!this.completedHellTasks.includes(this.currentHell)&&m.successCheck()&&(m.completeEffect(),this.completedHellTasks.push(this.currentHell))}),a.reincarnateSubject.subscribe(()=>{this.reset()})}reset(){if(this.inHell){if(this.currentHell>0){const e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect()}this.inHell=!1,this.currentHell=-1,this.activityService.reloadActivities()}}trouble(){if(this.currentHell===H.TongueRipping){let e=0;for(const i of this.followerService.followers)e+=i.power;this.battleService.addEnemy({name:"Tongue Ripper",health:1e20+1e19*e,maxHealth:1e20+1e19*e,accuracy:.5,attack:1e6+1e4*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corrupted")]})}else if(this.currentHell===H.Scissors){const e=this.inventoryService.getQuantityByName("fingers");this.battleService.addEnemy({name:"Scissors Demon",health:1e15+1e14*e,maxHealth:1e15+1e14*e,accuracy:.5,attack:1e6+1e4*e,defense:1e8+1e7*e,loot:[this.inventoryService.generateSpiritGem(Math.floor(Math.log2(e+2)),"corrupted"),this.itemRepoService.items.fingers]})}else if(this.currentHell===H.TreesOfKnives)this.battleService.addEnemy({name:"Hungry Crow",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,loot:[]});else if(this.currentHell===H.Mirrors)this.battleService.addEnemy({name:"Your Reflection",health:this.characterService.characterState.status.health.value,maxHealth:this.characterService.characterState.status.health.value,accuracy:this.characterService.characterState.accuracy,attack:this.characterService.characterState.attackPower,defense:this.characterService.characterState.defense,loot:[this.itemRepoService.items.mirrorShard]});else if(this.currentHell===H.CauldronsOfOil)this.battleService.addEnemy({name:"Oiled Demon",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,loot:[]});else if(this.currentHell===H.CattlePit){if(this.animalsHealed<=1e6)for(let e=0;e<10;e++)this.battleService.addEnemy({name:"Demonic Cow",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,loot:[]})}else this.currentHell===H.MortarsAndPestles&&this.battleService.addEnemy({name:"Force Feeder",health:1e6,maxHealth:1e6,accuracy:1,attack:1e6,defense:1e6,attackEffect:"feeder",hitTracker:0,loot:[]})}fightHellBoss(){this.battleService.addEnemy(this.currentHell===H.TongueRipping?{name:"Gorbolash the Gossip Gasher",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownTongueRippers]}:this.currentHell===H.Scissors?{name:"Malgorath the Marriage Masher",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownScissors]}:this.currentHell===H.TreesOfKnives?{name:"Flamgolus the Family Flayer",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownTreesOfKnives]}:this.currentHell===H.Mirrors?{name:"Myorshuggath the Mirror Master",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownMirrors]}:this.currentHell===H.Steamers?{name:"Stactolus the Steamer",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownSteamers]}:this.currentHell===H.CopperPillars?{name:"Ignificor the Forever Burning",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownPillars]}:this.currentHell===H.MountainOfKnives?{name:"Malignus the Murderer Muncher",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownMountainOfKnives]}:this.currentHell===H.MountainOfIce?{name:"The Cheat",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownMountainOfIce]}:this.currentHell===H.CauldronsOfOil?{name:"Nestor the Molestor",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownCauldronsOfOil]}:this.currentHell===H.CattlePit?{name:"The Cow Emperor",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownCattlePit]}:this.currentHell===H.CrushingBoulder?{name:"The Crusher",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownCrushingBoulder]}:this.currentHell===H.MortarsAndPestles?{name:"Glorbulskath the Gluttonous",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownMortarsAndPestles]}:this.currentHell===H.BloodPool?{name:"Gnarlyathor the Ever-Bleeding",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownBloodPool]}:this.currentHell===H.WrongfulDead?{name:"Azoth-Raketh the Storm Master",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[this.itemRepoService.items.hellCrownWrongfulDead]}:{name:"Boss Of A Generic Level",health:1,maxHealth:1,accuracy:.8,attack:1,defense:1,loot:[]})}getProperties(){return{inHell:this.inHell,currentHell:this.currentHell,completedHellTasks:this.completedHellTasks,completedHellBosses:this.completedHellBosses,mountainSteps:this.mountainSteps,animalsHealed:this.animalsHealed,boulderHeight:this.boulderHeight,daysFasted:this.daysFasted,swimDepth:this.swimDepth,exitFound:this.exitFound,soulsEscaped:this.soulsEscaped}}setProperties(e){var i;this.inHell=e.inHell||!1,this.currentHell=null!==(i=e.currentHell)&&void 0!==i?i:-1,this.completedHellTasks=e.completedHellTasks||[],this.completedHellBosses=e.completedHellBosses||[],this.mountainSteps=e.mountainSteps||0,this.animalsHealed=e.animalsHealed||0,this.boulderHeight=e.boulderHeight||0,this.daysFasted=e.daysFasted||0,this.swimDepth=e.swimDepth||0,this.exitFound=e.exitFound||!1,this.soulsEscaped=e.soulsEscaped||0,this.activityService.reloadActivities()}getActivityList(){const e=[];if(-1===this.currentHell)this.activityService.activityHeader="Choose your Hell",this.activityService.activityHeaderDescription="The heavens have cast you down to the depths of hell. You'll need to defeat every level to escape.",this.setEnterHellsArray(e);else{this.activityService.activityHeader=this.hells[this.currentHell].name,this.activityService.activityHeaderDescription=this.hells[this.currentHell].description;const i=this.hells[this.currentHell];for(const r of i.activities)r&&(r.projectionOnly=!1,e.push(r));for(const r of i.projectionActivities)r&&(r.projectionOnly=!0,e.push(r));e.push(this.flee())}return e}flee(){return{level:0,name:["Escape from this hell"],activityType:F.EscapeHell,description:["Return to the gates of Lord Yama's realm."],consequenceDescription:[""],consequence:[()=>{this.characterService.characterState.hellMoney=0,this.battleService.enemies=[],this.battleService.currentEnemy=null;const e=this.hells[this.currentHell];e.exitEffect&&e.exitEffect(),this.currentHell=-1,this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0}}setEnterHellsArray(e){e.push(this.activityService.Resting),e.push(this.activityService.CombatTraining),e.push(this.activityService.CoreCultivation),e.push(this.activityService.SoulCultivation),e.push(this.activityService.InfuseBody);for(const i of this.hells){let r="";this.completedHellBosses.includes(i.index)?r="You have proven your mastery over this hell.":this.completedHellTasks.includes(i.index)&&(r="The Lord of this Hell is available to challenge."),e.push({level:0,name:["Enter the "+i.name],activityType:F.Hell+i.index,description:[i.description],consequenceDescription:[r],consequence:[()=>{this.characterService.characterState.hellMoney=0,this.currentHell=i.index;const o=this.hells[i.index];o.entryEffect&&o.entryEffect(),this.activityService.reloadActivities()}],requirements:[{}],unlocked:!0,skipApprenticeshipLevel:0})}}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(fn),S(Ie),S(Ct),S(zi),S(st),S(Ft),S(Xt),S(W),S(xn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W=(()=>{class n{constructor(e,i,r,o,a,s){this.injector=e,this.logService=i,this.characterService=r,this.itemRepoService=s,this.itemStacks=[],this.stashedItemStacks=[],this.maxItems=10,this.maxStackSize=100,this.selectedItem=null,this.autoequipBestEnabled=!0,this.fed=!1,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.motherGift=!1,this.grandmotherGift=!1,this.thrownAwayItems=0,this.mergeCounter=0,this.autoBuyFood=!0,this.automergeEquipped=!1,this.autoSort=!1,this.descendingSort=!1,this.divinePeachesUnlocked=!1,this.farmFoodList=[this.itemRepoService.items.rice,this.itemRepoService.items.cabbage,this.itemRepoService.items.beans,this.itemRepoService.items.broccoli,this.itemRepoService.items.calabash,this.itemRepoService.items.taro,this.itemRepoService.items.pear,this.itemRepoService.items.melon,this.itemRepoService.items.plum,this.itemRepoService.items.apricot,this.itemRepoService.items.peach],setTimeout(()=>this.hellService=this.injector.get($e)),this.bigNumberPipe=this.injector.get(zt),this.noFood=!1,this.autoSellUnlocked=!1,this.autoSellEntries=[],this.autoUseUnlocked=!1,this.autoUseEntries=[],this.autoBalanceUnlocked=!1,this.autoBalanceItems=[],this.autoPotionUnlocked=!1,this.autoPillUnlocked=!1,this.autoWeaponMergeUnlocked=!1,this.autoArmorMergeUnlocked=!1,this.autoequipBestWeapon=!1,this.autoequipBestArmor=!1,this.useSpiritGemUnlocked=!1,this.useSpiritGemWeapons=!1,this.useSpiritGemPotions=!1,this.useCheapestSpiritGem=!1,this.autoSellOldHerbs=!1,this.autoSellOldWood=!1,this.autoSellOldOre=!1,this.autoSellOldHides=!1,this.autoSellOldHerbsEnabled=!1,this.autoSellOldWoodEnabled=!1,this.autoSellOldOreEnabled=!1,this.autoSellOldBarsEnabled=!1,this.autoSellOldHidesEnabled=!1,this.autoSellOldGemsUnlocked=!1,this.autoSellOldGemsEnabled=!1;for(let l=0;l<this.maxItems;l++)this.itemStacks.push(null);o.tickSubject.subscribe(()=>{this.characterService.characterState.dead||(this.eatFood(),this.mergeCounter>=20?(this.autoWeaponMergeUnlocked&&this.autoWeaponMerge(),this.autoArmorMergeUnlocked&&this.autoArmorMerge(),this.mergeCounter=0):this.mergeCounter++)}),o.longTickSubject.subscribe(()=>{if(!this.characterService.characterState.dead){this.autoequipBestWeapon&&this.autoWeaponMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipWeapons(),this.autoequipBestArmor&&this.autoArmorMergeUnlocked&&this.autoequipBestEnabled&&this.autoequipArmor();for(const l of["head","body","legs","feet"]){const c=this.characterService.characterState.equipment[l];c&&this.updateArmorDescription(c)}for(const l of["leftHand","rightHand"]){const c=this.characterService.characterState.equipment[l];c&&this.updateWeaponDescription(c)}this.autoSort&&this.sortInventory()}}),a.reincarnateSubject.subscribe(()=>{this.reset()})}getProperties(){return{itemStacks:this.itemStacks,stashedItemStacks:this.stashedItemStacks,autoSellUnlocked:this.autoSellUnlocked,autoSellEntries:this.autoSellEntries,autoUseUnlocked:this.autoUseUnlocked,autoUseEntries:this.autoUseEntries,autoBalanceUnlocked:this.autoBalanceUnlocked,autoBalanceItems:this.autoBalanceItems,autoPotionUnlocked:this.autoPotionUnlocked,autoPillUnlocked:this.autoPillUnlocked,autoWeaponMergeUnlocked:this.autoWeaponMergeUnlocked,autoArmorMergeUnlocked:this.autoArmorMergeUnlocked,useSpiritGemUnlocked:this.useSpiritGemUnlocked,useSpiritGemWeapons:this.useSpiritGemWeapons,useSpiritGemPotions:this.useSpiritGemPotions,useCheapestSpiritGem:this.useCheapestSpiritGem,autoSellOldHerbs:this.autoSellOldHerbs,autoSellOldWood:this.autoSellOldWood,autoSellOldOre:this.autoSellOldOre,autoSellOldHides:this.autoSellOldHides,autoSellOldHerbsEnabled:this.autoSellOldHerbsEnabled,autoSellOldWoodEnabled:this.autoSellOldWoodEnabled,autoSellOldOreEnabled:this.autoSellOldOreEnabled,autoSellOldBarsEnabled:this.autoSellOldBarsEnabled,autoSellOldHidesEnabled:this.autoSellOldHidesEnabled,autoequipBestWeapon:this.autoequipBestWeapon,autoequipBestArmor:this.autoequipBestArmor,autoequipBestEnabled:this.autoequipBestEnabled,maxStackSize:this.maxStackSize,thrownAwayItems:this.thrownAwayItems,autoSellOldGemsUnlocked:this.autoSellOldGemsUnlocked,autoSellOldGemsEnabled:this.autoSellOldGemsEnabled,autoBuyFood:this.autoBuyFood,automergeEquipped:this.automergeEquipped,autoSort:this.autoSort,descendingSort:this.descendingSort,divinePeachesUnlocked:this.divinePeachesUnlocked}}setProperties(e){var i;this.itemStacks=e.itemStacks,this.stashedItemStacks=e.stashedItemStacks||[],this.autoSellUnlocked=e.autoSellUnlocked||!1,this.autoSellEntries=e.autoSellEntries||[],this.autoUseUnlocked=e.autoUseUnlocked||!1,this.autoUseEntries=e.autoUseEntries||[],this.autoBalanceUnlocked=e.autoBalanceUnlocked||!1,this.autoBalanceItems=e.autoBalanceItems,this.autoPotionUnlocked=e.autoPotionUnlocked||!1,this.autoPillUnlocked=e.autoPillUnlocked||!1,this.autoWeaponMergeUnlocked=e.autoWeaponMergeUnlocked||!1,this.autoArmorMergeUnlocked=e.autoArmorMergeUnlocked||!1,this.useSpiritGemUnlocked=e.useSpiritGemUnlocked||!1,this.useSpiritGemWeapons=e.useSpiritGemWeapons,this.useSpiritGemPotions=e.useSpiritGemPotions,this.useCheapestSpiritGem=e.useCheapestSpiritGem||!1,this.autoSellOldHerbs=e.autoSellOldHerbs||!1,this.autoSellOldWood=e.autoSellOldWood||!1,this.autoSellOldOre=e.autoSellOldOre||!1,this.autoSellOldHides=e.autoSellOldHides||!1,this.autoSellOldHerbsEnabled=e.autoSellOldHerbsEnabled||!1,this.autoSellOldWoodEnabled=e.autoSellOldWoodEnabled||!1,this.autoSellOldOreEnabled=e.autoSellOldOreEnabled||!1,this.autoSellOldBarsEnabled=e.autoSellOldBarsEnabled||!1,this.autoSellOldHidesEnabled=e.autoSellOldHidesEnabled||!1,this.autoequipBestWeapon=e.autoequipBestWeapon||!1,this.autoequipBestArmor=e.autoequipBestArmor||!1,this.autoequipBestEnabled=void 0===e.autoequipBestEnabled||e.autoequipBestEnabled,this.maxStackSize=e.maxStackSize||100,this.thrownAwayItems=e.thrownAwayItems||0,this.autoSellOldGemsUnlocked=e.autoSellOldGemsUnlocked||!1,this.autoSellOldGemsEnabled=e.autoSellOldGemsEnabled||!1,this.autoBuyFood=null===(i=e.autoBuyFood)||void 0===i||i,this.automergeEquipped=e.automergeEquipped||!1,this.autoSort=e.autoSort||!1,this.descendingSort=e.descendingSort||!1,this.divinePeachesUnlocked=e.divinePeachesUnlocked||!1,this.updateFarmFoodList()}updateFarmFoodList(){this.divinePeachesUnlocked&&this.farmFoodList.push(this.itemRepoService.items.divinePeach)}changeMaxItems(e){for(this.maxItems=e;this.itemStacks.length<e;)this.itemStacks.push(null)}sortInventory(){var e,i;const r=[],o=[],a=[];for(let l=0;l<this.itemStacks.length;l++){const c=this.itemStacks[l];c&&("spiritGem"===(null===(e=this.itemStacks[l])||void 0===e?void 0:e.item.type)?o.push(c):"equipment"===(null===(i=this.itemStacks[l])||void 0===i?void 0:i.item.type)?a.push(c):r.push(c))}this.descendingSort?(r.sort((l,c)=>l.quantity-c.quantity),r.sort((l,c)=>l.item.value-c.item.value),r.sort((l,c)=>l.item.type>c.item.type?-1:l.item.type===c.item.type?0:1),a.sort((l,c)=>l.item.name>c.item.name?-1:l.item.name===c.item.name?0:1),a.sort((l,c)=>l.item.value-c.item.value),o.sort((l,c)=>l.quantity-c.quantity),o.sort((l,c)=>l.item.value-c.item.value)):(r.sort((l,c)=>c.quantity-l.quantity),r.sort((l,c)=>c.item.value-l.item.value),r.sort((l,c)=>c.item.type>l.item.type?-1:c.item.type===l.item.type?0:1),a.sort((l,c)=>c.item.name>l.item.name?-1:c.item.name===l.item.name?0:1),a.sort((l,c)=>c.item.value-l.item.value),o.sort((l,c)=>c.quantity-l.quantity),o.sort((l,c)=>c.item.value-l.item.value));const s=this.itemStacks.length-r.length-o.length-a.length;this.itemStacks=r,this.itemStacks.push(...a),this.itemStacks.push(...o);for(let l=0;l<s;l++)this.itemStacks.push(null)}generateWeapon(e,i,r,o){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons&&r){const T=this.consume("spiritGem",1,this.useCheapestSpiritGem);T>0&&(e=Math.floor(Math.pow(e,1+T/400)))}const a=wi.length*oa.length*zc.length,s=Math.ceil(Math.sqrt(e/1e10)*a);let l=s%wi.length;s>=a&&(l=wi.length-1);let c=Math.floor(s/wi.length);const u=wi[l];let f="";if(c>0){let T=Math.floor(c/oa.length);T>0?(T>zc.length?(T=zc.length,c=oa.length-1):c%=oa.length,f=" of "+zc[T-1]+" "+oa[c]):f=" of "+oa[c-1]}let m=i,v="rightHand";"wood"===i&&(v="leftHand",m="wooden");const y=null!=o?o:Rw[Math.floor(Math.random()*Rw.length)],w=u+" "+m+" "+y+f;this.logService.addLogMessage("Your hard work paid off! You created a new weapon: "+w+"!","STANDARD","CRAFTING");const D=10*e+Math.floor(Math.random()*e*5);return{id:"weapon",name:w,type:"equipment",slot:v,value:e,weaponStats:{baseDamage:e,material:i,durability:D,baseName:y},description:"A unique weapon made of "+i+". Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: "+this.bigNumberPipe.transform(e)+"<br/>Durability: "+this.bigNumberPipe.transform(D)}}updateWeaponDescription(e){!e.weaponStats||(e.description="A unique weapon made of "+e.weaponStats.material+".<br/>Base Damage: "+this.bigNumberPipe.transform(e.weaponStats.baseDamage)+"<br/>Durability: "+this.bigNumberPipe.transform(e.weaponStats.durability))}updateArmorDescription(e){!e.armorStats||(e.description="A unique piece of armor made of "+e.armorStats.material+".<br/>Defense: "+this.bigNumberPipe.transform(e.armorStats.defense)+"<br/>Durability: "+this.bigNumberPipe.transform(e.armorStats.durability))}upgradeEquipment(e){const i=[];if(this.characterService.characterState.equipment.leftHand&&i.push(this.characterService.characterState.equipment.leftHand),this.characterService.characterState.equipment.rightHand&&i.push(this.characterService.characterState.equipment.rightHand),this.characterService.characterState.equipment.head&&i.push(this.characterService.characterState.equipment.head),this.characterService.characterState.equipment.body&&i.push(this.characterService.characterState.equipment.body),this.characterService.characterState.equipment.legs&&i.push(this.characterService.characterState.equipment.legs),this.characterService.characterState.equipment.feet&&i.push(this.characterService.characterState.equipment.feet),i.length>0){const r=i[Math.floor(Math.random()*i.length)];r.armorStats?(r.armorStats.durability+=e,r.armorStats.defense+=e):r.weaponStats&&(r.weaponStats.durability+=e,r.weaponStats.baseDamage+=e),r.value+=e,this.logService.addLogMessage("You add "+e+" power to your "+r.name,"STANDARD","CRAFTING")}}generatePotion(e,i){if(this.useSpiritGemUnlocked&&this.useSpiritGemPotions){const s=this.consume("spiritGem",1,this.useCheapestSpiritGem);if(s>0&&(e+=s),(s>0||i)&&Math.random()<.1)return void this.generatePill(e)}else if(i&&Math.random()<.1)return void this.generatePill(e);const o=Object.keys(this.characterService.characterState.attributes)[Math.floor(5*Math.random())],a="Potion of "+o+" +"+e;this.logService.addLogMessage("Alchemy Success! Created a "+a+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:a,id:"potion",type:"potion",value:e,description:"A potion that increases "+o,useLabel:"Drink",useDescription:"Drink to increase your "+o+".",useConsumes:!0,attribute:o,increase:e})}generatePill(e){let i="Longevity",r="A pill that increases your lifespan.",o="Use to increase your lifespan.",a=10*e,s=i+" Pill  +"+e;this.checkFor("pillBox")>0&&this.checkFor("pillMold")>0&&this.checkFor("pillPouch")>0?(this.consume("pillBox"),this.consume("pillMold"),this.consume("pillPouch"),i="Empowerment",r="A pill that permanently empowers the increase of your attributes based on your aptitudes.",o="Use to permanently empower the increase of your attributes based on your aptitudes.",a=1,s="Empowerment Pill",this.logService.addLogMessage("Alchemy Success! Created a "+s+". Its effect gets worse the more you take.","STANDARD","CRAFTING")):this.logService.addLogMessage("Alchemy Success! Created a "+s+". Keep up the good work.","STANDARD","CRAFTING"),this.addItem({name:s,id:"pill",type:"pill",value:a,description:r,useLabel:"Swallow",useDescription:o,useConsumes:!0,effect:i,power:e})}generateHerb(){let e=0;const i=sa.length*$c.length;let o,a;if(e=Math.floor(Math.pow(this.characterService.characterState.attributes.woodLore.value/1e9,.26)*i),e>=i)o=sa[sa.length-1],a=$c[$c.length-1];else{const l=e%sa.length,c=Math.floor(e/sa.length);o=sa[l],a=$c[c]}const s=e+1;if(this.addItem({id:"herb",name:a+" "+o,type:"ingredient",value:s,description:"Useful herbs. Can be used in creating pills or potions."}),this.autoSellOldHerbsEnabled)for(let l=0;l<this.itemStacks.length;l++){const c=this.itemStacks[l];c&&"herb"===c.item.id&&c.item.value<s&&this.sell(c,c.quantity)}}generateSpiritGem(e,i="monster"){return{id:"spiritGemGrade"+e,name:i+" gem grade "+e,type:"spiritGem",value:10*e,description:"A spirit gem dropped by a monster."}}generateArmor(e,i,r,o,a){if(this.useSpiritGemUnlocked&&this.useSpiritGemWeapons&&o){const k=this.consume("spiritGem",1,this.useCheapestSpiritGem);k>0&&(e=Math.floor(Math.pow(e,1+k/400)))}const s=wi.length*aa.length*Yc.length,l=Math.ceil(Math.sqrt(e/1e10)*s);let c=l%wi.length;l>=s&&(c=wi.length-1);let u=Math.floor(l/wi.length);const f=wi[c];let m="";if(u>0){let k=Math.floor(u/aa.length);k>0?(k>Yc.length?(k=Yc.length,u=aa.length-1):u%=aa.length,m=" of "+Yc[k-1]+" "+aa[u]):m=" of "+aa[u-1]}const v=i;let y=E2;"legs"===r?y=A2:"head"===r?y=P2:"feet"===r&&(y=I2);const w=null!=a?a:y[Math.floor(Math.random()*y.length)],D=f+" "+v+" "+w+m;this.logService.addLogMessage("Your hard work paid off! You created some armor: "+D+"!","STANDARD","CRAFTING");const T=5*e+Math.floor(Math.random()*e*5);return{id:"armor",name:D,type:"equipment",slot:r,value:e,armorStats:{defense:e,material:i,durability:T,baseName:w},description:"A unique piece of armor made of "+i+". Drag and drop onto similar armor to merge them into something better.<br/>Defense: "+this.bigNumberPipe.transform(e)+"<br/>Durability: "+this.bigNumberPipe.transform(T)}}randomArmorSlot(){const e=Math.random();return e<.25?"body":e<.5?"head":e<.75?"feet":"legs"}getOre(){var e;const r=Math.floor(16*Math.pow(this.characterService.characterState.attributes.earthLore.value/1e9,.15));let o=this.itemRepoService.items.copperOre;for(const a in this.itemRepoService.items){const s=this.itemRepoService.items[a];"ore"===s.type&&s.value>o.value&&s.value<=r&&(o=s)}if(this.autoSellOldOreEnabled&&!(null===(e=this.hellService)||void 0===e?void 0:e.inHell))for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&"ore"===s.item.type&&s.item.value<o.value&&this.sell(s,s.quantity)}return o}getBar(e){var i;const r=10*e;let o=this.itemRepoService.items.copperBar;for(const a in this.itemRepoService.items){const s=this.itemRepoService.items[a];if("metal"===s.type&&s.value===r){o=s;break}}if(this.autoSellOldBarsEnabled&&!(null===(i=this.hellService)||void 0===i?void 0:i.inHell))for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&"metal"===s.item.type&&s.item.value<o.value&&this.sell(s,s.quantity)}return o}getWood(){var e;const r=Math.floor(16*Math.pow(this.characterService.characterState.attributes.woodLore.value/1e9,.15));let o=this.itemRepoService.items.balsaLog;for(const a in this.itemRepoService.items){const s=this.itemRepoService.items[a];"wood"===s.type&&s.value>o.value&&s.value<=r&&(o=s)}if(this.autoSellOldWoodEnabled&&!(null===(e=this.hellService)||void 0===e?void 0:e.inHell))for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&"wood"===s.item.type&&s.item.value<o.value&&this.sell(s,s.quantity)}return o}getHide(){var e;const r=Math.floor(16*Math.pow(this.characterService.characterState.attributes.animalHandling.value/1e9,.15));let o=this.itemRepoService.items.hide;for(const a in this.itemRepoService.items){const s=this.itemRepoService.items[a];"hide"===s.type&&s.value>o.value&&s.value<=r&&(o=s)}if(this.autoSellOldHidesEnabled&&!(null===(e=this.hellService)||void 0===e?void 0:e.inHell))for(let a=0;a<this.itemStacks.length;a++){const s=this.itemStacks[a];s&&"hide"===s.item.type&&s.item.value<o.value&&this.sell(s,s.quantity)}return o}reset(){this.selectedItem=null,this.lifetimeUsedItems=0,this.lifetimeSoldItems=0,this.lifetimePotionsUsed=0,this.lifetimePillsUsed=0,this.lifetimeGemsSold=0,this.itemStacks=[],this.stashedItemStacks=[],this.changeMaxItems(10),this.characterService.characterState.bloodlineRank>=6||(this.motherGift&&(this.logService.addLogMessage("Your mother gives you three big bags of rice as she sends you out to make your way in the world.","STANDARD","EVENT"),this.itemStacks[0]={item:this.itemRepoService.items.rice,quantity:300}),!this.grandmotherGift)||this.addItem({id:"weapon",name:"Grandmother's Walking Stick",type:"equipment",slot:"leftHand",value:10,weaponStats:{baseDamage:10,material:"wood",durability:100},description:"Your grandmother's walking stick. Drag and drop onto similar weapons to merge them into something better.<br/>Base Damage: 10<br/>Durability: 100"})}eatFood(){var e;if(this.fed)return this.noFood=!1,void(this.fed=!1);let i=null;for(const o of this.itemStacks)null!==o&&"food"===o.item.type&&o.item.value>0&&(i=o);i?(this.useItemStack(i),this.noFood=!1):(null===(e=this.hellService)||void 0===e?void 0:e.inHell)||(this.noFood=!0,this.characterService.characterState.money>0&&this.autoBuyFood&&(this.characterService.characterState.money--,this.characterService.characterState.status.nourishment.value++)),this.fed=!1}addItem(e,i=1){var r,o,a;i<1&&(i=1);for(const l of this.autoBalanceItems)if(l.name===e.name){if(l.useNumber<1){if(l.sellNumber<1)break;return this.characterService.characterState.money+=e.value*i,-1}if(l.sellNumber<1)return this.useItem(e,i*l.useNumber),-1;let c=i%(l.useNumber+l.sellNumber);for(i-=c;c>0;){if(l.index<l.useNumber){if(c+l.index<=l.useNumber){this.useItem(e,c),l.index+=c;break}this.useItem(e,l.useNumber-l.index),c-=l.useNumber-l.index,l.index=l.useNumber}if(l.index<l.useNumber+l.sellNumber){if(c+l.index<l.useNumber+l.sellNumber){this.characterService.characterState.money+=e.value*c,l.index+=c;break}this.characterService.characterState.money+=e.value*(l.useNumber+l.sellNumber-l.index),c-=l.useNumber+l.sellNumber-l.index,l.index=0}l.index>=l.useNumber+l.sellNumber&&(l.index-=l.useNumber+l.sellNumber)}if(i&&(this.useItem(e,(i/=l.useNumber+l.sellNumber)*l.useNumber),this.characterService.characterState.money+=e.value*i,i=0),i<1)return-1;break}if(this.autoPotionUnlocked&&"potion"===e.type)return this.useItem(e,i),-1;if(this.autoPillUnlocked&&"pill"===e.type)return this.useItem(e,i),-1;for(const l of this.autoUseEntries)if(l.name===e.name){let c=this.getQuantityByName(e.name)+i-l.reserve;if(c>i&&(c=i),c>0&&(this.useItem(e,i),0==(i-=c)))return-1}if(this.autoSellOldGemsEnabled&&"spiritGem"===e.type&&!(null===(r=this.hellService)||void 0===r?void 0:r.inHell))for(let l=0;l<this.itemStacks.length;l++){const c=this.itemStacks[l];null!==c&&"spiritGem"===c.item.type&&c.item.value<e.value&&(this.characterService.characterState.money+=c.item.value*c.quantity,this.itemStacks[l]=null)}for(const l of this.autoSellEntries)if(l.name===e.name&&!(null===(o=this.hellService)||void 0===o?void 0:o.inHell)){let c=this.getQuantityByName(e.name)+i-l.reserve;if(c>i&&(c=i),c>0&&(this.characterService.characterState.money+=e.value*c,0==(i-=c)))return-1}let s=-1;if("equipment"!==e.type)for(let l=0;l<this.itemStacks.length;l++){const c=this.itemStacks[l];if(null!==c&&c.item.name===e.name){if(c.quantity+i<=this.maxStackSize)return c.quantity+=i,-1===s&&(s=l),s;-1===s&&(s=l),i-=this.maxStackSize-c.quantity,c.quantity=this.maxStackSize}}for(let l=0;l<this.itemStacks.length;l++)if(null===this.itemStacks[l]){if(-1===s&&(s=l),i<=this.maxStackSize)return this.itemStacks[l]={item:e,quantity:i},s;this.itemStacks[l]={item:e,quantity:this.maxStackSize},i-=this.maxStackSize}return this.autoSellUnlocked&&!(null===(a=this.hellService)||void 0===a?void 0:a.inHell)?(this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you sold it.`,"STANDARD","EVENT"),this.characterService.characterState.money+=e.value*i):this.logService.addLogMessage(`You don't have enough room for the ${e.name} so you threw it away.`,"STANDARD","EVENT"),this.thrownAwayItems+=i,s}sell(e,i){var r;if(e.item.value===1/0||(null===(r=this.hellService)||void 0===r?void 0:r.inHell))return;this.lifetimeSoldItems+=i,"spiritGem"===e.item.type&&(this.lifetimeGemsSold+=i);const o=this.itemStacks.indexOf(e);i>=e.quantity?(this.itemStacks[o]=null,this.characterService.characterState.money+=e.quantity*e.item.value,e===this.selectedItem&&(this.selectedItem=null)):(e.quantity-=i,this.characterService.characterState.money+=i*e.item.value)}sellAll(e){for(const i of this.itemStacks)null!==i&&i.item.name===e.name&&this.sell(i,i.quantity)}autoSell(e){e.value!==1/0&&(!this.autoSellUnlocked||(this.autoSellEntries.some(i=>i.name===e.name)||this.autoSellEntries.push({name:e.name,reserve:0}),this.sellAll(e)))}unAutoSell(e){const i=this.autoSellEntries.findIndex(r=>r.name===e);this.autoSellEntries.splice(i,1)}useItemStack(e,i=1){if(i<1&&(i=1),i>e.quantity&&(i=e.quantity),this.useItem(e.item,i),e.item.useConsumes&&(e.quantity-=i,e.quantity<=0)){const r=this.itemStacks.indexOf(e);this.itemStacks[r]=null,e===this.selectedItem&&(this.selectedItem=null)}}useItem(e,i=1){i<1&&(i=1),this.lifetimeUsedItems++,"potion"===e.type&&function iU(n){return"attribute"in n}(e)?this.usePotion(e,i):"pill"===e.type&&function rU(n){return"effect"in n}(e)?this.usePill(e,i):e.use&&(e.use(i),"food"===e.type&&(this.fed=!0,this.hellService&&(this.hellService.daysFasted=0)))}autoUse(e){if(this.autoUseUnlocked&&("potion"===e.type||"pill"===e.type||e.use)&&(this.autoUseEntries.some(i=>i.name===e.name)||this.autoUseEntries.push({name:e.name,reserve:0}),e.useConsumes))for(let i=0;i<this.itemStacks.length;i++){const r=this.itemStacks[i];null!==r&&r.item.name===e.name&&this.useItemStack(r,r.quantity)}}unAutoUse(e){const i=this.autoUseEntries.findIndex(r=>r.name===e);this.autoUseEntries.splice(i,1)}autoBalance(e){for(const i of this.autoBalanceItems)if(i.name===e.name)return;this.autoBalanceItems.push({name:e.name,index:0,useNumber:1,sellNumber:1}),this.sellAll(e)}unAutoBalance(e){for(let i=0;i<this.autoBalanceItems.length;i++)if(this.autoBalanceItems[i].name===e)return void this.autoBalanceItems.splice(i,1)}equip(e){var i,r;const o=e.item;if(!Wi(o))throw Error("Tried to equip an item that was not equipable");if(0===(null===(i=o.armorStats)||void 0===i?void 0:i.durability)||0===(null===(r=o.weaponStats)||void 0===r?void 0:r.durability))return void this.logService.addLogMessage("You tried to equip some broken equipment, but it was broken.","STANDARD","EVENT");const a=this.characterService.characterState.equipment[o.slot];a&&this.addItem(a),this.characterService.characterState.equipment[o.slot]=o;const s=this.itemStacks.indexOf(e);this.itemStacks[s]=null}equipBest(e){var i,r,o,a,s,l,c,u;let f=0,m=!0;"leftHand"===e||"rightHand"===e?f=(null===(r=null===(i=this.characterService.characterState.equipment[e])||void 0===i?void 0:i.weaponStats)||void 0===r?void 0:r.baseDamage)||0:(m=!1,f=(null===(a=null===(o=this.characterService.characterState.equipment[e])||void 0===o?void 0:o.armorStats)||void 0===a?void 0:a.defense)||0);for(let v=0;v<this.itemStacks.length;v++){const y=this.itemStacks[v];if(null!==y){const w=y.item;if(Wi(w)&&w.slot===e){let D=0;m&&w.weaponStats&&(null===(s=w.weaponStats)||void 0===s?void 0:s.durability)>0?D=null===(l=w.weaponStats)||void 0===l?void 0:l.baseDamage:!m&&w.armorStats&&(null===(c=w.armorStats)||void 0===c?void 0:c.durability)>0&&(D=null===(u=w.armorStats)||void 0===u?void 0:u.defense),D>f&&this.equip(y)}}}}consume(e,i=1,r=!1){i<0&&(i=0);let o=-1;r&&(o=1/0);let a=-1;for(let s=0;s<this.itemStacks.length;s++){const l=this.itemStacks[s];null!==l&&l.item.type===e&&(r?o>l.item.value&&(o=l.item.value,a=s):o<l.item.value&&(o=l.item.value,a=s))}if(a>=0){const s=this.itemStacks[a];if(null!==s){const l=Math.min(s.quantity,i);s.quantity-=l,i-=l,s.quantity<=0&&(this.itemStacks[a]=null)}}return i>0&&a>=0&&(o=this.consume(e,i)),r&&o===1/0&&(o=-1),o}checkFor(e){let i=-1;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!==o&&o.item.type===e&&i<o.item.value&&(i=o.item.value)}return i}getQuantityByName(e){let i=0;for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];null!==o&&o.item.name===e&&(i+=o.quantity)}return i}hasDurability(e){var i,r;const o=e.item;return!Wi(o)||0!==(null===(i=o.armorStats)||void 0===i?void 0:i.durability)&&0!==(null===(r=o.weaponStats)||void 0===r?void 0:r.durability)}usePotion(e,i=1){i<1&&(i=1),this.lifetimePotionsUsed+=i,this.characterService.characterState.attributes[e.attribute].value+=e.increase*i}usePill(e,i=1){i<1&&(i=1),this.lifetimePillsUsed+=i,"Longevity"===e.effect?(this.characterService.characterState.alchemyLifespan+=e.power*i,this.characterService.characterState.alchemyLifespan>36500&&(this.characterService.characterState.alchemyLifespan=36500)):"Empowerment"===e.effect&&(this.characterService.characterState.empowermentFactor+=.01),this.characterService.characterState.checkOverage()}openInventorySlots(){let e=0;for(const i of this.itemStacks)null===i&&e++;return e}mergeEquipment(e,i,r){var o,a,s,l;if(e.slot!==i.slot)return;let c=0;c=this.addItem("rightHand"===e.slot||"leftHand"===e.slot?this.generateWeapon(e.value+i.value,(null===(o=e.weaponStats)||void 0===o?void 0:o.material)+"",!1,null===(a=e.weaponStats)||void 0===a?void 0:a.baseName):this.generateArmor(e.value+i.value,(null===(s=e.armorStats)||void 0===s?void 0:s.material)+"",e.slot,!1,null===(l=e.armorStats)||void 0===l?void 0:l.baseName)),c!==r&&null===this.itemStacks[r]&&(this.itemStacks[r]=this.itemStacks[c],this.itemStacks[c]=null)}autoWeaponMerge(){this.autoMerge("leftHand"),this.autoMerge("rightHand")}autoArmorMerge(){this.autoMerge("head"),this.autoMerge("body"),this.autoMerge("legs"),this.autoMerge("feet")}autoequipWeapons(){this.equipBest("leftHand"),this.equipBest("rightHand")}autoequipArmor(){this.equipBest("head"),this.equipBest("body"),this.equipBest("legs"),this.equipBest("feet")}autoMerge(e){var i,r;let o=-1,a=null,s=null,l=-1;for(let c=0;c<this.itemStacks.length;c++){let u=null===(i=this.itemStacks[c])||void 0===i?void 0:i.item;u&&Wi(u)&&u.slot===e&&(-1===o?(o=c,l=c,a=u):(s=u,a&&((this.selectedItem===this.itemStacks[o]||this.selectedItem===this.itemStacks[c])&&(this.selectedItem=null),this.itemStacks[o]=null,this.itemStacks[c]=null,this.mergeEquipment(a,s,o),u=null===(r=this.itemStacks[o])||void 0===r?void 0:r.item,u?Wi(u)&&u.slot===e&&(a=u):o=-1)))}if(this.automergeEquipped&&null!==a&&this.autoequipBestEnabled&&(this.autoequipBestWeapon||this.autoequipBestArmor)){if(!(("rightHand"===e||"leftHand"===e)&&this.autoequipBestWeapon||"rightHand"!==e&&"leftHand"!==e&&this.autoequipBestArmor))return;this.mergeEquippedSlot(e,a,l)}}mergeEquippedSlot(e,i,r){var o,a,s,l;if(!Wi(i))return;let c;const u=this.characterService.characterState.equipment[e];if(null===u)return this.characterService.characterState.equipment[e]=i,void(this.itemStacks[r]=null);c="rightHand"===e||"leftHand"===e?this.generateWeapon(u.value+i.value,(null===(o=i.weaponStats)||void 0===o?void 0:o.material)+"",!1,null===(a=u.weaponStats)||void 0===a?void 0:a.baseName):this.generateArmor(u.value+i.value,(null===(s=i.armorStats)||void 0===s?void 0:s.material)+"",e,!1,null===(l=u.armorStats)||void 0===l?void 0:l.baseName),this.characterService.characterState.equipment[e]=c,this.itemStacks[r]=null}mergeSpiritGem(e,i=0){if(!(e.quantity<10-i)&&(e.quantity-=10-i,this.addItem(this.generateSpiritGem(e.item.value/10+1)),0===e.quantity))for(let r=0;r<this.itemStacks.length;r++)if(this.itemStacks[r]===e)return void(this.itemStacks[r]=null)}mergeAnySpiritGem(e=0){const i=this.characterService.meridianRank();e>i-5&&(e=i-5),e<0&&(e=0);for(let r=0;r<this.itemStacks.length;r++){const o=this.itemStacks[r];if(null!==o&&"spiritGem"===o.item.type&&o.quantity>=10-e)return void this.mergeSpiritGem(o,e)}}stashInventory(){this.stashedItemStacks=[];for(let e=0;e<this.itemStacks.length;e++)this.itemStacks[e]&&(this.stashedItemStacks.push(this.itemStacks[e]),this.itemStacks[e]=null)}restoreInventory(){this.itemStacks=[];for(let e=0;e<this.stashedItemStacks.length;e++)this.stashedItemStacks[e]&&(this.itemStacks.push(this.stashedItemStacks[e]),this.stashedItemStacks[e]=null)}}return n.\u0275fac=function(e){return new(e||n)(S(_e),S(fn),S(Ie),S(Ct),S(zi),S(xn))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wi(n){return"slot"in n}function aU(n,t){}class mm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const sU={dialogContainer:Hp("dialogContainer",[Kr("void, exit",dn({opacity:0,transform:"scale(0.7)"})),Kr("enter",dn({transform:"none"})),Jr("* => enter",vC([Wr("150ms cubic-bezier(0, 0, 0.2, 1)",dn({transform:"none",opacity:1})),bC("@*",_C(),{optional:!0})])),Jr("* => void, * => exit",vC([Wr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dn({opacity:0})),bC("@*",_C(),{optional:!0})]))])};let lU=(()=>{class n extends tu{constructor(e,i,r,o,a,s,l,c){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=a,this._interactivityChecker=s,this._ngZone=l,this._focusMonitor=c,this._animationStateChanged=new he,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=u=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(u)),this._ariaLabelledBy=a.ariaLabelledBy||null,this._document=o}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ep())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=Ep(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Ep();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(vH),_(Mn),_(ve,8),_(mm),_(aC),_(ge),_(Np))},n.\u0275dir=$({type:n,viewQuery:function(e,i){if(1&e&&cn($r,7),2&e){let r;dt(r=ft())&&(i._portalOutlet=r.first)}},features:[ie]}),n})(),cU=(()=>{class n extends lU{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Pt(n)))(i||n)}}(),n.\u0275cmp=le({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&Wl("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(zd("id",i._id),We("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),Ql("@dialogContainer",i._state))},features:[ie],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&M(0,aU,0,0,"ng-template",0)},directives:[$r],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[sU.dialogContainer]}}),n})(),uU=0;class hU{constructor(t,e,i="mat-dialog-"+uU++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new ae,this._afterClosed=new ae,this._beforeClosed=new ae,this._state=0,e._id=i,e._animationStateChanged.pipe(hn(r=>"opened"===r.state),on(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(hn(r=>"closed"===r.state),on(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(hn(r=>27===r.keyCode&&!this.disableClose&&!Fp(r))).subscribe(r=>{r.preventDefault(),_1(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():_1(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(hn(e=>"closing"===e.state),on(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function _1(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const b1=new q("MatDialogData"),dU=new q("mat-dialog-default-options"),S1=new q("mat-dialog-scroll-strategy"),pU={provide:S1,deps:[da],useFactory:function fU(n){return()=>n.scrollStrategies.block()}};let mU=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u,f){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=a,this._dialogRefConstructor=l,this._dialogContainerType=c,this._dialogDataToken=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new ae,this._afterOpenedAtThisLevel=new ae,this._ariaHiddenElements=new Map,this.afterAllClosed=Zf(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ks(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function gU(n,t){return Object.assign(Object.assign({},t),n)}(i,this._defaultOptions||new mm),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),o=this._attachDialogContainer(r,i),a=this._attachDialogContent(e,o,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe(()=>this._removeOpenDialog(a)),this.afterOpened.next(a),o._initializeWithAttachedContent(),a}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Op({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const o=_e.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:mm,useValue:i}]}),a=new Us(this._dialogContainerType,i.viewContainerRef,o,i.componentFactoryResolver);return e.attach(a).instance}_attachDialogContent(e,i,r,o){const a=new this._dialogRefConstructor(r,i,o.id);if(e instanceof Qt)i.attachTemplatePortal(new js(e,null,{$implicit:o.data,dialogRef:a}));else{const s=this._createInjector(o,a,i),l=i.attachComponentPortal(new Us(e,o.viewContainerRef,s,o.componentFactoryResolver));a.componentInstance=l.instance}return a.updateSize(o.width,o.height).updatePosition(o.position),a}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,a=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!o||!o.get(lr,null,te.Optional))&&a.push({provide:lr,useValue:{value:e.direction,change:Z()}}),_e.create({parent:o||this._injector,providers:a})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,o)=>{r?o.setAttribute("aria-hidden",r):o.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){Gl()},n.\u0275dir=$({type:n}),n})(),Ki=(()=>{class n extends mU{constructor(e,i,r,o,a,s,l,c){super(e,i,o,s,l,a,hU,cU,b1,c)}}return n.\u0275fac=function(e){return new(e||n)(S(da),S(_e),S(vs,8),S(dU,8),S(S1),S(n,12),S(Rp),S(si,8))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({providers:[Ki,pU],imports:[[Zw,nu,$n],$n]}),n})(),to=(()=>{class n{constructor(e,i,r,o,a,s){this.logService=e,this.characterService=i,this.inventoryService=r,this.itemRepoService=o,this.homeService=a,this.dialog=s,this.soulCoreRank=0,this.meridianRank=0,this.bloodlineLabel="",this.bloodlineDescription="",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Palace],this.storeOpened=!1,this.furniturePrices={},this.selectedItem=null,this.manuals=[],this.furniture=[]}setStoreInventory(){this.furniture=[];for(const e in this.itemRepoService.furniture){const i=this.itemRepoService.furniture[e];this.homeService.home.furnitureSlots.includes(i.slot)&&(this.furniture.push(i),this.furniturePrices[i.name]=this.homeService.ownedFurniture.includes(i.name)?0:i.value)}this.selectedItem=null}unlockManual(e){this.manuals.includes(e)||this.manuals.push(e)}buyManual(){this.selectedItem&&this.selectedItem.value<this.characterService.characterState.money&&(this.characterService.characterState.money-=this.selectedItem.value,"manual"===this.selectedItem.type&&this.selectedItem.use?this.selectedItem.use():this.inventoryService.addItem(this.selectedItem))}isManualAvailable(){for(const e of this.manuals)if(e.owned&&!e.owned())return!0;return!1}getFurnitureForSlot(e=null){return null===e?this.furniture:this.furniture.filter(i=>i.slot===e)}buyFurniture(e=null){if(null===e&&(e=this.selectedItem),e){if(!function oU(n){return"slot"in n}(e))return;const i=e.slot;(e.value<this.characterService.characterState.money||this.homeService.ownedFurniture.includes(e.name))&&(this.homeService.ownedFurniture.includes(e.name)||(this.characterService.characterState.money-=e.value,this.homeService.ownedFurniture.push(e.name),this.furniturePrices[e.name]=0),this.homeService.furniture[i]=e,this.homeService.autoBuyFurniture[i]=e)}}updateAscensions(){this.soulCoreRank=this.characterService.soulCoreRank(),this.meridianRank=this.characterService.meridianRank(),this.bloodlineLabel=0===this.characterService.characterState.bloodlineRank?"Establish Bloodline":"Enhance Bloodline",0===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and establish a bloodline. All of your future reincarnations will be born as your own descendants. Your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Mansion]):1===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Palace]):2===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit some of your past self's money.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Castle]):3===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Fortress]):4===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Mountain]):5===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. You will keep your ancestral Home. You will keep your weapons, armor, and money with interest. ",this.bloodLineHomeRequirement=this.homeService.homesList[Me.ForbiddenCity]):6===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Your followers will have enhanced bloodlines and will follow you between incarnations. You will keep your weapons, armor, money with interest, your home and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Capital]):7===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline. Break through the limits of humanity. You will keep your weapons, armor, money with interest, your home, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.ImperialSeat]):8===this.characterService.characterState.bloodlineRank?(this.bloodlineDescription="End your current life, sacrifice all attributes and aptitudes, and enhance your bloodline one last time. Finally, you will gain aptitudes every day from your current Attributes, improving constantly. You will keep your weapons, armor, money with interest, your home, and your Empire.",this.bloodLineHomeRequirement=this.homeService.homesList[Me.Godthrone]):9===this.characterService.characterState.bloodlineRank&&(this.bloodlineDescription="You can't enhance your bloodline any further. Your armor and your weapons equipped on death will become family heirlooms and will be inherited by your future self. You will also inherit your past self's money plus interest. Your aptitudes extend your lifespan to a much greater degree. Your followers also have enhanced bloodlines and will follow you between incarnations. You will keep your Home and your Empire, and can break through the limits of humanity. Finally, you will gain aptitudes every day from your current Attributes.")}condenseSoulCore(){this.soulCoreRank>=9?this.logService.addLogMessage("You can't condense your soul core any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.condenseSoulCoreCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.soulCoreRank+12)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.condenseSoulCore(),this.dialog.closeAll())}reinforceMeridians(){this.meridianRank>=9?this.logService.addLogMessage("You can't reinforce your meridians any further.","INJURY","EVENT"):this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.reinforceMeridiansCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.inventoryService.checkFor("spiritGem")<10*(this.meridianRank+16)?this.logService.addLogMessage("You don't have the gem required to ascend.","INJURY","EVENT"):(this.characterService.reinforceMeridians(),this.dialog.closeAll())}upgradeBloodline(){this.characterService.characterState.attributes.spirituality.value<this.characterService.characterState.bloodlineCost?this.logService.addLogMessage("You don't have the spirituality required to ascend.","INJURY","EVENT"):this.characterService.characterState.bloodlineRank>=9?this.logService.addLogMessage("You can't enhance your bloodline any further.","INJURY","EVENT"):this.homeService.home.type<this.bloodLineHomeRequirement.type?this.logService.addLogMessage("You don't have a powerful enough home to ascend.","INJURY","EVENT"):(this.characterService.upgradeBloodline(),this.dialog.closeAll())}}return n.\u0275fac=function(e){return new(e||n)(S(fn),S(Ie),S(W),S(xn),S(Ze),S(Ki))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vU(n,t){if(1&n&&(d(0,"div"),p(1),A(2,"bigNumber"),h()),2&n){const e=C().$implicit;g(1),O("$ ",B(2,1,e.value),"")}}const yU=function(n,t){return{selectedItem:n,ownedItem:t}};function _U(n,t){if(1&n){const e=j();d(0,"div")(1,"div",4),x("click",function(){const o=I(e).$implicit;return C().slotClicked(o)}),d(2,"div")(3,"mat-icon"),p(4,"menu_book"),h()(),d(5,"div"),p(6),A(7,"titlecase"),h(),M(8,vU,3,3,"div",5),h()()}if(2&n){const e=t.$implicit,i=C();g(1),pe("tooltip",e.description),b("ngClass",Ni(6,yU,e===i.storeService.selectedItem,e.owned&&e.owned())),g(5),me(B(7,4,e.name)),g(2),b("ngIf",e.owned&&!e.owned())}}let C1=(()=>{class n{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0,this.character=i.characterState,e.storeOpened=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(_(to),_(Ie),_(Ze),_(W),_(xn),_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-store-modal"]],decls:8,vars:2,consts:[[1,"darkMode"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],[3,"disabled","click"],["placement","left",1,"itemSlot",3,"ngClass","tooltip","click"],[4,"ngIf"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Manuals Shop"),h(),N(3,"hr"),d(4,"div",1),M(5,_U,9,9,"div",2),h(),d(6,"button",3),x("click",function(){return i.storeService.buyManual()}),p(7," Buy "),h()()),2&e&&(g(5),b("ngForOf",i.storeService.manuals),g(1),b("disabled",i.buyDisabled))},styles:[".inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;justify-content:center}.itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;background-color:var(--storeButtonColor);line-height:12px}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}button[_ngcontent-%COMP%]{margin-top:4px;width:100%}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function bU(n,t){1&n&&ns(0)}const k1=["*"];function SU(n,t){}const wU=function(n){return{animationDuration:n}},CU=function(n,t){return{value:n,params:t}},kU=["tabListContainer"],MU=["tabList"],DU=["tabListInner"],xU=["nextPaginator"],TU=["previousPaginator"],EU=["tabBodyWrapper"],AU=["tabHeader"];function PU(n,t){}function IU(n,t){1&n&&M(0,PU,0,0,"ng-template",10),2&n&&b("cdkPortalOutlet",C().$implicit.templateLabel)}function OU(n,t){1&n&&p(0),2&n&&me(C().$implicit.textLabel)}function RU(n,t){if(1&n){const e=j();d(0,"div",6),x("click",function(){const r=I(e),o=r.$implicit,a=r.index,s=C(),l=xt(1);return s._handleClick(o,l,a)})("cdkFocusChange",function(r){const a=I(e).index;return C()._tabFocusChanged(r,a)}),d(1,"div",7),M(2,IU,1,1,"ng-template",8),M(3,OU,1,1,"ng-template",null,9,cf),h()()}if(2&n){const e=t.$implicit,i=t.index,r=xt(4),o=C();St("mat-tab-label-active",o.selectedIndex===i),b("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||o.disableRipple),We("tabIndex",o._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),g(2),b("ngIf",e.templateLabel)("ngIfElse",r)}}function FU(n,t){if(1&n){const e=j();d(0,"mat-tab-body",11),x("_onCentered",function(){return I(e),C()._removeTabBodyWrapperHeight()})("_onCentering",function(r){return I(e),C()._setTabBodyWrapperHeight(r)}),h()}if(2&n){const e=t.$implicit,i=t.index,r=C();St("mat-tab-body-active",r.selectedIndex===i),b("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration),We("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const LU=new q("MatInkBarPositioner",{providedIn:"root",factory:function NU(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let M1=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(e){this.show(),this._ngZone.onStable.pipe(on(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(ge),_(LU),_(si,8))},n.\u0275dir=$({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&St("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const BU=new q("MatTabContent"),D1=new q("MatTabLabel"),x1=new q("MAT_TAB");let HU=(()=>{class n extends vB{constructor(e,i,r){super(e,i),this._closestTab=r}}return n.\u0275fac=function(e){return new(e||n)(_(Qt),_(jt),_(x1,8))},n.\u0275dir=$({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Be([{provide:D1,useExisting:n}]),ie]}),n})();const VU=hm(class{}),T1=new q("MAT_TAB_GROUP");let E1=(()=>{class n extends VU{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new ae,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new js(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(_(jt),_(T1,8))},n.\u0275cmp=le({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(Rr(r,D1,5),Rr(r,BU,7,Qt)),2&e){let o;dt(o=ft())&&(i.templateLabel=o.first),dt(o=ft())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&cn(Qt,7),2&e){let r;dt(r=ft())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Be([{provide:x1,useExisting:n}]),ie,sn],ngContentSelectors:k1,decls:1,vars:0,template:function(e,i){1&e&&(ts(),M(0,bU,1,0,"ng-template"))},encapsulation:2}),n})();const UU={translateTab:Hp("translateTab",[Kr("center, void, left-origin-center, right-origin-center",dn({transform:"none"})),Kr("left",dn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Kr("right",dn({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Jr("* => left, * => right, left => center, right => center",Wr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Jr("void => left-origin-center",[dn({transform:"translate3d(-100%, 0, 0)"}),Wr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Jr("void => right-origin-center",[dn({transform:"translate3d(100%, 0, 0)"}),Wr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let jU=(()=>{class n extends $r{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=Ke.EMPTY,this._leavingSub=Ke.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(ks(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(_(Fi),_(jt),_(Fe(()=>A1)),_(ve))},n.\u0275dir=$({type:n,selectors:[["","matTabBodyHost",""]],features:[ie]}),n})(),qU=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Ke.EMPTY,this._translateTabComplete=new ae,this._onCentering=new he,this._beforeCentering=new he,this._afterLeavingCenter=new he,this._onCentered=new he(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(tC((o,a)=>o.fromState===a.fromState&&o.toState===a.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(lr,8),_(Mn))},n.\u0275dir=$({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),A1=(()=>{class n extends qU{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(lr,8),_(Mn))},n.\u0275cmp=le({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&cn($r,5),2&e){let r;dt(r=ft())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[ie],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(d(0,"div",0,1),x("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),M(2,SU,0,0,"ng-template",2),h()),2&e&&b("@translateTab",Ni(3,CU,i._position,Ue(1,wU,i.animationDuration)))},directives:[jU],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}\n'],encapsulation:2,data:{animation:[UU.translateTab]}}),n})();const P1=new q("MAT_TABS_CONFIG"),zU=hm(class{});let I1=(()=>{class n extends zU{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(_(Ce))},n.\u0275dir=$({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(We("aria-disabled",!!i.disabled),St("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[ie]}),n})();const O1=Xc({passive:!0});let GU=(()=>{class n{constructor(e,i,r,o,a,s,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=a,this._platform=s,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new ae,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new ae,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new he,this.indexFocused=new he,a.runOutsideAngular(()=>{ua(e.nativeElement,"mouseleave").pipe(Ci(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Wc(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){ua(this._previousPaginator.nativeElement,"touchstart",O1).pipe(Ci(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),ua(this._nextPaginator.nativeElement,"touchstart",O1).pipe(Ci(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Z("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new oH(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(on(1)).subscribe(r),Ma(e,i,this._items.changes).pipe(Ci(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Ci(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Fp(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:a}=i.elementRef.nativeElement;let s,l;"ltr"==this._getLayoutDirection()?(s=o,l=s+a):(l=this._tabListInner.nativeElement.offsetWidth-o,s=l-a);const c=this.scrollDistance,u=this.scrollDistance+r;s<c?this.scrollDistance-=c-s+60:l>u&&(this.scrollDistance+=l-u+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Hw(650,100).pipe(Ci(Ma(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Mn),_(Vs),_(lr,8),_(ge),_(en),_(si,8))},n.\u0275dir=$({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),WU=(()=>{class n extends GU{constructor(e,i,r,o,a,s,l){super(e,i,r,o,a,s,l),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ca(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Mn),_(Vs),_(lr,8),_(ge),_(en),_(si,8))},n.\u0275dir=$({type:n,inputs:{disableRipple:"disableRipple"},features:[ie]}),n})(),KU=(()=>{class n extends WU{constructor(e,i,r,o,a,s,l){super(e,i,r,o,a,s,l)}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Mn),_(Vs),_(lr,8),_(ge),_(en),_(si,8))},n.\u0275cmp=le({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&Rr(r,I1,4),2&e){let o;dt(o=ft())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(cn(M1,7),cn(kU,7),cn(MU,7),cn(DU,7),cn(xU,5),cn(TU,5)),2&e){let r;dt(r=ft())&&(i._inkBar=r.first),dt(r=ft())&&(i._tabListContainer=r.first),dt(r=ft())&&(i._tabList=r.first),dt(r=ft())&&(i._tabListInner=r.first),dt(r=ft())&&(i._nextPaginator=r.first),dt(r=ft())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&St("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[ie],ngContentSelectors:k1,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(ts(),d(0,"button",0,1),x("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),N(2,"div",2),h(),d(3,"div",3,4),x("keydown",function(o){return i._handleKeydown(o)}),d(5,"div",5,6),x("cdkObserveContent",function(){return i._onContentChanges()}),d(7,"div",7,8),ns(9),h(),N(10,"mat-ink-bar"),h()(),d(11,"button",9,10),x("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),N(13,"div",2),h()),2&e&&(St("mat-tab-header-pagination-disabled",i._disableScrollBefore),b("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),g(5),St("_mat-animation-noopable","NoopAnimations"===i._animationMode),g(6),St("mat-tab-header-pagination-disabled",i._disableScrollAfter),b("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},directives:[Cu,tH,M1],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n"],encapsulation:2}),n})(),JU=0;class QU{}const ZU=dm(l1(class{constructor(n){this._elementRef=n}}),"primary");let XU=(()=>{class n extends ZU{constructor(e,i,r,o){var a;super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new Jo,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ke.EMPTY,this._tabLabelSubscription=Ke.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new he,this.focusChange=new he,this.animationDone=new he,this.selectedTabChange=new he(!0),this._groupId=JU++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=null!==(a=null==r?void 0:r.contentTabIndex)&&void 0!==a?a:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ca(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Wc(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Wc(e,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(ks(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new QU;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Ma(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){var r;return e.disabled?null:i===(null!==(r=this._lastFocusedTabIndex)&&void 0!==r?r:this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Mn),_(P1,8),_(si,8))},n.\u0275dir=$({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[ie]}),n})(),ej=(()=>{class n extends XU{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Mn),_(P1,8),_(si,8))},n.\u0275cmp=le({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&Rr(r,E1,5),2&e){let o;dt(o=ft())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(cn(EU,5),cn(AU,5)),2&e){let r;dt(r=ft())&&(i._tabBodyWrapper=r.first),dt(r=ft())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&St("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[Be([{provide:T1,useExisting:n}]),ie],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,i){1&e&&(d(0,"mat-tab-header",0,1),x("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),M(2,RU,5,15,"div",2),h(),d(3,"div",3,4),M(5,FU,1,10,"mat-tab-body",5),h()),2&e&&(b("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),g(2),b("ngForOf",i._tabs),g(1),St("_mat-animation-noopable","NoopAnimations"===i._animationMode),g(2),b("ngForOf",i._tabs))},directives:[KU,A1,It,I1,Cu,MH,Hn,at,$r],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),n})(),F1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[bs,$n,nu,d1,iC,DH],$n]}),n})();function tj(n,t){1&n&&N(0,"div",3)}function nj(n,t){1&n&&Hd(0)}function ij(n,t){if(1&n&&(d(0,"div"),M(1,nj,1,0,"ng-container",4),h()),2&n){const e=C();g(1),b("ngTemplateOutlet",e.value)}}function rj(n,t){1&n&&N(0,"div",5),2&n&&b("innerHTML",C().value,Iv)}let oj=(()=>{class n{constructor(e,i){this.elementRef=e,this.renderer=i,this._show=!1,this.events=new he}transitionEnd(e){this.show&&this.events.emit({type:"shown"})}set show(e){e&&this.setPosition(),this._show=this.hostClassShow=e}get show(){return this._show}get placement(){return this.data.options.placement}get autoPlacement(){return this.data.options.autoPlacement}get element(){return this.data.element}get elementPosition(){return this.data.elementPosition}get options(){return this.data.options}get value(){return this.data.value}get tooltipOffset(){return Number(this.data.options.offset)}get isThemeLight(){return"light"===this.options.theme}ngOnInit(){this.setCustomClass(),this.setStyles()}setPosition(){if(this.setHostStyle(this.placement))this.setPlacementClass(this.placement);else{const e=["top","right","bottom","left"];let i;for(const r of e)if(this.setHostStyle(r))return this.setPlacementClass(r),void(i=!0);i||(this.setHostStyle(this.placement,!0),this.setPlacementClass(this.placement))}}setPlacementClass(e){this.renderer.addClass(this.elementRef.nativeElement,"tooltip-"+e)}setHostStyle(e,i=!1){const r=this.element instanceof SVGElement,o=this.elementRef.nativeElement,a=!this.elementPosition.right;let s=r?this.element.getBoundingClientRect().height:this.element.offsetHeight,l=r?this.element.getBoundingClientRect().width:this.element.offsetWidth;const c=o.clientHeight,u=o.clientWidth,f=window.pageYOffset;let m,v;if(a&&(s=0,l=0),"top"===e&&(m=this.elementPosition.top+f-(c+this.tooltipOffset)),"bottom"===e&&(m=this.elementPosition.top+f+s+this.tooltipOffset),("top"===e||"bottom"===e)&&(v=this.elementPosition.left+l/2-u/2),"left"===e&&(v=this.elementPosition.left-u-this.tooltipOffset),"right"===e&&(v=this.elementPosition.left+l+this.tooltipOffset),("left"===e||"right"===e)&&(m=this.elementPosition.top+f+s/2-o.clientHeight/2),this.autoPlacement&&!i){const w=m+c,D=v,T=v+u,k=window.innerHeight+f,E=document.body.clientWidth;if(m<0||w>k||D<0||T>E)return!1}return this.hostStyleTop=m+"px",this.hostStyleLeft=v+"px",!0}setZIndex(){0!==this.options.zIndex&&(this.hostStyleZIndex=this.options.zIndex)}setPointerEvents(){this.options.pointerEvents&&(this.hostStylePointerEvents=this.options.pointerEvents)}setCustomClass(){this.options.tooltipClass&&this.options.tooltipClass.split(" ").forEach(e=>{this.renderer.addClass(this.elementRef.nativeElement,e)})}setAnimationDuration(){Number(this.options.animationDuration)!=this.options.animationDurationDefault&&(this.hostStyleTransition="opacity "+this.options.animationDuration+"ms")}setStyles(){this.setZIndex(),this.setPointerEvents(),this.setAnimationDuration(),this.hostClassShadow=this.options.shadow,this.hostClassLight=this.isThemeLight,this.hostStyleMaxWidth=this.options.maxWidth,this.hostStyleWidth=this.options.width?this.options.width:""}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(yi))},n.\u0275cmp=le({type:n,selectors:[["tooltip"]],hostAttrs:[1,"tooltip"],hostVars:20,hostBindings:function(e,i){1&e&&x("transitionend",function(o){return i.transitionEnd(o)}),2&e&&(Kt("top",i.hostStyleTop)("left",i.hostStyleLeft)("z-index",i.hostStyleZIndex)("transition",i.hostStyleTransition)("width",i.hostStyleWidth)("max-width",i.hostStyleMaxWidth)("pointer-events",i.hostStylePointerEvents),St("tooltip-show",i.hostClassShow)("tooltip-shadow",i.hostClassShadow)("tooltip-light",i.hostClassLight))},inputs:{data:"data",show:"show"},decls:4,vars:3,consts:[["class","tooltip-arrow",4,"ngIf"],[4,"ngIf","ngIfElse"],["htmlOrStringTemplate",""],[1,"tooltip-arrow"],[4,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(e,i){if(1&e&&(M(0,tj,1,0,"div",0),M(1,ij,2,1,"div",1),M(2,rj,1,1,"ng-template",null,2,cf)),2&e){const r=xt(3);b("ngIf",i.isThemeLight),g(1),b("ngIf","template"===i.options.contentType)("ngIfElse",r)}},directives:[at,o0],styles:['[_nghost-%COMP%]{max-width:200px;background-color:#000;color:#fff;text-align:center;border-radius:6px;padding:5px 8px;position:absolute;pointer-events:none;z-index:1000;display:block;opacity:0;transition:opacity .3s;top:0;left:0}.tooltip-show[_nghost-%COMP%]{opacity:1}.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 7px 15px -5px #0006}.tooltip-light.tooltip-shadow[_nghost-%COMP%]{box-shadow:0 5px 15px -5px #0006}.tooltip[_nghost-%COMP%]:after{content:"";position:absolute;border-style:solid}.tooltip-top[_nghost-%COMP%]:after{top:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#000 #0000 #0000}.tooltip-bottom[_nghost-%COMP%]:after{bottom:100%;left:50%;margin-left:-5px;border-width:5px;border-color:#0000 #0000 #000}.tooltip-left[_nghost-%COMP%]:after{top:50%;left:100%;margin-top:-5px;border-width:5px;border-color:#0000 #0000 #0000 #000}.tooltip-right[_nghost-%COMP%]:after{top:50%;right:100%;margin-top:-5px;border-width:5px;border-color:#0000 #000 #0000 #0000}.tooltip-light[_nghost-%COMP%]:after{display:none}.tooltip-light[_nghost-%COMP%]{border:1px solid #0000000f;background-color:#fff;color:#000}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;width:10px;height:10px;transform:rotate(135deg);background-color:#00000012}.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{background-color:#fff;content:"";display:block;position:absolute;width:10px;height:10px}.tooltip-top.tooltip-light[_nghost-%COMP%]{margin-top:-2px}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:100%;left:50%;margin-top:-4px;margin-left:-5px;background:linear-gradient(to bottom left,#00000012 50%,#0000 0)}.tooltip-top.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:1px}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:100%;left:50%;margin-bottom:-4px;margin-left:-5px;background:linear-gradient(to top right,#0000001a 50%,#0000 0)}.tooltip-bottom.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:-1px}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;left:100%;margin-top:-5px;margin-left:-4px;background:linear-gradient(to bottom right,#00000012 50%,#0000 0)}.tooltip-left.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:1px;right:-1px}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:50%;right:100%;margin-top:-5px;margin-right:-4px;background:linear-gradient(to top left,#00000012 50%,#0000 0)}.tooltip-right.tooltip-light[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:after{top:-1px;right:1px}']}),n})();const L1=new q("TooltipOptions"),N1={placement:"top",autoPlacement:!0,contentType:"string",showDelay:0,hideDelay:300,hideDelayMobile:0,hideDelayTouchscreen:0,zIndex:0,animationDuration:300,animationDurationDefault:300,trigger:"hover",tooltipClass:"",display:!0,displayMobile:!0,displayTouchscreen:!0,shadow:!0,theme:"dark",offset:8,maxWidth:"",id:!1,hideDelayAfterClick:2e3},B1={delay:"showDelay","show-delay":"showDelay","hide-delay":"hideDelay","hide-delay-mobile":"hideDelayTouchscreen",hideDelayMobile:"hideDelayTouchscreen","z-index":"zIndex","animation-duration":"animationDuration","animation-duration-default":"animationDurationDefault","tooltip-class":"tooltipClass","display-mobile":"displayTouchscreen",displayMobile:"displayTouchscreen","max-width":"maxWidth"};let Tt=(()=>{class n{constructor(e,i,r,o,a){this.initOptions=e,this.elementRef=i,this.componentFactoryResolver=r,this.appRef=o,this.injector=a,this._options={},this._contentType="string",this.events=new he}set options(e){e&&N1&&(this._options=e)}get options(){return this._options}set contentTypeBackwardCompatibility(e){e&&(this._contentType=e)}set contentType(e){e&&(this._contentType=e)}get contentType(){return this._contentType}set zIndexBackwardCompatibility(e){e&&(this._zIndex=e)}set zIndex(e){e&&(this._zIndex=e)}get zIndex(){return this._zIndex}set animationDurationBackwardCompatibility(e){e&&(this._animationDuration=e)}set animationDuration(e){e&&(this._animationDuration=e)}get animationDuration(){return this._animationDuration}set tooltipClassBackwardCompatibility(e){e&&(this._tooltipClass=e)}set tooltipClass(e){e&&(this._tooltipClass=e)}get tooltipClass(){return this._tooltipClass}set maxWidthBackwardCompatibility(e){e&&(this._maxWidth=e)}set maxWidth(e){e&&(this._maxWidth=e)}get maxWidth(){return this._maxWidth}set showDelayBackwardCompatibility(e){e&&(this._showDelay=e)}set showDelay(e){e&&(this._showDelay=e)}get showDelay(){return this._showDelay}set hideDelayBackwardCompatibility(e){e&&(this._hideDelay=e)}set hideDelay(e){e&&(this._hideDelay=e)}get hideDelay(){return this._hideDelay}get isTooltipDestroyed(){return this.componentRef&&this.componentRef.hostView.destroyed}get destroyDelay(){return this._destroyDelay?this._destroyDelay:Number(this.getHideDelay())+Number(this.options.animationDuration)}set destroyDelay(e){this._destroyDelay=e}get tooltipPosition(){return this.options.position?this.options.position:this.elementPosition}onMouseEnter(){0!=this.isDisplayOnHover&&this.show()}onMouseLeave(){"hover"===this.options.trigger&&this.destroyTooltip()}onClick(){0!=this.isDisplayOnClick&&(this.show(),this.hideAfterClickTimeoutId=window.setTimeout(()=>{this.destroyTooltip()},this.options.hideDelayAfterClick))}ngOnInit(){}ngOnChanges(e){this.initOptions=this.renameProperties(this.initOptions);let i=this.getProperties(e);i=this.renameProperties(i),this.applyOptionsDefault(N1,i)}ngOnDestroy(){this.destroyTooltip({fast:!0}),this.componentSubscribe&&this.componentSubscribe.unsubscribe()}getShowDelay(){return this.options.showDelay}getHideDelay(){return this.isTouchScreen?this.options.hideDelayTouchscreen:this.options.hideDelay}getProperties(e){let i={},r={},o={};for(var a in e)"options"!==a&&"tooltipValue"!==a&&(i[a]=e[a].currentValue),"options"===a&&(r=e[a].currentValue);return o=Object.assign({},r,i),o}renameProperties(e){for(var i in e)B1[i]&&(e[B1[i]]=e[i],delete e[i]);return e}getElementPosition(){this.elementPosition=this.elementRef.nativeElement.getBoundingClientRect()}createTooltip(){this.clearTimeouts(),this.getElementPosition(),this.createTimeoutId=window.setTimeout(()=>{this.appendComponentToBody(oj)},this.getShowDelay()),this.showTimeoutId=window.setTimeout(()=>{this.showTooltipElem()},this.getShowDelay())}destroyTooltip(e={fast:!1}){this.clearTimeouts(),0==this.isTooltipDestroyed&&(this.hideTimeoutId=window.setTimeout(()=>{this.hideTooltip()},e.fast?0:this.getHideDelay()),this.destroyTimeoutId=window.setTimeout(()=>{!this.componentRef||this.isTooltipDestroyed||(this.appRef.detachView(this.componentRef.hostView),this.componentRef.destroy(),this.events.emit({type:"hidden",position:this.tooltipPosition}))},e.fast?0:this.destroyDelay))}showTooltipElem(){this.clearTimeouts(),this.componentRef.instance.show=!0,this.events.emit({type:"show",position:this.tooltipPosition})}hideTooltip(){!this.componentRef||this.isTooltipDestroyed||(this.componentRef.instance.show=!1,this.events.emit({type:"hide",position:this.tooltipPosition}))}appendComponentToBody(e,i={}){this.componentRef=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector),this.componentRef.instance.data={value:this.tooltipValue,element:this.elementRef.nativeElement,elementPosition:this.tooltipPosition,options:this.options},this.appRef.attachView(this.componentRef.hostView),document.body.appendChild(this.componentRef.hostView.rootNodes[0]),this.componentSubscribe=this.componentRef.instance.events.subscribe(o=>{this.handleEvents(o)})}clearTimeouts(){this.createTimeoutId&&clearTimeout(this.createTimeoutId),this.showTimeoutId&&clearTimeout(this.showTimeoutId),this.hideTimeoutId&&clearTimeout(this.hideTimeoutId),this.destroyTimeoutId&&clearTimeout(this.destroyTimeoutId)}get isDisplayOnHover(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"hover"!==this.options.trigger)}get isDisplayOnClick(){return!(0==this.options.display||0==this.options.displayTouchscreen&&this.isTouchScreen||"click"!=this.options.trigger)}get isTouchScreen(){var e=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window)return!0;var r=["(",e.join("touch-enabled),("),"heartz",")"].join("");return window.matchMedia(r).matches}applyOptionsDefault(e,i){this.options=Object.assign({},e,this.initOptions||{},this.options,i)}handleEvents(e){"shown"===e.type&&this.events.emit({type:"shown",position:this.tooltipPosition})}show(){!this.tooltipValue||(!this.componentRef||this.isTooltipDestroyed?this.createTooltip():this.isTooltipDestroyed||this.showTooltipElem())}hide(){this.destroyTooltip()}}return n.\u0275fac=function(e){return new(e||n)(_(L1,8),_(Ce),_(Fi),_(ms),_(_e))},n.\u0275dir=$({type:n,selectors:[["","tooltip",""]],hostBindings:function(e,i){1&e&&x("focusin",function(){return i.onMouseEnter()})("mouseenter",function(){return i.onMouseEnter()})("focusout",function(){return i.onMouseLeave()})("mouseleave",function(){return i.onMouseLeave()})("click",function(){return i.onClick()})},inputs:{options:"options",tooltipValue:["tooltip","tooltipValue"],placement:"placement",autoPlacement:"autoPlacement",contentTypeBackwardCompatibility:["content-type","contentTypeBackwardCompatibility"],contentType:"contentType",hideDelayMobile:["hide-delay-mobile","hideDelayMobile"],hideDelayTouchscreen:"hideDelayTouchscreen",zIndexBackwardCompatibility:["z-index","zIndexBackwardCompatibility"],zIndex:"zIndex",animationDurationBackwardCompatibility:["animation-duration","animationDurationBackwardCompatibility"],animationDuration:"animationDuration",trigger:"trigger",tooltipClassBackwardCompatibility:["tooltip-class","tooltipClassBackwardCompatibility"],tooltipClass:"tooltipClass",display:"display",displayMobile:["display-mobile","displayMobile"],displayTouchscreen:"displayTouchscreen",shadow:"shadow",theme:"theme",offset:"offset",width:"width",maxWidthBackwardCompatibility:["max-width","maxWidthBackwardCompatibility"],maxWidth:"maxWidth",id:"id",showDelayBackwardCompatibility:["show-delay","showDelayBackwardCompatibility"],showDelay:"showDelay",hideDelayBackwardCompatibility:["hide-delay","hideDelayBackwardCompatibility"],hideDelay:"hideDelay",hideDelayAfterClick:"hideDelayAfterClick",pointerEvents:"pointerEvents",position:"position"},outputs:{events:"events"},exportAs:["tooltip"],features:[sn]}),n})(),aj=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[{provide:L1,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[bs]]}),n})();let V1=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(_(yi),_(Ce))},n.\u0275dir=$({type:n}),n})(),no=(()=>{class n extends V1{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Pt(n)))(i||n)}}(),n.\u0275dir=$({type:n,features:[ie]}),n})();const Mi=new q("NgValueAccessor");let Tk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({}),n})();const zj={provide:Mi,useExisting:Fe(()=>Lm),multi:!0};function Fk(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Lm=(()=>{class n extends no{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=Fk(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function Yj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Pt(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([zj]),ie]}),n})(),Nm=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Fk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(yi),_(Lm,9))},n.\u0275dir=$({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $j={provide:Mi,useExisting:Fe(()=>Bm),multi:!0};function Lk(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Bm=(()=>{class n extends no{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let s=0;s<a.length;s++){const c=this._getOptionValue(a[s].value);r.push(c)}}else{const a=i.options;for(let s=0;s<a.length;s++){const l=a[s];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function Gj(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Pt(n)))(i||n)}}(),n.\u0275dir=$({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,i){1&e&&x("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Be([$j]),ie]}),n})(),Hm=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Lk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Lk(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(yi),_(Bm,9))},n.\u0275dir=$({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),r5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[Tk]]}),n})(),o5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[r5]}),n})();function a5(n,t){1&n&&(d(0,"span",11),p(1,"Game"),h())}function s5(n,t){1&n&&(d(0,"span"),p(1," \xa0\xa0Only starting your journey to immortality from the beginning again (Hard Reset) will prove you never took the easy path. "),h())}function l5(n,t){1&n&&(d(0,"span",11),p(1,"Home"),h())}function c5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span"),p(2," Automatically buy up to "),d(3,"input",13),x("change",function(r){return I(e),C(2).autoBuyLandLimitChanged(r)}),h(),p(4," land (including fields) "),h()()}if(2&n){const e=C(2);g(3),pe("value",e.homeService.autoBuyLandLimit)}}function u5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span"),p(2," Automatically plow up to "),d(3,"input",13),x("change",function(r){return I(e),C(2).autoFieldLimitChanged(r)}),h(),p(4," fields "),h()()}if(2&n){const e=C(2);g(3),pe("value",e.homeService.autoFieldLimit)}}function h5(n,t){if(1&n&&(d(0,"option",16),p(1),h()),2&n){const e=t.$implicit,i=C(3);pe("value",e.type),b("selected",i.homeService.autoBuyHomeLimit===e.type),g(1),O(" ",e.name," ")}}function d5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span"),p(2," Automatically upgrade your home up to a "),d(3,"select",14),x("change",function(r){return I(e),C(2).autoBuyHomeLimitChanged(r)}),M(4,h5,2,3,"option",15),h()()()}if(2&n){const e=C(2);g(4),b("ngForOf",e.homeService.homesList)}}function f5(n,t){if(1&n){const e=j();d(0,"mat-tab"),M(1,l5,2,0,"ng-template",1),M(2,c5,5,1,"div",12),M(3,u5,5,1,"div",12),M(4,d5,5,1,"div",12),d(5,"div")(6,"span")(7,"input",6),x("change",function(r){return I(e),C().autoPauseThugs(r)}),h(),d(8,"label",7),p(9,"Automatically pause if thugs rough you up."),h()()()()}if(2&n){const e=C();g(2),b("ngIf",e.homeService.autoBuyLandUnlocked),g(1),b("ngIf",e.homeService.autoFieldUnlocked),g(1),b("ngIf",e.homeService.autoBuyHomeUnlocked),g(3),b("checked",e.homeService.thugPause)}}function p5(n,t){1&n&&(d(0,"span",11),p(1,"Crafting"),h())}function m5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",17),x("change",function(r){return I(e),C(2).autoequipEnableChange(r)}),h(),d(3,"label",18),p(4,"Automatically equip best equipment"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoequipBestEnabled)}}function g5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",19),x("change",function(r){return I(e),C(2).automergeEquippedChange(r)}),h(),d(3,"label",20),p(4,"Automatically merge onto equipped equipment"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.automergeEquipped)}}function v5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",21),x("change",function(r){return I(e),C(2).useSpiritGemWeaponsChange(r)}),h(),d(3,"label",22),p(4,"Use spirit gem when crafting weapons"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.useSpiritGemWeapons)}}function y5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",23),x("change",function(r){return I(e),C(2).useSpiritGemPotionsChange(r)}),h(),d(3,"label",24),p(4,"Use spirit gem when crafting potions"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.useSpiritGemPotions)}}function _5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",25),x("change",function(r){return I(e),C(2).useCheapestSpiritGemChange(r)}),h(),d(3,"label",26),p(4,"Use your lowest grade spirit gem instead of your highest"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.useCheapestSpiritGem)}}function b5(n,t){if(1&n&&(d(0,"mat-tab"),M(1,p5,2,0,"ng-template",1),M(2,m5,5,1,"div",12),M(3,g5,5,1,"div",12),M(4,v5,5,1,"div",12),M(5,y5,5,1,"div",12),M(6,_5,5,1,"div",12),h()),2&n){const e=C();g(2),b("ngIf",e.inventoryService.autoequipBestArmor||e.inventoryService.autoequipBestWeapon),g(1),b("ngIf",e.inventoryService.autoequipBestArmor&&e.inventoryService.autoArmorMergeUnlocked||e.inventoryService.autoequipBestWeapon&&e.inventoryService.autoArmorMergeUnlocked),g(1),b("ngIf",e.inventoryService.useSpiritGemUnlocked),g(1),b("ngIf",e.inventoryService.useSpiritGemUnlocked),g(1),b("ngIf",e.inventoryService.useSpiritGemUnlocked)}}function S5(n,t){1&n&&(d(0,"span",11),p(1,"Sales"),h())}function w5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",27),x("change",function(r){return I(e),C(2).autoSellOldHerbs(r)}),h(),d(3,"label",28),p(4,"Automatically sell lower grade herbs than what current activities produce"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldHerbsEnabled)}}function C5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",29),x("change",function(r){return I(e),C(2).autoSellOldWood(r)}),h(),d(3,"label",30),p(4,"Automatically sell lower grade wood than what current activities produce"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldWoodEnabled)}}function k5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",31),x("change",function(r){return I(e),C(2).autoSellOldOre(r)}),h(),d(3,"label",32),p(4,"Automatically sell lower grade ore than what current activities produce"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldOreEnabled)}}function M5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",33),x("change",function(r){return I(e),C(2).autoSellOldBars(r)}),h(),d(3,"label",34),p(4,"Automatically sell lower grade bars than what current activities produce"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldBarsEnabled)}}function D5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",35),x("change",function(r){return I(e),C(2).autoSellOldHides(r)}),h(),d(3,"label",36),p(4,"Automatically sell lower grade hides than what current activities produce"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldHidesEnabled)}}function x5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",37),x("change",function(r){return I(e),C(2).autoSellOldGems(r)}),h(),d(3,"label",38),p(4,"Automatically sell lower grade gems than what current monsters drop"),h()()()}if(2&n){const e=C(2);g(2),b("checked",e.inventoryService.autoSellOldGemsEnabled)}}function T5(n,t){if(1&n){const e=j();d(0,"div")(1,"span"),p(2),A(3,"titlecase"),h(),d(4,"span"),p(5," - Reserve \xa0"),d(6,"input",13),x("change",function(r){const a=I(e).$implicit;return C(3).autoSellReserveChange(r,a)}),h(),p(7,"\xa0 "),d(8,"button",41),x("click",function(){const o=I(e).$implicit;return C(3).inventoryService.unAutoSell(o.name)}),p(9,"Stop Selling"),h()()()}if(2&n){const e=t.$implicit;g(2),O(" - ",B(3,2,e.name)," "),g(4),pe("value",e.reserve)}}function E5(n,t){if(1&n&&(d(0,"div",2)(1,"span"),p(2," Automatically Sold Items: "),h(),d(3,"div",39),M(4,T5,10,4,"div",40),h()()),2&n){const e=C(2);g(4),b("ngForOf",e.inventoryService.autoSellEntries)}}function A5(n,t){if(1&n){const e=j();d(0,"div")(1,"span"),p(2),A(3,"titlecase"),h(),d(4,"span"),p(5," - Reserve \xa0"),d(6,"input",13),x("change",function(r){const a=I(e).$implicit;return C(3).autoUseReserveChange(r,a)}),h(),p(7,"\xa0 "),d(8,"button",41),x("click",function(){const o=I(e).$implicit;return C(3).inventoryService.unAutoUse(o.name)}),p(9,"Stop Using"),h()()()}if(2&n){const e=t.$implicit;g(2),O(" - ",B(3,2,e.name)," "),g(4),pe("value",e.reserve)}}function P5(n,t){if(1&n&&(d(0,"div",2)(1,"span"),p(2,"Automatically Used Items:"),h(),d(3,"div",39),M(4,A5,10,4,"div",40),h()()),2&n){const e=C(2);g(4),b("ngForOf",e.inventoryService.autoUseEntries)}}function I5(n,t){if(1&n){const e=j();d(0,"div")(1,"span"),p(2),A(3,"titlecase"),d(4,"input",13),x("change",function(r){const a=I(e).$implicit;return C(3).autoBalanceUseChanged(r,a)}),h(),p(5," then Sell "),d(6,"input",13),x("change",function(r){const a=I(e).$implicit;return C(3).autoBalanceSellChanged(r,a)}),h(),d(7,"button",41),x("click",function(){const o=I(e).$implicit;return C(3).inventoryService.unAutoBalance(o.name)}),p(8,"Stop Balancing"),h()()()}if(2&n){const e=t.$implicit;g(2),O(" -",B(3,3,e.name)," Use "),g(2),pe("value",e.useNumber),g(2),pe("value",e.sellNumber)}}function O5(n,t){if(1&n&&(d(0,"div",2)(1,"span"),p(2,"Automatically Balanced Items:"),h(),d(3,"div",39),M(4,I5,9,5,"div",40),h()()),2&n){const e=C(2);g(4),b("ngForOf",e.inventoryService.autoBalanceItems)}}function R5(n,t){if(1&n&&(d(0,"mat-tab"),M(1,S5,2,0,"ng-template",1),M(2,w5,5,1,"div",12),M(3,C5,5,1,"div",12),M(4,k5,5,1,"div",12),M(5,M5,5,1,"div",12),M(6,D5,5,1,"div",12),M(7,x5,5,1,"div",12),M(8,E5,5,1,"div",12),M(9,P5,5,1,"div",12),M(10,O5,5,1,"div",12),h()),2&n){const e=C();g(2),b("ngIf",e.inventoryService.autoSellOldHerbs),g(1),b("ngIf",e.inventoryService.autoSellOldWood),g(1),b("ngIf",e.inventoryService.autoSellOldOre),g(1),b("ngIf",e.inventoryService.autoSellOldOre),g(1),b("ngIf",e.inventoryService.autoSellOldHides),g(1),b("ngIf",e.inventoryService.autoSellOldGemsUnlocked),g(1),b("ngIf",e.inventoryService.autoSellUnlocked),g(1),b("ngIf",e.inventoryService.autoUseUnlocked),g(1),b("ngIf",e.inventoryService.autoBalanceUnlocked)}}function F5(n,t){1&n&&(d(0,"span",11),p(1,"Auto-buy"),h())}function L5(n,t){if(1&n){const e=j();d(0,"div",2)(1,"span")(2,"input",42),x("change",function(r){return I(e),C(2).useAutoBuyReserveChanged(r)}),h(),d(3,"label",43),p(4,"Auto-buying should reserve "),h(),d(5,"input",13),x("change",function(r){return I(e),C(2).autoBuyReserveAmountChanged(r)}),h(),p(6," taels instead of 10 days worth of expenses "),h()()}if(2&n){const e=C(2);g(2),b("checked",e.homeService.useAutoBuyReserve),g(3),pe("value",e.homeService.autoBuyReserveAmount)}}function N5(n,t){if(1&n){const e=j();d(0,"tr")(1,"td")(2,"button",46),x("click",function(){const o=I(e).index;return C(3).autoBuySettingsPriorityChanged(o,!0)}),p(3,"\u25b2"),h()(),d(4,"td")(5,"button",46),x("click",function(){const o=I(e).index;return C(3).autoBuySettingsPriorityChanged(o,!1)}),p(6,"\u25bc"),h()(),d(7,"td",47),p(8),h(),d(9,"td",48)(10,"input",49),x("change",function(r){const a=I(e).$implicit;return C(3).autoBuySettingsEnabledChange(r,a)}),h()(),d(11,"td",48)(12,"input",49),x("change",function(r){const a=I(e).$implicit;return C(3).autoBuySettingsWaitForFinishChange(r,a)}),h()()()}if(2&n){const e=t.$implicit,i=t.first,r=t.last;g(2),b("disabled",i),g(3),b("disabled",r),g(3),me(e.label),g(2),b("checked",e.enabled),g(2),b("checked",e.waitForFinish)}}function B5(n,t){if(1&n&&(d(0,"div",2)(1,"span"),p(2," Auto-Buyer Options: "),d(3,"table",44)(4,"tr")(5,"th",45),p(6,"Priority Order"),h(),d(7,"th"),p(8,"Enabled"),h(),d(9,"th"),p(10,"Wait For Finish"),h()(),M(11,N5,13,5,"tr",40),h()()()),2&n){const e=C(2);g(11),b("ngForOf",e.autoBuyerService.autoBuyerSettings)}}function H5(n,t){if(1&n&&(d(0,"mat-tab"),M(1,F5,2,0,"ng-template",1),M(2,L5,7,2,"div",12),M(3,B5,12,1,"div",12),h()),2&n){const e=C();g(2),b("ngIf",e.homeService.autoBuyLandUnlocked||e.homeService.autoBuyHomeUnlocked||e.homeService.autoBuyFurnitureUnlocked),g(1),b("ngIf",e.autoBuyerService.autoBuyerSettingsUnlocked)}}let V5=(()=>{class n{constructor(e,i,r,o,a,s,l){this.homeService=e,this.characterService=i,this.inventoryService=r,this.gameStateService=o,this.followerService=a,this.autoBuyerService=s,this.mainLoopService=l}autoSellReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoUseReserveChange(e,i){e.target instanceof HTMLInputElement&&(i.reserve=Math.floor(parseFloat(e.target.value)),i.reserve||(i.reserve=0))}autoBuyLandLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyLandLimit=Math.floor(parseFloat(e.target.value)),this.homeService.autoBuyLandLimit||(this.homeService.autoBuyLandLimit=0))}autoFieldLimitChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoFieldLimit=Math.floor(parseFloat(e.target.value)),this.homeService.autoFieldLimit||(this.homeService.autoFieldLimit=0))}autoBuyHomeLimitChanged(e){e.target instanceof HTMLSelectElement&&(this.homeService.autoBuyHomeLimit=parseInt(e.target.value))}autoPauseThugs(e){e.target instanceof HTMLInputElement&&(this.homeService.thugPause=!this.homeService.thugPause)}useAutoBuyReserveChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.useAutoBuyReserve=e.target.checked)}autoBuyReserveAmountChanged(e){e.target instanceof HTMLInputElement&&(this.homeService.autoBuyReserveAmount=parseFloat(e.target.value),this.homeService.autoBuyReserveAmount||(this.homeService.autoBuyReserveAmount=0))}autoBalanceUseChanged(e,i){e.target instanceof HTMLInputElement&&(i.useNumber=Math.floor(parseFloat(e.target.value)),i.useNumber||(i.useNumber=0))}autoBalanceSellChanged(e,i){e.target instanceof HTMLInputElement&&(i.sellNumber=Math.floor(parseFloat(e.target.value)),i.sellNumber||(i.sellNumber=0))}useSpiritGemWeaponsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemWeapons=e.target.checked)}useSpiritGemPotionsChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useSpiritGemPotions=e.target.checked)}useCheapestSpiritGemChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.useCheapestSpiritGem=e.target.checked)}autoequipEnableChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoequipBestEnabled=e.target.checked)}automergeEquippedChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.automergeEquipped=e.target.checked)}autoSellOldHerbs(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHerbsEnabled=e.target.checked)}autoSellOldWood(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldWoodEnabled=e.target.checked)}autoSellOldOre(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldOreEnabled=e.target.checked)}autoSellOldBars(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldBarsEnabled=e.target.checked)}autoSellOldHides(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldHidesEnabled=e.target.checked)}autoSellOldGems(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoSellOldGemsEnabled=e.target.checked)}autoBuySettingsPriorityChanged(e,i){this.autoBuyerService.autoBuyerSettings.splice(e+(i?-1:1),0,this.autoBuyerService.autoBuyerSettings.splice(e,1)[0])}autoBuySettingsEnabledChange(e,i){e.target instanceof HTMLInputElement&&(i.enabled=e.target.checked)}autoBuySettingsWaitForFinishChange(e,i){e.target instanceof HTMLInputElement&&(i.waitForFinish=e.target.checked)}easyModeChange(e){if(e.target instanceof HTMLInputElement)if(e.preventDefault(),e.stopPropagation(),this.characterService.characterState.easyMode)this.characterService.characterState.easyMode=!1;else{if(!this.gameStateService.easyModeEver){if(!confirm("This will enable easy mode and mark your save permanently. Are you sure?"))return void(e.target.checked=!1);this.gameStateService.easyModeEver=!0}this.characterService.characterState.easyMode=!0}}autoBuyFoodChange(e){e.target instanceof HTMLInputElement&&(this.inventoryService.autoBuyFood=e.target.checked)}scientificNotationChange(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.scientificNotation=e.target.checked,this.gameStateService.savetoLocalStorage(),window.location.href=window.location.href)}}return n.\u0275fac=function(e){return new(e||n)(_(Ze),_(Ie),_(W),_(qn),_(Ft),_(Gc),_(Ct))},n.\u0275cmp=le({type:n,selectors:[["app-options-modal"]],decls:29,vars:8,consts:[[1,"darkMode","optionsDiv"],["mat-tab-label",""],[1,"optionField"],["type","checkbox","id","easyMode","tooltip","This game is much too hard and takes much too long to play to the end. Click this to make it easier. Be warned: you will forever be known as a cultivator who took the easy path to immortality.",3,"checked","change"],["for","easyMode"],[4,"ngIf"],["type","checkbox","id","autoBuyFood",3,"checked","change"],["for","autoBuyFood"],["type","checkbox","id","scientificNotation",3,"checked","change"],["for","scientificNotation"],[1,"spaced","warning"],[1,"tab-label"],["class","optionField",4,"ngIf"],["min","0","type","number",1,"inputBox",3,"value","change"],["name","homeList","id","homeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"],["type","checkbox","id","autoequipEnable",3,"checked","change"],["for","autoequipEnable"],["type","checkbox","id","automergeEquipped",3,"checked","change"],["for","automergeEquipped"],["type","checkbox","id","useSpiritGemWeapons",3,"checked","change"],["for","useSpiritGemWeapons"],["type","checkbox","id","useSpiritGemPotions",3,"checked","change"],["for","useSpiritGemPotions"],["type","checkbox","id","useCheapestSpiritGem",3,"checked","change"],["for","useCheapestSpiritGem"],["type","checkbox","id","autosellOldHerbs",3,"checked","change"],["for","autosellOldHerbs"],["type","checkbox","id","autosellOldWood",3,"checked","change"],["for","autosellOldWood"],["type","checkbox","id","autosellOldOre",3,"checked","change"],["for","autosellOldOre"],["type","checkbox","id","autoSellOldBars",3,"checked","change"],["for","autoSellOldBars"],["type","checkbox","id","autosellOldHides",3,"checked","change"],["for","autosellOldHides"],["type","checkbox","id","autosellOldGems",3,"checked","change"],["for","autosellOldGems"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],[3,"click"],["type","checkbox","id","useAutoBuyReserve",3,"checked","change"],["for","useAutoBuyReserve"],[1,"priorityTable"],["colspan","3"],[1,"reorderListButton",3,"disabled","click"],[1,"priorityTableNameColumn"],[1,"priorityTableCheckboxColumn"],["type","checkbox",3,"checked","change"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Manuals Options"),h(),d(3,"mat-tab-group")(4,"mat-tab"),M(5,a5,2,0,"ng-template",1),d(6,"div",2)(7,"span")(8,"input",3),x("change",function(o){return i.easyModeChange(o)}),h(),d(9,"label",4),p(10,"Easy Mode"),h()(),M(11,s5,2,0,"span",5),h(),d(12,"div",2)(13,"span")(14,"input",6),x("change",function(o){return i.autoBuyFoodChange(o)}),h(),d(15,"label",7),p(16,"Automatically buy rice each day if you have no food to avoid starvation."),h()()(),d(17,"div",2)(18,"span")(19,"input",8),x("change",function(o){return i.scientificNotationChange(o)}),h(),d(20,"label",9),p(21,"Turn on numbers with scientific notation."),h(),p(22,"\xa0 "),d(23,"span",10),p(24,"Changing this will save and reload immediately."),h()()()(),M(25,f5,10,4,"mat-tab",5),M(26,b5,7,5,"mat-tab",5),M(27,R5,11,9,"mat-tab",5),M(28,H5,4,2,"mat-tab",5),h()()),2&e&&(g(8),b("checked",i.characterService.characterState.easyMode),g(3),b("ngIf",i.gameStateService.easyModeEver),g(3),b("checked",i.inventoryService.autoBuyFood),g(5),b("checked",i.mainLoopService.scientificNotation),g(6),b("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoFieldUnlocked||i.homeService.autoBuyHomeUnlocked),g(1),b("ngIf",i.inventoryService.autoequipBestArmor||i.inventoryService.autoequipBestWeapon||i.inventoryService.useSpiritGemUnlocked),g(1),b("ngIf",i.inventoryService.autoSellOldHerbs||i.inventoryService.autoSellOldWood||i.inventoryService.autoSellOldOre||i.inventoryService.autoSellOldHides||i.inventoryService.autoSellOldGemsUnlocked||i.inventoryService.autoSellUnlocked||i.inventoryService.autoUseUnlocked||i.inventoryService.autoBalanceUnlocked),g(1),b("ngIf",i.homeService.autoBuyLandUnlocked||i.homeService.autoBuyHomeUnlocked||i.homeService.autoBuyFurnitureUnlocked||i.autoBuyerService.autoBuyerSettingsUnlocked))},directives:[ej,E1,HU,Tt,at,It,Nm,Hm],pipes:[Vn],styles:[".optionsDiv[_ngcontent-%COMP%]{overflow-y:auto;max-height:600px;min-height:250px}.inputBox[_ngcontent-%COMP%]{width:70px}.optionField[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:2px}.scrollingDiv[_ngcontent-%COMP%]{max-height:200px;overflow:auto}.warning[_ngcontent-%COMP%]{color:red}.priorityTable[_ngcontent-%COMP%]{background:var(--itemSlotColor);border:1px solid var(--panelBorder);border-radius:4px;margin:5px 10px 10px}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:x-small;font-weight:400;line-height:1}.priorityTable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{text-align:left}.priorityTable[_ngcontent-%COMP%]   .priorityTableNameColumn[_ngcontent-%COMP%]{width:100px;padding-left:5px}.priorityTable[_ngcontent-%COMP%]   .priorityTableCheckboxColumn[_ngcontent-%COMP%]{text-align:center;vertical-align:middle;width:50px}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none}.priorityTable[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{color:var(--disabledText);cursor:default}.tab-label[_ngcontent-%COMP%]{color:var(--disabledText)}"]}),n})();function U5(n,t){if(1&n&&(d(0,"span"),p(1),A(2,"bigNumber"),h()),2&n){const e=C();g(1),kn(" Next rank requires ",B(2,2,e.characterService.characterState.condenseSoulCoreCost)," spirituality and a grade ",e.storeService.soulCoreRank+12," monster gem. ")}}function j5(n,t){1&n&&(d(0,"span"),p(1," Max Rank "),h())}function q5(n,t){if(1&n&&(d(0,"span"),p(1),A(2,"bigNumber"),h()),2&n){const e=C();g(1),kn(" Next rank requires ",B(2,2,e.characterService.characterState.reinforceMeridiansCost)," spirituality and a grade ",e.storeService.meridianRank+16," monster gem. ")}}function z5(n,t){1&n&&(d(0,"span"),p(1," Max Rank "),h())}function Y5(n,t){if(1&n&&(d(0,"span"),p(1),A(2,"bigNumber"),h()),2&n){const e=C();g(1),kn(" Next rank requires ",B(2,2,e.characterService.characterState.bloodlineCost)," spirituality and a ",e.storeService.bloodLineHomeRequirement.name,". ")}}function $5(n,t){1&n&&(d(0,"span"),p(1," Max Rank "),h())}function G5(n,t){if(1&n&&(d(0,"span"),p(1),A(2,"number"),A(3,"number"),h()),2&n){const e=C();g(1),kn(" You have consumed ",je(2,2,100*(e.characterService.characterState.empowermentFactor-1),"1.0-0")," Empowerment Pills which multiplies all your attribute gains by ",je(3,5,e.characterService.characterState.getEmpowermentMult(),"1.0-3"),". You will always keep this bonus, even after ascending. ")}}let $k=(()=>{class n{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s}}return n.\u0275fac=function(e){return new(e||n)(_(to),_(Ie),_(Ze),_(W),_(xn),_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-ascension-store-modal"]],decls:39,vars:15,consts:[[1,"darkMode"],[3,"disabled","click"],[4,"ngIf"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Ascension Techniques"),h(),N(3,"hr"),d(4,"table")(5,"tr")(6,"td")(7,"button",1),x("click",function(){return i.storeService.condenseSoulCore()}),p(8,"Condense Soul Core"),h()(),d(9,"td"),p(10," End your current life, sacrifice all attributes and aptitudes, and permanently increase the amount of aptitude gained on each Reincarnation and Ascension. "),N(11,"br"),p(12),N(13,"br"),M(14,U5,3,4,"span",2),M(15,j5,2,0,"span",2),h()(),d(16,"tr")(17,"td")(18,"button",1),x("click",function(){return i.storeService.reinforceMeridians()}),p(19,"Reinforce Meridians"),h()(),d(20,"td"),p(21," End your current life, sacrifice all attributes and aptitudes, and permanently increase the power of your aptitudes when gaining attributes. "),N(22,"br"),p(23),N(24,"br"),M(25,q5,3,4,"span",2),M(26,z5,2,0,"span",2),h()(),d(27,"tr")(28,"td")(29,"button",1),x("click",function(){return i.storeService.upgradeBloodline()}),p(30),h()(),d(31,"td"),p(32),N(33,"br"),p(34),N(35,"br"),M(36,Y5,3,4,"span",2),M(37,$5,2,0,"span",2),h()()(),M(38,G5,4,8,"span",2),h()),2&e&&(g(7),b("disabled",i.storeService.soulCoreRank>8),g(5),O(" Current Rank: ",i.storeService.soulCoreRank," "),g(2),b("ngIf",i.storeService.soulCoreRank<9),g(1),b("ngIf",i.storeService.soulCoreRank>=9),g(3),b("disabled",i.storeService.meridianRank>8),g(5),O(" Current Rank: ",i.storeService.meridianRank," "),g(2),b("ngIf",i.storeService.meridianRank<9),g(1),b("ngIf",i.storeService.meridianRank>=9),g(3),b("disabled",i.characterService.characterState.bloodlineRank>=9),g(1),me(i.storeService.bloodlineLabel),g(2),O(" ",i.storeService.bloodlineDescription," "),g(2),O(" Current Rank: ",i.characterService.characterState.bloodlineRank," "),g(2),b("ngIf",i.characterService.characterState.bloodlineRank<9),g(1),b("ngIf",i.characterService.characterState.bloodlineRank>=9),g(1),b("ngIf",i.characterService.characterState.empowermentFactor>1))},styles:["table[_ngcontent-%COMP%]{border-spacing:8px}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}button[_ngcontent-%COMP%]{margin-top:2px}"]}),n})();function W5(n,t){if(1&n&&(d(0,"div"),p(1),h()),2&n){const e=C(2).$implicit;g(1),me(e.displayName)}}function K5(n,t){if(1&n&&(d(0,"div"),p(1),h()),2&n){const e=C(2).$implicit;g(1),me(e.name)}}function J5(n,t){if(1&n&&(d(0,"div",4),M(1,W5,2,1,"div",5),M(2,K5,2,1,"div",5),h()),2&n){const e=C().$implicit;pe("tooltip",e.description),g(1),b("ngIf",e.displayName),g(1),b("ngIf",!e.displayName)}}function Q5(n,t){1&n&&(d(0,"div",4),p(1," ? "),h()),2&n&&pe("tooltip",C().$implicit.hint)}function Z5(n,t){if(1&n&&(d(0,"div"),M(1,J5,3,3,"div",3),M(2,Q5,2,1,"div",3),h()),2&n){const e=t.$implicit;g(1),b("ngIf",e.unlocked),g(1),b("ngIf",!e.unlocked)}}let X5=(()=>{class n{constructor(e){this.achievementService=e}}return n.\u0275fac=function(e){return new(e||n)(_(wp))},n.\u0275cmp=le({type:n,selectors:[["app-achievement-panel"]],decls:6,vars:1,consts:[[1,"darkMode"],[1,"achievementGrid"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[4,"ngIf"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Achievements"),h(),N(3,"hr"),d(4,"div",1),M(5,Z5,3,2,"div",2),h()()),2&e&&(g(5),b("ngForOf",i.achievementService.achievements))},directives:[It,at,Tt],styles:[".itemSlot[_ngcontent-%COMP%]{width:90px;height:90px;font-size:small;display:table-cell;vertical-align:middle;cursor:default}.achievementGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;border-spacing:4px;max-height:600px}.itemSlot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{line-height:12px}.iconButton[_ngcontent-%COMP%]{float:right}"]}),n})();class e4{}class pr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),a=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(a):this.headers.set(o,[a])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new pr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof pr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let a=this.headers.get(e);if(!a)return;a=a.filter(s=>-1===o.indexOf(s)),0===a.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class t4{encodeKey(t){return Gk(t)}encodeValue(t){return Gk(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const r4=/%(\d[a-f0-9])/gi,o4={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Gk(n){return encodeURIComponent(n).replace(r4,(t,e)=>{var i;return null!==(i=o4[e])&&void 0!==i?i:t})}function Wk(n){return`${n}`}class mr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new t4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function n4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[a,s]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(a)||[];l.push(s),e.set(a,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new mr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Wk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Wk(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class a4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Kk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Jk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Qk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Qs{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function s4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new pr),this.context||(this.context=new a4),this.params){const a=this.params.toString();if(0===a.length)this.urlWithParams=e;else{const s=e.indexOf("?");this.urlWithParams=e+(-1===s?"?":s<e.length-1?"&":"")+a}}else this.params=new mr,this.urlWithParams=e}serializeBody(){return null===this.body?null:Kk(this.body)||Jk(this.body)||Qk(this.body)||function l4(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Qk(this.body)?null:Jk(this.body)?this.body.type||null:Kk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const f=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((m,v)=>m.set(v,t.setHeaders[v]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((m,v)=>m.set(v,t.setParams[v]),u)),new Qs(i,r,a,{params:u,headers:c,context:f,reportProgress:l,responseType:o,withCredentials:s})}}var Lt=(()=>((Lt=Lt||{})[Lt.Sent=0]="Sent",Lt[Lt.UploadProgress=1]="UploadProgress",Lt[Lt.ResponseHeader=2]="ResponseHeader",Lt[Lt.DownloadProgress=3]="DownloadProgress",Lt[Lt.Response=4]="Response",Lt[Lt.User=5]="User",Lt))();class Um extends class c4{constructor(t,e=200,i="OK"){this.headers=t.headers||new pr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Lt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Um({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function jm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Xk=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Qs)o=e;else{let l,c;l=r.headers instanceof pr?r.headers:new pr(r.headers),r.params&&(c=r.params instanceof mr?r.params:new mr({fromObject:r.params})),o=new Qs(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const a=Z(o).pipe(Xo(l=>this.handler.handle(l)));if(e instanceof Qs||"events"===r.observe)return a;const s=a.pipe(hn(l=>l instanceof Um));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return s.pipe(de(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return s.pipe(de(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return s.pipe(de(l=>l.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new mr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,jm(r,i))}post(e,i,r={}){return this.request("POST",e,jm(r,i))}put(e,i,r={}){return this.request("PUT",e,jm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(S(e4))},n.\u0275prov=R({token:n,factory:n.\u0275fac}),n})();const h4=["*"];let Ru;function Zs(n){var t;return(null===(t=function d4(){if(void 0===Ru&&(Ru=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(Ru=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ru}())||void 0===t?void 0:t.createHTML(n))||n}function eM(n){return Error(`Unable to find icon with the name "${n}"`)}function tM(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function nM(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ro{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Fu=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new ro(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const a=this._sanitizer.sanitize(Ee.HTML,r);if(!a)throw nM(r);const s=Zs(a);return this._addSvgIconConfig(e,i,new ro("",s,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ro(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(Ee.HTML,i);if(!o)throw nM(i);const a=Zs(o);return this._addSvgIconSetConfig(e,new ro("",a,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(Ee.RESOURCE_URL,e);if(!i)throw tM(e);const r=this._cachedIconsByUrl.get(i);return r?Z(Lu(r)):this._loadSvgIconFromConfig(new ro(e,null)).pipe(Ot(o=>this._cachedIconsByUrl.set(i,o)),de(o=>Lu(o)))}getNamedSvgIcon(e,i=""){const r=iM(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(e,a):Cs(eM(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Z(Lu(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(de(i=>Lu(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Z(r):function H1(...n){const t=gg(n),{args:e,keys:i}=C0(n),r=new ze(o=>{const{length:a}=e;if(!a)return void o.complete();const s=new Array(a);let l=a,c=a;for(let u=0;u<a;u++){let f=!1;mn(e[u]).subscribe(Je(o,m=>{f||(f=!0,c--),s[u]=m},()=>l--,void 0,()=>{(!l||!f)&&(c||o.next(i?k0(i,s):s),o.complete())}))}});return t?r.pipe(Qf(t)):r}(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Ui(s=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(Ee.RESOURCE_URL,a.url)} failed: ${s.message}`;return this._errorHandler.handleError(new Error(c)),Z(null)})))).pipe(de(()=>{const a=this._extractIconWithNameFromAnySet(e,i);if(!a)throw eM(e);return a}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const a=this._svgElementFromConfig(o),s=this._extractSvgIconFromSet(a,e,o.options);if(s)return s}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Ot(i=>e.svgText=i),de(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Z(null):this._fetchIcon(e).pipe(Ot(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,r);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),r);const s=this._svgElementFromString(Zs("<svg></svg>"));return s.appendChild(a),this._setSvgAttributes(s,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Zs("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:a,value:s}=r[o];"id"!==a&&i.setAttribute(a,s)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){var i;const{url:r,options:o}=e,a=null!==(i=null==o?void 0:o.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function f4(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const s=this._sanitizer.sanitize(Ee.RESOURCE_URL,r);if(!s)throw tM(r);const l=this._inProgressUrlFetches.get(s);if(l)return l;const c=this._httpClient.get(s,{responseType:"text",withCredentials:a}).pipe(de(u=>Zs(u)),P0(()=>this._inProgressUrlFetches.delete(s)),bg());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(iM(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return m4(o)?new ro(o.url,null,o.options):new ro(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(S(Xk,8),S(Jf),S(ve,8),S(ir))},n.\u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lu(n){return n.cloneNode(!0)}function iM(n,t){return n+":"+t}function m4(n){return!(!n.url||!n.options)}const g4=dm(class{constructor(n){this._elementRef=n}}),v4=new q("mat-icon-location",{providedIn:"root",factory:function y4(){const n=El(ve),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),rM=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],_4=rM.map(n=>`[${n}]`).join(", "),b4=/^url\(['"]?#(.*?)['"]?\)$/;let nn=(()=>{class n extends g4{constructor(e,i,r,o,a){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._currentIconFetch=Ke.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ca(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(a=>{o.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(_4),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)rM.forEach(a=>{const s=i[o],l=s.getAttribute(a),c=l?l.match(b4):null;if(c){let u=r.get(s);u||(u=[],r.set(s,u)),u.push({name:a,value:c[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(on(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(_(Ce),_(Fu),yo("aria-hidden"),_(v4),_(ir))},n.\u0275cmp=le({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(We("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),St("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[ie],ngContentSelectors:h4,decls:1,vars:0,template:function(e,i){1&e&&(ts(),ns(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),oM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n}),n.\u0275inj=Le({imports:[[$n],$n]}),n})();function S4(n,t){if(1&n&&(d(0,"span")(1,"mat-icon",6),p(2," help "),h(),p(3),h()),2&n){const e=C().$implicit;g(1),pe("tooltip",e.description),g(2),O(" ",e.name," ")}}function w4(n,t){1&n&&(d(0,"span"),p(1," ???????????? "),h())}function C4(n,t){if(1&n&&(d(0,"div",7),N(1,"span"),h()),2&n){const e=C().$implicit,i=C();We("value",i.Math.floor(i.impossibleTaskService.taskProgress[e.taskType].progress))("max",i.Math.floor(e.progressRequired)),g(1),Kt("width",100*i.impossibleTaskService.taskProgress[e.taskType].progress/e.progressRequired,"%")}}function k4(n,t){1&n&&(d(0,"span")(1,"mat-icon"),p(2," done "),h()())}function M4(n,t){if(1&n){const e=j();d(0,"span")(1,"button",8),x("click",function(){return I(e),C(2).impossibleTaskService.stopTask()}),p(2,"Stop"),h()()}}function D4(n,t){if(1&n){const e=j();d(0,"span")(1,"button",8),x("click",function(){return I(e),C(2).impossibleTaskService.startTask()}),p(2,"Start"),h()()}}function x4(n,t){if(1&n&&(d(0,"tr")(1,"td"),M(2,S4,4,2,"span",4),M(3,w4,2,0,"span",4),h(),d(4,"td"),M(5,C4,2,4,"div",5),h(),d(6,"td"),M(7,k4,3,0,"span",4),M(8,M4,3,0,"span",4),M(9,D4,3,0,"span",4),h()()),2&n){const e=t.$implicit,i=C();g(2),b("ngIf",i.impossibleTaskService.nextTask>=e.taskType),g(1),b("ngIf",i.impossibleTaskService.nextTask<e.taskType),g(2),b("ngIf",i.impossibleTaskService.nextTask>=e.taskType),g(2),b("ngIf",i.impossibleTaskService.taskProgress[e.taskType].complete),g(1),b("ngIf",i.impossibleTaskService.activeTaskIndex===e.taskType),g(1),b("ngIf",-1===i.impossibleTaskService.activeTaskIndex&&i.impossibleTaskService.nextTask===e.taskType)}}let T4=(()=>{class n{constructor(e,i,r){this.impossibleTaskService=e,this.gameStateService=i,this.activityService=r,this.Math=Math}ngOnInit(){}pauseOnImpossibleFailChange(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnImpossibleFail=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(la),_(qn),_(st))},n.\u0275cmp=le({type:n,selectors:[["app-impossible-task-panel"]],decls:11,vars:2,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnImpossibleFail",3,"checked","change"],["for","pauseOnImpossibleFail"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","progress-bar","style","height:20px;",4,"ngIf"],[3,"tooltip"],[1,"progress-bar",2,"height","20px"],[3,"click"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Impossible Tasks"),h(),d(3,"span")(4,"input",1),x("change",function(o){return i.pauseOnImpossibleFailChange(o)}),h(),d(5,"label",2),p(6,"Automatically pause if task related activity fails"),h()(),N(7,"hr"),d(8,"div")(9,"table"),M(10,x4,10,6,"tr",3),h()()()),2&e&&(g(4),b("checked",i.activityService.pauseOnImpossibleFail),g(6),b("ngForOf",i.impossibleTaskService.tasks))},directives:[It,at,nn,Tt],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();const qm={appVersion:Wm(147).i8,production:!0};let E4=(()=>{class n{constructor(e){this.gameStateService=e}importClick(e){this.gameStateService.importGame(e),this.gameStateService.updateImportFlagKey(!0),window.location.href=window.location.href}exportClick(){document.getElementById("saveFileTextArea").value=this.gameStateService.getGameExport()}importFileClick(e){const i=e.target.files[0];if(i){const r=new FileReader,o=this.gameStateService;r.readAsText(i,"UTF-8"),r.onload=function(){"string"==typeof r.result&&o.importGame(r.result)}}}exportFileClick(){const e=document.createElement("a");e.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(this.gameStateService.getGameExport())}`),e.setAttribute("download",`Immortality_Idle_${this.gameStateService.isExperimental?"Experimental":"v"+qm.appVersion}_${(new Date).toISOString()}.txt`);const i=new MouseEvent("click");e.dispatchEvent(i)}}return n.\u0275fac=function(e){return new(e||n)(_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-export-panel"]],decls:18,vars:0,consts:[[1,"darkMode"],["id","saveFileTextArea"],["saveFileTextArea",""],[3,"click"],["type","file","id","importFile",3,"change"],["importFile",""]],template:function(e,i){if(1&e){const r=j();d(0,"div",0)(1,"h3"),p(2,"Import/Export Save File"),h(),N(3,"hr"),d(4,"div")(5,"textarea",1,2),p(7,"To export a game, press the Export button then copy and paste the contents of this box to wherever you want to store the save data. To import a game, paste save data into this box and press the Import button. Make sure that the only thing in the box is your save data or the save may be corrupted. The best way to do this is have the game data in your clipboard, then click on this box and press Ctrl-a then Ctrl-v."),h()(),d(8,"button",3),x("click",function(){I(r);const a=xt(6);return i.importClick(a.value)}),p(9,"Import"),h(),d(10,"button",3),x("click",function(){return i.exportClick()}),p(11,"Export"),h(),d(12,"input",4,5),x("change",function(a){return i.importFileClick(a)}),h(),d(14,"button",3),x("click",function(){return I(r),xt(13).click()}),p(15,"Import file"),h(),d(16,"button",3),x("click",function(){return i.exportFileClick()}),p(17,"Export file"),h()()}},styles:["textarea[_ngcontent-%COMP%]{width:450px;height:450px}#importFile[_ngcontent-%COMP%]{display:none}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})(),A4=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=le({type:n,selectors:[["app-tutorial-panel"]],decls:28,vars:0,consts:[[1,"darkMode"],[1,"tutorialDiv"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Tutorial"),h(),N(3,"hr"),d(4,"div",1)(5,"span"),p(6," Immortality Idle is a time management incremental game inspired by cultivation stories. You can choose your daily activities to survive, grow, and thrive with the goal of achieving immortality. You will probably not achieve your goal during your first lifetime. Don't worry if you die before you succeed! The attributes you develop during each life will improve your aptitudes when you are reincarnated, making your future efforts even more effective. If you persist in your growth, find balance, and seek insights, you will ultimately develop magical abilities, perform impossible tasks, and become an immortal. "),h(),N(7,"hr"),d(8,"span"),p(9," The game is intended to be played on a laptop or desktop computer using the Chrome browser. "),h(),N(10,"hr"),d(11,"span"),p(12," Your attributes govern what you are able to do. At first, you will only be able to perform some very simple activities. As your attributes increase, you will find new activities appearing that you can try. Many of these activities will earn you money (taels), but the amount you earn depends on your attributes and knowledge of the related lore for the job. A strong and tough blacksmith with good knowledge of metal lore will make much more each day than a weak one just beginning the trade. Many activities have advanced ranks that you can achieve by increasing your attributes, and you may even create some items so good that you want to keep them for yourself. "),h(),N(13,"hr"),d(14,"span"),p(15," Your health shows how much damage you can take before dying. Your stamina determines how much work you can do before you are exhausted. Some stamina can be recovered automatically each day depending on what kind of home and furniture you have, but you may need to take a rest day occasionally. "),h(),N(16,"hr"),d(17,"span"),p(18," Your home is an important part of your life. A meager tent leaves you vulnerable to wild animals while a solid house can help you recover each day. Keeping up a home requires money each day, and better homes cost more. Not even an aspiring immortal can avoid their bills. "),h(),N(19,"hr"),d(20,"span"),p(21," You will need to eat each day to survive. If you have food in your inventory, you will automatically eat some each day. If you don't have food but you have money, you will spend a tael to buy a bowl of rice. If don't have any food or money, you put yourself at risk of starvation. Eating a healthy diet can lead to better health, more stamina, and even a longer life. "),h(),N(22,"hr"),d(23,"span"),p(24," As you move forward on your journey toward immortality, you will unlock many achievements. Each one can provide you with a benefit. Some achievements will allow you to purchase valuable manuals that will provide you with new abilities essential to your immortal progression. The Story messages in the game's log can help you remember your major accomplishments. "),h(),N(25,"hr"),d(26,"span"),p(27," There are many secrets to discover and insights to learn. Many things will give you more information if you hover the mouse over them. Now, it's time to develop your potential for immortality. Get to it! "),h()()())},styles:[".tutorialDiv[_ngcontent-%COMP%]{max-height:500px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})(),P4=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=le({type:n,selectors:[["app-changelog-panel"]],decls:211,vars:0,consts:[[1,"darkMode"],[1,"changeLogContainer"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Change Log"),h(),N(3,"hr"),d(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8,"v1.0.55"),h(),d(9,"td"),p(10,"Monsters have started dropping better hides. Inventory sorting. A new activity. More options panel options. You can import and export save files instead of text blocks. Bug fixes."),h()(),d(11,"tr")(12,"td"),p(13,"v1.0.54"),h(),d(14,"td"),p(15,"Preformance improvements to allow experienced cultivators fly through the centuries. A new activity. Bug fixes."),h()(),d(16,"tr")(17,"td"),p(18,"v1.0.53"),h(),d(19,"td"),p(20,"You might be more powerful now. Certain enemies might also be. More powerful herbs have been spotted in the wilds. New crafting options. UI improvements and bug fixes."),h()(),d(21,"tr")(22,"td"),p(23,"v1.0.52"),h(),d(24,"td"),p(25,"Even more Bloodline ascensions are now available. New activities. Bug fixes."),h()(),d(26,"tr")(27,"td"),p(28,"v1.0.51"),h(),d(29,"td"),p(30,"A Statistics Panel is now available to show cultivators some information about what they have done. Additional Bloodline ascensions are now available. A late game boss is stronger but now has less health to make that fight less of a grind. Cultivators with the right knowledge can automatically rest instead of becoming exhausted. Some additional game options are available. Balance changes and bug fixes."),h()(),d(31,"tr")(32,"td"),p(33,"v1.0.50"),h(),d(34,"td"),p(35,"An easy mode is available to cultivators who think the game is too hard. New achievements and manuals. New activities for magically empowered seekers of immortality. UI improvements. Bug fixes and balance improvements."),h()(),d(36,"tr")(37,"td"),p(38,"v1.0.49"),h(),d(39,"td"),p(40,"Pause before death is available if you know the right secrets. Improvements to followers. Better game performance. "),h()(),d(41,"tr")(42,"td"),p(43,"v1.0.48"),h(),d(44,"td"),p(45,"Better follower management. Item names stay more consistent when merged and upgraded. Balance and bug fixes."),h()(),d(46,"tr")(47,"td"),p(48,"v1.0.47"),h(),d(49,"td"),p(50,"Better inventory slots that don't jiggle around. Auto-sell and auto-use can now reserve some of the items (set value in the options panel). Bug and balance fixes."),h()(),d(51,"tr")(52,"td"),p(53,"v1.0.46"),h(),d(54,"td"),p(55,"Condensing your Soul Core now provides greater benefits."),h()(),d(56,"tr")(57,"td"),p(58,"v1.0.45"),h(),d(59,"td"),p(60,"A powerful new pill can now be created by aspiring immortals who have mastered many jobs."),h()(),d(61,"tr")(62,"td"),p(63,"v1.0.44"),h(),d(64,"td"),p(65,"Autobuy options are now configurable if you have found the secret knowledge needed."),h()(),d(66,"tr")(67,"td"),p(68,"v1.0.43"),h(),d(69,"td"),p(70,"When the game is paused you can advance a day with the Enter key. Time now moves faster the older you are starting at 5,000 years old. Base lifespan now increases based on total days lived, not number of lives lived. Balance changes to attributes and aptitudes."),h()(),d(71,"tr")(72,"td"),p(73,"v1.0.42"),h(),d(74,"td"),p(75,"Gaining large numbers of items at once is now much more efficient, so having obscenely huge farms no longer breaks the game."),h()(),d(76,"tr")(77,"td"),p(78,"v1.0.41"),h(),d(79,"td"),p(80,"Panel size fixes. Bloodline ascension rank 5. Fixed log line duplication bug. Pause on death should no longer allow extra days to pass before pausing."),h()(),d(81,"tr")(82,"td"),p(83,"v1.0.40"),h(),d(84,"td"),p(85,"Changed the way damage and armor work. Late-game fights should now be more epic and interesting."),h()(),d(86,"tr")(87,"td"),p(88,"v1.0.39"),h(),d(89,"td"),p(90,"Better descriptions for resting activities. Shift-click activities to load them onto the schedule 10 at a time. Canopy beds give more health."),h()(),d(91,"tr")(92,"td"),p(93,"v1.0.38"),h(),d(94,"td"),p(95,"Better performance for aspiring immortals who want to buy vast tracts of land."),h()(),d(96,"tr")(97,"td"),p(98,"v1.0.37"),h(),d(99,"td"),p(100,"New status bars that show values on non-chrome browsers."),h()(),d(101,"tr")(102,"td"),p(103,"v1.0.36"),h(),d(104,"td"),p(105,"You can now choose how much money to reserve when doing automatic purchases."),h()(),d(106,"tr")(107,"td"),p(108,"v1.0.35"),h(),d(109,"td"),p(110,"The log panel can now be resized by sliding the slider up and down. The Ascension Techniques panel stays unlocked once unlocked. Old junky gems can now be easily removed if you know how."),h()(),d(111,"tr")(112,"td"),p(113,"v1.0.34"),h(),d(114,"td"),p(115,"Style fix, clear schedule button, and auto-equip can now be turned off in the options."),h()(),d(116,"tr")(117,"td"),p(118,"v1.0.33"),h(),d(119,"td"),p(120,"Some styling improvements and a fix to very late game reward loot."),h()(),d(121,"tr")(122,"td"),p(123,"v1.0.32"),h(),d(124,"td"),p(125,"Automerging will now upgrade equipped weapons and armor if all merge manuals have been achieved and purchased."),h()(),d(126,"tr")(127,"td"),p(128,"v1.0.31"),h(),d(129,"td"),p(130,"Some balance changes."),h()(),d(131,"tr")(132,"td"),p(133,"v1.0.30"),h(),d(134,"td"),p(135,"A certain impossible task is now slightly less impossible."),h()(),d(136,"tr")(137,"td"),p(138,"v1.0.29"),h(),d(139,"td"),p(140,"Silly levels that stamina could reach are now slightly less silly. Pausing the game banks time ticks."),h()(),d(141,"tr")(142,"td"),p(143,"v1.0.28"),h(),d(144,"td"),p(145,"Improvements to automatic home purchasing."),h()(),d(146,"tr")(147,"td"),p(148,"v1.0.27"),h(),d(149,"td"),p(150,"You can now save and load an activity schedule."),h()(),d(151,"tr")(152,"td"),p(153,"v1.0.26"),h(),d(154,"td"),p(155,"Fixed a bug with activities incorrectly being removed from the schedule on reincarnation."),h()(),d(156,"tr")(157,"td"),p(158,"v1.0.25"),h(),d(159,"td"),p(160,"New activities and activity upgrades now get log entries. Armor now degrades when attacked."),h()(),d(161,"tr")(162,"td"),p(163,"v1.0.24"),h(),d(164,"td"),p(165,"Bug fix for aspiring immortals who got tangled up while trying to swim to the bottom of the ocean."),h()(),d(166,"tr")(167,"td"),p(168,"v1.0.23"),h(),d(169,"td"),p(170,"Bug fix for aspiring immortals who achieved infinite wealth. Money is now capped at an amount that is plenty for everything but doesn't break your computer."),h()(),d(171,"tr")(172,"td"),p(173,"v1.0.22"),h(),d(174,"td"),p(175,"Leatherworking and Woodworking now have master ranks. You can now see how much money you made on each job the last time you did it. Better logs can now be chopped."),h()(),d(176,"tr")(177,"td"),p(178,"v1.0.21"),h(),d(179,"td"),p(180,"Followers can now be trained to be more powerful and can be automatically dismissed by job."),h()(),d(181,"tr")(182,"td"),p(183,"v1.0.20"),h(),d(184,"td"),p(185,"Added Discord link."),h()(),d(186,"tr")(187,"td"),p(188,"v1.0.19"),h(),d(189,"td"),p(190,"Added changelog."),h()(),d(191,"tr")(192,"td"),p(193,"v1.0.18"),h(),d(194,"td"),p(195,"New follower types are now available."),h()(),d(196,"tr")(197,"td"),p(198,"v1.0.17"),h(),d(199,"td"),p(200,"Crafting log entries can now be filtered out."),h()(),d(201,"tr")(202,"td"),p(203,"v1.0.16"),h(),d(204,"td"),p(205,"Added tutorial help button."),h()(),d(206,"tr")(207,"td"),p(208,"v0.0.0 - v1.0.15"),h(),d(209,"td"),p(210,"Created and launched the game."),h()()()()())},styles:["table[_ngcontent-%COMP%]{border-spacing:4px}.changeLogContainer[_ngcontent-%COMP%]{max-height:600px}td[_ngcontent-%COMP%]{vertical-align:top}"]}),n})();function I4(n,t){if(1&n&&(d(0,"tr")(1,"td"),p(2),A(3,"camelToTitle"),h(),d(4,"td"),p(5),A(6,"bigNumber"),h()()),2&n){const e=t.$implicit;g(2),O(" Highest ",B(3,2,e.key)," "),g(3),O(" ",B(6,4,e.value)," ")}}let aM=(()=>{class n{constructor(e,i,r,o,a,s,l,c,u){this.mainLoopService=e,this.storeService=i,this.inventoryService=r,this.homeService=o,this.followerService=a,this.characterService=s,this.battleService=l,this.activityService=c,this.achievementService=u,this.lastTimestamp=(new Date).getTime(),this.daysPerSecond=0,this.lastTickTotal=0,this.skipCount=9,this.lastTickTotal=e.totalTicks,this.mainLoopService.longTickSubject.subscribe(()=>{if(!(this.skipCount>=10))return void this.skipCount++;this.skipCount=0;const f=(new Date).getTime(),m=(f-this.lastTimestamp)/1e3;0!=m&&(this.daysPerSecond=(this.mainLoopService.totalTicks-this.lastTickTotal)/m),this.lastTickTotal=this.mainLoopService.totalTicks,this.lastTimestamp=f})}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(_(Ct),_(to),_(W),_(Ze),_(Ft),_(Ie),_(Xt),_(st),_(wp))},n.\u0275cmp=le({type:n,selectors:[["app-statistics-panel"]],decls:230,vars:73,consts:[[1,"darkMode"],[1,"statisticsDiv"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Statistics"),h(),N(3,"hr"),d(4,"div",1)(5,"table")(6,"tr")(7,"td"),p(8," Game days per real second: "),h(),d(9,"td"),p(10),A(11,"number"),h()(),d(12,"tr")(13,"td"),p(14," Game years per real minute: "),h(),d(15,"td"),p(16),A(17,"number"),h()(),d(18,"tr")(19,"td"),p(20," Game years per real hour: "),h(),d(21,"td"),p(22),A(23,"number"),h()(),d(24,"tr")(25,"td"),p(26," Total days lived: "),h(),d(27,"td"),p(28),A(29,"bigNumber"),h()(),d(30,"tr")(31,"td"),p(32," Total lives lived: "),h(),d(33,"td"),p(34),h()(),d(35,"tr")(36,"td"),p(37," Total enemies killed: "),h(),d(38,"td"),p(39),h()(),d(40,"tr")(41,"td"),p(42," Enemies killed this life: "),h(),d(43,"td"),p(44),h()(),d(45,"tr")(46,"td"),p(47," Troubling monsters encountered: "),h(),d(48,"td"),p(49),h()(),d(50,"tr")(51,"td"),p(52," Manuals discovered: "),h(),d(53,"td"),p(54),h()(),d(55,"tr")(56,"td"),p(57," Inventory Capacity: "),h(),d(58,"td"),p(59),h()(),d(60,"tr")(61,"td"),p(62," Automatically sold items: "),h(),d(63,"td"),p(64),h()(),d(65,"tr")(66,"td"),p(67," Automatically used items: "),h(),d(68,"td"),p(69),h()(),d(70,"tr")(71,"td"),p(72," Automatically balanced items: "),h(),d(73,"td"),p(74),h()(),d(75,"tr")(76,"td"),p(77," Items used: "),h(),d(78,"td"),p(79),h()(),d(80,"tr")(81,"td"),p(82," Items sold: "),h(),d(83,"td"),p(84),h()(),d(85,"tr")(86,"td"),p(87," Potions used: "),h(),d(88,"td"),p(89),h()(),d(90,"tr")(91,"td"),p(92," Pills used: "),h(),d(93,"td"),p(94),h()(),d(95,"tr")(96,"td"),p(97," Gems sold: "),h(),d(98,"td"),p(99),h()(),d(100,"tr")(101,"td"),p(102," Items overflowed: "),h(),d(103,"td"),p(104),h()(),d(105,"tr")(106,"td"),p(107," Unlocked Achievements: "),h(),d(108,"td"),p(109),h()(),d(110,"tr")(111,"td"),p(112," Most land owned: "),h(),d(113,"td"),p(114),A(115,"bigNumber"),h()(),d(116,"tr")(117,"td"),p(118," Highest land price: "),h(),d(119,"td"),p(120),A(121,"bigNumber"),h()(),d(122,"tr")(123,"td"),p(124," Most fields owned: "),h(),d(125,"td"),p(126),A(127,"bigNumber"),h()(),d(128,"tr")(129,"td"),p(130," Highest average farm yield: "),h(),d(131,"td"),p(132),A(133,"number"),h()(),d(134,"tr")(135,"td"),p(136," Best home owned: "),h(),d(137,"td"),p(138),h()(),d(139,"tr")(140,"td"),p(141," Follower recruited: "),h(),d(142,"td"),p(143),h()(),d(144,"tr")(145,"td"),p(146," Followers recruited lately: "),h(),d(147,"td"),p(148),h()(),d(149,"tr")(150,"td"),p(151," Followers died: "),h(),d(152,"td"),p(153),h()(),d(154,"tr")(155,"td"),p(156," Followers dismissed: "),h(),d(157,"td"),p(158),h()(),d(159,"tr")(160,"td"),p(161," Highest follower level: "),h(),d(162,"td"),p(163),h()(),d(164,"tr")(165,"td"),p(166," Most money: "),h(),d(167,"td"),p(168),A(169,"bigNumber"),h()(),d(170,"tr")(171,"td"),p(172," Oldest age: "),h(),d(173,"td"),p(174),h()(),M(175,I4,7,6,"tr",2),A(176,"keyvalue"),d(177,"tr")(178,"td"),p(179," Highest health: "),h(),d(180,"td"),p(181),h()(),d(182,"tr")(183,"td"),p(184," Highest stamina: "),h(),d(185,"td"),p(186),h()(),d(187,"tr")(188,"td"),p(189," Highest mana: "),h(),d(190,"td"),p(191),h()(),d(192,"tr")(193,"td"),p(194," Highest damage dealt: "),h(),d(195,"td"),p(196),A(197,"bigNumber"),h()(),d(198,"tr")(199,"td"),p(200," Highest damage taken: "),h(),d(201,"td"),p(202),A(203,"bigNumber"),h()(),d(204,"tr")(205,"td"),p(206," Days spent exhausted "),h(),d(207,"td"),p(208),A(209,"bigNumber"),h()(),d(210,"tr")(211,"td"),p(212," Completed Apprenticeships "),h(),d(213,"td"),p(214),h()(),d(215,"tr")(216,"td"),p(217," Open apprenticeships: "),h(),d(218,"td"),p(219),h()(),d(220,"tr")(221,"td"),p(222," Days spend doing odd jobs: "),h(),d(223,"td"),p(224),h()(),d(225,"tr")(226,"td"),p(227," Days spent begging: "),h(),d(228,"td"),p(229),h()()()()()),2&e&&(g(10),O(" ",je(11,43,i.daysPerSecond,"1.0-2")," "),g(6),O(" ",je(17,46,60*i.daysPerSecond/365,"1.0-2")," "),g(6),O(" ",je(23,49,60*i.daysPerSecond*60/365,"1.0-2")," "),g(6),O(" ",B(29,52,i.mainLoopService.totalTicks)," "),g(6),O(" ",i.characterService.characterState.totalLives," "),g(5),O(" ",i.battleService.totalKills," "),g(5),O(" ",i.battleService.kills," "),g(5),O(" ",i.battleService.troubleKills," "),g(5),O(" ",i.storeService.manuals.length," "),g(5),O(" ",i.inventoryService.maxItems," "),g(5),O(" ",i.inventoryService.autoSellEntries.length," "),g(5),O(" ",i.inventoryService.autoUseEntries.length," "),g(5),O(" ",i.inventoryService.autoBalanceItems.length," "),g(5),O(" ",i.inventoryService.lifetimeUsedItems," "),g(5),O(" ",i.inventoryService.lifetimeSoldItems," "),g(5),O(" ",i.inventoryService.lifetimePotionsUsed," "),g(5),O(" ",i.inventoryService.lifetimePillsUsed," "),g(5),O(" ",i.inventoryService.lifetimeGemsSold," "),g(5),O(" ",i.inventoryService.thrownAwayItems," "),g(5),O(" ",i.achievementService.unlockedAchievements.length," "),g(5),O(" ",B(115,54,i.homeService.highestLand)," "),g(6),O(" ",B(121,56,i.homeService.highestLandPrice)," "),g(6),O(" ",B(127,58,i.homeService.mostFields)," "),g(6),O(" ",je(133,60,i.homeService.highestAverageYield,"1.0-2")," "),g(6),O(" ",i.homeService.homesList[i.homeService.bestHome].name," "),g(5),O(" ",i.followerService.totalRecruited," "),g(5),O(" ",i.followerService.followersRecruited," "),g(5),O(" ",i.followerService.totalDied," "),g(5),O(" ",i.followerService.totalDismissed," "),g(5),O(" ",i.followerService.highestLevel," "),g(5),O(" ",B(169,63,i.characterService.characterState.highestMoney)," "),g(6),O(" ",i.characterService.yearify(i.characterService.characterState.highestAge)," "),g(1),b("ngForOf",B(176,65,i.characterService.characterState.highestAttributes)),g(6),O(" ",i.characterService.characterState.highestHealth," "),g(5),O(" ",i.characterService.characterState.highestStamina," "),g(5),O(" ",i.characterService.characterState.highestMana," "),g(5),O(" ",B(197,67,i.battleService.highestDamageDealt)," "),g(6),O(" ",B(203,69,i.battleService.highestDamageTaken)," "),g(6),O(" ",B(209,71,i.activityService.totalExhaustedDays)," "),g(6),O(" ",i.activityService.completedApprenticeships.length," "),g(5),O(" ",i.activityService.openApprenticeships," "),g(5),O(" ",i.activityService.oddJobDays," "),g(5),O(" ",i.activityService.beggingDays," "))},styles:["table[_ngcontent-%COMP%]{width:100%}.statisticsDiv[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto}td[_ngcontent-%COMP%]{width:45%}"]}),n})();const zm=function(n){return{highlighted:n}};let O4=(()=>{class n{constructor(e){this.gameStateService=e,this.error=""}fileClicked(e){this.gameStateService.saveSlot=e,this.gameStateService.setSaveFile();const i=this.gameStateService.loadFromLocalStorage();this.error=i?"":"Empty Save Selected",i&&(this.gameStateService.updateImportFlagKey(!0),window.location.href=window.location.href)}autoSaveInterval(e){e.target instanceof HTMLInputElement&&this.gameStateService.changeAutoSaveInterval(parseInt(e.target.value))}}return n.\u0275fac=function(e){return new(e||n)(_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-save-modal"]],decls:24,vars:11,consts:[[1,"darkMode"],[1,"spaced",3,"ngClass","click"],[1,"green"],[1,"spaced"],["for","autoSaveInterval"],["type","number","min","1","max","900","step","1","id","autoSaveInterval",3,"value","change"],[1,"spaced","warning"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Save Menu"),h(),N(3,"hr"),d(4,"div")(5,"span"),p(6,"Select Save File "),h()(),d(7,"div")(8,"button",1),x("click",function(){return i.fileClicked("")}),p(9," Slot 0 "),h(),d(10,"button",1),x("click",function(){return i.fileClicked("1")}),p(11," Slot 1 "),h(),d(12,"button",1),x("click",function(){return i.fileClicked("2")}),p(13," Slot 2 "),h(),d(14,"span",2),p(15),h()(),d(16,"div",3)(17,"span")(18,"label",4),p(19,"Change how often the game autosaves (in seconds) "),h(),d(20,"input",5),x("change",function(o){return i.autoSaveInterval(o)}),h(),p(21,"\xa0 "),d(22,"span",6),p(23,"Changing this will save immediately."),h()()()()),2&e&&(g(8),b("ngClass",Ue(5,zm,""===i.gameStateService.saveSlot)),g(2),b("ngClass",Ue(7,zm,"1"===i.gameStateService.saveSlot)),g(2),b("ngClass",Ue(9,zm,"2"===i.gameStateService.saveSlot)),g(3),me(i.error),g(5),pe("value",i.gameStateService.saveInterval))},directives:[Hn],styles:[".rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.spaced[_ngcontent-%COMP%]{margin-top:3px;margin-right:6px}.warning[_ngcontent-%COMP%]{color:red}.green[_ngcontent-%COMP%]{color:green}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function R4(n,t){if(1&n){const e=j();d(0,"mat-icon",46),x("click",function(){return I(e),C().impossibleTasksClicked()}),p(1," priority_high "),h()}}function F4(n,t){if(1&n){const e=j();d(0,"span")(1,"mat-icon",47),x("click",function(){return I(e),C().ascensionStoreClicked()}),p(2," keyboard_double_arrow_up "),h()()}}function L4(n,t){if(1&n&&N(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(40),i=xt(43);b("top",e)("bottom",i)}}function N4(n,t){if(1&n&&N(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(43),i=xt(46);b("top",e)("bottom",i)}}function B4(n,t){if(1&n&&N(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(49),i=xt(52);b("top",e)("bottom",i)}}function H4(n,t){if(1&n&&N(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(55),i=xt(58);b("top",e)("bottom",i)}}function V4(n,t){if(1&n&&N(0,"app-vertical-panel-slider",42),2&n){C();const e=xt(58),i=xt(61);b("top",e)("bottom",i)}}const U4=function(n){return{darkMode:n}},j4=function(n){return{highlighted:n}};let q4=(()=>{class n{transform(e){return Math.floor(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=At({name:"floor",type:n,pure:!0}),n})(),Nu=(()=>{class n{transform(e){return(e=e.split(/(?=[A-Z])/).join(" "))[0].toUpperCase()+e.slice(1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=At({name:"camelToTitle",type:n,pure:!0}),n})(),zt=(()=>{class n{constructor(e){this.mainLoopService=e}transform(e){if(this.mainLoopService.scientificNotation)return e.toPrecision(3);{const i=["","k","M","B","T","q","Q","s"];if(e<100&&!Number.isInteger(e))return e.toFixed(2)+"";if(e<1e4)return Math.round(e)+"";if(e>=Math.pow(10,3*i.length))return e.toPrecision(3);{const r=Math.floor(Math.log10(e));return Math.floor(e/Math.pow(10,r-r%3-2))/100+i[Math.floor(r/3)]}}}}return n.\u0275fac=function(e){return new(e||n)(_(Ct,16))},n.\u0275pipe=At({name:"bigNumber",type:n,pure:!0}),n})(),sM=(()=>{class n{constructor(e,i,r,o,a,s,l){this.mainLoopService=e,this.gameStateService=i,this.storeService=r,this.characterService=o,this.impossibleTaskService=a,this.hellService=s,this.dialog=l,this.title="immortalityidle",this.applicationVersion=qm.appVersion,this.activateSliders=!1}handleKeyboardEvent(e){"Space"===e.code?(this.mainLoopService.pause=!this.mainLoopService.pause,e.preventDefault()):("Enter"===e.code||"NumpadEnter"===e.code)&&this.mainLoopService.pause&&(this.mainLoopService.tick(),e.preventDefault())}ngOnInit(){this.gameStateService.loadFromLocalStorage(),this.mainLoopService.start()}hardResetClicked(e){e.preventDefault(),confirm("This will reset everything permanently. Are you sure?")&&this.gameStateService.hardReset()}saveClicked(e){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&e.shiftKey?this.gameStateService.loadFromLocalStorage(!0):e.shiftKey?this.dialog.open(O4,{width:"400px",data:{someField:"foo"}}):(this.gameStateService.savetoLocalStorage(),this.characterService.toast("Manual Save Complete"))}exportClicked(){this.dialog.open(E4,{width:"700px",data:{someField:"foo"}})}storeClicked(){this.dialog.open(C1,{width:"700px",data:{someField:"foo"}})}storeOptionsClicked(){this.dialog.open(V5,{width:"700px",data:{someField:"foo"}})}rebirthClicked(e){e.preventDefault(),confirm("This will end your current life. Are you sure?")&&this.gameStateService.rebirth()}ascensionStoreClicked(){this.storeService.updateAscensions(),this.dialog.open($k,{width:"700px",data:{someField:"foo"}})}tutorialClicked(){this.dialog.open(A4,{width:"700px",data:{someField:"foo"}})}statisticsClicked(){this.dialog.open(aM,{width:"700px",data:{someField:"foo"}})}changelogClicked(){this.dialog.open(P4,{width:"700px",data:{someField:"foo"}})}achievementsClicked(){this.dialog.open(X5,{width:"750px",data:{someField:"foo"}})}impossibleTasksClicked(){this.dialog.open(T4,{width:"500px",data:{someField:"foo"}})}darkModeToggle(){this.gameStateService.isDarkMode=!this.gameStateService.isDarkMode}}return n.\u0275fac=function(e){return new(e||n)(_(Ct),_(qn),_(to),_(Ie),_(la),_($e),_(Ki))},n.\u0275cmp=le({type:n,selectors:[["app-root"]],hostBindings:function(e,i){1&e&&x("keydown",function(o){return i.handleKeyboardEvent(o)},!1,Vv)},decls:66,vars:18,consts:[[1,"wrapper",3,"ngClass"],[1,"mainContainer"],[1,"top-line"],[1,"gameTitle"],[1,"versionNumber",3,"click"],["tooltip","Confused? Click here.",1,"iconButton",3,"click"],["tooltip","Statistics!",1,"iconButton",3,"click"],["tooltip","A store that sells special manuals for aspiring immortals.",1,"iconButton",3,"ngClass","click"],["tooltip","Configuration options for purchased items.",1,"iconButton",3,"click"],["tooltip","Achievements!",1,"iconButton",3,"click"],["tooltip","Impossible Tasks","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],["href","","tooltip","Voluntarily end this life, allowing your current attributes to strengthen your aptitudes in the next life.",3,"click"],["tooltip","Click to save your game now.<br/>Shift-click for save options.<br/>Ctrl-shift-click to load backup save.",1,"iconButton",3,"click"],["type","checkbox","id","darkMode",3,"checked","change"],["for","darkMode"],["tooltip","Import or export your save game file. Sometimes immortals need a different browser.",1,"iconButton",3,"click"],["href","","tooltip","Completely restart your journey toward immortality.","placement","left",3,"click"],["href","https://discord.gg/Na7Qmwy3XK","target","_blank","rel","noopener noreferrer","tooltip","Have questions? Try the Immortality Idle Discord."],[1,"bodyContainer"],["appResizable","",1,"panelContainer"],["panelContainer","appResizable"],[1,"leftPanel"],["appResizable","",1,"timePanel","panel"],["timePanel","appResizable"],[3,"top","bottom",4,"ngIf"],["appResizable","",1,"attributesPanel","panel"],["attributesPanel","appResizable"],["appResizable","",1,"healthPanel","panel"],["healthPanel","appResizable"],[1,"centerPanel"],["appResizable","",1,"activityPanel","panel"],["activityPanel","appResizable"],["appResizable","",1,"battlePanel","panel"],["battlePanel","appResizable"],[1,"rightPanel"],["appResizable","",1,"equipmentPanel","panel"],["equipmentPanel","appResizable"],["appResizable","",1,"homePanel","panel"],["homePanel","appResizable"],["appResizable","",1,"inventoryPanel","panel"],["inventoryPanel","appResizable"],[3,"top","bottom"],["appResizable","",1,"logContainer"],["logContainer","appResizable"],[1,"logPanel","panel"],["tooltip","Impossible Tasks",1,"iconButton",3,"click"],["tooltip","Ascension Techniques.",1,"iconButton",3,"click"]],template:function(e,i){if(1&e&&(d(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p(4),d(5,"span",4),x("click",function(){return i.changelogClicked()}),p(6),h()(),d(7,"mat-icon",5),x("click",function(){return i.tutorialClicked()}),p(8," help "),h(),d(9,"mat-icon",6),x("click",function(){return i.statisticsClicked()}),p(10," format_list_numbered_rtl "),h(),d(11,"span")(12,"mat-icon",7),x("click",function(){return i.storeClicked()}),p(13," local_library "),h(),d(14,"mat-icon",8),x("click",function(){return i.storeOptionsClicked()}),p(15," settings "),h()(),d(16,"mat-icon",9),x("click",function(){return i.achievementsClicked()}),p(17," military_tech "),h(),M(18,R4,2,0,"mat-icon",10),M(19,F4,3,0,"span",11),d(20,"span")(21,"a",12),x("click",function(o){return i.rebirthClicked(o)}),p(22,"Reincarnate"),h()(),d(23,"mat-icon",13),x("click",function(o){return i.saveClicked(o)}),p(24," save "),h(),d(25,"span")(26,"input",14),x("change",function(){return i.darkModeToggle()}),h(),d(27,"label",15),p(28,"Dark Mode"),h()(),d(29,"mat-icon",16),x("click",function(){return i.exportClicked()}),p(30," upload "),h(),d(31,"a",17),x("click",function(o){return i.hardResetClicked(o)}),p(32,"Hard Reset"),h(),d(33,"a",18),p(34,"Discord"),h()(),d(35,"div",19)(36,"div",20,21)(38,"div",22),N(39,"app-time-panel",23,24),M(41,L4,1,2,"app-vertical-panel-slider",25),N(42,"app-attributes-panel",26,27),M(44,N4,1,2,"app-vertical-panel-slider",25),N(45,"app-health-panel",28,29),h(),d(47,"div",30),N(48,"app-activity-panel",31,32),M(50,B4,1,2,"app-vertical-panel-slider",25),N(51,"app-battle-panel",33,34),h(),d(53,"div",35),N(54,"app-equipment-panel",36,37),M(56,H4,1,2,"app-vertical-panel-slider",25),N(57,"app-home-panel",38,39),M(59,V4,1,2,"app-vertical-panel-slider",25),N(60,"app-inventory-panel",40,41),h()(),N(62,"app-vertical-panel-slider",42),d(63,"div",43,44),N(65,"app-log-panel",45),h()()()()),2&e){const r=xt(37),o=xt(64);b("ngClass",Ue(14,U4,i.gameStateService.isDarkMode)),g(4),O(" Immortality Idle - ",i.hellService.inHell?"Escape from The Eighteen Hells":i.characterService.characterState.immortal?"You are Immortal!":"Can you become an immortal?"," "),g(2),me(i.gameStateService.isExperimental?"Experimental":"v"+i.applicationVersion),g(6),b("ngClass",Ue(16,j4,i.storeService.isManualAvailable())),g(6),b("ngIf",i.impossibleTaskService.impossibleTasksUnlocked),g(1),b("ngIf",i.characterService.characterState.ascensionUnlocked),g(7),b("checked",i.gameStateService.isDarkMode),g(15),b("ngIf",i.activateSliders),g(3),b("ngIf",i.activateSliders),g(6),b("ngIf",i.activateSliders),g(6),b("ngIf",i.activateSliders),g(3),b("ngIf",i.activateSliders),g(3),b("top",r)("bottom",o)}},styles:[".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function z4(n,t){if(1&n){const e=j();d(0,"input",4),x("change",function(r){return I(e),C().pauseOnDeath(r)}),h()}2&n&&b("checked",C().activityService.pauseOnDeath)}function Y4(n,t){1&n&&(d(0,"label",5),p(1,"Pause on Death"),h())}function $4(n,t){if(1&n){const e=j();d(0,"input",8),x("change",function(r){return I(e),C(2).pauseBeforeDeath(r)}),h()}2&n&&b("checked",C(2).activityService.pauseBeforeDeath)}function G4(n,t){1&n&&(d(0,"label",9),p(1,"Pause Before Death - This will pause one day before the end of your expected lifespan."),h())}function W4(n,t){if(1&n&&(d(0,"div")(1,"span"),M(2,$4,1,1,"input",6),M(3,G4,2,0,"label",7),h()()),2&n){const e=C();g(2),b("ngIf",e.activityService.autoRestart),g(1),b("ngIf",e.activityService.autoRestart)}}let K4=(()=>{class n{constructor(e){this.activityService=e}ngOnInit(){}pauseOnDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseOnDeath=e.target.checked)}pauseBeforeDeath(e){e.target instanceof HTMLInputElement&&(this.activityService.pauseBeforeDeath=e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(st))},n.\u0275cmp=le({type:n,selectors:[["app-time-options-panel"]],decls:9,vars:3,consts:[[1,"darkMode"],["type","checkbox","id","pauseOnDeath",3,"checked","change",4,"ngIf"],["for","pauseOnDeath",4,"ngIf"],[4,"ngIf"],["type","checkbox","id","pauseOnDeath",3,"checked","change"],["for","pauseOnDeath"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change",4,"ngIf"],["for","pauseBeforeDeath",4,"ngIf"],["type","checkbox","id","pauseBeforeDeath",3,"checked","change"],["for","pauseBeforeDeath"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Schedule Options"),h(),N(3,"hr"),d(4,"div")(5,"span"),M(6,z4,1,1,"input",1),M(7,Y4,2,0,"label",2),h()(),M(8,W4,4,2,"div",3),h()),2&e&&(g(6),b("ngIf",i.activityService.autoRestart),g(1),b("ngIf",i.activityService.autoRestart),g(1),b("ngIf",i.activityService.autoPauseUnlocked))},directives:[at],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();const ya=function(n){return{iconActive:n}};function J4(n,t){if(1&n){const e=j();d(0,"mat-icon",5),x("click",function(){return I(e),C().fastClick()}),A(1,"number"),p(2," fast_forward "),h()}if(2&n){const e=C();ln("tooltip","Fast Game Speed (",je(1,2,e.mainLoopService.getTPS(5),"1.0-2")," days/sec)"),b("ngClass",Ue(5,ya,5===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function Q4(n,t){if(1&n){const e=j();d(0,"mat-icon",5),x("click",function(){return I(e),C().fasterClick()}),A(1,"number"),p(2," skip_next "),h()}if(2&n){const e=C();ln("tooltip","Faster Game Speed (",je(1,2,e.mainLoopService.getTPS(2),"1.0-2")," days/sec)"),b("ngClass",Ue(5,ya,2===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function Z4(n,t){if(1&n){const e=j();d(0,"mat-icon",5),x("click",function(){return I(e),C().fastestClick()}),A(1,"number"),p(2," bolt "),h()}if(2&n){const e=C();ln("tooltip","Fastest Game Speed (",je(1,2,e.mainLoopService.getTPS(1),"1.0-2")," days/sec)"),b("ngClass",Ue(5,ya,1===e.mainLoopService.tickDivider&&!e.mainLoopService.pause))}}function X4(n,t){if(1&n){const e=j();d(0,"mat-icon",15),x("click",function(){return I(e),C().timeOptions()}),p(1," settings "),h()}}function eq(n,t){if(1&n){const e=j();d(0,"h6")(1,"input",16),x("change",function(r){return I(e),C().useSavedTicks(r)}),h(),d(2,"label",17),p(3),A(4,"number"),h()()}if(2&n){const e=C();g(1),b("checked",e.mainLoopService.useBankedTicks),g(2),O("Use banked time to accelerate reality (10x). ",je(4,2,e.mainLoopService.bankedTicks,"1.0-0")," time ticks left.")}}const Ym=function(n,t){return{currentRow:n,disabled:t}};function tq(n,t){if(1&n){const e=j();d(0,"tr",18),x("dragover",function(r){return I(e),C().allowDrop(r)})("drop",function(r){const a=I(e).index;return C().drop(a,r)})("dragstart",function(r){const a=I(e).index;return C().drag(a,r)}),d(1,"td",19),p(2),h(),d(3,"td",19)(4,"div",20),N(5,"span"),h()(),d(6,"td",19)(7,"mat-icon",21),x("click",function(r){const a=I(e).$implicit;return C().onMinusClick(a,r)}),p(8,"remove"),h(),d(9,"mat-icon",22),x("click",function(r){const a=I(e).$implicit;return C().onPlusClick(a,r)}),p(10,"add"),h(),d(11,"mat-icon",23),x("click",function(){const o=I(e).$implicit;return C().onDisableClick(o)}),p(12,"cancel"),h(),d(13,"mat-icon",24),x("click",function(){const o=I(e).$implicit;return C().onRemoveClick(o)}),p(14,"clear"),h()()()}if(2&n){const e=t.$implicit,i=t.index,r=C();g(1),b("ngClass",Ni(8,Ym,i===r.activityService.currentIndex,e.disabled)),g(1),rs("",r.getActivityName(e.activity)," (",e.repeatTimes," ",1===e.repeatTimes?"day":"days",")"),g(1),b("ngClass",Ni(11,Ym,i===r.activityService.currentIndex,e.disabled)),g(2),Kt("width",100*(i!==r.activityService.currentIndex||e.disabled?e.repeatTimes:r.activityService.currentTickCount)/e.repeatTimes,"%"),g(1),b("ngClass",Ni(14,Ym,i===r.activityService.currentIndex,e.disabled))}}const nq=function(n){return{indeterminate:n}};function iq(n,t){if(1&n){const e=j();d(0,"tr")(1,"td"),p(2),h(),d(3,"td")(4,"div",27),N(5,"span"),h()(),d(6,"td")(7,"mat-icon",24),x("click",function(){return I(e),C(2).removeSpiritActivity()}),p(8,"clear"),h()()()}if(2&n){const e=C(2);g(2),me(e.getActivityName(e.activityService.spiritActivity)),g(2),b("ngClass",Ue(2,nq,e.activityService.spiritActivityProgress&&!e.mainLoopService.pause))}}function rq(n,t){if(1&n){const e=j();d(0,"table",25),x("drop",function(r){return I(e),C().spiritActivityDrop(r)})("dragover",function(r){return I(e),C().allowDrop(r)}),d(1,"tr")(2,"td",26),p(3," Spiritual Projection "),h()(),M(4,iq,9,4,"tr",8),h()}if(2&n){const e=C();g(4),b("ngIf",null!=e.activityService.spiritActivity)}}let oq=(()=>{class n{constructor(e,i,r,o){this.mainLoopService=e,this.activityService=i,this.characterService=r,this.dialog=o,this.unlockFastSpeed=!1,this.unlockFasterSpeed=!1,this.unlockFastestSpeed=!1}ngOnInit(){}pauseClick(){this.mainLoopService.pause?this.mainLoopService.tick():this.mainLoopService.pause=!0}slowClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=40}standardClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=10}fastClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=5}fasterClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=2}fastestClick(){this.mainLoopService.pause=!1,this.mainLoopService.tickDivider=1}timeOptions(){this.dialog.open(K4,{width:"700px",data:{someField:"foo"}})}onPlusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes+=r}onMinusClick(e,i){i.preventDefault(),i.stopPropagation();let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,e.repeatTimes-=r,e.repeatTimes<0&&(e.repeatTimes=0)}onRemoveClick(e){const i=this.activityService.activityLoop.indexOf(e);this.activityService.currentIndex>=this.activityService.activityLoop.length-1&&(this.activityService.currentIndex=0),this.activityService.activityLoop.splice(i,1)}onDisableClick(e){e.disabled=!e.disabled,e.disabled||this.activityService.checkRequirements(!0)}removeSpiritActivity(){this.activityService.spiritActivity=null}useSavedTicks(e){e.target instanceof HTMLInputElement&&(this.mainLoopService.useBankedTicks=e.target.checked)}allowDrop(e){var i,r;("activityloop"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"activity"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("activityloop",""+e)}drop(e,i){var r,o;i.preventDefault(),i.stopPropagation();let a=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("activityloop"))+"";if(""===a){if(a=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("activity"))+"",""===a)return;const l={activity:parseInt(a),repeatTimes:1};e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l):this.activityService.activityLoop.splice(e,0,l)}else{const s=parseInt(a);if(s>=0&&s<this.activityService.activityLoop.length){const l=this.activityService.activityLoop.splice(s,1);e>=this.activityService.activityLoop.length?this.activityService.activityLoop.push(l[0]):this.activityService.activityLoop.splice(e,0,l[0])}}}spiritActivityDrop(e){var i,r;e.preventDefault(),e.stopPropagation();let o=(null===(i=e.dataTransfer)||void 0===i?void 0:i.getData("activityloop"))+"";if(""===o){if(o=(null===(r=e.dataTransfer)||void 0===r?void 0:r.getData("activity"))+"",""===o)return;const a=parseInt(o);this.activityService.spiritActivity=a}else{const a=parseInt(o);a>=0&&a<this.activityService.activityLoop.length&&(this.activityService.spiritActivity=this.activityService.activityLoop[a].activity)}}getActivityName(e){let i=this.activityService.getActivityByType(e);return i?i.name[i.level]:""}}return n.\u0275fac=function(e){return new(e||n)(_(Ct),_(st),_(Ie),_(Ki))},n.\u0275cmp=le({type:n,selectors:[["app-time-panel"]],decls:30,vars:20,consts:[[1,"dropAccepter",3,"dragover","drop"],[1,"panelHeader"],["tooltip","Achieving immortality doesn't happen overnight. It takes lifetimes of hard work. Choose how to schedule your days to take care of your basic needs and develop your immortal potential. Add activities from the activities panel. Repeat them if you want to, or rearrange them by dragging them where you want them to go."],["tooltip","Pause the game (spacebar). Clicking this again while paused will step time forward a single day. When paused, you can also advance one day by pressing the Enter key.",1,"iconButton",3,"ngClass","click"],["tooltip","Slow Game Speed (1 day/sec)",1,"iconButton",3,"ngClass","click"],[1,"iconButton",3,"ngClass","tooltip","click"],["class","iconButton",3,"ngClass","tooltip","click",4,"ngIf"],["tooltip","Options","class","iconButton",3,"click",4,"ngIf"],[4,"ngIf"],[1,"overflow"],["draggable","true",3,"dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","spiritActivityPanel",3,"drop","dragover",4,"ngIf"],["tooltip","Save your current schedule of actviities.",1,"iconButton",3,"click"],["tooltip","Load your saved schedule of actviities. Note that activities that you cannot do right now will not be loaded.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Clear your current schedule.",1,"iconButton","spaceLeft",3,"click"],["tooltip","Options",1,"iconButton",3,"click"],["type","checkbox","id","useSavedTicks",3,"checked","change"],["for","useSavedTicks"],["draggable","true",3,"dragover","drop","dragstart"],[3,"ngClass"],[1,"progress-bar"],["tooltip","Spend fewer days on this.\n\n          Shift- or Ctrl-click to remove 10x\n          Shift-Ctrl-click to remove 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Spend more days on this.\n\n          Shift- or Ctrl-click to add 10x\n          Shift-Ctrl-click to add 100x","tooltipClass","tooltip-break",1,"iconButton",3,"click"],["tooltip","Disable this activity on the schedule.",1,"iconButton",3,"click"],["tooltip","Remove this activity from the schedule.",1,"iconButton",3,"click"],[1,"spiritActivityPanel",3,"drop","dragover"],["tooltip","You can project your spiritual self to take on a second activity while your physical body continues its work. Whatever activity you drop here will be completed each day as long as you have enough mana to support the effort. Requires 5 mana.",1,"spiritProjectionLabel"],[1,"progress-bar",3,"ngClass"]],template:function(e,i){1&e&&(d(0,"div",0),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop(i.activityService.activityLoop.length,o)}),d(1,"h3",1)(2,"span",2)(3,"mat-icon"),p(4," calendar_month "),h(),p(5," How will you spend your days? "),h(),d(6,"mat-icon",3),x("click",function(){return i.pauseClick()}),p(7," pause "),h(),d(8,"mat-icon",4),x("click",function(){return i.slowClick()}),p(9," slow_motion_video "),h(),d(10,"mat-icon",5),x("click",function(){return i.standardClick()}),A(11,"number"),p(12," play_arrow "),h(),M(13,J4,3,7,"mat-icon",6),M(14,Q4,3,7,"mat-icon",6),M(15,Z4,3,7,"mat-icon",6),M(16,X4,2,0,"mat-icon",7),M(17,eq,5,5,"h6",8),h(),d(18,"div",9)(19,"table"),M(20,tq,15,17,"tr",10),h(),M(21,rq,5,1,"table",11),h(),d(22,"div")(23,"span")(24,"mat-icon",12),x("click",function(){return i.activityService.saveActivityLoop()}),p(25," content_paste "),h(),d(26,"mat-icon",13),x("click",function(){return i.activityService.loadActivityLoop()}),p(27," content_paste_go "),h(),d(28,"mat-icon",14),x("click",function(){return i.activityService.activityLoop=[]}),p(29," delete_sweep "),h()()()()),2&e&&(g(6),b("ngClass",Ue(14,ya,i.mainLoopService.pause)),g(2),b("ngClass",Ue(16,ya,40==i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),g(2),ln("tooltip","Standard Game Speed (",je(11,11,i.mainLoopService.getTPS(10),"1.0-2")," days/sec)"),b("ngClass",Ue(18,ya,10===i.mainLoopService.tickDivider&&!i.mainLoopService.pause)),g(3),b("ngIf",i.mainLoopService.unlockFastSpeed),g(1),b("ngIf",i.mainLoopService.unlockFasterSpeed),g(1),b("ngIf",i.mainLoopService.unlockFastestSpeed),g(1),b("ngIf",i.activityService.autoRestart),g(1),b("ngIf",i.mainLoopService.bankedTicks>0),g(3),b("ngForOf",i.activityService.activityLoop),g(1),b("ngIf",i.characterService.characterState.manaUnlocked))},directives:[Tt,nn,Hn,at,It],pipes:[Nr],styles:[".dropAccepter[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column}table[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;white-space:nowrap;font-size:12px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){text-align:end}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle}.progress-bar[_ngcontent-%COMP%]{width:60px}label[_ngcontent-%COMP%]{font-size:10px;vertical-align:top}.iconActive[_ngcontent-%COMP%]{color:var(--panelBackground);background:var(--bodyText)}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}h6[_ngcontent-%COMP%]{margin-bottom:0;margin-top:-8px}.spiritActivityPanel[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);width:100%;background-color:var(--manaColor)}.spiritProjectionLabel[_ngcontent-%COMP%]{font-size:x-small;border-bottom:none}.currentRow[_ngcontent-%COMP%]{background-color:var(--itemSlotColor)}.disabled[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}input[_ngcontent-%COMP%]{vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.spaceLeft[_ngcontent-%COMP%]{margin-left:16px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function aq(n,t){if(1&n){const e=j();d(0,"tr")(1,"td"),p(2),A(3,"camelToTitle"),h(),d(4,"td"),p(5),h(),d(6,"td",12),p(7,"Keep up to "),d(8,"input",13),x("change",function(r){I(e);const o=C().$implicit;return C().keepValueChanged(r,o.key)}),h()()()}if(2&n){const e=C().$implicit,i=C();g(2),me(B(3,3,e.key)),g(3),me(e.value.description),g(3),pe("value",void 0===i.followerService.maxFollowerByType[e.key]?1e3:i.followerService.maxFollowerByType[e.key])}}function sq(n,t){if(1&n&&(Er(0),M(1,aq,9,5,"tr",11),Ar()),2&n){const e=t.$implicit;g(1),b("ngIf",!e.value.hidden)}}let lq=(()=>{class n{constructor(e){this.followerService=e,this.changeAll=0}ngOnInit(){}getTotalAssingments(){let e=0;for(const i in this.followerService.jobs)this.followerService.jobs[i].hidden||(this.followerService.maxFollowerByType[i]?e+=this.followerService.maxFollowerByType[i]:0!=this.followerService.maxFollowerByType[i]&&(e+=1e3));return e}changeAllChanged(e){e.target instanceof HTMLInputElement&&(this.changeAll=parseInt(e.target.value))}changeAllClicked(){for(const e in this.followerService.jobs)this.followerService.setMaxFollowers(e,this.changeAll)}keepValueChanged(e,i){e.target instanceof HTMLInputElement&&this.followerService.setMaxFollowers(i,parseInt(e.target.value))}sortAscSwitch(){this.followerService.sortAscending=!this.followerService.sortAscending}sortOrderChanged(e){e.target instanceof HTMLSelectElement&&(this.followerService.sortField=e.target.value,this.followerService.sortFollowers(this.followerService.sortAscending))}}return n.\u0275fac=function(e){return new(e||n)(_(Ft))},n.\u0275cmp=le({type:n,selectors:[["app-follower-management-panel"]],decls:39,vars:12,consts:[[1,"darkMode"],[1,"topInfo"],["tooltip","Set a number to change all of the follower job limits to."],["min","0","max","1000","value","0","type","number",1,"inputBox",3,"change"],[3,"click"],["name","sortOrder","id","sortOrder",3,"change"],[3,"selected"],["type","checkbox","id","followerSort",3,"checked","change"],["for","followerSort"],[1,"scrollingDiv"],[4,"ngFor","ngForOf"],[4,"ngIf"],["tooltip","This value will only apply to new followers who seek to join you. You'll have to dismiss current followers yourself."],["min","0","max","1000","type","number",1,"inputBox",3,"value","change"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Manage Followers"),h(),N(3,"hr"),d(4,"div",1)(5,"span"),p(6),h()(),d(7,"div",1)(8,"span",2),p(9,"Set limit on all jobs to "),d(10,"input",3),x("change",function(o){return i.changeAllChanged(o)}),h(),p(11," followers. "),d(12,"button",4),x("click",function(){return i.changeAllClicked()}),p(13,"Change All"),h()()(),d(14,"div",1)(15,"span"),p(16," Sort followers by "),d(17,"select",5),x("change",function(o){return i.sortOrderChanged(o)}),d(18,"option",6),p(19,"Name"),h(),d(20,"option",6),p(21,"Job"),h(),d(22,"option",6),p(23,"Age"),h(),d(24,"option",6),p(25,"Power"),h(),d(26,"option",6),p(27,"Remaining Life"),h()(),d(28,"span")(29,"input",7),x("change",function(){return i.sortAscSwitch()}),h(),d(30,"label",8),p(31,"Sort Ascending"),h()()()(),d(32,"div",9)(33,"table"),M(34,sq,2,1,"ng-container",10),A(35,"keyvalue"),h()(),N(36,"br"),d(37,"span"),p(38),h()()),2&e&&(g(6),kn("You are currently supporting ",i.followerService.followers.length," follower. You can support up to ",i.followerService.followerCap,"."),g(12),b("selected","Name"===i.followerService.sortField),g(2),b("selected","Job"===i.followerService.sortField),g(2),b("selected","Age"===i.followerService.sortField),g(2),b("selected","Power"===i.followerService.sortField),g(2),b("selected","Remaining Life"===i.followerService.sortField),g(3),b("checked",i.followerService.sortAscending),g(5),b("ngForOf",B(35,10,i.followerService.jobs)),g(4),O("Total assignments: ",i.getTotalAssingments(),""))},directives:[Tt,Nm,Hm,It,at],pipes:[Sc,Nu],styles:[".scrollingDiv[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;vertical-align:top}td[_ngcontent-%COMP%]:last-child{text-align:center}input[type=number][_ngcontent-%COMP%]{width:80px}.topInfo[_ngcontent-%COMP%]{margin-top:4px;padding-bottom:4px;border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function cq(n,t){if(1&n&&(d(0,"span",8),A(1,"bigNumber"),A(2,"number"),A(3,"bigNumber"),A(4,"number"),d(5,"mat-icon"),p(6),h(),p(7),A(8,"camelToTitle"),A(9,"bigNumber"),A(10,"number"),A(11,"number"),h()),2&n){const e=C().$implicit;Kl("tooltip","",e.value.description," Your aptitude of\n        ",e.value.aptitude>1e7?B(1,6,e.value.aptitude):je(2,8,e.value.aptitude,"1.0-2"),"\n        multiplies your gains by\n        ",e.value.aptitudeMult>1e5?B(3,11,e.value.aptitudeMult):je(4,13,e.value.aptitudeMult,"1.0-2"),"."),g(6),me(e.value.icon),g(1),kn(" ",B(8,16,e.key),": ",e.value.value>1e7?B(9,18,e.value.value):e.value.value>1e3?je(10,20,e.value.value,"1.0-0"):je(11,23,e.value.value,"1.0-1")," ")}}function uq(n,t){if(1&n&&(d(0,"div"),M(1,cq,12,26,"span",7),h()),2&n){const e=t.$implicit,i=C();g(1),b("ngIf",0!==e.value.value||i.character.highestAttributes[e.key])}}function hq(n,t){if(1&n&&(d(0,"span",9),p(1),h()),2&n){const e=C();b("ngClass",e.followerService.followersMaxed),g(1),kn(" \xa0(",e.followerService.followers.length," / ",e.followerService.followerCap,") ")}}function dq(n,t){if(1&n){const e=j();d(0,"mat-icon",10),x("click",function(){return I(e),C().followerOptionsClicked()}),p(1," settings "),h()}}function fq(n,t){if(1&n){const e=j();d(0,"div",13)(1,"span",14),A(2,"titlecase"),A(3,"number"),A(4,"number"),A(5,"number"),p(6),A(7,"titlecase"),A(8,"camelToTitle"),h(),d(9,"mat-icon",15),x("click",function(r){const a=I(e).$implicit;return C(2).dismissFollower(r,a)}),p(10," cancel "),h()()}if(2&n){const e=t.$implicit,i=C(2);g(1),jd("tooltip","",e.name," is a level ",e.power," ",B(2,12,e.job),". ",i.followerService.jobs[e.job].description,"<br/>",e.name," has followed you for ",je(3,14,e.age/365,"1.0-1")," years and will serve for another ",je(4,17,(e.lifespan-e.age)/365,"1.0-1")," more years. Daily cost: ",je(5,20,e.cost,"1.0-0"),""),g(5),rs(" ",B(7,23,e.name)," (lv.",e.power," ",B(8,25,e.job),") "),g(3),b("tooltip",i.followerService.autoDismissUnlocked?"Dismiss this follower.\n\nShift-click to automatically dismiss everyone of this job type.\n\nCtrl-click to set the current number as the limit without dismissing.":"Dismiss this follower.")}}function pq(n,t){if(1&n&&(d(0,"div",11),M(1,fq,11,27,"div",12),h()),2&n){const e=C();g(1),b("ngForOf",e.followerService.followers)}}let mq=(()=>{class n{constructor(e,i,r){this.characterService=e,this.dialog=i,this.followerService=r,this.originalOrder=()=>0,this.character=e.characterState}followerOptionsClicked(){this.dialog.open(lq,{width:"700px",data:{someField:"foo"},autoFocus:!1})}dismissFollower(e,i){e.preventDefault(),e.stopPropagation(),(e.ctrlKey||e.metaKey)&&this.followerService.autoDismissUnlocked?this.followerService.limitFollower(i):e.shiftKey&&this.followerService.autoDismissUnlocked?this.followerService.dismissFollowerAll(i):this.followerService.dismissFollower(i)}}return n.\u0275fac=function(e){return new(e||n)(_(Ie),_(Ki),_(Ft))},n.\u0275cmp=le({type:n,selectors:[["app-attributes-panel"]],decls:17,vars:7,consts:[[1,"panelHeader"],["placement","right","tooltip","Your attributes define your growing immortal characteristics. You can grow your attributes through the activities that you choose. Aptitudes that you developed in your past lives can make it easier to develop attributes in your current life."],[4,"ngFor","ngForOf"],["placement","right","tooltip","Your followers can aid you in many ways. Each has a specific skill that they will use to your benefit. Followers must be taken care of, so having them will cost you some money each day, and more powerful followers will have more expensive needs you will have to take care of."],[3,"ngClass",4,"ngIf"],["class","iconButton optionsIcon","tooltip","Manage your followers.",3,"click",4,"ngIf"],["class","followerPanel",4,"ngIf"],["placement","right",3,"tooltip",4,"ngIf"],["placement","right",3,"tooltip"],[3,"ngClass"],["tooltip","Manage your followers.",1,"iconButton","optionsIcon",3,"click"],[1,"followerPanel"],["class","attributeLine",4,"ngFor","ngForOf"],[1,"attributeLine"],[1,"followerName",3,"tooltip"],["tooltipClass","tooltip-break",1,"smallerIcon",3,"tooltip","click"]],template:function(e,i){1&e&&(d(0,"table")(1,"tr")(2,"td")(3,"h3",0)(4,"mat-icon",1),p(5," bar_chart "),h(),p(6," Attributes "),h(),M(7,uq,2,1,"div",2),A(8,"keyvalue"),h(),d(9,"td")(10,"h3",0)(11,"mat-icon",3),p(12," person "),h(),p(13," Followers "),M(14,hq,2,3,"span",4),M(15,dq,2,0,"mat-icon",5),h(),M(16,pq,2,1,"div",6),h()()()),2&e&&(g(7),b("ngForOf",je(8,4,i.character.attributes,i.originalOrder)),g(7),b("ngIf",i.followerService.followersUnlocked),g(1),b("ngIf",i.followerService.followersUnlocked&&i.followerService.autoDismissUnlocked),g(1),b("ngIf",i.followerService.followersUnlocked))},directives:[nn,Tt,It,at,Hn],pipes:[Sc,zt,Nr,Nu,Vn],styles:["h3[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}td[_ngcontent-%COMP%]{vertical-align:top;width:200px}span[_ngcontent-%COMP%]{font-size:14px}.followerPanel[_ngcontent-%COMP%]{max-height:200px}.optionsIcon[_ngcontent-%COMP%]{float:right}.UNMAXED[_ngcontent-%COMP%]{color:var(--bodyText)}.MAXED[_ngcontent-%COMP%]{color:var(--textHighlight)}.smallerIcon[_ngcontent-%COMP%]{float:right;height:12px;width:12px;margin-top:1px;margin-bottom:0;vertical-align:top}.followerName[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:170px;display:inline-block}.attributeLine[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function gq(n,t){if(1&n&&(d(0,"span"),p(1),A(2,"number"),h()),2&n){const e=C();g(1),O(", ",je(2,1,e.characterService.characterState.age%365,"1.0-0")," days")}}function vq(n,t){1&n&&(d(0,"td",1),p(1," You expect to live forever. "),h())}function yq(n,t){if(1&n&&(d(0,"td",1),p(1),A(2,"number"),h()),2&n){const e=C();g(1),O(" You expect to live ",je(2,1,e.characterService.characterState.lifespan/365,"1.0-1")," years. ")}}function _q(n,t){if(1&n&&(d(0,"div",13),A(1,"bigNumber"),A(2,"bigNumber"),function Wg(){ne.lFrame.currentNamespace="svg"}(),d(3,"svg",14)(4,"defs")(5,"filter",15),N(6,"feGaussianBlur",16),h()(),N(7,"circle",17)(8,"circle",18)(9,"path",19)(10,"circle",20)(11,"circle",21),h()()),2&n){const e=C();Kl("tooltip","Yang: ",B(1,11,e.characterService.characterState.yang),"<br/>Yin: ",B(2,13,e.characterService.characterState.yin),"<br/>Your balance is ",e.balanceString,"."),g(3),Kt("fill",e.yinColor),g(5),Kt("fill",e.yangColor),g(2),Kt("fill",e.yinColor),g(1),Kt("fill",e.yangColor)}}let bq=(()=>{class n{constructor(e,i){this.characterService=e,this.mainLoopService=i,this.yinColor="#000000",this.yangColor="#ffffff",this.balanceString="perfect",this.Math=Math,i.longTickSubject.subscribe(()=>{this.updateYinYang()})}updateYinYang(){if(!this.characterService.characterState.yinYangUnlocked)return;let e=this.characterService.characterState.yang,i=this.characterService.characterState.yin;if(i<1&&(i=1),e<1&&(e=1),e>=i){this.yangColor="#ffffff";const l=(255-Math.round(i/e*255)).toString(16);this.yinColor="#"+l+l+l}else{this.yinColor="#000000";const l=Math.round(e/i*255).toString(16);this.yangColor="#"+l+l+l}const r=["perfect","exceptional","excellent","good","fair","poor","terrible","abysmal","non-existent"],o=Math.max(Math.abs(e-i)/((e+i)/2)*1e4,1),a=Math.min(Math.floor(Math.log(o)/Math.log(5)),r.length-1);this.balanceString=r[a]}}return n.\u0275fac=function(e){return new(e||n)(_(Ie),_(Ct))},n.\u0275cmp=le({type:n,selectors:[["app-health-panel"]],decls:46,vars:44,consts:[[1,"panelHeader"],[1,"headerCell"],[4,"ngIf"],["class","headerCell",4,"ngIf"],[3,"tooltip"],[1,"healthPanelContents"],["placement","right",3,"tooltip"],[1,"health"],[1,"progress-bar"],[1,"stamina"],[1,"nourishment"],[1,"mana"],["class","yinYang",3,"tooltip",4,"ngIf"],[1,"yinYang",3,"tooltip"],["xmlns","http://www.w3.org/2000/svg","width","250","height","250","viewBox","0 0 1250 1250"],["id","f"],["stdDeviation","3.5"],["cx","125","cy","125","r","116.6","fill","#7f7f7f","opacity","0.5","filter","url(#f)"],["cx","125","cy","125","r","113.2"],["d","m125,11.8 a56.6,56.6 0 0 1 0,113.2 56.6,56.6 0 0 0 0,113.2 113.2,113.2 0 0 0 0,-226.4"],["cx","125","cy","68.4","r","17.6"],["cx","125","cy","181.6","r","17.6"]],template:function(e,i){1&e&&(d(0,"h3",0)(1,"table")(2,"tr")(3,"td",1),p(4),A(5,"floor"),M(6,gq,3,4,"span",2),p(7," old. "),h(),M(8,vq,2,0,"td",3),M(9,yq,3,4,"td",3),d(10,"td")(11,"mat-icon",4),p(12,"timer"),h()()()()(),d(13,"div",5)(14,"table")(15,"tr")(16,"td",6),p(17,"Health"),h(),d(18,"td",7)(19,"div",8),A(20,"bigNumber"),A(21,"bigNumber"),N(22,"span"),h()(),d(23,"td",6),p(24,"Stamina"),h(),d(25,"td",9)(26,"div",8),A(27,"bigNumber"),A(28,"bigNumber"),N(29,"span"),h()()(),d(30,"tr")(31,"td",6),p(32,"Nutrition"),h(),d(33,"td",10)(34,"div",8),A(35,"bigNumber"),A(36,"bigNumber"),N(37,"span"),h()(),d(38,"td",6),p(39,"Mana"),h(),d(40,"td",11)(41,"div",8),A(42,"bigNumber"),A(43,"bigNumber"),N(44,"span"),h()()()(),M(45,_q,12,15,"div",12),h()),2&e&&(g(4),O(" You are ",B(5,26,i.characterService.characterState.age/365)," years"),g(2),b("ngIf",i.characterService.characterState.age<365e4),g(2),b("ngIf",i.characterService.characterState.immortal),g(1),b("ngIf",!i.characterService.characterState.immortal),g(2),pe("tooltip",i.characterService.lifespanTooltip),g(5),pe("tooltip",i.characterService.characterState.status.health.description),g(3),We("value",B(20,28,i.Math.floor(i.characterService.characterState.immortal&&i.characterService.characterState.status.health.value<0?0:i.characterService.characterState.status.health.value)))("max",B(21,30,i.Math.floor(i.characterService.characterState.status.health.max))),g(3),Kt("width",100*i.Math.floor(i.characterService.characterState.immortal&&i.characterService.characterState.status.health.value<0?0:i.characterService.characterState.status.health.value)/i.Math.floor(i.characterService.characterState.status.health.max),"%"),g(1),pe("tooltip",i.characterService.characterState.status.stamina.description),g(3),We("value",B(27,32,i.Math.floor(i.characterService.characterState.status.stamina.value)))("max",B(28,34,i.Math.floor(i.characterService.characterState.status.stamina.max))),g(3),Kt("width",100*i.Math.floor(i.characterService.characterState.status.stamina.value)/i.Math.floor(i.characterService.characterState.status.stamina.max),"%"),g(2),pe("tooltip",i.characterService.characterState.status.nourishment.description),g(3),We("value",B(35,36,i.Math.floor(i.characterService.characterState.status.nourishment.value)))("max",B(36,38,i.Math.floor(i.characterService.characterState.status.nourishment.max))),g(3),Kt("width",100*i.Math.floor(i.characterService.characterState.status.nourishment.value)/i.Math.floor(i.characterService.characterState.status.nourishment.max),"%"),g(1),pe("tooltip",i.characterService.characterState.status.mana.description),g(3),We("value",B(42,40,i.Math.floor(i.characterService.characterState.status.mana.value)))("max",B(43,42,i.Math.floor(i.characterService.characterState.status.mana.max))),g(3),Kt("width",100*i.Math.floor(i.characterService.characterState.status.mana.value)/i.Math.floor(i.characterService.characterState.status.mana.max),"%"),g(1),b("ngIf",i.characterService.characterState.yinYangUnlocked))},directives:[at,nn,Tt],pipes:[q4,Nr,zt],styles:[".panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}.stamina[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--staminaColor)}.nourishment[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--nutritionColor)}.mana[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--manaColor)}.headerCell[_ngcontent-%COMP%]{width:210px}td[_ngcontent-%COMP%]{font-size:12px}.yinYang[_ngcontent-%COMP%]{width:50px;max-width:50px;height:50px;max-height:50px;overflow:hidden}.healthPanelContents[_ngcontent-%COMP%]{display:flex;flex-direction:row}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function Sq(n,t){if(1&n&&(d(0,"div"),p(1),A(2,"number"),h()),2&n){const e=C().$implicit,i=C(2);g(1),O("$ ",je(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}const Bu=function(n){return{ownedItem:n}};function wq(n,t){if(1&n){const e=j();d(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),h()(),d(5,"div"),p(6),A(7,"titlecase"),h(),M(8,Sq,3,4,"div",1),h(),d(9,"button",5),x("click",function(){const o=I(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),h()()}if(2&n){const e=t.$implicit,i=C(2);g(1),pe("tooltip",e.description),b("ngClass",Ue(8,Bu,i.homeService.furniture[e.slot]===e)),g(3),me(e.slot),g(2),me(B(7,6,e.name)),g(2),b("ngIf",i.storeService.furniturePrices[e.name]||!1),g(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function Cq(n,t){if(1&n&&(d(0,"div")(1,"span"),p(2,"Bed"),h(),N(3,"hr"),d(4,"div",2),M(5,wq,11,10,"div",3),h()()),2&n){const e=C();g(5),b("ngForOf",e.storeService.getFurnitureForSlot("bed"))}}function kq(n,t){if(1&n&&(d(0,"div"),p(1),A(2,"number"),h()),2&n){const e=C().$implicit,i=C(2);g(1),O("$ ",je(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function Mq(n,t){if(1&n){const e=j();d(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),h()(),d(5,"div"),p(6),A(7,"titlecase"),h(),M(8,kq,3,4,"div",1),h(),d(9,"button",5),x("click",function(){const o=I(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),h()()}if(2&n){const e=t.$implicit,i=C(2);g(1),pe("tooltip",e.description),b("ngClass",Ue(8,Bu,i.homeService.furniture[e.slot]===e)),g(3),me(e.slot),g(2),me(B(7,6,e.name)),g(2),b("ngIf",i.storeService.furniturePrices[e.name]||!1),g(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function Dq(n,t){if(1&n&&(d(0,"div")(1,"span"),p(2,"Bathtub"),h(),N(3,"hr"),d(4,"div",2),M(5,Mq,11,10,"div",3),h()()),2&n){const e=C();g(5),b("ngForOf",e.storeService.getFurnitureForSlot("bathtub"))}}function xq(n,t){if(1&n&&(d(0,"div"),p(1),A(2,"number"),h()),2&n){const e=C().$implicit,i=C(2);g(1),O("$ ",je(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function Tq(n,t){if(1&n){const e=j();d(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),h()(),d(5,"div"),p(6),A(7,"titlecase"),h(),M(8,xq,3,4,"div",1),h(),d(9,"button",5),x("click",function(){const o=I(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),h()()}if(2&n){const e=t.$implicit,i=C(2);g(1),pe("tooltip",e.description),b("ngClass",Ue(8,Bu,i.homeService.furniture[e.slot]===e)),g(3),me(e.slot),g(2),me(B(7,6,e.name)),g(2),b("ngIf",i.storeService.furniturePrices[e.name]||!1),g(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function Eq(n,t){if(1&n&&(d(0,"div")(1,"span"),p(2,"Kitchen"),h(),N(3,"hr"),d(4,"div",2),M(5,Tq,11,10,"div",3),h()()),2&n){const e=C();g(5),b("ngForOf",e.storeService.getFurnitureForSlot("kitchen"))}}function Aq(n,t){if(1&n&&(d(0,"div"),p(1),A(2,"number"),h()),2&n){const e=C().$implicit,i=C(2);g(1),O("$ ",je(2,1,i.storeService.furniturePrices[e.name],"1.0-0"),"")}}function Pq(n,t){if(1&n){const e=j();d(0,"div")(1,"div",4)(2,"div")(3,"mat-icon"),p(4),h()(),d(5,"div"),p(6),A(7,"titlecase"),h(),M(8,Aq,3,4,"div",1),h(),d(9,"button",5),x("click",function(){const o=I(e).$implicit;return C(2).storeService.buyFurniture(o)}),p(10),h()()}if(2&n){const e=t.$implicit,i=C(2);g(1),pe("tooltip",e.description),b("ngClass",Ue(8,Bu,i.homeService.furniture[e.slot]===e)),g(3),me(e.slot),g(2),me(B(7,6,e.name)),g(2),b("ngIf",i.storeService.furniturePrices[e.name]||!1),g(2),O(" ",i.storeService.furniturePrices[e.name]?"Buy":"Use"," ")}}function Iq(n,t){if(1&n&&(d(0,"div")(1,"span"),p(2,"Workbench"),h(),N(3,"hr"),d(4,"div",2),M(5,Pq,11,10,"div",3),h()()),2&n){const e=C();g(5),b("ngForOf",e.storeService.getFurnitureForSlot("workbench"))}}let Oq=(()=>{class n{constructor(e,i,r,o,a,s){this.storeService=e,this.characterService=i,this.homeService=r,this.inventoryService=o,this.itemRepoService=a,this.gameStateService=s,this.buyDisabled=!0}slotClicked(e){this.storeService.selectedItem===e?(this.storeService.selectedItem=null,this.buyDisabled=!0):(this.storeService.selectedItem=e,this.buyDisabled=!(!e.owned||!e.owned()))}}return n.\u0275fac=function(e){return new(e||n)(_(to),_(Ie),_(Ze),_(W),_(xn),_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-furniture-store-modal"]],decls:9,vars:4,consts:[[1,"darkMode","furnitureModal"],[4,"ngIf"],[1,"inventoryGrid"],[4,"ngFor","ngForOf"],["placement","left",1,"itemSlot",3,"ngClass","tooltip"],[3,"click"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Furniture Shop"),h(),N(3,"hr")(4,"br"),M(5,Cq,6,1,"div",1),M(6,Dq,6,1,"div",1),M(7,Eq,6,1,"div",1),M(8,Iq,6,1,"div",1),h()),2&e&&(g(5),b("ngIf",i.storeService.getFurnitureForSlot("bed").length>0),g(1),b("ngIf",i.storeService.getFurnitureForSlot("bathtub").length>0),g(1),b("ngIf",i.storeService.getFurnitureForSlot("kitchen").length>0),g(1),b("ngIf",i.storeService.getFurnitureForSlot("workbench").length>0))},directives:[at,It,Hn,Tt,nn],pipes:[Vn,Nr],styles:[".furnitureModal[_ngcontent-%COMP%]{overflow:hidden}.itemSlot[_ngcontent-%COMP%]{width:75px;height:75px;background-color:var(--storeButtonColor);line-height:12px}.ownedItem[_ngcontent-%COMP%]{background-color:var(--storeButtonDisabledColor)!important;border:1px solid var(--storeButtonDisabledColor)!important}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:1em;text-align:center;justify-content:center}hr[_ngcontent-%COMP%]{margin-top:2px}button[_ngcontent-%COMP%]{width:90%;display:inline-block;margin-top:4px}"]}),n})();function Rq(n,t){if(1&n&&(d(0,"div")(1,"div",7)(2,"div"),p(3),A(4,"titlecase"),h(),d(5,"div"),p(6),h(),d(7,"div"),p(8),A(9,"percent"),h()()()),2&n){const e=t.$implicit;g(1),Pr("tooltip","You will harvest ",e.yield," in ",e.daysToHarvest," days"),g(2),me(B(4,5,e.cropName)),g(3),me(e.yield),g(2),me(B(9,7,(e.originalDaysToHarvest-e.daysToHarvest)/e.originalDaysToHarvest))}}let Fq=(()=>{class n{constructor(e,i,r){this.homeService=e,this.characterService=i,this.gameStateService=r}clearClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.clearField(10):e.ctrlKey||e.metaKey?this.homeService.clearField(-1):this.homeService.clearField()}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey||e.metaKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey||e.metaKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(_(Ze),_(Ie),_(qn))},n.\u0275cmp=le({type:n,selectors:[["app-farm-panel"]],decls:18,vars:10,consts:[[1,"darkMode"],[1,"yieldText"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton","rightFloat",3,"click"],["placement","bottom","tooltip","Clear a field. Converts a the field back into an open plot of land. Shift-click to clear 10 fields, Ctrl-click to clear all your fields.",1,"iconButton","rightFloat",3,"click"],[1,"farmGrid"],[4,"ngFor","ngForOf"],[1,"itemSlot",3,"tooltip"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Your Farm"),h(),N(3,"hr"),d(4,"div",1)(5,"span"),p(6),A(7,"bigNumber"),A(8,"bigNumber"),h(),d(9,"mat-icon",2),x("click",function(o){return i.buyClicked(o)}),A(10,"bigNumber"),p(11," add "),h(),d(12,"mat-icon",3),x("click",function(o){return i.plowClicked(o)}),p(13," waves "),h(),d(14,"mat-icon",4),x("click",function(o){return i.clearClicked(o)}),p(15," delete_sweep "),h()(),d(16,"div",5),M(17,Rq,10,9,"div",6),h()()),2&e&&(g(6),kn("Your ",B(7,4,i.homeService.fields.length+i.homeService.extraFields)," fields produced an average of ",B(8,6,i.homeService.averageYield)," food per day over the last year."),g(3),ln("tooltip","Buy a plot of land for ",B(10,8,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),g(8),b("ngForOf",i.homeService.fields))},directives:[nn,Tt,It],pipes:[zt,Vn,wc],styles:[".itemSlot[_ngcontent-%COMP%]{width:42px;height:42px;padding:2px;line-height:12px}.farmGrid[_ngcontent-%COMP%]{width:670px;margin:0 auto;display:flex;flex-wrap:wrap;justify-content:center;gap:2px}.iconButton[_ngcontent-%COMP%]{float:right}.yieldText[_ngcontent-%COMP%]{height:30px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function Lq(n,t){1&n&&N(0,"div",20),2&n&&ln("tooltip","You don't own a ",C().$implicit,", but your home could hold one.")}function Nq(n,t){if(1&n&&(d(0,"div",21),p(1),A(2,"titlecase"),h()),2&n){const e=C().$implicit,i=C(2);pe("tooltip",null==i.homeService.furniture[e]?null:i.homeService.furniture[e].description),g(1),me(B(2,2,null==i.homeService.furniture[e]?null:i.homeService.furniture[e].name))}}function Bq(n,t){if(1&n&&(d(0,"div"),M(1,Lq,1,1,"div",18),M(2,Nq,3,4,"div",19),h()),2&n){const e=t.$implicit,i=C(2);g(1),b("ngIf",!i.homeService.furniture[e]),g(1),b("ngIf",i.homeService.furniture[e])}}function Hq(n,t){if(1&n&&(d(0,"div",16),M(1,Bq,3,2,"div",17),h()),2&n){const e=C();g(1),b("ngForOf",e.homeService.home.furnitureSlots)}}function Vq(n,t){1&n&&(d(0,"div",16)(1,"span",22),p(2,"Tent living is rough. All these pesky mice could become a real problem. You might want to buy some land and get a better home."),h()())}function Uq(n,t){if(1&n){const e=j();d(0,"mat-icon",9),x("click",function(){return I(e),C().homeService.upgradeToNextHome()}),p(1," add_business "),h()}2&n&&pe("tooltip",C().homeService.nextHome.upgradeToTooltip)}function jq(n,t){if(1&n){const e=j();d(0,"mat-icon",23),x("click",function(){return I(e),C().storeClicked()}),p(1," shopping_cart "),h()}}function qq(n,t){if(1&n&&(d(0,"div",24),N(1,"span"),h()),2&n){const e=C();We("value",e.buildTimeYears()),g(1),Kt("width",100*e.homeService.houseBuildingProgress,"%")}}function zq(n,t){1&n&&N(0,"span",25)}let Yq=(()=>{class n{constructor(e,i,r,o,a,s){this.characterService=e,this.homeService=i,this.followerService=r,this.dialog=o,this.storeService=a,this.bignumber=s,this.character=e.characterState,this.Math=Math}buildTimeYears(){return this.bignumber.transform((1-this.homeService.houseBuildingProgress)*this.homeService.nextHome.daysToBuild/(1+this.followerService.jobs.builder.totalPower)/365)+" years"}storeClicked(){this.storeService.setStoreInventory(),this.dialog.open(Oq,{width:"510px",data:{someField:"foo"}})}farmClicked(){this.storeService.setStoreInventory(),this.dialog.open(Fq,{width:"800px",data:{someField:"foo"}})}buyClicked(e){e.preventDefault(),e.stopPropagation(),this.homeService.buyLand(e.shiftKey?10:e.ctrlKey||e.metaKey?-1:1)}plowClicked(e){e.preventDefault(),e.stopPropagation(),e.shiftKey?this.homeService.addField(10):e.ctrlKey||e.metaKey?this.homeService.addField(-1):this.homeService.addField()}}return n.\u0275fac=function(e){return new(e||n)(_(Ie),_(Ze),_(Ft),_(Ki),_(to),_(zt))},n.\u0275cmp=le({type:n,selectors:[["app-home-panel"]],decls:32,vars:22,consts:[[1,"homeContainer"],[1,"panelHeader"],["tooltip","Your home is an essential part of your life. A better home allows you to recover and has room for furniture that can aid your immortal development."],[3,"tooltip"],[1,"overflow"],[1,"homeInfo"],["class","furnitureSlots",4,"ngIf"],[1,"buttons"],[1,"button-group"],["placement","bottom",1,"iconButton",3,"tooltip","click"],["placement","bottom","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","tooltip","Buy Furniture",3,"click",4,"ngIf"],["class","progress-bar","style","height:20px;","tooltip","Upgrading your home.",4,"ngIf"],["style","margin-left: 4px;",4,"ngIf"],["tooltip","View your farm.",1,"iconButton",3,"click"],["placement","bottom","tooltip","Plow a field. Converts a plot of land to a field. You'll need to work at farming it to make it produce much food. Once the harvest is over, you will get the food you've grown and the land will be available again. Shift-click to plow 10 fields, Ctrl-click to plow all your land.",1,"iconButton",3,"click"],[1,"furnitureSlots"],[4,"ngFor","ngForOf"],["class","itemSlot",3,"tooltip",4,"ngIf"],["class","itemSlot textOverflow",3,"tooltip",4,"ngIf"],[1,"itemSlot",3,"tooltip"],[1,"itemSlot","textOverflow",3,"tooltip"],[1,"mouseWarning"],["tooltip","Buy Furniture",1,"iconButton",3,"click"],["tooltip","Upgrading your home.",1,"progress-bar",2,"height","20px"],[2,"margin-left","4px"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3",1)(2,"mat-icon",2),p(3,"home"),h(),d(4,"div",3),p(5),h()(),d(6,"div",4)(7,"div",5)(8,"span"),p(9),A(10,"bigNumber"),h()(),d(11,"div",5)(12,"span"),p(13),A(14,"bigNumber"),A(15,"bigNumber"),h()(),M(16,Hq,2,1,"div",6),M(17,Vq,3,0,"div",6),h(),d(18,"div",7)(19,"div",8)(20,"mat-icon",9),x("click",function(o){return i.buyClicked(o)}),A(21,"bigNumber"),p(22," add "),h(),M(23,Uq,2,1,"mat-icon",10),M(24,jq,2,0,"mat-icon",11),M(25,qq,2,3,"div",12),M(26,zq,1,0,"span",13),h(),d(27,"div",8)(28,"mat-icon",14),x("click",function(){return i.farmClicked()}),p(29,"grass"),h(),d(30,"mat-icon",15),x("click",function(o){return i.plowClicked(o)}),p(31," waves "),h()()()()),2&e&&(g(4),pe("tooltip",i.homeService.home.description),g(1),O(" You live in a ",i.homeService.home.name," "),g(4),kn("It costs ",B(10,14,i.homeService.home.costPerDay)," ",1===i.homeService.home.costPerDay?"tael":"taels"," per day to maintain your home"),g(4),rs("You own ",B(14,16,i.homeService.land)," open ",1===i.homeService.land?"plot":"plots"," of land and ",B(15,18,i.homeService.fields.length+i.homeService.extraFields)," fields"),g(3),b("ngIf",i.homeService.home.furnitureSlots.length>0),g(1),b("ngIf",0===i.homeService.home.furnitureSlots.length),g(3),ln("tooltip","Buy a plot of land for ",B(21,20,i.homeService.landPrice)," taels. Shift-click to buy 10 plots, Ctrl-click to buy half the land you can afford."),g(3),b("ngIf",i.homeService.home.name!==i.homeService.nextHome.name),g(1),b("ngIf",i.homeService.home.furnitureSlots.length),g(1),b("ngIf",i.homeService.upgrading),g(1),b("ngIf",i.homeService.upgrading))},directives:[nn,Tt,at,It],pipes:[zt,Vn],styles:[".homeContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;padding-left:2px}.homeInfo[_ngcontent-%COMP%]{font-size:12px;margin-top:-2px;margin-bottom:-4px}.mouseWarning[_ngcontent-%COMP%]{font-size:12px;margin:6px}.buttons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder);display:flex;justify-content:space-between}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin-top:2px;margin-bottom:2px;vertical-align:middle}.furnitureSlots[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:3px;margin-bottom:2px}.itemSlot[_ngcontent-%COMP%]{width:50px;height:50px}.progress-bar[_ngcontent-%COMP%]{width:195px;margin-left:4px;vertical-align:middle}.overflow[_ngcontent-%COMP%]{overflow:auto}.panelHeader[_ngcontent-%COMP%]{display:flex;gap:4px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})(),$q=(()=>{class n{constructor(e){this.logService=e}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}}return n.\u0275fac=function(e){return new(e||n)(_(fn))},n.\u0275cmp=le({type:n,selectors:[["app-log-filter-panel"]],decls:25,vars:10,consts:[[1,"darkMode"],[1,"filters"],["type","checkbox","id","filterStory",3,"checked","change"],["for","filterStory"],[1,"highlightText"],["type","checkbox","id","filterEvent",3,"checked","change"],["for","filterEvent"],["type","checkbox","id","filterCrafting",3,"checked","change"],["for","filterCrafting"],["type","checkbox","id","filterCombat",3,"checked","change"],["for","filterCombat"],["type","checkbox","id","filterFollower",3,"checked","change"],["for","filterFollower"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2,"Log Filters"),h(),d(3,"span",1)(4,"input",2),x("change",function(o){return i.topicFilter(o,"STORY")}),h(),d(5,"label",3),p(6,"Show Story Log Entries "),d(7,"span",4),p(8),h()(),N(9,"br"),d(10,"input",5),x("change",function(o){return i.topicFilter(o,"EVENT")}),h(),d(11,"label",6),p(12),h(),N(13,"br"),d(14,"input",7),x("change",function(o){return i.topicFilter(o,"CRAFTING")}),h(),d(15,"label",8),p(16),h(),N(17,"br"),d(18,"input",9),x("change",function(o){return i.topicFilter(o,"COMBAT")}),h(),d(19,"label",10),p(20),h(),N(21,"br"),d(22,"input",11),x("change",function(o){return i.topicFilter(o,"FOLLOWER")}),h(),d(23,"label",12),p(24),h()()()),2&e&&(g(4),b("checked",i.logService.logTopics.includes("STORY")),g(4),me(i.logService.newStory),g(2),b("checked",i.logService.logTopics.includes("EVENT")),g(2),O("Show Events Log Entries ",i.logService.newEvents,""),g(2),b("checked",i.logService.logTopics.includes("CRAFTING")),g(2),O("Show Crafting Log Entries ",i.logService.newCrafting,""),g(2),b("checked",i.logService.logTopics.includes("COMBAT")),g(2),O("Show Combat Log Entries ",i.logService.newCombat,""),g(2),b("checked",i.logService.logTopics.includes("FOLLOWER")),g(2),O("Show Followers Log Entries ",i.logService.newFollower,""))},styles:[""]}),n})();function Gq(n,t){if(1&n&&(Er(0),d(1,"div",6),p(2),h(),Ar()),2&n){const e=t.$implicit;g(1),b("ngClass",e.type),g(1),O(" ",e.message," ")}}let Wq=(()=>{class n{constructor(e,i){this.logService=e,this.dialog=i}topicFilter(e,i){e.target instanceof HTMLInputElement&&this.logService.enableLogTopic(i,e.target.checked)}logFilterClicked(){this.dialog.open($q,{width:"700px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(_(fn),_(Ki))},n.\u0275cmp=le({type:n,selectors:[["app-log-panel"]],decls:10,vars:1,consts:[[1,"log"],[1,"panelHeader"],["tooltip","Manage Log Filters",1,"iconButton","optionsIcon",3,"click"],[1,"headerNote"],[1,"logBox"],[4,"ngFor","ngForOf"],[1,"logEntryDiv",3,"ngClass"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3",1)(2,"span"),p(3,"Log"),h(),d(4,"mat-icon",2),x("click",function(){return i.logFilterClicked()}),p(5," filter_alt "),h(),d(6,"span",3),p(7,"Newest messages appear at the top, so read from the bottom up."),h()(),d(8,"div",4),M(9,Gq,3,2,"ng-container",5),h()()),2&e&&(g(9),b("ngForOf",i.logService.currentLog))},directives:[nn,Tt,It,Hn],styles:[".log[_ngcontent-%COMP%]{flex-direction:column;width:100%;display:flex}.STANDARD[_ngcontent-%COMP%]{color:var(--bodyText)}.INJURY[_ngcontent-%COMP%]{color:var(--healthColor)}.logEntryDiv[_ngcontent-%COMP%]{border-top:1px var(--tableDividerColor) dotted;white-space:nowrap;font-size:12px;line-height:12px;margin-left:2px;margin-top:1px}.logBox[_ngcontent-%COMP%]{overflow:auto;flex:1 1 auto;width:100%}.headerNote[_ngcontent-%COMP%]{margin-left:100px;font-size:x-small}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap;flex:0 1 auto}.highlightText[_ngcontent-%COMP%]{color:var(--healthColor)}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function Kq(n,t){if(1&n&&(d(0,"div",13),p(1),A(2,"bigNumber"),h()),2&n){const e=C();g(1),O("",B(2,1,e.characterService.characterState.hellMoney)," Hell Money")}}function Jq(n,t){1&n&&(d(0,"mat-icon",14),p(1," soup_kitchen "),h()),2&n&&pe("tooltip",C().inventoryService.autoBuyFood?"You have no food in your inventory. You will spend money on food each day to avoid starvation.":"You have no food in your inventory and have chosen not to buy food to prevent starvation.")}function Qq(n,t){if(1&n&&(d(0,"div",18),p(1),h()),2&n){const e=C().$implicit;g(1),O("x",null==e?null:e.quantity,"")}}const Zq=function(n,t){return{selectedItem:n,brokenItem:t}};function Xq(n,t){if(1&n){const e=j();d(0,"div",15),x("mousedown",function(r){const a=I(e).$implicit;return C().slotClicked(a,r)})("dblclick",function(r){const a=I(e).$implicit;return C().slotDoubleClicked(a,r)})("contextmenu",function(r){const a=I(e).$implicit;return C().slotRightClicked(a,r)})("dragover",function(r){return I(e),C().allowDrop(r)})("drop",function(r){const a=I(e).index;return C().drop(a,r)})("dragstart",function(r){const a=I(e).index;return C().drag(a,r)}),A(1,"titlecase"),d(2,"div",16),p(3),A(4,"titlecase"),h(),M(5,Qq,2,1,"div",17),h()}if(2&n){const e=t.$implicit,i=C();pe("tooltip",null!==(null==e?null:e.item)?B(1,4,null==e||null==e.item?null:e.item.name)+"<hr/>"+(null==e||null==e.item?null:e.item.description):""),b("ngClass",Ni(8,Zq,null!==e&&e===i.inventoryService.selectedItem,null!==e&&!i.inventoryService.hasDurability(e))),g(3),me(B(4,6,null==e||null==e.item?null:e.item.name)),g(2),b("ngIf",((null==e?null:e.quantity)||0)>1)}}function e8(n,t){if(1&n){const e=j();d(0,"mat-icon",26),x("click",function(){return I(e),C(2).sell(1)}),p(1," attach_money "),h()}if(2&n){const e=C(2);Pr("tooltip","Sell one ",e.inventoryService.selectedItem.item.name," for ",e.inventoryService.selectedItem.item.value," taels. Right-click items to sell.")}}function t8(n,t){if(1&n){const e=j();d(0,"mat-icon",26),x("click",function(){return I(e),C(2).sellStack()}),p(1," paid "),h()}if(2&n){const e=C(2);Pr("tooltip","Sell all the ",e.inventoryService.selectedItem.item.name," in this inventory slot for ",e.inventoryService.selectedItem.item.value*e.inventoryService.selectedItem.quantity," taels.  Shift-right-click items to sell the stack.")}}function n8(n,t){if(1&n){const e=j();d(0,"mat-icon",26),x("click",function(){return I(e),C(2).sellAll()}),p(1," shopping_basket "),h()}2&n&&ln("tooltip","Sell all the ",C(2).inventoryService.selectedItem.item.name," in the whole inventory.")}function i8(n,t){if(1&n){const e=j();d(0,"mat-icon",27),x("click",function(){return I(e),C(2).autoSell()}),p(1," currency_exchange "),h()}}function r8(n,t){if(1&n){const e=j();d(0,"mat-icon",26),x("click",function(){return I(e),C(2).use()}),p(1," auto_awesome "),h()}if(2&n){const e=C(2);Pr("tooltip","",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Shift-click items to use.")}}function o8(n,t){if(1&n){const e=j();d(0,"mat-icon",26),x("click",function(){return I(e),C(2).autoUse()}),p(1," auto_mode "),h()}if(2&n){const e=C(2);Pr("tooltip","Auto-",e.inventoryService.selectedItem.item.useLabel,". ",e.inventoryService.selectedItem.item.useDescription," Ctrl-click items to auto-use.")}}function a8(n,t){if(1&n){const e=j();d(0,"mat-icon",28),x("click",function(){return I(e),C(2).autoBalance()}),p(1," balance "),h()}}function s8(n,t){if(1&n){const e=j();d(0,"mat-icon",29),x("click",function(){return I(e),C(2).equip()}),p(1," shield "),h()}}function l8(n,t){if(1&n){const e=j();d(0,"mat-icon",30),x("click",function(){return I(e),C(2).mergeSpiritGem()}),p(1," diamond "),h()}}function c8(n,t){if(1&n&&(d(0,"div",19),M(1,e8,2,2,"mat-icon",20),M(2,t8,2,2,"mat-icon",20),M(3,n8,2,1,"mat-icon",21),M(4,i8,2,0,"mat-icon",22),M(5,r8,2,2,"mat-icon",21),M(6,o8,2,2,"mat-icon",20),M(7,a8,2,0,"mat-icon",23),M(8,s8,2,0,"mat-icon",24),M(9,l8,2,0,"mat-icon",25),h()),2&n){const e=C();g(1),b("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),g(1),b("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),g(1),b("ngIf",e.isFinite(e.inventoryService.selectedItem.item.value)),g(1),b("ngIf",e.inventoryService.autoSellUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)),g(1),b("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel),g(1),b("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoUseUnlocked),g(1),b("ngIf",void 0!==e.inventoryService.selectedItem.item.useLabel&&e.inventoryService.autoBalanceUnlocked&&e.isFinite(e.inventoryService.selectedItem.item.value)),g(1),b("ngIf","equipment"===e.inventoryService.selectedItem.item.type),g(1),b("ngIf","spiritGem"===e.inventoryService.selectedItem.item.type)}}const u8=function(n,t){return{highlighted:n,sortHighlight:t}};let h8=(()=>{class n{constructor(e,i,r){this.inventoryService=e,this.characterService=i,this.hellService=r,this.equipmentSlots=Object.keys(this.characterService.characterState.equipment)}isFinite(e){return Number.isFinite(e)}slotClicked(e,i){if(i.stopPropagation(),i.shiftKey){let r=null;r!==e&&(r=this.inventoryService.selectedItem),this.inventoryService.selectedItem=e,this.use(),this.inventoryService.selectedItem=r}else i.ctrlKey||i.metaKey?(this.inventoryService.selectedItem=e,this.autoUse()):this.inventoryService.selectedItem=this.inventoryService.selectedItem===e?null:e}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}slotRightClicked(e,i){i.preventDefault(),i.stopPropagation(),this.inventoryService.selectedItem=e,i.ctrlKey||i.metaKey?this.autoSell():i.shiftKey?this.sellStack():this.sell(1)}sortClicked(e){e.preventDefault(),e.stopPropagation(),e.ctrlKey||e.metaKey?this.inventoryService.descendingSort=!this.inventoryService.descendingSort:e.shiftKey?this.inventoryService.autoSort=!this.inventoryService.autoSort:this.inventoryService.sortInventory()}sellAll(){this.inventoryService.selectedItem&&this.inventoryService.sellAll(this.inventoryService.selectedItem.item)}sellStack(){this.inventoryService.selectedItem&&this.sell(this.inventoryService.selectedItem.quantity)}sell(e){this.inventoryService.selectedItem&&this.inventoryService.sell(this.inventoryService.selectedItem,e)}autoSell(){this.inventoryService.selectedItem&&this.inventoryService.autoSell(this.inventoryService.selectedItem.item)}use(){this.inventoryService.selectedItem&&this.inventoryService.useItemStack(this.inventoryService.selectedItem)}autoUse(){this.inventoryService.selectedItem&&this.inventoryService.autoUse(this.inventoryService.selectedItem.item)}autoBalance(){this.inventoryService.selectedItem&&this.inventoryService.autoBalance(this.inventoryService.selectedItem.item)}equip(){this.inventoryService.selectedItem&&(this.inventoryService.equip(this.inventoryService.selectedItem),this.inventoryService.selectedItem=null)}mergeSpiritGem(){this.inventoryService.selectedItem&&(this.inventoryService.autoSellOldGemsEnabled=!1,this.inventoryService.mergeSpiritGem(this.inventoryService.selectedItem),0===this.inventoryService.selectedItem.quantity&&(this.inventoryService.selectedItem=null))}allowDrop(e){var i,r;("inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])||"equipment"===(null===(r=e.dataTransfer)||void 0===r?void 0:r.types[0]))&&e.preventDefault()}drag(e,i){var r;this.inventoryService.selectedItem=this.inventoryService.itemStacks[e],null===(r=i.dataTransfer)||void 0===r||r.setData("inventory",e+"")}drop(e,i){var r,o,a,s;if(i.preventDefault(),"inventory"===(null===(r=i.dataTransfer)||void 0===r?void 0:r.types[0])){const l=(null===(o=i.dataTransfer)||void 0===o?void 0:o.getData("inventory"))+"",c=parseInt(l);if(c===e)return;if(c>=0&&c<this.inventoryService.itemStacks.length){const u=this.inventoryService.itemStacks[c],f=this.inventoryService.itemStacks[e],m=null==u?void 0:u.item,v=null==f?void 0:f.item;if(m&&v&&Wi(m)&&Wi(v)&&m.slot===v.slot)return this.inventoryService.itemStacks[e]=null,this.inventoryService.itemStacks[c]=null,this.inventoryService.selectedItem=null,void this.inventoryService.mergeEquipment(m,v,e);this.inventoryService.itemStacks[e]=u,this.inventoryService.itemStacks[c]=f}}else if("equipment"===(null===(a=i.dataTransfer)||void 0===a?void 0:a.types[0])){const l=(null===(s=i.dataTransfer)||void 0===s?void 0:s.getData("equipment"))+"",c=this.characterService.characterState.equipment[l];c&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(c),this.characterService.characterState.equipment[l]=null,this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(_(W),_(Ie),_($e))},n.\u0275cmp=le({type:n,selectors:[["app-inventory-panel"]],decls:20,vars:11,consts:[[1,"inventoryContainer"],[1,"panelHeader"],[1,"inventoryLabelColumn"],[1,"moneyLabelColumn"],[1,"moneyContainer"],[1,"moneyColumn"],["tooltip","Money usable only in hell. Note that this is not transferrable between hells.","class","moneyColumn",4,"ngIf"],["class","noFood","placement","left",3,"tooltip",4,"ngIf"],["placement","right","tooltip","Click to sort your inventory. Shift-click to toggle autosort. Ctrl-click to toggle descending.",1,"iconButton",3,"ngClass","click"],[1,"overflow"],[1,"inventoryGrid"],["class","itemSlot","draggable","true","placement","bottom",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart",4,"ngFor","ngForOf"],["class","inventoryButtons",4,"ngIf"],["tooltip","Money usable only in hell. Note that this is not transferrable between hells.",1,"moneyColumn"],["placement","left",1,"noFood",3,"tooltip"],["draggable","true","placement","bottom",1,"itemSlot",3,"ngClass","tooltip","mousedown","dblclick","contextmenu","dragover","drop","dragstart"],[1,"itemName","textOverflow"],["class","itemQuantity",4,"ngIf"],[1,"itemQuantity"],[1,"inventoryButtons"],["placement","left","class","iconButton",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left",3,"tooltip","click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Balance between automatically using and selling this item.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",3,"click",4,"ngIf"],["class","iconButton","placement","left","tooltip","Merge 10 of these into a higher grade gem.",3,"click",4,"ngIf"],["placement","left",1,"iconButton",3,"tooltip","click"],["placement","left","tooltip","Automatically sell this kind of item whenever you get one. Ctrl-right-click items to autosell.",1,"iconButton",3,"click"],["placement","left","tooltip","Balance between automatically using and selling this item.",1,"iconButton",3,"click"],["placement","left","tooltip","Equip this. Double-click weapons or armor to equip.",1,"iconButton",3,"click"],["placement","left","tooltip","Merge 10 of these into a higher grade gem.",1,"iconButton",3,"click"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3",1)(2,"div",2),p(3,"Inventory"),h(),d(4,"div",3),p(5,"Money: "),h(),d(6,"div",4)(7,"div",5),p(8),A(9,"bigNumber"),h(),M(10,Kq,3,3,"div",6),h(),d(11,"div"),M(12,Jq,2,1,"mat-icon",7),h(),d(13,"div")(14,"mat-icon",8),x("click",function(o){return i.sortClicked(o)}),p(15," sort "),h()()(),d(16,"div",9)(17,"div",10),M(18,Xq,6,11,"div",11),h()(),M(19,c8,10,9,"div",12),h()),2&e&&(g(8),O("",B(9,6,i.characterService.characterState.money)," Taels"),g(2),b("ngIf",i.hellService.inHell),g(2),b("ngIf",i.inventoryService.noFood),g(2),b("ngClass",Ni(8,u8,i.inventoryService.autoSort,i.inventoryService.descendingSort)),g(4),b("ngForOf",i.inventoryService.itemStacks),g(1),b("ngIf",i.inventoryService.selectedItem))},directives:[at,Tt,nn,Hn,It],pipes:[zt,Vn],styles:[".inventoryContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0}.inventoryGrid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin:3px 0;justify-content:center;gap:3px;overflow-anchor:none}.itemSlot[_ngcontent-%COMP%]{width:58px;height:58px;overflow:hidden;position:relative}.sortHighlight[_ngcontent-%COMP%]{background:linear-gradient(90deg,var(--textHighlight) 0%,rgba(0,0,0,0) 100%)}.selectedItem[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.itemSlot[_ngcontent-%COMP%]   .itemName[_ngcontent-%COMP%]{width:100%;display:inline-block;vertical-align:middle;line-height:12px}.itemQuantity[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;line-height:15px;padding:0 4px;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;background:inherit;filter:brightness(80%);border-radius:3px;z-index:1}.overflow[_ngcontent-%COMP%]{overflow:auto}.inventoryButtons[_ngcontent-%COMP%]{border-top:1px solid var(--panelBorder)}.inventoryLabelColumn[_ngcontent-%COMP%]{width:100px}.moneyLabelColumn[_ngcontent-%COMP%]{width:50px;font-size:12px}.moneyColumn[_ngcontent-%COMP%]{width:140px;font-size:12px}.noFood[_ngcontent-%COMP%]{font-size:16px;float:right;margin-top:4px;vertical-align:middle;color:var(--healthColor)}.panelHeader[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}moneyContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})(),d8=(()=>{class n{constructor(e){this.data=e,this.titleText="",this.bodyText="",this.titleText=e.titleText,this.bodyText=e.bodyText}}return n.\u0275fac=function(e){return new(e||n)(_(b1))},n.\u0275cmp=le({type:n,selectors:[["app-text-panel"]],decls:7,vars:2,consts:[[1,"darkMode"],[1,"textDiv"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"h3"),p(2),h(),N(3,"hr"),d(4,"div",1)(5,"span"),p(6),h()()()),2&e&&(g(2),me(i.titleText),g(4),O(" ",i.bodyText," "))},styles:[".textDiv[_ngcontent-%COMP%]{max-height:500px;overflow-y:auto;white-space:pre-line}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function p8(n,t){if(1&n){const e=j();d(0,"span")(1,"button",8),x("click",function(){return I(e),C().JoinTheGodsClick()}),p(2,"Join the Gods"),h()()}}function m8(n,t){if(1&n){const e=j();d(0,"span")(1,"button",8),x("click",function(){return I(e),C().hellBoss()}),p(2),h()()}if(2&n){const e=C();g(2),me(e.hellService.completedHellBosses.includes(e.hellService.currentHell)?"Beat On The Hell Lord Some More":"Challenge the Hell Lord")}}function g8(n,t){1&n&&(d(0,"mat-icon",14),p(1," model_training "),h())}function v8(n,t){if(1&n&&(d(0,"span")(1,"mat-icon",5),A(2,"bigNumber"),p(3," attach_money "),h()()),2&n){const e=C(2).$implicit;g(1),ln("tooltip","Exactly how much will you make doing this job? It can depend on your attributes, but the last time you did this job you made ",B(2,1,e.lastIncome)," taels.")}}const y8=function(n,t){return{projectionOnly:n,lockedActivity:t}};function _8(n,t){if(1&n){const e=j();d(0,"tr",10),x("dragstart",function(r){I(e);const o=C().$implicit;return C().drag(o,r)}),d(1,"td")(2,"span",11)(3,"button",12),x("click",function(r){I(e);const o=C().$implicit;return C().onClick(o,r)}),p(4),h(),M(5,g8,2,0,"mat-icon",13),h()(),d(6,"td"),p(7),N(8,"br"),p(9),M(10,v8,4,3,"span",4),h()()}if(2&n){const e=C().$implicit;b("ngClass",Ni(8,y8,e.projectionOnly,!e.unlocked)),g(3),pe("tooltip",e.unlocked?"Add this to your schedule\n\n                    Shift- or Ctrl-click to repeat it 10x\n                    Shift-Ctrl-click to repeat it 100x\n                    Alt-click to add it to the top":"This activity is locked until you have the attributes required for it"),g(1),O(" ",e.name[e.level]," "),g(1),b("ngIf",e.skipApprenticeshipLevel>0),g(2),O(" ",e.description[e.level]," "),g(2),kn(" ",e.consequenceDescription[e.level]," ",e.projectionOnly?"This activity can only be performed by a spiritual projection of yourself back in the mortal realm.":""," "),g(1),b("ngIf",e.lastIncome&&e.lastIncome>0)}}function b8(n,t){if(1&n&&(Er(0),M(1,_8,11,11,"tr",9),Ar()),2&n){const e=t.$implicit;g(1),b("ngIf",e.discovered)}}let S8=(()=>{class n{constructor(e,i,r,o,a,s,l){this.gameStateService=e,this.activityService=i,this.characterService=r,this.hellService=o,this.inventoryService=a,this.followerService=s,this.dialog=l,this.character=r.characterState}JoinTheGodsClick(){this.dialog.open(d8,{width:"700px",data:{titleText:"Joining the Gods",bodyText:'You take to the skies, soaring far above the human realms. Over the Kunlun mountains, past Mount Tai, and beyond the Jade Mountains, you find the great sea and finally the island where Mount Penglai stands tall, risiing up into the clouds. Above the pure white slopes, the mountain is crowned with a golden palace surrounded by an orchard of trees that grow the finest jewels and the most delectable fruits that grant perfect health and eternal youth to whoever eats them. Suddenly you feel a twinge of doubt. Your own peaches never looked so inviting, no matter how hard you worked your land to cultivate them.\n\nYou push down your feelings of inadequacy and press onward toward the gates of the golden palace. You are immortal now, after all. You have earned your place here. As you stride into the large courtyard, you find an assembly of gods there, seated on golden thrones. The eight immortals are there, each holding their artifact of power as they laugh raucously at each other\'s jokes. Nuwa and Fuxi, the great ancestors of humanity, sit idly chatting as the Queen Mother of the West exchanges quiet words with Caishen in his most fine of all silks. In the center of them all, Shangti, the Jade Emperor himself, sits on his elevated throne. As you approach, he claps his hands for silence. You were clearly expected.\n\n"Ah. The young upstart who has caused so much trouble in the mortal realm has finally arrived."\n\nThe other gods greet you with nothing but steely stares. You nod in acknowledgement and take another step toward the thrones. You notice that one of them off to the side is empty. A place for you, perhaps?\n\n"I suppose you feel you deserve a place here with us now, do you?" the Jade Emperor continues. "Fight a few monsters, improve yourself a bit, conquer a few of your fellow mortals, and suddenly you\'ve earned the right to call yourself a god, eh?"\n\nYou nod again, preparing to recount the long journey of cultivation and devotion that led you to this pointm, when a towering figure to your right cuts you off before you can begin.\n\n"Nonsense!" the ominous voice thunders. "This upstart destroyed one of my best servants and commited uncountable sins for which no price has been paid."\n\n"And what would you suggest be done with this new immortal, Lord Yama?" the Emperor asks. "This one clearly shows the necessary power, and has no shortage of determination. One way or another, sooner or later that empty throne will be filled."\n\n"Let this one come to my domain," Lord Yama declares. "The eighteen hells will show whether they have the character fitting for a throne in the Penglai Palace."\n\nThe other gods look back and forth at each other for a moment. "That seems only fair." One of them says, a short, hairy man with horns growing from his head. "This new immortal still has much to learn, and much to atone for. Why, they don\'t even understand simple concepts like balancing their yin and yang. They may be ready one day for this company, but a few millenia in Yama\'s realm will do them good."\n\nThe other gods murmer and nod agreement. Shangti rises to his feet. "Your words are wise, as always Pan Gu. Let this one be cast down to the eighteen hells. If they can master yin and yang and prove their worth through the trials of Yama\'s realm, we will welcome them as part of our celestial court."\n\nBefore you can say a word of protest, The Jade emperor waves one hand and you find yourself in a vast, bare, circular stone room. The walls are broken by eighteen open gates, each one leading to a different world of pain and suffering.\n\nIt looks like you have a new challenge ahead: Escape this underworld and prove your worth to the gods.'}}).afterClosed().subscribe(()=>{this.hellService.inHell=!0,this.inventoryService.stashInventory(),this.followerService.hellPurge(),this.activityService.reloadActivities()})}onClick(e,i){if(!e.unlocked)return;if(e.projectionOnly)return void(this.activityService.spiritActivity=e.activityType);let r=1;r*=i.shiftKey?10:1,r*=i.ctrlKey||i.metaKey?10:1,i.altKey?this.activityService.activityLoop.unshift({activity:e.activityType,repeatTimes:r}):this.activityService.activityLoop.push({activity:e.activityType,repeatTimes:r})}drag(e,i){var r;e.projectionOnly||!e.unlocked||null===(r=i.dataTransfer)||void 0===r||r.setData("activity",""+e.activityType)}hellBoss(){this.hellService.fightHellBoss()}}return n.\u0275fac=function(e){return new(e||n)(_(qn),_(st),_(Ie),_($e),_(W),_(Ft),_(Ki))},n.\u0275cmp=le({type:n,selectors:[["app-activity-panel"]],decls:13,vars:5,consts:[[1,"panelHeader"],[1,"standardHeader"],["tooltip","Choose activities to add to your schedule. At first you'll only know how to do a few things, but as you develop your attributes more options will become available. Click the button or drag and drop the activity you want to put on your schedule."],[1,"customHeader"],[4,"ngIf"],[3,"tooltip"],[1,"activitiesContainer"],[4,"ngFor","ngForOf"],[3,"click"],["draggable","true",3,"ngClass","dragstart",4,"ngIf"],["draggable","true",3,"ngClass","dragstart"],[1,"noWrap"],["tooltipClass","tooltip-break",1,"activityButton",3,"tooltip","click"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life.",4,"ngIf"],["tooltip","This activity requires that you go through an apprenticeship. You can only do one apprenticeship in each lifetime, so choose carefully what trade you want to learn. Once you've started, other trades may be closed off until your next life."]],template:function(e,i){1&e&&(d(0,"h3",0)(1,"div",1)(2,"mat-icon",2),p(3," help "),h(),p(4," Activities "),h(),d(5,"div",3),M(6,p8,3,0,"span",4),d(7,"span",5),p(8),h(),M(9,m8,3,1,"span",4),h()(),d(10,"div",6)(11,"table"),M(12,b8,2,1,"ng-container",7),h()()),2&e&&(g(6),b("ngIf",i.characterService.characterState.immortal&&!i.hellService.inHell&&i.activityService.hellEnabled),g(1),pe("tooltip",i.activityService.activityHeaderDescription),g(1),O("",i.activityService.activityHeader," "),g(1),b("ngIf",i.hellService.inHell&&i.activityService.hellEnabled&&i.hellService.completedHellTasks.includes(i.hellService.currentHell)),g(3),b("ngForOf",i.activityService.activities))},directives:[nn,Tt,at,It,Hn],pipes:[zt],styles:["td[_ngcontent-%COMP%]{border-bottom:1px var(--tableDividerColor) solid;font-size:12px}.activitiesContainer[_ngcontent-%COMP%]{min-width:400px}button[_ngcontent-%COMP%]{font-size:12px;min-width:130px}.noWrap[_ngcontent-%COMP%]{white-space:nowrap;width:100%}.standardHeader[_ngcontent-%COMP%]{flex:1;white-space:nowrap}.customHeader[_ngcontent-%COMP%]{flex:4;display:inline-block;width:100%;text-align:center}.panelHeader[_ngcontent-%COMP%]{display:flex}.projectionOnly[_ngcontent-%COMP%]{border:1px solid var(--itemSlotHighlight);background-color:var(--manaColor)}.lockedActivity[_ngcontent-%COMP%]{background-color:var(--disabledActivity)}.activityButton[_ngcontent-%COMP%]{white-space:normal;max-width:150px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();const _a=function(n){return{highlightSlot:n}},lM=function(n){return{highlightSpan:n}};let w8=(()=>{class n{constructor(e,i){this.characterService=e,this.inventoryService=i,this.character=e.characterState}slotDoubleClicked(e,i){i.preventDefault(),i.stopPropagation();const r=this.characterService.characterState.equipment[e];r&&this.inventoryService.openInventorySlots()>0&&(this.inventoryService.addItem(r),this.characterService.characterState.equipment[e]=null,this.inventoryService.selectedItem=null)}getSelectedItemSlot(){var e;const i=null===(e=this.inventoryService.selectedItem)||void 0===e?void 0:e.item;return i&&Wi(i)?null==i?void 0:i.slot:null}allowDrop(e){var i;"inventory"===(null===(i=e.dataTransfer)||void 0===i?void 0:i.types[0])&&e.preventDefault()}drag(e,i){var r;null===(r=i.dataTransfer)||void 0===r||r.setData("equipment",e)}drop(e,i){var r;i.preventDefault();const o=(null===(r=i.dataTransfer)||void 0===r?void 0:r.getData("inventory"))+"",a=parseInt(o);if(a>=0&&a<this.inventoryService.itemStacks.length){const s=this.inventoryService.itemStacks[a],l=e;s&&(this.inventoryService.mergeEquippedSlot(l,s.item,a),this.inventoryService.selectedItem=null)}}}return n.\u0275fac=function(e){return new(e||n)(_(Ie),_(W))},n.\u0275cmp=le({type:n,selectors:[["app-equipment-panel"]],decls:45,vars:71,consts:[[1,"panelHeader"],[1,"equipmentContainer"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","head",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","right",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","body",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","left",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],[2,"grid-area","stats"],["tooltip","Accuracy. Your chance to hit monsters when you attack them. Based on your speed."],[3,"ngClass","tooltip"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","legs",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"],["draggable","true","placement","left",1,"itemSlot","textOverflow",2,"grid-area","feet",3,"ngClass","tooltip","dragover","drop","dragstart","dblclick"]],template:function(e,i){1&e&&(d(0,"h3",0),p(1,"Equipment"),h(),d(2,"div",1)(3,"div",2),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("head",o)})("dragstart",function(o){return i.drag("head",o)})("dblclick",function(o){return i.slotDoubleClicked("head",o)}),A(4,"titlecase"),p(5),A(6,"titlecase"),h(),d(7,"div",3),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("rightHand",o)})("dragstart",function(o){return i.drag("rightHand",o)})("dblclick",function(o){return i.slotDoubleClicked("rightHand",o)}),A(8,"titlecase"),p(9),A(10,"titlecase"),h(),d(11,"div",4),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("body",o)})("dragstart",function(o){return i.drag("body",o)})("dblclick",function(o){return i.slotDoubleClicked("body",o)}),A(12,"titlecase"),p(13),A(14,"titlecase"),h(),d(15,"div",5),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("leftHand",o)})("dragstart",function(o){return i.drag("leftHand",o)})("dblclick",function(o){return i.slotDoubleClicked("leftHand",o)}),A(16,"titlecase"),p(17),A(18,"titlecase"),h(),d(19,"div",6)(20,"span",7)(21,"mat-icon"),p(22,"manage_accounts"),h(),p(23),A(24,"percent"),h(),N(25,"br"),d(26,"span",8)(27,"mat-icon"),p(28,"flare"),h(),p(29),A(30,"bigNumber"),h(),N(31,"br"),d(32,"span",8)(33,"mat-icon"),p(34,"shield"),h(),p(35),A(36,"bigNumber"),h()(),d(37,"div",9),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("legs",o)})("dragstart",function(o){return i.drag("legs",o)})("dblclick",function(o){return i.slotDoubleClicked("legs",o)}),A(38,"titlecase"),p(39),A(40,"titlecase"),h(),d(41,"div",10),x("dragover",function(o){return i.allowDrop(o)})("drop",function(o){return i.drop("feet",o)})("dragstart",function(o){return i.drag("feet",o)})("dblclick",function(o){return i.slotDoubleClicked("feet",o)}),A(42,"titlecase"),p(43),A(44,"titlecase"),h()()),2&e&&(g(3),pe("tooltip",null!==i.character.equipment.head?B(4,25,null==i.character.equipment.head?null:i.character.equipment.head.name)+"<hr/>"+(null==i.character.equipment.head?null:i.character.equipment.head.description):""),b("ngClass",Ue(55,_a,"head"===i.getSelectedItemSlot())),g(2),O(" ",B(6,27,null==i.character.equipment.head?null:i.character.equipment.head.name)," "),g(2),pe("tooltip",null!==i.character.equipment.rightHand?B(8,29,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)+"<hr/>"+(null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.description):""),b("ngClass",Ue(57,_a,"rightHand"===i.getSelectedItemSlot())),g(2),O(" ",B(10,31,null==i.character.equipment.rightHand?null:i.character.equipment.rightHand.name)," "),g(2),pe("tooltip",null!==i.character.equipment.body?B(12,33,null==i.character.equipment.body?null:i.character.equipment.body.name)+"<hr/>"+(null==i.character.equipment.body?null:i.character.equipment.body.description):""),b("ngClass",Ue(59,_a,"body"===i.getSelectedItemSlot())),g(2),O(" ",B(14,35,null==i.character.equipment.body?null:i.character.equipment.body.name)," "),g(2),pe("tooltip",null!==i.character.equipment.leftHand?B(16,37,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)+"<hr/>"+(null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.description):""),b("ngClass",Ue(61,_a,"leftHand"===i.getSelectedItemSlot())),g(2),O(" ",B(18,39,null==i.character.equipment.leftHand?null:i.character.equipment.leftHand.name)," "),g(6),me(B(24,41,i.character.accuracy)),g(3),ln("tooltip","Attack Power. The damage you will do when you hit a monster. Based on your strength and weapons.",i.character.righteousWrathUnlocked?" Doubled by the power of your righteous wrath.":"",""),b("ngClass",Ue(63,lM,i.character.righteousWrathUnlocked)),g(3),me(B(30,43,i.character.attackPower)),g(3),ln("tooltip","Defense. Reduces damage when a monster hits you. Based on your toughness and armor.",i.character.righteousWrathUnlocked?" Doubled by the power of your righteous wrath.":"",""),b("ngClass",Ue(65,lM,i.character.righteousWrathUnlocked)),g(3),me(B(36,45,i.character.defense)),g(2),pe("tooltip",null!==i.character.equipment.legs?B(38,47,null==i.character.equipment.legs?null:i.character.equipment.legs.name)+"<hr/>"+(null==i.character.equipment.legs?null:i.character.equipment.legs.description):""),b("ngClass",Ue(67,_a,"legs"===i.getSelectedItemSlot())),g(2),O(" ",B(40,49,null==i.character.equipment.legs?null:i.character.equipment.legs.name)," "),g(2),pe("tooltip",null!==i.character.equipment.feet?B(42,51,null==i.character.equipment.feet?null:i.character.equipment.feet.name)+"<hr/>"+(null==i.character.equipment.feet?null:i.character.equipment.feet.description):""),b("ngClass",Ue(69,_a,"feet"===i.getSelectedItemSlot())),g(2),O(" ",B(44,53,null==i.character.equipment.feet?null:i.character.equipment.feet.name)," "))},directives:[Hn,Tt,nn],pipes:[Vn,wc,zt],styles:['.equipmentContainer[_ngcontent-%COMP%]{margin:2px auto;display:grid;grid-template:". head ." "right body left" "stats legs ." "stats feet .";grid-template-columns:1fr 1fr 1fr;grid-gap:2px;gap:2px}.itemSlot[_ngcontent-%COMP%]{width:80px;height:48px;line-height:12px}.highlightSlot[_ngcontent-%COMP%]{background-color:var(--itemSlotHighlight)}.highlightSpan[_ngcontent-%COMP%]{background-color:var(--manaColor)}',".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function C8(n,t){if(1&n){const e=j();d(0,"div",10)(1,"input",11),x("change",function(){return I(e),C().manaAttackToggle()}),h(),d(2,"label",12)(3,"span"),p(4,"Activate Mana Strike"),h()()()}if(2&n){const e=C();g(1),b("checked",e.battleService.enableManaAttack)}}function k8(n,t){if(1&n){const e=j();d(0,"div",13)(1,"input",14),x("change",function(){return I(e),C().pyroclasmToggle()}),h(),d(2,"label",15)(3,"span"),p(4,"Activate Pyroclasm"),h()()()}if(2&n){const e=C();g(1),b("checked",e.battleService.enablePyroclasm)}}function M8(n,t){if(1&n){const e=j();d(0,"div",16)(1,"input",17),x("change",function(){return I(e),C().manaShieldToggle()}),h(),d(2,"label",18)(3,"span"),p(4,"Activate Mana Shield"),h()()()}if(2&n){const e=C();g(1),b("checked",e.battleService.enableManaShield)}}function D8(n,t){if(1&n){const e=j();d(0,"div",19)(1,"input",20),x("change",function(){return I(e),C().fireShieldToggle()}),h(),d(2,"label",21)(3,"span"),p(4,"Activate Fire Shield"),h()()()}if(2&n){const e=C();g(1),b("checked",e.battleService.enableFireShield)}}function x8(n,t){if(1&n){const e=j();d(0,"div",22)(1,"input",23),x("change",function(){return I(e),C().iceShieldToggle()}),h(),d(2,"label",24)(3,"span"),p(4,"Activate Ice Shield"),h()()()}if(2&n){const e=C();g(1),b("checked",e.battleService.enableIceShield)}}let T8=(()=>{class n{constructor(e,i){this.battleService=e,this.characterService=i}ngOnInit(){}noAttackToggle(){this.battleService.enableManaAttack=!1,this.battleService.enablePyroclasm=!1}manaAttackToggle(){this.battleService.enablePyroclasm=!1,this.battleService.manaAttackUnlocked&&(this.battleService.enableManaAttack=!0)}pyroclasmToggle(){this.battleService.enableManaAttack=!1,this.battleService.pyroclasmUnlocked&&(this.battleService.enablePyroclasm=!0)}noShieldToggle(){this.battleService.enableManaShield=!1,this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1}manaShieldToggle(){this.battleService.enableFireShield=!1,this.battleService.enableIceShield=!1,this.battleService.manaShieldUnlocked&&(this.battleService.enableManaShield=!0)}fireShieldToggle(){this.battleService.enableManaAttack=!1,this.battleService.enableIceShield=!1,this.battleService.fireShieldUnlocked&&(this.battleService.enableFireShield=!0)}iceShieldToggle(){this.battleService.enableManaAttack=!1,this.battleService.enableFireShield=!1,this.battleService.iceShieldUnlocked&&(this.battleService.enableIceShield=!0)}}return n.\u0275fac=function(e){return new(e||n)(_(Xt),_(Ie))},n.\u0275cmp=le({type:n,selectors:[["app-battle-options-panel"]],decls:20,vars:7,consts:[[1,"darkMode"],["type","radio","name","attack","id","attackNone",3,"checked","change"],["for","attackNone"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana.",4,"ngIf"],["tooltip","Focus your mana and blast your enemies with heat so intense their children's children will get burned. Each use of this ability requires 10,000 mana.",4,"ngIf"],["type","radio","name","shield","id","shieldNone",3,"checked","change"],["for","shieldNone"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you.",4,"ngIf"],["tooltip","Bring forth your inner fire to form a blistering barrier around you. Each use of this ability requires 10,000 mana.",4,"ngIf"],["tooltip","Bring forth the ice inside you to form a freezing barrier around you that will stop your enemy's next attack. Each use of this ability requires 10,000 mana.",4,"ngIf"],["tooltip","You can focus your mana around your weapon or fist to project greater power into your attacks. Doing this will double the damage that you inflict. Each use of this ability requires 10 mana."],["type","radio","name","attack","id","manaStrike",3,"checked","change"],["for","manaStrike"],["tooltip","Focus your mana and blast your enemies with heat so intense their children's children will get burned. Each use of this ability requires 10,000 mana."],["type","radio","name","attack","id","pyroclasm",3,"checked","change"],["for","pyroclasm"],["tooltip","Your mana can form a protective shroud around your body, protecting you and decreasing the damage that you take. It requires 10 mana each time the mana shield protects you."],["type","radio","name","shield","id","manaShield",3,"checked","change"],["for","manaShield"],["tooltip","Bring forth your inner fire to form a blistering barrier around you. Each use of this ability requires 10,000 mana."],["type","radio","name","shield","id","fireShield",3,"checked","change"],["for","fireShield"],["tooltip","Bring forth the ice inside you to form a freezing barrier around you that will stop your enemy's next attack. Each use of this ability requires 10,000 mana."],["type","radio","name","shield","id","iceShield",3,"checked","change"],["for","iceShield"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"span"),p(2,"Battle Options"),h(),N(3,"hr"),d(4,"div")(5,"input",1),x("change",function(){return i.noAttackToggle()}),h(),d(6,"label",2)(7,"span"),p(8,"No Special Attack"),h()()(),M(9,C8,5,1,"div",3),M(10,k8,5,1,"div",4),N(11,"hr"),d(12,"div")(13,"input",5),x("change",function(){return i.noShieldToggle()}),h(),d(14,"label",6)(15,"span"),p(16,"No Shield"),h()()(),M(17,M8,5,1,"div",7),M(18,D8,5,1,"div",8),M(19,x8,5,1,"div",9),h()),2&e&&(g(5),b("checked",!i.battleService.enableManaAttack&&!i.battleService.enablePyroclasm),g(4),b("ngIf",i.battleService.manaAttackUnlocked),g(1),b("ngIf",i.battleService.pyroclasmUnlocked),g(3),b("checked",!i.battleService.enableManaShield&&!i.battleService.enableFireShield&&!i.battleService.enableIceShield),g(4),b("ngIf",i.battleService.manaShieldUnlocked),g(1),b("ngIf",i.battleService.fireShieldUnlocked),g(1),b("ngIf",i.battleService.iceShieldUnlocked))},directives:[at,Tt],styles:["",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})();function E8(n,t){if(1&n){const e=j();d(0,"span")(1,"mat-icon",9),x("click",function(){return I(e),C().battleOptions()}),p(2," settings "),h()()}}function A8(n,t){if(1&n){const e=j();d(0,"button",10),x("click",function(){return I(e),C().battleService.trouble()}),p(1,"Look for Trouble"),h()}}function P8(n,t){if(1&n){const e=j();d(0,"input",11),x("change",function(r){return I(e),C().autoTroubleChange(r)}),h()}2&n&&b("checked",C().battleService.autoTroubleEnabled)}function I8(n,t){1&n&&(d(0,"label",12),p(1,"Look for Trouble"),h())}function O8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_forward"),h())}function R8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_forward"),h())}function F8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_forward"),h())}function L8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_forward"),h())}function N8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_forward"),h())}function B8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"crisis_alert"),h())}function H8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_backward"),h())}function V8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_backward"),h())}function U8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_backward"),h())}function j8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_backward"),h())}function q8(n,t){1&n&&(d(0,"mat-icon",15),p(1,"arrow_backward"),h())}function z8(n,t){if(1&n&&(d(0,"table",13)(1,"tr")(2,"td",14),N(3,"mat-icon",15),h(),d(4,"td",14),M(5,O8,2,0,"mat-icon",16),h(),d(6,"td",14),M(7,R8,2,0,"mat-icon",16),h(),d(8,"td",14),M(9,F8,2,0,"mat-icon",16),h(),d(10,"td",14),M(11,L8,2,0,"mat-icon",16),h(),d(12,"td",14),M(13,N8,2,0,"mat-icon",16),h(),d(14,"td",14),M(15,B8,2,0,"mat-icon",16),h(),d(16,"td",14),M(17,H8,2,0,"mat-icon",16),h(),d(18,"td",14),M(19,V8,2,0,"mat-icon",16),h(),d(20,"td",14),M(21,U8,2,0,"mat-icon",16),h(),d(22,"td",14),M(23,j8,2,0,"mat-icon",16),h(),d(24,"td",14),M(25,q8,2,0,"mat-icon",16),h()()()),2&n){const e=C();g(5),b("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter),g(2),b("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),g(2),b("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),g(2),b("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),g(2),b("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),g(2),b("ngIf",10===e.battleService.tickCounter),g(2),b("ngIf",0===e.battleService.tickCounter||9===e.battleService.tickCounter),g(2),b("ngIf",1===e.battleService.tickCounter||8===e.battleService.tickCounter),g(2),b("ngIf",2===e.battleService.tickCounter||7===e.battleService.tickCounter),g(2),b("ngIf",3===e.battleService.tickCounter||6===e.battleService.tickCounter),g(2),b("ngIf",4===e.battleService.tickCounter||5===e.battleService.tickCounter)}}function Y8(n,t){if(1&n){const e=j();d(0,"button",10),x("click",function(){I(e);const r=C().$implicit;return C().battleService.fight(r)}),p(1,"Fight"),h()}}function $8(n,t){1&n&&(d(0,"span"),p(1,"Fighting"),h())}function G8(n,t){if(1&n&&(Er(0),d(1,"tr")(2,"td"),M(3,Y8,2,0,"button",3),M(4,$8,2,0,"span",1),h(),d(5,"td",17),p(6),A(7,"titlecase"),h(),d(8,"td",18)(9,"div",19),A(10,"bigNumber"),A(11,"bigNumber"),N(12,"span"),h()(),d(13,"td",20)(14,"mat-icon"),p(15,"manage_accounts"),h(),p(16),A(17,"percent"),h(),d(18,"td",21)(19,"mat-icon"),p(20,"flare"),h(),p(21),A(22,"bigNumber"),h(),d(23,"td",22)(24,"mat-icon"),p(25,"shield"),h(),p(26),A(27,"bigNumber"),h()(),Ar()),2&n){const e=t.$implicit,i=C();g(3),b("ngIf",i.battleService.currentEnemy!==e),g(1),b("ngIf",i.battleService.currentEnemy===e),g(2),kn("",B(7,11,e.enemy.name)," ",e.quantity>1?"("+e.quantity+")":"",""),g(3),We("value",B(10,13,i.Math.floor(e.enemy.health)))("max",B(11,15,i.Math.floor(e.enemy.maxHealth))),g(3),Kt("width",100*i.Math.floor(e.enemy.health)/i.Math.floor(e.enemy.maxHealth),"%"),g(4),me(B(17,17,e.enemy.accuracy)),g(5),me(B(22,19,e.enemy.attack)),g(5),me(B(27,21,e.enemy.defense))}}let W8=(()=>{class n{constructor(e,i,r){this.battleService=e,this.characterService=i,this.dialog=r,this.Math=Math}ngOnInit(){}autoTroubleChange(e){e.target instanceof HTMLInputElement&&(this.battleService.autoTroubleEnabled=e.target.checked)}battleOptions(){this.dialog.open(T8,{width:"700px",data:{someField:"foo"}})}}return n.\u0275fac=function(e){return new(e||n)(_(Xt),_(Ie),_(Ki))},n.\u0275cmp=le({type:n,selectors:[["app-battle-panel"]],decls:13,vars:6,consts:[["tooltip","Monsters come out at night. You'll need to be strong enough to fight them off if you want to become an immortal."],[4,"ngIf"],["tooltip","Did you need more trouble in your life? If you don't have a monster to fight, get one. Be careful, they get stronger as they go.",1,"rightAligned"],[3,"click",4,"ngIf"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change",4,"ngIf"],["for","autoTroubleCheckbox",4,"ngIf"],[1,"battleContainer"],["class","clashTable",4,"ngIf"],[4,"ngFor","ngForOf"],["tooltip","Options",1,"iconButton",3,"click"],[3,"click"],["type","checkbox","id","autoTroubleCheckbox",3,"checked","change"],["for","autoTroubleCheckbox"],[1,"clashTable"],[1,"fixedCell"],[1,"clashIcon"],["class","clashIcon",4,"ngIf"],[1,"enemyName"],[1,"health"],[1,"progress-bar"],["tooltip","Accuracy"],["tooltip","Attack Power"],["tooltip","Defense"]],template:function(e,i){1&e&&(d(0,"h3")(1,"mat-icon",0),p(2,"fort"),h(),p(3," Battles "),M(4,E8,3,0,"span",1),d(5,"span",2),M(6,A8,2,0,"button",3),M(7,P8,1,1,"input",4),M(8,I8,2,0,"label",5),h()(),d(9,"div",6),M(10,z8,26,11,"table",7),d(11,"table"),M(12,G8,28,23,"ng-container",8),h()()),2&e&&(g(4),b("ngIf",i.battleService.manaShieldUnlocked||i.battleService.manaAttackUnlocked||i.battleService.pyroclasmUnlocked||i.battleService.fireShieldUnlocked),g(2),b("ngIf",!i.battleService.autoTroubleUnlocked),g(1),b("ngIf",i.battleService.autoTroubleUnlocked),g(1),b("ngIf",i.battleService.autoTroubleUnlocked),g(2),b("ngIf",i.battleService.enemies.length>0),g(2),b("ngForOf",i.battleService.enemies))},directives:[nn,Tt,at,It],pipes:[Vn,zt,wc],styles:["h3[_ngcontent-%COMP%]{margin-bottom:0}.panelHeader[_ngcontent-%COMP%]{white-space:nowrap}.progress-bar[_ngcontent-%COMP%]{vertical-align:-.3em}.health[_ngcontent-%COMP%] > .progress-bar[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:var(--healthColor)}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:2px;vertical-align:middle}.rightAligned[_ngcontent-%COMP%]{float:right;margin-right:6px}.clashTable[_ngcontent-%COMP%]{border-spacing:0px}.fixedCell[_ngcontent-%COMP%]{width:16px}.clashIcon[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.battleContainer[_ngcontent-%COMP%]{min-height:60px}.enemyName[_ngcontent-%COMP%]{min-width:200px}",".wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1;min-height:0;height:100%}.top-line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:10px;margin-left:10px;margin-right:10px}.gameTitle[_ngcontent-%COMP%]{font-size:x-large;margin:4px}.mainContainer[_ngcontent-%COMP%]{height:100%;width:100%;background-color:var(--bodyBackground);min-height:0;display:flex;flex-direction:column}.bodyContainer[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;flex-grow:1;min-height:0}.panelContainer[_ngcontent-%COMP%]{display:flex;min-height:0;flex:1 0 75%;overflow:auto}.logContainer[_ngcontent-%COMP%]{width:100%;flex:1 1 110px;display:flex;flex-direction:column;min-height:0}.leftPanel[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:440px;gap:8px}.centerPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;gap:8px}.rightPanel[_ngcontent-%COMP%]{flex:2;display:flex;flex-direction:column;width:360px;max-width:320px;gap:8px}.timePanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow:auto;margin-bottom:0!important}.attributesPanel[_ngcontent-%COMP%]{flex:1 1 50%;overflow-y:auto;overflow-x:hidden;margin-top:0!important;margin-bottom:0!important}.healthPanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;overflow:auto;flex:0 0 auto}.activityPanel[_ngcontent-%COMP%]{overflow:auto;flex-grow:2;margin-bottom:0!important}.battlePanel[_ngcontent-%COMP%]{flex:1 0 auto;margin-top:0!important;margin-bottom:0!important;overflow:auto}.homePanel[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;flex-grow:0}.logPanel[_ngcontent-%COMP%]{display:flex;flex-grow:1;margin-top:0!important;min-height:0}.inventoryPanel[_ngcontent-%COMP%]{flex-grow:1;margin-top:0!important;margin-bottom:0!important;display:flex;flex-direction:column;min-height:0}.equipmentPanel[_ngcontent-%COMP%]{margin-bottom:0!important;overflow:auto;display:flex;flex-direction:column;flex:0 0 auto}.panel[_ngcontent-%COMP%]{background-color:var(--panelBackground);margin:4px;border:3px solid var(--panelBorder);border-radius:4px}.panelHeader[_ngcontent-%COMP%]{border-bottom:1px solid var(--panelBorder);color:var(--bodyText);font-size:14px;font-weight:400;margin:0 4px}mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;font-size:16px;margin:4px 1px;vertical-align:middle;color:var(--bodyText)}.versionNumber[_ngcontent-%COMP%]{font-size:x-small;text-decoration:underline;cursor:pointer}.highlighted[_ngcontent-%COMP%]{background-color:var(--buttonHighlightBg)}"]}),n})(),J8=(()=>{class n extends class K8{constructor(){this.mouseMoveListener=this.handleMouseMove.bind(this),this.mouseUpListener=this.handleMouseUp.bind(this)}handleMouseDown(t){window.addEventListener("mousemove",this.mouseMoveListener),window.addEventListener("mouseup",this.mouseUpListener)}handleMouseUp(){window.removeEventListener("mousemove",this.mouseMoveListener),window.removeEventListener("mouseup",this.mouseUpListener)}}{constructor(){super(),this.dragBeginY=0}handleMouseDown(e){var i,r;super.handleMouseDown(e),this.dragBeginY=e.y,this.topInitialSize=null===(i=this.top)||void 0===i?void 0:i.getSize(),this.bottomInitialSize=null===(r=this.bottom)||void 0===r?void 0:r.getSize()}handleMouseMove(e){var i,r;if(void 0===this.topInitialSize||void 0===this.bottomInitialSize)throw new Error("initial size was not defined");const o=this.topInitialSize.height-this.dragBeginY+e.y,a=this.bottomInitialSize.height+this.dragBeginY-e.y;o>0&&a>0&&(null===(i=this.top)||void 0===i||i.setMaxHeight(o),null===(r=this.bottom)||void 0===r||r.setMaxHeight(a))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=le({type:n,selectors:[["app-vertical-panel-slider"]],inputs:{top:"top",bottom:"bottom"},features:[ie],decls:3,vars:0,consts:[[1,"handle"],[1,"resize-vertical",3,"mousedown"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"mat-icon",1),x("mousedown",function(o){return i.handleMouseDown(o)}),p(2,"drag_handle"),h()())},directives:[nn],styles:[".handle[_ngcontent-%COMP%]{display:flex;justify-content:center}.resize-vertical[_ngcontent-%COMP%]{color:var(--bodyText);cursor:ns-resize;font-size:20px;height:20px;width:20px}"]}),n})(),Q8=(()=>{class n{constructor(e){this.nativeElement=e.nativeElement}setMaxHeight(e){this.nativeElement.setAttribute("style",`max-height: ${e}px;`)}getSize(){return{width:this.nativeElement.clientWidth,height:this.nativeElement.clientHeight}}}return n.\u0275fac=function(e){return new(e||n)(_(Ce))},n.\u0275dir=$({type:n,selectors:[["","appResizable",""]],exportAs:["appResizable"]}),n})();const Z8=[w1,oM,F1];let X8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=He({type:n,bootstrap:[sM]}),n.\u0275inj=Le({providers:[Vn,zt,y1],imports:[[_0,T2,M3,o5,bs,aj.forRoot({"show-delay":500,hideDelay:50,hideDelayAfterClick:50}),...Z8],w1,oM,F1]}),n})();xa(sM,[Hn,nn,Tt,at,Q8,oq,J8,mq,bq,S8,W8,w8,Yq,h8,Wq],[]),xa(C1,[It,Hn,Tt,nn,at],[Vn,zt]),xa($k,[at],[zt,Nr]),xa(aM,[It],[Nr,zt,Sc,Nu]),qm.production&&function UO(){PS=!1}(),QF().bootstrapModule(X8).catch(n=>console.error(n))},147:wa=>{wa.exports={i8:"1.0.55"}}},wa=>{wa(wa.s=498)}]);